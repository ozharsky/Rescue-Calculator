var JH=Object.defineProperty;var $O=t=>{throw TypeError(t)};var ZH=(t,e,r)=>e in t?JH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var nt=(t,e,r)=>ZH(t,typeof e!="symbol"?e+"":e,r),HS=(t,e,r)=>e.has(t)||$O("Cannot "+r);var g=(t,e,r)=>(HS(t,e,"read from private field"),r?r.call(t):e.get(t)),B=(t,e,r)=>e.has(t)?$O("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),O=(t,e,r,n)=>(HS(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),M=(t,e,r)=>(HS(t,e,"access private method"),r);var di=(t,e,r,n)=>({set _(i){O(t,e,i,r)},get _(){return g(t,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var ux=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var K3={exports:{}},vb={},Y3={exports:{}},wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy=Symbol.for("react.element"),QH=Symbol.for("react.portal"),eW=Symbol.for("react.fragment"),tW=Symbol.for("react.strict_mode"),rW=Symbol.for("react.profiler"),nW=Symbol.for("react.provider"),iW=Symbol.for("react.context"),aW=Symbol.for("react.forward_ref"),sW=Symbol.for("react.suspense"),oW=Symbol.for("react.memo"),lW=Symbol.for("react.lazy"),BO=Symbol.iterator;function cW(t){return t===null||typeof t!="object"?null:(t=BO&&t[BO]||t["@@iterator"],typeof t=="function"?t:null)}var J3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z3=Object.assign,Q3={};function hp(t,e,r){this.props=t,this.context=e,this.refs=Q3,this.updater=r||J3}hp.prototype.isReactComponent={};hp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function e5(){}e5.prototype=hp.prototype;function Ak(t,e,r){this.props=t,this.context=e,this.refs=Q3,this.updater=r||J3}var Tk=Ak.prototype=new e5;Tk.constructor=Ak;Z3(Tk,hp.prototype);Tk.isPureReactComponent=!0;var UO=Array.isArray,t5=Object.prototype.hasOwnProperty,Ek={current:null},r5={key:!0,ref:!0,__self:!0,__source:!0};function n5(t,e,r){var n,i={},a=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)t5.call(e,n)&&!r5.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Fy,type:t,key:a,ref:s,props:i,_owner:Ek.current}}function uW(t,e){return{$$typeof:Fy,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ck(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fy}function fW(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var jO=/\/+/g;function WS(t,e){return typeof t=="object"&&t!==null&&t.key!=null?fW(""+t.key):e.toString(36)}function l1(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Fy:case QH:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+WS(s,0):n,UO(i)?(r="",t!=null&&(r=t.replace(jO,"$&/")+"/"),l1(i,e,r,"",function(c){return c})):i!=null&&(Ck(i)&&(i=uW(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(jO,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",UO(t))for(var o=0;o<t.length;o++){a=t[o];var l=n+WS(a,o);s+=l1(a,e,r,l,i)}else if(l=cW(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=n+WS(a,o++),s+=l1(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function fx(t,e,r){if(t==null)return t;var n=[],i=0;return l1(t,n,"","",function(a){return e.call(r,a,i++)}),n}function dW(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ei={current:null},c1={transition:null},hW={ReactCurrentDispatcher:Ei,ReactCurrentBatchConfig:c1,ReactCurrentOwner:Ek};function i5(){throw Error("act(...) is not supported in production builds of React.")}wt.Children={map:fx,forEach:function(t,e,r){fx(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return fx(t,function(){e++}),e},toArray:function(t){return fx(t,function(e){return e})||[]},only:function(t){if(!Ck(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};wt.Component=hp;wt.Fragment=eW;wt.Profiler=rW;wt.PureComponent=Ak;wt.StrictMode=tW;wt.Suspense=sW;wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hW;wt.act=i5;wt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Z3({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=Ek.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)t5.call(e,l)&&!r5.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Fy,type:t.type,key:i,ref:a,props:n,_owner:s}};wt.createContext=function(t){return t={$$typeof:iW,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:nW,_context:t},t.Consumer=t};wt.createElement=n5;wt.createFactory=function(t){var e=n5.bind(null,t);return e.type=t,e};wt.createRef=function(){return{current:null}};wt.forwardRef=function(t){return{$$typeof:aW,render:t}};wt.isValidElement=Ck;wt.lazy=function(t){return{$$typeof:lW,_payload:{_status:-1,_result:t},_init:dW}};wt.memo=function(t,e){return{$$typeof:oW,type:t,compare:e===void 0?null:e}};wt.startTransition=function(t){var e=c1.transition;c1.transition={};try{t()}finally{c1.transition=e}};wt.unstable_act=i5;wt.useCallback=function(t,e){return Ei.current.useCallback(t,e)};wt.useContext=function(t){return Ei.current.useContext(t)};wt.useDebugValue=function(){};wt.useDeferredValue=function(t){return Ei.current.useDeferredValue(t)};wt.useEffect=function(t,e){return Ei.current.useEffect(t,e)};wt.useId=function(){return Ei.current.useId()};wt.useImperativeHandle=function(t,e,r){return Ei.current.useImperativeHandle(t,e,r)};wt.useInsertionEffect=function(t,e){return Ei.current.useInsertionEffect(t,e)};wt.useLayoutEffect=function(t,e){return Ei.current.useLayoutEffect(t,e)};wt.useMemo=function(t,e){return Ei.current.useMemo(t,e)};wt.useReducer=function(t,e,r){return Ei.current.useReducer(t,e,r)};wt.useRef=function(t){return Ei.current.useRef(t)};wt.useState=function(t){return Ei.current.useState(t)};wt.useSyncExternalStore=function(t,e,r){return Ei.current.useSyncExternalStore(t,e,r)};wt.useTransition=function(){return Ei.current.useTransition()};wt.version="18.3.1";Y3.exports=wt;var ae=Y3.exports;const re=Jt(ae);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pW=ae,mW=Symbol.for("react.element"),gW=Symbol.for("react.fragment"),vW=Object.prototype.hasOwnProperty,yW=pW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xW={key:!0,ref:!0,__self:!0,__source:!0};function a5(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)vW.call(e,n)&&!xW.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:mW,type:t,key:a,ref:s,props:i,_owner:yW.current}}vb.Fragment=gW;vb.jsx=a5;vb.jsxs=a5;K3.exports=vb;var C=K3.exports,hT={},s5={exports:{}},ya={},o5={exports:{}},l5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ee,V){var ne=ee.length;ee.push(V);e:for(;0<ne;){var se=ne-1>>>1,R=ee[se];if(0<i(R,V))ee[se]=V,ee[ne]=R,ne=se;else break e}}function r(ee){return ee.length===0?null:ee[0]}function n(ee){if(ee.length===0)return null;var V=ee[0],ne=ee.pop();if(ne!==V){ee[0]=ne;e:for(var se=0,R=ee.length,W=R>>>1;se<W;){var Y=2*(se+1)-1,Z=ee[Y],oe=Y+1,de=ee[oe];if(0>i(Z,ne))oe<R&&0>i(de,Z)?(ee[se]=de,ee[oe]=ne,se=oe):(ee[se]=Z,ee[Y]=ne,se=Y);else if(oe<R&&0>i(de,ne))ee[se]=de,ee[oe]=ne,se=oe;else break e}}return V}function i(ee,V){var ne=ee.sortIndex-V.sortIndex;return ne!==0?ne:ee.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,d=3,h=!1,m=!1,p=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(ee){for(var V=r(c);V!==null;){if(V.callback===null)n(c);else if(V.startTime<=ee)n(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=r(c)}}function A(ee){if(p=!1,w(ee),!m)if(r(l)!==null)m=!0,Q(S);else{var V=r(c);V!==null&&J(A,V.startTime-ee)}}function S(ee,V){m=!1,p&&(p=!1,_(P),P=-1),h=!0;var ne=d;try{for(w(V),f=r(l);f!==null&&(!(f.expirationTime>V)||ee&&!I());){var se=f.callback;if(typeof se=="function"){f.callback=null,d=f.priorityLevel;var R=se(f.expirationTime<=V);V=t.unstable_now(),typeof R=="function"?f.callback=R:f===r(l)&&n(l),w(V)}else n(l);f=r(l)}if(f!==null)var W=!0;else{var Y=r(c);Y!==null&&J(A,Y.startTime-V),W=!1}return W}finally{f=null,d=ne,h=!1}}var T=!1,E=null,P=-1,k=5,D=-1;function I(){return!(t.unstable_now()-D<k)}function N(){if(E!==null){var ee=t.unstable_now();D=ee;var V=!0;try{V=E(!0,ee)}finally{V?U():(T=!1,E=null)}}else T=!1}var U;if(typeof b=="function")U=function(){b(N)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,G=X.port2;X.port1.onmessage=N,U=function(){G.postMessage(null)}}else U=function(){y(N,0)};function Q(ee){E=ee,T||(T=!0,U())}function J(ee,V){P=y(function(){ee(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,Q(S))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(ee){switch(d){case 1:case 2:case 3:var V=3;break;default:V=d}var ne=d;d=V;try{return ee()}finally{d=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,V){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ne=d;d=ee;try{return V()}finally{d=ne}},t.unstable_scheduleCallback=function(ee,V,ne){var se=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?se+ne:se):ne=se,ee){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=ne+R,ee={id:u++,callback:V,priorityLevel:ee,startTime:ne,expirationTime:R,sortIndex:-1},ne>se?(ee.sortIndex=ne,e(c,ee),r(l)===null&&ee===r(c)&&(p?(_(P),P=-1):p=!0,J(A,ne-se))):(ee.sortIndex=R,e(l,ee),m||h||(m=!0,Q(S))),ee},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(ee){var V=d;return function(){var ne=d;d=V;try{return ee.apply(this,arguments)}finally{d=ne}}}})(l5);o5.exports=l5;var _W=o5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wW=ae,ma=_W;function we(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c5=new Set,ag={};function vd(t,e){k0(t,e),k0(t+"Capture",e)}function k0(t,e){for(ag[t]=e,t=0;t<e.length;t++)c5.add(e[t])}var Al=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pT=Object.prototype.hasOwnProperty,bW=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,VO={},HO={};function SW(t){return pT.call(HO,t)?!0:pT.call(VO,t)?!1:bW.test(t)?HO[t]=!0:(VO[t]=!0,!1)}function AW(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function TW(t,e,r,n){if(e===null||typeof e>"u"||AW(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ci(t,e,r,n,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vn[t]=new Ci(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vn[e]=new Ci(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vn[t]=new Ci(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vn[t]=new Ci(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vn[t]=new Ci(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vn[t]=new Ci(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vn[t]=new Ci(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vn[t]=new Ci(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vn[t]=new Ci(t,5,!1,t.toLowerCase(),null,!1,!1)});var kk=/[\-:]([a-z])/g;function Pk(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kk,Pk);Vn[e]=new Ci(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kk,Pk);Vn[e]=new Ci(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kk,Pk);Vn[e]=new Ci(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vn[t]=new Ci(t,1,!1,t.toLowerCase(),null,!1,!1)});Vn.xlinkHref=new Ci("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vn[t]=new Ci(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ik(t,e,r,n){var i=Vn.hasOwnProperty(e)?Vn[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(TW(e,r,i,n)&&(r=null),n||i===null?SW(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Fl=wW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dx=Symbol.for("react.element"),Jd=Symbol.for("react.portal"),Zd=Symbol.for("react.fragment"),Ok=Symbol.for("react.strict_mode"),mT=Symbol.for("react.profiler"),u5=Symbol.for("react.provider"),f5=Symbol.for("react.context"),Mk=Symbol.for("react.forward_ref"),gT=Symbol.for("react.suspense"),vT=Symbol.for("react.suspense_list"),Nk=Symbol.for("react.memo"),Xl=Symbol.for("react.lazy"),d5=Symbol.for("react.offscreen"),WO=Symbol.iterator;function Lp(t){return t===null||typeof t!="object"?null:(t=WO&&t[WO]||t["@@iterator"],typeof t=="function"?t:null)}var kr=Object.assign,zS;function sm(t){if(zS===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);zS=e&&e[1]||""}return`
`+zS+t}var GS=!1;function qS(t,e){if(!t||GS)return"";GS=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{GS=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?sm(t):""}function EW(t){switch(t.tag){case 5:return sm(t.type);case 16:return sm("Lazy");case 13:return sm("Suspense");case 19:return sm("SuspenseList");case 0:case 2:case 15:return t=qS(t.type,!1),t;case 11:return t=qS(t.type.render,!1),t;case 1:return t=qS(t.type,!0),t;default:return""}}function yT(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zd:return"Fragment";case Jd:return"Portal";case mT:return"Profiler";case Ok:return"StrictMode";case gT:return"Suspense";case vT:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case f5:return(t.displayName||"Context")+".Consumer";case u5:return(t._context.displayName||"Context")+".Provider";case Mk:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Nk:return e=t.displayName||null,e!==null?e:yT(t.type)||"Memo";case Xl:e=t._payload,t=t._init;try{return yT(t(e))}catch{}}return null}function CW(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yT(e);case 8:return e===Ok?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function h5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kW(t){var e=h5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hx(t){t._valueTracker||(t._valueTracker=kW(t))}function p5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=h5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function t_(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xT(t,e){var r=e.checked;return kr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function zO(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Gc(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function m5(t,e){e=e.checked,e!=null&&Ik(t,"checked",e,!1)}function _T(t,e){m5(t,e);var r=Gc(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wT(t,e.type,r):e.hasOwnProperty("defaultValue")&&wT(t,e.type,Gc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function GO(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function wT(t,e,r){(e!=="number"||t_(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var om=Array.isArray;function mh(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Gc(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function bT(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(we(91));return kr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qO(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(we(92));if(om(r)){if(1<r.length)throw Error(we(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Gc(r)}}function g5(t,e){var r=Gc(e.value),n=Gc(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function XO(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function v5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ST(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?v5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var px,y5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(px=px||document.createElement("div"),px.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=px.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sg(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Mm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PW=["Webkit","ms","Moz","O"];Object.keys(Mm).forEach(function(t){PW.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Mm[e]=Mm[t]})});function x5(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Mm.hasOwnProperty(t)&&Mm[t]?(""+e).trim():e+"px"}function _5(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=x5(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var IW=kr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function AT(t,e){if(e){if(IW[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(we(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(we(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(we(61))}if(e.style!=null&&typeof e.style!="object")throw Error(we(62))}}function TT(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ET=null;function Rk(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var CT=null,gh=null,vh=null;function KO(t){if(t=By(t)){if(typeof CT!="function")throw Error(we(280));var e=t.stateNode;e&&(e=bb(e),CT(t.stateNode,t.type,e))}}function w5(t){gh?vh?vh.push(t):vh=[t]:gh=t}function b5(){if(gh){var t=gh,e=vh;if(vh=gh=null,KO(t),e)for(t=0;t<e.length;t++)KO(e[t])}}function S5(t,e){return t(e)}function A5(){}var XS=!1;function T5(t,e,r){if(XS)return t(e,r);XS=!0;try{return S5(t,e,r)}finally{XS=!1,(gh!==null||vh!==null)&&(A5(),b5())}}function og(t,e){var r=t.stateNode;if(r===null)return null;var n=bb(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(we(231,e,typeof r));return r}var kT=!1;if(Al)try{var $p={};Object.defineProperty($p,"passive",{get:function(){kT=!0}}),window.addEventListener("test",$p,$p),window.removeEventListener("test",$p,$p)}catch{kT=!1}function OW(t,e,r,n,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var Nm=!1,r_=null,n_=!1,PT=null,MW={onError:function(t){Nm=!0,r_=t}};function NW(t,e,r,n,i,a,s,o,l){Nm=!1,r_=null,OW.apply(MW,arguments)}function RW(t,e,r,n,i,a,s,o,l){if(NW.apply(this,arguments),Nm){if(Nm){var c=r_;Nm=!1,r_=null}else throw Error(we(198));n_||(n_=!0,PT=c)}}function yd(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function E5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function YO(t){if(yd(t)!==t)throw Error(we(188))}function DW(t){var e=t.alternate;if(!e){if(e=yd(t),e===null)throw Error(we(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return YO(i),t;if(a===n)return YO(i),e;a=a.sibling}throw Error(we(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(we(189))}}if(r.alternate!==n)throw Error(we(190))}if(r.tag!==3)throw Error(we(188));return r.stateNode.current===r?t:e}function C5(t){return t=DW(t),t!==null?k5(t):null}function k5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=k5(t);if(e!==null)return e;t=t.sibling}return null}var P5=ma.unstable_scheduleCallback,JO=ma.unstable_cancelCallback,FW=ma.unstable_shouldYield,LW=ma.unstable_requestPaint,Ur=ma.unstable_now,$W=ma.unstable_getCurrentPriorityLevel,Dk=ma.unstable_ImmediatePriority,I5=ma.unstable_UserBlockingPriority,i_=ma.unstable_NormalPriority,BW=ma.unstable_LowPriority,O5=ma.unstable_IdlePriority,yb=null,go=null;function UW(t){if(go&&typeof go.onCommitFiberRoot=="function")try{go.onCommitFiberRoot(yb,t,void 0,(t.current.flags&128)===128)}catch{}}var Os=Math.clz32?Math.clz32:HW,jW=Math.log,VW=Math.LN2;function HW(t){return t>>>=0,t===0?32:31-(jW(t)/VW|0)|0}var mx=64,gx=4194304;function lm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function a_(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=lm(o):(a&=s,a!==0&&(n=lm(a)))}else s=r&~i,s!==0?n=lm(s):a!==0&&(n=lm(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Os(e),i=1<<r,n|=t[r],e&=~i;return n}function WW(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zW(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-Os(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=WW(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function IT(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function M5(){var t=mx;return mx<<=1,!(mx&4194240)&&(mx=64),t}function KS(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ly(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Os(e),t[e]=r}function GW(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Os(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function Fk(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Os(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Wt=0;function N5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var R5,Lk,D5,F5,L5,OT=!1,vx=[],Rc=null,Dc=null,Fc=null,lg=new Map,cg=new Map,Zl=[],qW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ZO(t,e){switch(t){case"focusin":case"focusout":Rc=null;break;case"dragenter":case"dragleave":Dc=null;break;case"mouseover":case"mouseout":Fc=null;break;case"pointerover":case"pointerout":lg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cg.delete(e.pointerId)}}function Bp(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=By(e),e!==null&&Lk(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function XW(t,e,r,n,i){switch(e){case"focusin":return Rc=Bp(Rc,t,e,r,n,i),!0;case"dragenter":return Dc=Bp(Dc,t,e,r,n,i),!0;case"mouseover":return Fc=Bp(Fc,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return lg.set(a,Bp(lg.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,cg.set(a,Bp(cg.get(a)||null,t,e,r,n,i)),!0}return!1}function $5(t){var e=Mu(t.target);if(e!==null){var r=yd(e);if(r!==null){if(e=r.tag,e===13){if(e=E5(r),e!==null){t.blockedOn=e,L5(t.priority,function(){D5(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function u1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=MT(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);ET=n,r.target.dispatchEvent(n),ET=null}else return e=By(r),e!==null&&Lk(e),t.blockedOn=r,!1;e.shift()}return!0}function QO(t,e,r){u1(t)&&r.delete(e)}function KW(){OT=!1,Rc!==null&&u1(Rc)&&(Rc=null),Dc!==null&&u1(Dc)&&(Dc=null),Fc!==null&&u1(Fc)&&(Fc=null),lg.forEach(QO),cg.forEach(QO)}function Up(t,e){t.blockedOn===e&&(t.blockedOn=null,OT||(OT=!0,ma.unstable_scheduleCallback(ma.unstable_NormalPriority,KW)))}function ug(t){function e(i){return Up(i,t)}if(0<vx.length){Up(vx[0],t);for(var r=1;r<vx.length;r++){var n=vx[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Rc!==null&&Up(Rc,t),Dc!==null&&Up(Dc,t),Fc!==null&&Up(Fc,t),lg.forEach(e),cg.forEach(e),r=0;r<Zl.length;r++)n=Zl[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Zl.length&&(r=Zl[0],r.blockedOn===null);)$5(r),r.blockedOn===null&&Zl.shift()}var yh=Fl.ReactCurrentBatchConfig,s_=!0;function YW(t,e,r,n){var i=Wt,a=yh.transition;yh.transition=null;try{Wt=1,$k(t,e,r,n)}finally{Wt=i,yh.transition=a}}function JW(t,e,r,n){var i=Wt,a=yh.transition;yh.transition=null;try{Wt=4,$k(t,e,r,n)}finally{Wt=i,yh.transition=a}}function $k(t,e,r,n){if(s_){var i=MT(t,e,r,n);if(i===null)aA(t,e,n,o_,r),ZO(t,n);else if(XW(i,t,e,r,n))n.stopPropagation();else if(ZO(t,n),e&4&&-1<qW.indexOf(t)){for(;i!==null;){var a=By(i);if(a!==null&&R5(a),a=MT(t,e,r,n),a===null&&aA(t,e,n,o_,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else aA(t,e,n,null,r)}}var o_=null;function MT(t,e,r,n){if(o_=null,t=Rk(n),t=Mu(t),t!==null)if(e=yd(t),e===null)t=null;else if(r=e.tag,r===13){if(t=E5(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return o_=t,null}function B5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($W()){case Dk:return 1;case I5:return 4;case i_:case BW:return 16;case O5:return 536870912;default:return 16}default:return 16}}var Pc=null,Bk=null,f1=null;function U5(){if(f1)return f1;var t,e=Bk,r=e.length,n,i="value"in Pc?Pc.value:Pc.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return f1=i.slice(t,1<n?1-n:void 0)}function d1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yx(){return!0}function eM(){return!1}function xa(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?yx:eM,this.isPropagationStopped=eM,this}return kr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=yx)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=yx)},persist:function(){},isPersistent:yx}),e}var pp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uk=xa(pp),$y=kr({},pp,{view:0,detail:0}),ZW=xa($y),YS,JS,jp,xb=kr({},$y,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jk,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jp&&(jp&&t.type==="mousemove"?(YS=t.screenX-jp.screenX,JS=t.screenY-jp.screenY):JS=YS=0,jp=t),YS)},movementY:function(t){return"movementY"in t?t.movementY:JS}}),tM=xa(xb),QW=kr({},xb,{dataTransfer:0}),ez=xa(QW),tz=kr({},$y,{relatedTarget:0}),ZS=xa(tz),rz=kr({},pp,{animationName:0,elapsedTime:0,pseudoElement:0}),nz=xa(rz),iz=kr({},pp,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),az=xa(iz),sz=kr({},pp,{data:0}),rM=xa(sz),oz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uz(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=cz[t])?!!e[t]:!1}function jk(){return uz}var fz=kr({},$y,{key:function(t){if(t.key){var e=oz[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=d1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lz[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jk,charCode:function(t){return t.type==="keypress"?d1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?d1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dz=xa(fz),hz=kr({},xb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nM=xa(hz),pz=kr({},$y,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jk}),mz=xa(pz),gz=kr({},pp,{propertyName:0,elapsedTime:0,pseudoElement:0}),vz=xa(gz),yz=kr({},xb,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xz=xa(yz),_z=[9,13,27,32],Vk=Al&&"CompositionEvent"in window,Rm=null;Al&&"documentMode"in document&&(Rm=document.documentMode);var wz=Al&&"TextEvent"in window&&!Rm,j5=Al&&(!Vk||Rm&&8<Rm&&11>=Rm),iM=" ",aM=!1;function V5(t,e){switch(t){case"keyup":return _z.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function H5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qd=!1;function bz(t,e){switch(t){case"compositionend":return H5(e);case"keypress":return e.which!==32?null:(aM=!0,iM);case"textInput":return t=e.data,t===iM&&aM?null:t;default:return null}}function Sz(t,e){if(Qd)return t==="compositionend"||!Vk&&V5(t,e)?(t=U5(),f1=Bk=Pc=null,Qd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return j5&&e.locale!=="ko"?null:e.data;default:return null}}var Az={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sM(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Az[t.type]:e==="textarea"}function W5(t,e,r,n){w5(n),e=l_(e,"onChange"),0<e.length&&(r=new Uk("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Dm=null,fg=null;function Tz(t){t8(t,0)}function _b(t){var e=rh(t);if(p5(e))return t}function Ez(t,e){if(t==="change")return e}var z5=!1;if(Al){var QS;if(Al){var eA="oninput"in document;if(!eA){var oM=document.createElement("div");oM.setAttribute("oninput","return;"),eA=typeof oM.oninput=="function"}QS=eA}else QS=!1;z5=QS&&(!document.documentMode||9<document.documentMode)}function lM(){Dm&&(Dm.detachEvent("onpropertychange",G5),fg=Dm=null)}function G5(t){if(t.propertyName==="value"&&_b(fg)){var e=[];W5(e,fg,t,Rk(t)),T5(Tz,e)}}function Cz(t,e,r){t==="focusin"?(lM(),Dm=e,fg=r,Dm.attachEvent("onpropertychange",G5)):t==="focusout"&&lM()}function kz(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _b(fg)}function Pz(t,e){if(t==="click")return _b(e)}function Iz(t,e){if(t==="input"||t==="change")return _b(e)}function Oz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ls=typeof Object.is=="function"?Object.is:Oz;function dg(t,e){if(Ls(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!pT.call(e,i)||!Ls(t[i],e[i]))return!1}return!0}function cM(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function uM(t,e){var r=cM(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cM(r)}}function q5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?q5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function X5(){for(var t=window,e=t_();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=t_(t.document)}return e}function Hk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Mz(t){var e=X5(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&q5(r.ownerDocument.documentElement,r)){if(n!==null&&Hk(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=uM(r,a);var s=uM(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Nz=Al&&"documentMode"in document&&11>=document.documentMode,eh=null,NT=null,Fm=null,RT=!1;function fM(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;RT||eh==null||eh!==t_(n)||(n=eh,"selectionStart"in n&&Hk(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Fm&&dg(Fm,n)||(Fm=n,n=l_(NT,"onSelect"),0<n.length&&(e=new Uk("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=eh)))}function xx(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var th={animationend:xx("Animation","AnimationEnd"),animationiteration:xx("Animation","AnimationIteration"),animationstart:xx("Animation","AnimationStart"),transitionend:xx("Transition","TransitionEnd")},tA={},K5={};Al&&(K5=document.createElement("div").style,"AnimationEvent"in window||(delete th.animationend.animation,delete th.animationiteration.animation,delete th.animationstart.animation),"TransitionEvent"in window||delete th.transitionend.transition);function wb(t){if(tA[t])return tA[t];if(!th[t])return t;var e=th[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in K5)return tA[t]=e[r];return t}var Y5=wb("animationend"),J5=wb("animationiteration"),Z5=wb("animationstart"),Q5=wb("transitionend"),e8=new Map,dM="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nu(t,e){e8.set(t,e),vd(e,[t])}for(var rA=0;rA<dM.length;rA++){var nA=dM[rA],Rz=nA.toLowerCase(),Dz=nA[0].toUpperCase()+nA.slice(1);nu(Rz,"on"+Dz)}nu(Y5,"onAnimationEnd");nu(J5,"onAnimationIteration");nu(Z5,"onAnimationStart");nu("dblclick","onDoubleClick");nu("focusin","onFocus");nu("focusout","onBlur");nu(Q5,"onTransitionEnd");k0("onMouseEnter",["mouseout","mouseover"]);k0("onMouseLeave",["mouseout","mouseover"]);k0("onPointerEnter",["pointerout","pointerover"]);k0("onPointerLeave",["pointerout","pointerover"]);vd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vd("onBeforeInput",["compositionend","keypress","textInput","paste"]);vd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fz=new Set("cancel close invalid load scroll toggle".split(" ").concat(cm));function hM(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,RW(n,e,void 0,t),t.currentTarget=null}function t8(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;hM(i,o,c),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;hM(i,o,c),a=l}}}if(n_)throw t=PT,n_=!1,PT=null,t}function nr(t,e){var r=e[BT];r===void 0&&(r=e[BT]=new Set);var n=t+"__bubble";r.has(n)||(r8(e,t,2,!1),r.add(n))}function iA(t,e,r){var n=0;e&&(n|=4),r8(r,t,n,e)}var _x="_reactListening"+Math.random().toString(36).slice(2);function hg(t){if(!t[_x]){t[_x]=!0,c5.forEach(function(r){r!=="selectionchange"&&(Fz.has(r)||iA(r,!1,t),iA(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_x]||(e[_x]=!0,iA("selectionchange",!1,e))}}function r8(t,e,r,n){switch(B5(e)){case 1:var i=YW;break;case 4:i=JW;break;default:i=$k}r=i.bind(null,e,r,t),i=void 0,!kT||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function aA(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Mu(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}T5(function(){var c=a,u=Rk(r),f=[];e:{var d=e8.get(t);if(d!==void 0){var h=Uk,m=t;switch(t){case"keypress":if(d1(r)===0)break e;case"keydown":case"keyup":h=dz;break;case"focusin":m="focus",h=ZS;break;case"focusout":m="blur",h=ZS;break;case"beforeblur":case"afterblur":h=ZS;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=tM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=ez;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=mz;break;case Y5:case J5:case Z5:h=nz;break;case Q5:h=vz;break;case"scroll":h=ZW;break;case"wheel":h=xz;break;case"copy":case"cut":case"paste":h=az;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=nM}var p=(e&4)!==0,y=!p&&t==="scroll",_=p?d!==null?d+"Capture":null:d;p=[];for(var b=c,w;b!==null;){w=b;var A=w.stateNode;if(w.tag===5&&A!==null&&(w=A,_!==null&&(A=og(b,_),A!=null&&p.push(pg(b,A,w)))),y)break;b=b.return}0<p.length&&(d=new h(d,m,null,r,u),f.push({event:d,listeners:p}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&r!==ET&&(m=r.relatedTarget||r.fromElement)&&(Mu(m)||m[Tl]))break e;if((h||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,h?(m=r.relatedTarget||r.toElement,h=c,m=m?Mu(m):null,m!==null&&(y=yd(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=c),h!==m)){if(p=tM,A="onMouseLeave",_="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(p=nM,A="onPointerLeave",_="onPointerEnter",b="pointer"),y=h==null?d:rh(h),w=m==null?d:rh(m),d=new p(A,b+"leave",h,r,u),d.target=y,d.relatedTarget=w,A=null,Mu(u)===c&&(p=new p(_,b+"enter",m,r,u),p.target=w,p.relatedTarget=y,A=p),y=A,h&&m)t:{for(p=h,_=m,b=0,w=p;w;w=Md(w))b++;for(w=0,A=_;A;A=Md(A))w++;for(;0<b-w;)p=Md(p),b--;for(;0<w-b;)_=Md(_),w--;for(;b--;){if(p===_||_!==null&&p===_.alternate)break t;p=Md(p),_=Md(_)}p=null}else p=null;h!==null&&pM(f,d,h,p,!1),m!==null&&y!==null&&pM(f,y,m,p,!0)}}e:{if(d=c?rh(c):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var S=Ez;else if(sM(d))if(z5)S=Iz;else{S=kz;var T=Cz}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=Pz);if(S&&(S=S(t,c))){W5(f,S,r,u);break e}T&&T(t,d,c),t==="focusout"&&(T=d._wrapperState)&&T.controlled&&d.type==="number"&&wT(d,"number",d.value)}switch(T=c?rh(c):window,t){case"focusin":(sM(T)||T.contentEditable==="true")&&(eh=T,NT=c,Fm=null);break;case"focusout":Fm=NT=eh=null;break;case"mousedown":RT=!0;break;case"contextmenu":case"mouseup":case"dragend":RT=!1,fM(f,r,u);break;case"selectionchange":if(Nz)break;case"keydown":case"keyup":fM(f,r,u)}var E;if(Vk)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Qd?V5(t,r)&&(P="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(j5&&r.locale!=="ko"&&(Qd||P!=="onCompositionStart"?P==="onCompositionEnd"&&Qd&&(E=U5()):(Pc=u,Bk="value"in Pc?Pc.value:Pc.textContent,Qd=!0)),T=l_(c,P),0<T.length&&(P=new rM(P,t,null,r,u),f.push({event:P,listeners:T}),E?P.data=E:(E=H5(r),E!==null&&(P.data=E)))),(E=wz?bz(t,r):Sz(t,r))&&(c=l_(c,"onBeforeInput"),0<c.length&&(u=new rM("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=E))}t8(f,e)})}function pg(t,e,r){return{instance:t,listener:e,currentTarget:r}}function l_(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=og(t,r),a!=null&&n.unshift(pg(t,a,i)),a=og(t,e),a!=null&&n.push(pg(t,a,i))),t=t.return}return n}function Md(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function pM(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=og(r,a),l!=null&&s.unshift(pg(r,l,o))):i||(l=og(r,a),l!=null&&s.push(pg(r,l,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var Lz=/\r\n?/g,$z=/\u0000|\uFFFD/g;function mM(t){return(typeof t=="string"?t:""+t).replace(Lz,`
`).replace($z,"")}function wx(t,e,r){if(e=mM(e),mM(t)!==e&&r)throw Error(we(425))}function c_(){}var DT=null,FT=null;function LT(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $T=typeof setTimeout=="function"?setTimeout:void 0,Bz=typeof clearTimeout=="function"?clearTimeout:void 0,gM=typeof Promise=="function"?Promise:void 0,Uz=typeof queueMicrotask=="function"?queueMicrotask:typeof gM<"u"?function(t){return gM.resolve(null).then(t).catch(jz)}:$T;function jz(t){setTimeout(function(){throw t})}function sA(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),ug(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ug(e)}function Lc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function vM(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var mp=Math.random().toString(36).slice(2),fo="__reactFiber$"+mp,mg="__reactProps$"+mp,Tl="__reactContainer$"+mp,BT="__reactEvents$"+mp,Vz="__reactListeners$"+mp,Hz="__reactHandles$"+mp;function Mu(t){var e=t[fo];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Tl]||r[fo]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=vM(t);t!==null;){if(r=t[fo])return r;t=vM(t)}return e}t=r,r=t.parentNode}return null}function By(t){return t=t[fo]||t[Tl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function rh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(we(33))}function bb(t){return t[mg]||null}var UT=[],nh=-1;function iu(t){return{current:t}}function lr(t){0>nh||(t.current=UT[nh],UT[nh]=null,nh--)}function tr(t,e){nh++,UT[nh]=t.current,t.current=e}var qc={},ci=iu(qc),Ui=iu(!1),Gf=qc;function P0(t,e){var r=t.type.contextTypes;if(!r)return qc;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ji(t){return t=t.childContextTypes,t!=null}function u_(){lr(Ui),lr(ci)}function yM(t,e,r){if(ci.current!==qc)throw Error(we(168));tr(ci,e),tr(Ui,r)}function n8(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(we(108,CW(t)||"Unknown",i));return kr({},r,n)}function f_(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qc,Gf=ci.current,tr(ci,t),tr(Ui,Ui.current),!0}function xM(t,e,r){var n=t.stateNode;if(!n)throw Error(we(169));r?(t=n8(t,e,Gf),n.__reactInternalMemoizedMergedChildContext=t,lr(Ui),lr(ci),tr(ci,t)):lr(Ui),tr(Ui,r)}var Do=null,Sb=!1,oA=!1;function i8(t){Do===null?Do=[t]:Do.push(t)}function Wz(t){Sb=!0,i8(t)}function au(){if(!oA&&Do!==null){oA=!0;var t=0,e=Wt;try{var r=Do;for(Wt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Do=null,Sb=!1}catch(i){throw Do!==null&&(Do=Do.slice(t+1)),P5(Dk,au),i}finally{Wt=e,oA=!1}}return null}var ih=[],ah=0,d_=null,h_=0,Fa=[],La=0,qf=null,ol=1,ll="";function _u(t,e){ih[ah++]=h_,ih[ah++]=d_,d_=t,h_=e}function a8(t,e,r){Fa[La++]=ol,Fa[La++]=ll,Fa[La++]=qf,qf=t;var n=ol;t=ll;var i=32-Os(n)-1;n&=~(1<<i),r+=1;var a=32-Os(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,ol=1<<32-Os(e)+i|r<<i|n,ll=a+t}else ol=1<<a|r<<i|n,ll=t}function Wk(t){t.return!==null&&(_u(t,1),a8(t,1,0))}function zk(t){for(;t===d_;)d_=ih[--ah],ih[ah]=null,h_=ih[--ah],ih[ah]=null;for(;t===qf;)qf=Fa[--La],Fa[La]=null,ll=Fa[--La],Fa[La]=null,ol=Fa[--La],Fa[La]=null}var ha=null,da=null,pr=!1,As=null;function s8(t,e){var r=Ua(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function _M(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ha=t,da=Lc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ha=t,da=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=qf!==null?{id:ol,overflow:ll}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ua(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ha=t,da=null,!0):!1;default:return!1}}function jT(t){return(t.mode&1)!==0&&(t.flags&128)===0}function VT(t){if(pr){var e=da;if(e){var r=e;if(!_M(t,e)){if(jT(t))throw Error(we(418));e=Lc(r.nextSibling);var n=ha;e&&_M(t,e)?s8(n,r):(t.flags=t.flags&-4097|2,pr=!1,ha=t)}}else{if(jT(t))throw Error(we(418));t.flags=t.flags&-4097|2,pr=!1,ha=t}}}function wM(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ha=t}function bx(t){if(t!==ha)return!1;if(!pr)return wM(t),pr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!LT(t.type,t.memoizedProps)),e&&(e=da)){if(jT(t))throw o8(),Error(we(418));for(;e;)s8(t,e),e=Lc(e.nextSibling)}if(wM(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(we(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){da=Lc(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}da=null}}else da=ha?Lc(t.stateNode.nextSibling):null;return!0}function o8(){for(var t=da;t;)t=Lc(t.nextSibling)}function I0(){da=ha=null,pr=!1}function Gk(t){As===null?As=[t]:As.push(t)}var zz=Fl.ReactCurrentBatchConfig;function Vp(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(we(309));var n=r.stateNode}if(!n)throw Error(we(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(we(284));if(!r._owner)throw Error(we(290,t))}return t}function Sx(t,e){throw t=Object.prototype.toString.call(e),Error(we(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bM(t){var e=t._init;return e(t._payload)}function l8(t){function e(_,b){if(t){var w=_.deletions;w===null?(_.deletions=[b],_.flags|=16):w.push(b)}}function r(_,b){if(!t)return null;for(;b!==null;)e(_,b),b=b.sibling;return null}function n(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function i(_,b){return _=jc(_,b),_.index=0,_.sibling=null,_}function a(_,b,w){return _.index=w,t?(w=_.alternate,w!==null?(w=w.index,w<b?(_.flags|=2,b):w):(_.flags|=2,b)):(_.flags|=1048576,b)}function s(_){return t&&_.alternate===null&&(_.flags|=2),_}function o(_,b,w,A){return b===null||b.tag!==6?(b=pA(w,_.mode,A),b.return=_,b):(b=i(b,w),b.return=_,b)}function l(_,b,w,A){var S=w.type;return S===Zd?u(_,b,w.props.children,A,w.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Xl&&bM(S)===b.type)?(A=i(b,w.props),A.ref=Vp(_,b,w),A.return=_,A):(A=x1(w.type,w.key,w.props,null,_.mode,A),A.ref=Vp(_,b,w),A.return=_,A)}function c(_,b,w,A){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=mA(w,_.mode,A),b.return=_,b):(b=i(b,w.children||[]),b.return=_,b)}function u(_,b,w,A,S){return b===null||b.tag!==7?(b=$f(w,_.mode,A,S),b.return=_,b):(b=i(b,w),b.return=_,b)}function f(_,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=pA(""+b,_.mode,w),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case dx:return w=x1(b.type,b.key,b.props,null,_.mode,w),w.ref=Vp(_,null,b),w.return=_,w;case Jd:return b=mA(b,_.mode,w),b.return=_,b;case Xl:var A=b._init;return f(_,A(b._payload),w)}if(om(b)||Lp(b))return b=$f(b,_.mode,w,null),b.return=_,b;Sx(_,b)}return null}function d(_,b,w,A){var S=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:o(_,b,""+w,A);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case dx:return w.key===S?l(_,b,w,A):null;case Jd:return w.key===S?c(_,b,w,A):null;case Xl:return S=w._init,d(_,b,S(w._payload),A)}if(om(w)||Lp(w))return S!==null?null:u(_,b,w,A,null);Sx(_,w)}return null}function h(_,b,w,A,S){if(typeof A=="string"&&A!==""||typeof A=="number")return _=_.get(w)||null,o(b,_,""+A,S);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case dx:return _=_.get(A.key===null?w:A.key)||null,l(b,_,A,S);case Jd:return _=_.get(A.key===null?w:A.key)||null,c(b,_,A,S);case Xl:var T=A._init;return h(_,b,w,T(A._payload),S)}if(om(A)||Lp(A))return _=_.get(w)||null,u(b,_,A,S,null);Sx(b,A)}return null}function m(_,b,w,A){for(var S=null,T=null,E=b,P=b=0,k=null;E!==null&&P<w.length;P++){E.index>P?(k=E,E=null):k=E.sibling;var D=d(_,E,w[P],A);if(D===null){E===null&&(E=k);break}t&&E&&D.alternate===null&&e(_,E),b=a(D,b,P),T===null?S=D:T.sibling=D,T=D,E=k}if(P===w.length)return r(_,E),pr&&_u(_,P),S;if(E===null){for(;P<w.length;P++)E=f(_,w[P],A),E!==null&&(b=a(E,b,P),T===null?S=E:T.sibling=E,T=E);return pr&&_u(_,P),S}for(E=n(_,E);P<w.length;P++)k=h(E,_,P,w[P],A),k!==null&&(t&&k.alternate!==null&&E.delete(k.key===null?P:k.key),b=a(k,b,P),T===null?S=k:T.sibling=k,T=k);return t&&E.forEach(function(I){return e(_,I)}),pr&&_u(_,P),S}function p(_,b,w,A){var S=Lp(w);if(typeof S!="function")throw Error(we(150));if(w=S.call(w),w==null)throw Error(we(151));for(var T=S=null,E=b,P=b=0,k=null,D=w.next();E!==null&&!D.done;P++,D=w.next()){E.index>P?(k=E,E=null):k=E.sibling;var I=d(_,E,D.value,A);if(I===null){E===null&&(E=k);break}t&&E&&I.alternate===null&&e(_,E),b=a(I,b,P),T===null?S=I:T.sibling=I,T=I,E=k}if(D.done)return r(_,E),pr&&_u(_,P),S;if(E===null){for(;!D.done;P++,D=w.next())D=f(_,D.value,A),D!==null&&(b=a(D,b,P),T===null?S=D:T.sibling=D,T=D);return pr&&_u(_,P),S}for(E=n(_,E);!D.done;P++,D=w.next())D=h(E,_,P,D.value,A),D!==null&&(t&&D.alternate!==null&&E.delete(D.key===null?P:D.key),b=a(D,b,P),T===null?S=D:T.sibling=D,T=D);return t&&E.forEach(function(N){return e(_,N)}),pr&&_u(_,P),S}function y(_,b,w,A){if(typeof w=="object"&&w!==null&&w.type===Zd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case dx:e:{for(var S=w.key,T=b;T!==null;){if(T.key===S){if(S=w.type,S===Zd){if(T.tag===7){r(_,T.sibling),b=i(T,w.props.children),b.return=_,_=b;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Xl&&bM(S)===T.type){r(_,T.sibling),b=i(T,w.props),b.ref=Vp(_,T,w),b.return=_,_=b;break e}r(_,T);break}else e(_,T);T=T.sibling}w.type===Zd?(b=$f(w.props.children,_.mode,A,w.key),b.return=_,_=b):(A=x1(w.type,w.key,w.props,null,_.mode,A),A.ref=Vp(_,b,w),A.return=_,_=A)}return s(_);case Jd:e:{for(T=w.key;b!==null;){if(b.key===T)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(_,b.sibling),b=i(b,w.children||[]),b.return=_,_=b;break e}else{r(_,b);break}else e(_,b);b=b.sibling}b=mA(w,_.mode,A),b.return=_,_=b}return s(_);case Xl:return T=w._init,y(_,b,T(w._payload),A)}if(om(w))return m(_,b,w,A);if(Lp(w))return p(_,b,w,A);Sx(_,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(_,b.sibling),b=i(b,w),b.return=_,_=b):(r(_,b),b=pA(w,_.mode,A),b.return=_,_=b),s(_)):r(_,b)}return y}var O0=l8(!0),c8=l8(!1),p_=iu(null),m_=null,sh=null,qk=null;function Xk(){qk=sh=m_=null}function Kk(t){var e=p_.current;lr(p_),t._currentValue=e}function HT(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function xh(t,e){m_=t,qk=sh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Fi=!0),t.firstContext=null)}function qa(t){var e=t._currentValue;if(qk!==t)if(t={context:t,memoizedValue:e,next:null},sh===null){if(m_===null)throw Error(we(308));sh=t,m_.dependencies={lanes:0,firstContext:t}}else sh=sh.next=t;return e}var Nu=null;function Yk(t){Nu===null?Nu=[t]:Nu.push(t)}function u8(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Yk(e)):(r.next=i.next,i.next=r),e.interleaved=r,El(t,n)}function El(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Kl=!1;function Jk(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function f8(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $c(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ct&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,El(t,r)}return i=n.interleaved,i===null?(e.next=e,Yk(n)):(e.next=i.next,i.next=e),n.interleaved=e,El(t,r)}function h1(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Fk(t,r)}}function SM(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function g_(t,e,r,n){var i=t.updateQueue;Kl=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,u=c=l=null,o=a;do{var d=o.lane,h=o.eventTime;if((n&d)===d){u!==null&&(u=u.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,p=o;switch(d=e,h=r,p.tag){case 1:if(m=p.payload,typeof m=="function"){f=m.call(h,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,d=typeof m=="function"?m.call(h,f,d):m,d==null)break e;f=kr({},f,d);break e;case 2:Kl=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[o]:d.push(o))}else h={eventTime:h,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=h,l=f):u=u.next=h,s|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Kf|=s,t.lanes=s,t.memoizedState=f}}function AM(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(we(191,i));i.call(n)}}}var Uy={},vo=iu(Uy),gg=iu(Uy),vg=iu(Uy);function Ru(t){if(t===Uy)throw Error(we(174));return t}function Zk(t,e){switch(tr(vg,e),tr(gg,t),tr(vo,Uy),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ST(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ST(e,t)}lr(vo),tr(vo,e)}function M0(){lr(vo),lr(gg),lr(vg)}function d8(t){Ru(vg.current);var e=Ru(vo.current),r=ST(e,t.type);e!==r&&(tr(gg,t),tr(vo,r))}function Qk(t){gg.current===t&&(lr(vo),lr(gg))}var Ar=iu(0);function v_(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var lA=[];function eP(){for(var t=0;t<lA.length;t++)lA[t]._workInProgressVersionPrimary=null;lA.length=0}var p1=Fl.ReactCurrentDispatcher,cA=Fl.ReactCurrentBatchConfig,Xf=0,Cr=null,un=null,Tn=null,y_=!1,Lm=!1,yg=0,Gz=0;function Wn(){throw Error(we(321))}function tP(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ls(t[r],e[r]))return!1;return!0}function rP(t,e,r,n,i,a){if(Xf=a,Cr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,p1.current=t===null||t.memoizedState===null?Yz:Jz,t=r(n,i),Lm){a=0;do{if(Lm=!1,yg=0,25<=a)throw Error(we(301));a+=1,Tn=un=null,e.updateQueue=null,p1.current=Zz,t=r(n,i)}while(Lm)}if(p1.current=x_,e=un!==null&&un.next!==null,Xf=0,Tn=un=Cr=null,y_=!1,e)throw Error(we(300));return t}function nP(){var t=yg!==0;return yg=0,t}function zs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?Cr.memoizedState=Tn=t:Tn=Tn.next=t,Tn}function Xa(){if(un===null){var t=Cr.alternate;t=t!==null?t.memoizedState:null}else t=un.next;var e=Tn===null?Cr.memoizedState:Tn.next;if(e!==null)Tn=e,un=t;else{if(t===null)throw Error(we(310));un=t,t={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},Tn===null?Cr.memoizedState=Tn=t:Tn=Tn.next=t}return Tn}function xg(t,e){return typeof e=="function"?e(t):e}function uA(t){var e=Xa(),r=e.queue;if(r===null)throw Error(we(311));r.lastRenderedReducer=t;var n=un,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,c=a;do{var u=c.lane;if((Xf&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,Cr.lanes|=u,Kf|=u}c=c.next}while(c!==null&&c!==a);l===null?s=n:l.next=o,Ls(n,e.memoizedState)||(Fi=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,Cr.lanes|=a,Kf|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function fA(t){var e=Xa(),r=e.queue;if(r===null)throw Error(we(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);Ls(a,e.memoizedState)||(Fi=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function h8(){}function p8(t,e){var r=Cr,n=Xa(),i=e(),a=!Ls(n.memoizedState,i);if(a&&(n.memoizedState=i,Fi=!0),n=n.queue,iP(v8.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Tn!==null&&Tn.memoizedState.tag&1){if(r.flags|=2048,_g(9,g8.bind(null,r,n,i,e),void 0,null),kn===null)throw Error(we(349));Xf&30||m8(r,e,i)}return i}function m8(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Cr.updateQueue,e===null?(e={lastEffect:null,stores:null},Cr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function g8(t,e,r,n){e.value=r,e.getSnapshot=n,y8(e)&&x8(t)}function v8(t,e,r){return r(function(){y8(e)&&x8(t)})}function y8(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ls(t,r)}catch{return!0}}function x8(t){var e=El(t,1);e!==null&&Ms(e,t,1,-1)}function TM(t){var e=zs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xg,lastRenderedState:t},e.queue=t,t=t.dispatch=Kz.bind(null,Cr,t),[e.memoizedState,t]}function _g(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Cr.updateQueue,e===null?(e={lastEffect:null,stores:null},Cr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function _8(){return Xa().memoizedState}function m1(t,e,r,n){var i=zs();Cr.flags|=t,i.memoizedState=_g(1|e,r,void 0,n===void 0?null:n)}function Ab(t,e,r,n){var i=Xa();n=n===void 0?null:n;var a=void 0;if(un!==null){var s=un.memoizedState;if(a=s.destroy,n!==null&&tP(n,s.deps)){i.memoizedState=_g(e,r,a,n);return}}Cr.flags|=t,i.memoizedState=_g(1|e,r,a,n)}function EM(t,e){return m1(8390656,8,t,e)}function iP(t,e){return Ab(2048,8,t,e)}function w8(t,e){return Ab(4,2,t,e)}function b8(t,e){return Ab(4,4,t,e)}function S8(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function A8(t,e,r){return r=r!=null?r.concat([t]):null,Ab(4,4,S8.bind(null,e,t),r)}function aP(){}function T8(t,e){var r=Xa();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&tP(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function E8(t,e){var r=Xa();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&tP(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function C8(t,e,r){return Xf&21?(Ls(r,e)||(r=M5(),Cr.lanes|=r,Kf|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Fi=!0),t.memoizedState=r)}function qz(t,e){var r=Wt;Wt=r!==0&&4>r?r:4,t(!0);var n=cA.transition;cA.transition={};try{t(!1),e()}finally{Wt=r,cA.transition=n}}function k8(){return Xa().memoizedState}function Xz(t,e,r){var n=Uc(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},P8(t))I8(e,r);else if(r=u8(t,e,r,n),r!==null){var i=_i();Ms(r,t,n,i),O8(r,e,n)}}function Kz(t,e,r){var n=Uc(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(P8(t))I8(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,Ls(o,s)){var l=e.interleaved;l===null?(i.next=i,Yk(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=u8(t,e,i,n),r!==null&&(i=_i(),Ms(r,t,n,i),O8(r,e,n))}}function P8(t){var e=t.alternate;return t===Cr||e!==null&&e===Cr}function I8(t,e){Lm=y_=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function O8(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Fk(t,r)}}var x_={readContext:qa,useCallback:Wn,useContext:Wn,useEffect:Wn,useImperativeHandle:Wn,useInsertionEffect:Wn,useLayoutEffect:Wn,useMemo:Wn,useReducer:Wn,useRef:Wn,useState:Wn,useDebugValue:Wn,useDeferredValue:Wn,useTransition:Wn,useMutableSource:Wn,useSyncExternalStore:Wn,useId:Wn,unstable_isNewReconciler:!1},Yz={readContext:qa,useCallback:function(t,e){return zs().memoizedState=[t,e===void 0?null:e],t},useContext:qa,useEffect:EM,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,m1(4194308,4,S8.bind(null,e,t),r)},useLayoutEffect:function(t,e){return m1(4194308,4,t,e)},useInsertionEffect:function(t,e){return m1(4,2,t,e)},useMemo:function(t,e){var r=zs();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=zs();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Xz.bind(null,Cr,t),[n.memoizedState,t]},useRef:function(t){var e=zs();return t={current:t},e.memoizedState=t},useState:TM,useDebugValue:aP,useDeferredValue:function(t){return zs().memoizedState=t},useTransition:function(){var t=TM(!1),e=t[0];return t=qz.bind(null,t[1]),zs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Cr,i=zs();if(pr){if(r===void 0)throw Error(we(407));r=r()}else{if(r=e(),kn===null)throw Error(we(349));Xf&30||m8(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,EM(v8.bind(null,n,a,t),[t]),n.flags|=2048,_g(9,g8.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=zs(),e=kn.identifierPrefix;if(pr){var r=ll,n=ol;r=(n&~(1<<32-Os(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=yg++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Gz++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Jz={readContext:qa,useCallback:T8,useContext:qa,useEffect:iP,useImperativeHandle:A8,useInsertionEffect:w8,useLayoutEffect:b8,useMemo:E8,useReducer:uA,useRef:_8,useState:function(){return uA(xg)},useDebugValue:aP,useDeferredValue:function(t){var e=Xa();return C8(e,un.memoizedState,t)},useTransition:function(){var t=uA(xg)[0],e=Xa().memoizedState;return[t,e]},useMutableSource:h8,useSyncExternalStore:p8,useId:k8,unstable_isNewReconciler:!1},Zz={readContext:qa,useCallback:T8,useContext:qa,useEffect:iP,useImperativeHandle:A8,useInsertionEffect:w8,useLayoutEffect:b8,useMemo:E8,useReducer:fA,useRef:_8,useState:function(){return fA(xg)},useDebugValue:aP,useDeferredValue:function(t){var e=Xa();return un===null?e.memoizedState=t:C8(e,un.memoizedState,t)},useTransition:function(){var t=fA(xg)[0],e=Xa().memoizedState;return[t,e]},useMutableSource:h8,useSyncExternalStore:p8,useId:k8,unstable_isNewReconciler:!1};function ss(t,e){if(t&&t.defaultProps){e=kr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function WT(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:kr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Tb={isMounted:function(t){return(t=t._reactInternals)?yd(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=_i(),i=Uc(t),a=hl(n,i);a.payload=e,r!=null&&(a.callback=r),e=$c(t,a,i),e!==null&&(Ms(e,t,i,n),h1(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=_i(),i=Uc(t),a=hl(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=$c(t,a,i),e!==null&&(Ms(e,t,i,n),h1(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=_i(),n=Uc(t),i=hl(r,n);i.tag=2,e!=null&&(i.callback=e),e=$c(t,i,n),e!==null&&(Ms(e,t,n,r),h1(e,t,n))}};function CM(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!dg(r,n)||!dg(i,a):!0}function M8(t,e,r){var n=!1,i=qc,a=e.contextType;return typeof a=="object"&&a!==null?a=qa(a):(i=ji(e)?Gf:ci.current,n=e.contextTypes,a=(n=n!=null)?P0(t,i):qc),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Tb,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function kM(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Tb.enqueueReplaceState(e,e.state,null)}function zT(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Jk(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=qa(a):(a=ji(e)?Gf:ci.current,i.context=P0(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(WT(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Tb.enqueueReplaceState(i,i.state,null),g_(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function N0(t,e){try{var r="",n=e;do r+=EW(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function dA(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function GT(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Qz=typeof WeakMap=="function"?WeakMap:Map;function N8(t,e,r){r=hl(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){w_||(w_=!0,rE=n),GT(t,e)},r}function R8(t,e,r){r=hl(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){GT(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){GT(t,e),typeof n!="function"&&(Bc===null?Bc=new Set([this]):Bc.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function PM(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Qz;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=hG.bind(null,t,e,r),e.then(t,t))}function IM(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function OM(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=hl(-1,1),e.tag=2,$c(r,e,1))),r.lanes|=1),t)}var eG=Fl.ReactCurrentOwner,Fi=!1;function mi(t,e,r,n){e.child=t===null?c8(e,null,r,n):O0(e,t.child,r,n)}function MM(t,e,r,n,i){r=r.render;var a=e.ref;return xh(e,i),n=rP(t,e,r,n,a,i),r=nP(),t!==null&&!Fi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Cl(t,e,i)):(pr&&r&&Wk(e),e.flags|=1,mi(t,e,n,i),e.child)}function NM(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!hP(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,D8(t,e,a,n,i)):(t=x1(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:dg,r(s,n)&&t.ref===e.ref)return Cl(t,e,i)}return e.flags|=1,t=jc(a,n),t.ref=e.ref,t.return=e,e.child=t}function D8(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(dg(a,n)&&t.ref===e.ref)if(Fi=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Fi=!0);else return e.lanes=t.lanes,Cl(t,e,i)}return qT(t,e,r,n,i)}function F8(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tr(lh,ia),ia|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,tr(lh,ia),ia|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,tr(lh,ia),ia|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,tr(lh,ia),ia|=n;return mi(t,e,i,r),e.child}function L8(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function qT(t,e,r,n,i){var a=ji(r)?Gf:ci.current;return a=P0(e,a),xh(e,i),r=rP(t,e,r,n,a,i),n=nP(),t!==null&&!Fi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Cl(t,e,i)):(pr&&n&&Wk(e),e.flags|=1,mi(t,e,r,i),e.child)}function RM(t,e,r,n,i){if(ji(r)){var a=!0;f_(e)}else a=!1;if(xh(e,i),e.stateNode===null)g1(t,e),M8(e,r,n),zT(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=qa(c):(c=ji(r)?Gf:ci.current,c=P0(e,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&kM(e,s,n,c),Kl=!1;var d=e.memoizedState;s.state=d,g_(e,n,s,i),l=e.memoizedState,o!==n||d!==l||Ui.current||Kl?(typeof u=="function"&&(WT(e,r,u,n),l=e.memoizedState),(o=Kl||CM(e,r,o,n,d,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,f8(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:ss(e.type,o),s.props=c,f=e.pendingProps,d=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=qa(l):(l=ji(r)?Gf:ci.current,l=P0(e,l));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||d!==l)&&kM(e,s,n,l),Kl=!1,d=e.memoizedState,s.state=d,g_(e,n,s,i);var m=e.memoizedState;o!==f||d!==m||Ui.current||Kl?(typeof h=="function"&&(WT(e,r,h,n),m=e.memoizedState),(c=Kl||CM(e,r,c,n,d,m,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),s.props=n,s.state=m,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return XT(t,e,r,n,a,i)}function XT(t,e,r,n,i,a){L8(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&xM(e,r,!1),Cl(t,e,a);n=e.stateNode,eG.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=O0(e,t.child,null,a),e.child=O0(e,null,o,a)):mi(t,e,o,a),e.memoizedState=n.state,i&&xM(e,r,!0),e.child}function $8(t){var e=t.stateNode;e.pendingContext?yM(t,e.pendingContext,e.pendingContext!==e.context):e.context&&yM(t,e.context,!1),Zk(t,e.containerInfo)}function DM(t,e,r,n,i){return I0(),Gk(i),e.flags|=256,mi(t,e,r,n),e.child}var KT={dehydrated:null,treeContext:null,retryLane:0};function YT(t){return{baseLanes:t,cachePool:null,transitions:null}}function B8(t,e,r){var n=e.pendingProps,i=Ar.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),tr(Ar,i&1),t===null)return VT(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,a?(n=e.mode,a=e.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=kb(s,n,0,null),t=$f(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=YT(r),e.memoizedState=KT,t):sP(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return tG(t,e,s,n,o,i,r);if(a){a=n.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=jc(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=jc(o,a):(a=$f(a,s,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,s=t.child.memoizedState,s=s===null?YT(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~r,e.memoizedState=KT,n}return a=t.child,t=a.sibling,n=jc(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function sP(t,e){return e=kb({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ax(t,e,r,n){return n!==null&&Gk(n),O0(e,t.child,null,r),t=sP(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tG(t,e,r,n,i,a,s){if(r)return e.flags&256?(e.flags&=-257,n=dA(Error(we(422))),Ax(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=kb({mode:"visible",children:n.children},i,0,null),a=$f(a,i,s,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&O0(e,t.child,null,s),e.child.memoizedState=YT(s),e.memoizedState=KT,a);if(!(e.mode&1))return Ax(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(we(419)),n=dA(a,n,void 0),Ax(t,e,s,n)}if(o=(s&t.childLanes)!==0,Fi||o){if(n=kn,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,El(t,i),Ms(n,t,i,-1))}return dP(),n=dA(Error(we(421))),Ax(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=pG.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,da=Lc(i.nextSibling),ha=e,pr=!0,As=null,t!==null&&(Fa[La++]=ol,Fa[La++]=ll,Fa[La++]=qf,ol=t.id,ll=t.overflow,qf=e),e=sP(e,n.children),e.flags|=4096,e)}function FM(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),HT(t.return,e,r)}function hA(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function U8(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(mi(t,e,n.children,r),n=Ar.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&FM(t,r,e);else if(t.tag===19)FM(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(tr(Ar,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&v_(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),hA(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&v_(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}hA(e,!0,r,null,a);break;case"together":hA(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function g1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Cl(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Kf|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(we(153));if(e.child!==null){for(t=e.child,r=jc(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=jc(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function rG(t,e,r){switch(e.tag){case 3:$8(e),I0();break;case 5:d8(e);break;case 1:ji(e.type)&&f_(e);break;case 4:Zk(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;tr(p_,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(tr(Ar,Ar.current&1),e.flags|=128,null):r&e.child.childLanes?B8(t,e,r):(tr(Ar,Ar.current&1),t=Cl(t,e,r),t!==null?t.sibling:null);tr(Ar,Ar.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return U8(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tr(Ar,Ar.current),n)break;return null;case 22:case 23:return e.lanes=0,F8(t,e,r)}return Cl(t,e,r)}var j8,JT,V8,H8;j8=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};JT=function(){};V8=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ru(vo.current);var a=null;switch(r){case"input":i=xT(t,i),n=xT(t,n),a=[];break;case"select":i=kr({},i,{value:void 0}),n=kr({},n,{value:void 0}),a=[];break;case"textarea":i=bT(t,i),n=bT(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=c_)}AT(r,n);var s;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ag.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ag.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&nr("scroll",t),a||o===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};H8=function(t,e,r,n){r!==n&&(e.flags|=4)};function Hp(t,e){if(!pr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function zn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function nG(t,e,r){var n=e.pendingProps;switch(zk(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zn(e),null;case 1:return ji(e.type)&&u_(),zn(e),null;case 3:return n=e.stateNode,M0(),lr(Ui),lr(ci),eP(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(bx(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,As!==null&&(aE(As),As=null))),JT(t,e),zn(e),null;case 5:Qk(e);var i=Ru(vg.current);if(r=e.type,t!==null&&e.stateNode!=null)V8(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(we(166));return zn(e),null}if(t=Ru(vo.current),bx(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[fo]=e,n[mg]=a,t=(e.mode&1)!==0,r){case"dialog":nr("cancel",n),nr("close",n);break;case"iframe":case"object":case"embed":nr("load",n);break;case"video":case"audio":for(i=0;i<cm.length;i++)nr(cm[i],n);break;case"source":nr("error",n);break;case"img":case"image":case"link":nr("error",n),nr("load",n);break;case"details":nr("toggle",n);break;case"input":zO(n,a),nr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},nr("invalid",n);break;case"textarea":qO(n,a),nr("invalid",n)}AT(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&wx(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&wx(n.textContent,o,t),i=["children",""+o]):ag.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&nr("scroll",n)}switch(r){case"input":hx(n),GO(n,a,!0);break;case"textarea":hx(n),XO(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=c_)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=v5(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[fo]=e,t[mg]=n,j8(t,e,!1,!1),e.stateNode=t;e:{switch(s=TT(r,n),r){case"dialog":nr("cancel",t),nr("close",t),i=n;break;case"iframe":case"object":case"embed":nr("load",t),i=n;break;case"video":case"audio":for(i=0;i<cm.length;i++)nr(cm[i],t);i=n;break;case"source":nr("error",t),i=n;break;case"img":case"image":case"link":nr("error",t),nr("load",t),i=n;break;case"details":nr("toggle",t),i=n;break;case"input":zO(t,n),i=xT(t,n),nr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=kr({},n,{value:void 0}),nr("invalid",t);break;case"textarea":qO(t,n),i=bT(t,n),nr("invalid",t);break;default:i=n}AT(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?_5(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&y5(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&sg(t,l):typeof l=="number"&&sg(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ag.hasOwnProperty(a)?l!=null&&a==="onScroll"&&nr("scroll",t):l!=null&&Ik(t,a,l,s))}switch(r){case"input":hx(t),GO(t,n,!1);break;case"textarea":hx(t),XO(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Gc(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?mh(t,!!n.multiple,a,!1):n.defaultValue!=null&&mh(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=c_)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zn(e),null;case 6:if(t&&e.stateNode!=null)H8(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(we(166));if(r=Ru(vg.current),Ru(vo.current),bx(e)){if(n=e.stateNode,r=e.memoizedProps,n[fo]=e,(a=n.nodeValue!==r)&&(t=ha,t!==null))switch(t.tag){case 3:wx(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wx(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[fo]=e,e.stateNode=n}return zn(e),null;case 13:if(lr(Ar),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pr&&da!==null&&e.mode&1&&!(e.flags&128))o8(),I0(),e.flags|=98560,a=!1;else if(a=bx(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(we(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(we(317));a[fo]=e}else I0(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;zn(e),a=!1}else As!==null&&(aE(As),As=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ar.current&1?hn===0&&(hn=3):dP())),e.updateQueue!==null&&(e.flags|=4),zn(e),null);case 4:return M0(),JT(t,e),t===null&&hg(e.stateNode.containerInfo),zn(e),null;case 10:return Kk(e.type._context),zn(e),null;case 17:return ji(e.type)&&u_(),zn(e),null;case 19:if(lr(Ar),a=e.memoizedState,a===null)return zn(e),null;if(n=(e.flags&128)!==0,s=a.rendering,s===null)if(n)Hp(a,!1);else{if(hn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=v_(t),s!==null){for(e.flags|=128,Hp(a,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return tr(Ar,Ar.current&1|2),e.child}t=t.sibling}a.tail!==null&&Ur()>R0&&(e.flags|=128,n=!0,Hp(a,!1),e.lanes=4194304)}else{if(!n)if(t=v_(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Hp(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!pr)return zn(e),null}else 2*Ur()-a.renderingStartTime>R0&&r!==1073741824&&(e.flags|=128,n=!0,Hp(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(r=a.last,r!==null?r.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ur(),e.sibling=null,r=Ar.current,tr(Ar,n?r&1|2:r&1),e):(zn(e),null);case 22:case 23:return fP(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ia&1073741824&&(zn(e),e.subtreeFlags&6&&(e.flags|=8192)):zn(e),null;case 24:return null;case 25:return null}throw Error(we(156,e.tag))}function iG(t,e){switch(zk(e),e.tag){case 1:return ji(e.type)&&u_(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return M0(),lr(Ui),lr(ci),eP(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Qk(e),null;case 13:if(lr(Ar),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(we(340));I0()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return lr(Ar),null;case 4:return M0(),null;case 10:return Kk(e.type._context),null;case 22:case 23:return fP(),null;case 24:return null;default:return null}}var Tx=!1,ri=!1,aG=typeof WeakSet=="function"?WeakSet:Set,Be=null;function oh(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Nr(t,e,n)}else r.current=null}function ZT(t,e,r){try{r()}catch(n){Nr(t,e,n)}}var LM=!1;function sG(t,e){if(DT=s_,t=X5(),Hk(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=t,d=null;t:for(;;){for(var h;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===r&&++c===i&&(o=s),d===a&&++u===n&&(l=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(FT={focusedElem:t,selectionRange:r},s_=!1,Be=e;Be!==null;)if(e=Be,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Be=t;else for(;Be!==null;){e=Be;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,y=m.memoizedState,_=e.stateNode,b=_.getSnapshotBeforeUpdate(e.elementType===e.type?p:ss(e.type,p),y);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(we(163))}}catch(A){Nr(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Be=t;break}Be=e.return}return m=LM,LM=!1,m}function $m(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&ZT(e,r,a)}i=i.next}while(i!==n)}}function Eb(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function QT(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function W8(t){var e=t.alternate;e!==null&&(t.alternate=null,W8(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fo],delete e[mg],delete e[BT],delete e[Vz],delete e[Hz])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function z8(t){return t.tag===5||t.tag===3||t.tag===4}function $M(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||z8(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function eE(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=c_));else if(n!==4&&(t=t.child,t!==null))for(eE(t,e,r),t=t.sibling;t!==null;)eE(t,e,r),t=t.sibling}function tE(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(tE(t,e,r),t=t.sibling;t!==null;)tE(t,e,r),t=t.sibling}var Fn=null,ws=!1;function Wl(t,e,r){for(r=r.child;r!==null;)G8(t,e,r),r=r.sibling}function G8(t,e,r){if(go&&typeof go.onCommitFiberUnmount=="function")try{go.onCommitFiberUnmount(yb,r)}catch{}switch(r.tag){case 5:ri||oh(r,e);case 6:var n=Fn,i=ws;Fn=null,Wl(t,e,r),Fn=n,ws=i,Fn!==null&&(ws?(t=Fn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Fn.removeChild(r.stateNode));break;case 18:Fn!==null&&(ws?(t=Fn,r=r.stateNode,t.nodeType===8?sA(t.parentNode,r):t.nodeType===1&&sA(t,r),ug(t)):sA(Fn,r.stateNode));break;case 4:n=Fn,i=ws,Fn=r.stateNode.containerInfo,ws=!0,Wl(t,e,r),Fn=n,ws=i;break;case 0:case 11:case 14:case 15:if(!ri&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&ZT(r,e,s),i=i.next}while(i!==n)}Wl(t,e,r);break;case 1:if(!ri&&(oh(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Nr(r,e,o)}Wl(t,e,r);break;case 21:Wl(t,e,r);break;case 22:r.mode&1?(ri=(n=ri)||r.memoizedState!==null,Wl(t,e,r),ri=n):Wl(t,e,r);break;default:Wl(t,e,r)}}function BM(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new aG),e.forEach(function(n){var i=mG.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function rs(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Fn=o.stateNode,ws=!1;break e;case 3:Fn=o.stateNode.containerInfo,ws=!0;break e;case 4:Fn=o.stateNode.containerInfo,ws=!0;break e}o=o.return}if(Fn===null)throw Error(we(160));G8(a,s,i),Fn=null,ws=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Nr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)q8(e,t),e=e.sibling}function q8(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rs(e,t),Us(t),n&4){try{$m(3,t,t.return),Eb(3,t)}catch(p){Nr(t,t.return,p)}try{$m(5,t,t.return)}catch(p){Nr(t,t.return,p)}}break;case 1:rs(e,t),Us(t),n&512&&r!==null&&oh(r,r.return);break;case 5:if(rs(e,t),Us(t),n&512&&r!==null&&oh(r,r.return),t.flags&32){var i=t.stateNode;try{sg(i,"")}catch(p){Nr(t,t.return,p)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=r!==null?r.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&m5(i,a),TT(o,s);var c=TT(o,a);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?_5(i,f):u==="dangerouslySetInnerHTML"?y5(i,f):u==="children"?sg(i,f):Ik(i,u,f,c)}switch(o){case"input":_T(i,a);break;case"textarea":g5(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?mh(i,!!a.multiple,h,!1):d!==!!a.multiple&&(a.defaultValue!=null?mh(i,!!a.multiple,a.defaultValue,!0):mh(i,!!a.multiple,a.multiple?[]:"",!1))}i[mg]=a}catch(p){Nr(t,t.return,p)}}break;case 6:if(rs(e,t),Us(t),n&4){if(t.stateNode===null)throw Error(we(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(p){Nr(t,t.return,p)}}break;case 3:if(rs(e,t),Us(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ug(e.containerInfo)}catch(p){Nr(t,t.return,p)}break;case 4:rs(e,t),Us(t);break;case 13:rs(e,t),Us(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(cP=Ur())),n&4&&BM(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(ri=(c=ri)||u,rs(e,t),ri=c):rs(e,t),Us(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Be=t,u=t.child;u!==null;){for(f=Be=u;Be!==null;){switch(d=Be,h=d.child,d.tag){case 0:case 11:case 14:case 15:$m(4,d,d.return);break;case 1:oh(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(p){Nr(n,r,p)}}break;case 5:oh(d,d.return);break;case 22:if(d.memoizedState!==null){jM(f);continue}}h!==null?(h.return=d,Be=h):jM(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=x5("display",s))}catch(p){Nr(t,t.return,p)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(p){Nr(t,t.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:rs(e,t),Us(t),n&4&&BM(t);break;case 21:break;default:rs(e,t),Us(t)}}function Us(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(z8(r)){var n=r;break e}r=r.return}throw Error(we(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(sg(i,""),n.flags&=-33);var a=$M(t);tE(t,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=$M(t);eE(t,o,s);break;default:throw Error(we(161))}}catch(l){Nr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oG(t,e,r){Be=t,X8(t)}function X8(t,e,r){for(var n=(t.mode&1)!==0;Be!==null;){var i=Be,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Tx;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||ri;o=Tx;var c=ri;if(Tx=s,(ri=l)&&!c)for(Be=i;Be!==null;)s=Be,l=s.child,s.tag===22&&s.memoizedState!==null?VM(i):l!==null?(l.return=s,Be=l):VM(i);for(;a!==null;)Be=a,X8(a),a=a.sibling;Be=i,Tx=o,ri=c}UM(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Be=a):UM(t)}}function UM(t){for(;Be!==null;){var e=Be;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ri||Eb(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ri)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ss(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&AM(e,a,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}AM(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&ug(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(we(163))}ri||e.flags&512&&QT(e)}catch(d){Nr(e,e.return,d)}}if(e===t){Be=null;break}if(r=e.sibling,r!==null){r.return=e.return,Be=r;break}Be=e.return}}function jM(t){for(;Be!==null;){var e=Be;if(e===t){Be=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Be=r;break}Be=e.return}}function VM(t){for(;Be!==null;){var e=Be;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Eb(4,e)}catch(l){Nr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Nr(e,i,l)}}var a=e.return;try{QT(e)}catch(l){Nr(e,a,l)}break;case 5:var s=e.return;try{QT(e)}catch(l){Nr(e,s,l)}}}catch(l){Nr(e,e.return,l)}if(e===t){Be=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Be=o;break}Be=e.return}}var lG=Math.ceil,__=Fl.ReactCurrentDispatcher,oP=Fl.ReactCurrentOwner,Va=Fl.ReactCurrentBatchConfig,Ct=0,kn=null,Zr=null,Un=0,ia=0,lh=iu(0),hn=0,wg=null,Kf=0,Cb=0,lP=0,Bm=null,Di=null,cP=0,R0=1/0,Mo=null,w_=!1,rE=null,Bc=null,Ex=!1,Ic=null,b_=0,Um=0,nE=null,v1=-1,y1=0;function _i(){return Ct&6?Ur():v1!==-1?v1:v1=Ur()}function Uc(t){return t.mode&1?Ct&2&&Un!==0?Un&-Un:zz.transition!==null?(y1===0&&(y1=M5()),y1):(t=Wt,t!==0||(t=window.event,t=t===void 0?16:B5(t.type)),t):1}function Ms(t,e,r,n){if(50<Um)throw Um=0,nE=null,Error(we(185));Ly(t,r,n),(!(Ct&2)||t!==kn)&&(t===kn&&(!(Ct&2)&&(Cb|=r),hn===4&&Ql(t,Un)),Vi(t,n),r===1&&Ct===0&&!(e.mode&1)&&(R0=Ur()+500,Sb&&au()))}function Vi(t,e){var r=t.callbackNode;zW(t,e);var n=a_(t,t===kn?Un:0);if(n===0)r!==null&&JO(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&JO(r),e===1)t.tag===0?Wz(HM.bind(null,t)):i8(HM.bind(null,t)),Uz(function(){!(Ct&6)&&au()}),r=null;else{switch(N5(n)){case 1:r=Dk;break;case 4:r=I5;break;case 16:r=i_;break;case 536870912:r=O5;break;default:r=i_}r=r6(r,K8.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function K8(t,e){if(v1=-1,y1=0,Ct&6)throw Error(we(327));var r=t.callbackNode;if(_h()&&t.callbackNode!==r)return null;var n=a_(t,t===kn?Un:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=S_(t,n);else{e=n;var i=Ct;Ct|=2;var a=J8();(kn!==t||Un!==e)&&(Mo=null,R0=Ur()+500,Lf(t,e));do try{fG();break}catch(o){Y8(t,o)}while(!0);Xk(),__.current=a,Ct=i,Zr!==null?e=0:(kn=null,Un=0,e=hn)}if(e!==0){if(e===2&&(i=IT(t),i!==0&&(n=i,e=iE(t,i))),e===1)throw r=wg,Lf(t,0),Ql(t,n),Vi(t,Ur()),r;if(e===6)Ql(t,n);else{if(i=t.current.alternate,!(n&30)&&!cG(i)&&(e=S_(t,n),e===2&&(a=IT(t),a!==0&&(n=a,e=iE(t,a))),e===1))throw r=wg,Lf(t,0),Ql(t,n),Vi(t,Ur()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(we(345));case 2:wu(t,Di,Mo);break;case 3:if(Ql(t,n),(n&130023424)===n&&(e=cP+500-Ur(),10<e)){if(a_(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){_i(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=$T(wu.bind(null,t,Di,Mo),e);break}wu(t,Di,Mo);break;case 4:if(Ql(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-Os(n);a=1<<s,s=e[s],s>i&&(i=s),n&=~a}if(n=i,n=Ur()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*lG(n/1960))-n,10<n){t.timeoutHandle=$T(wu.bind(null,t,Di,Mo),n);break}wu(t,Di,Mo);break;case 5:wu(t,Di,Mo);break;default:throw Error(we(329))}}}return Vi(t,Ur()),t.callbackNode===r?K8.bind(null,t):null}function iE(t,e){var r=Bm;return t.current.memoizedState.isDehydrated&&(Lf(t,e).flags|=256),t=S_(t,e),t!==2&&(e=Di,Di=r,e!==null&&aE(e)),t}function aE(t){Di===null?Di=t:Di.push.apply(Di,t)}function cG(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Ls(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ql(t,e){for(e&=~lP,e&=~Cb,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Os(e),n=1<<r;t[r]=-1,e&=~n}}function HM(t){if(Ct&6)throw Error(we(327));_h();var e=a_(t,0);if(!(e&1))return Vi(t,Ur()),null;var r=S_(t,e);if(t.tag!==0&&r===2){var n=IT(t);n!==0&&(e=n,r=iE(t,n))}if(r===1)throw r=wg,Lf(t,0),Ql(t,e),Vi(t,Ur()),r;if(r===6)throw Error(we(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wu(t,Di,Mo),Vi(t,Ur()),null}function uP(t,e){var r=Ct;Ct|=1;try{return t(e)}finally{Ct=r,Ct===0&&(R0=Ur()+500,Sb&&au())}}function Yf(t){Ic!==null&&Ic.tag===0&&!(Ct&6)&&_h();var e=Ct;Ct|=1;var r=Va.transition,n=Wt;try{if(Va.transition=null,Wt=1,t)return t()}finally{Wt=n,Va.transition=r,Ct=e,!(Ct&6)&&au()}}function fP(){ia=lh.current,lr(lh)}function Lf(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Bz(r)),Zr!==null)for(r=Zr.return;r!==null;){var n=r;switch(zk(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&u_();break;case 3:M0(),lr(Ui),lr(ci),eP();break;case 5:Qk(n);break;case 4:M0();break;case 13:lr(Ar);break;case 19:lr(Ar);break;case 10:Kk(n.type._context);break;case 22:case 23:fP()}r=r.return}if(kn=t,Zr=t=jc(t.current,null),Un=ia=e,hn=0,wg=null,lP=Cb=Kf=0,Di=Bm=null,Nu!==null){for(e=0;e<Nu.length;e++)if(r=Nu[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}Nu=null}return t}function Y8(t,e){do{var r=Zr;try{if(Xk(),p1.current=x_,y_){for(var n=Cr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}y_=!1}if(Xf=0,Tn=un=Cr=null,Lm=!1,yg=0,oP.current=null,r===null||r.return===null){hn=1,wg=e,Zr=null;break}e:{var a=t,s=r.return,o=r,l=e;if(e=Un,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=IM(s);if(h!==null){h.flags&=-257,OM(h,s,o,a,e),h.mode&1&&PM(a,c,e),e=h,l=c;var m=e.updateQueue;if(m===null){var p=new Set;p.add(l),e.updateQueue=p}else m.add(l);break e}else{if(!(e&1)){PM(a,c,e),dP();break e}l=Error(we(426))}}else if(pr&&o.mode&1){var y=IM(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),OM(y,s,o,a,e),Gk(N0(l,o));break e}}a=l=N0(l,o),hn!==4&&(hn=2),Bm===null?Bm=[a]:Bm.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var _=N8(a,l,e);SM(a,_);break e;case 1:o=l;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Bc===null||!Bc.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var A=R8(a,o,e);SM(a,A);break e}}a=a.return}while(a!==null)}Q8(r)}catch(S){e=S,Zr===r&&r!==null&&(Zr=r=r.return);continue}break}while(!0)}function J8(){var t=__.current;return __.current=x_,t===null?x_:t}function dP(){(hn===0||hn===3||hn===2)&&(hn=4),kn===null||!(Kf&268435455)&&!(Cb&268435455)||Ql(kn,Un)}function S_(t,e){var r=Ct;Ct|=2;var n=J8();(kn!==t||Un!==e)&&(Mo=null,Lf(t,e));do try{uG();break}catch(i){Y8(t,i)}while(!0);if(Xk(),Ct=r,__.current=n,Zr!==null)throw Error(we(261));return kn=null,Un=0,hn}function uG(){for(;Zr!==null;)Z8(Zr)}function fG(){for(;Zr!==null&&!FW();)Z8(Zr)}function Z8(t){var e=t6(t.alternate,t,ia);t.memoizedProps=t.pendingProps,e===null?Q8(t):Zr=e,oP.current=null}function Q8(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=iG(r,e),r!==null){r.flags&=32767,Zr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{hn=6,Zr=null;return}}else if(r=nG(r,e,ia),r!==null){Zr=r;return}if(e=e.sibling,e!==null){Zr=e;return}Zr=e=t}while(e!==null);hn===0&&(hn=5)}function wu(t,e,r){var n=Wt,i=Va.transition;try{Va.transition=null,Wt=1,dG(t,e,r,n)}finally{Va.transition=i,Wt=n}return null}function dG(t,e,r,n){do _h();while(Ic!==null);if(Ct&6)throw Error(we(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(we(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(GW(t,a),t===kn&&(Zr=kn=null,Un=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ex||(Ex=!0,r6(i_,function(){return _h(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Va.transition,Va.transition=null;var s=Wt;Wt=1;var o=Ct;Ct|=4,oP.current=null,sG(t,r),q8(r,t),Mz(FT),s_=!!DT,FT=DT=null,t.current=r,oG(r),LW(),Ct=o,Wt=s,Va.transition=a}else t.current=r;if(Ex&&(Ex=!1,Ic=t,b_=i),a=t.pendingLanes,a===0&&(Bc=null),UW(r.stateNode),Vi(t,Ur()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(w_)throw w_=!1,t=rE,rE=null,t;return b_&1&&t.tag!==0&&_h(),a=t.pendingLanes,a&1?t===nE?Um++:(Um=0,nE=t):Um=0,au(),null}function _h(){if(Ic!==null){var t=N5(b_),e=Va.transition,r=Wt;try{if(Va.transition=null,Wt=16>t?16:t,Ic===null)var n=!1;else{if(t=Ic,Ic=null,b_=0,Ct&6)throw Error(we(331));var i=Ct;for(Ct|=4,Be=t.current;Be!==null;){var a=Be,s=a.child;if(Be.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Be=c;Be!==null;){var u=Be;switch(u.tag){case 0:case 11:case 15:$m(8,u,a)}var f=u.child;if(f!==null)f.return=u,Be=f;else for(;Be!==null;){u=Be;var d=u.sibling,h=u.return;if(W8(u),u===c){Be=null;break}if(d!==null){d.return=h,Be=d;break}Be=h}}}var m=a.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var y=p.sibling;p.sibling=null,p=y}while(p!==null)}}Be=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Be=s;else e:for(;Be!==null;){if(a=Be,a.flags&2048)switch(a.tag){case 0:case 11:case 15:$m(9,a,a.return)}var _=a.sibling;if(_!==null){_.return=a.return,Be=_;break e}Be=a.return}}var b=t.current;for(Be=b;Be!==null;){s=Be;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Be=w;else e:for(s=b;Be!==null;){if(o=Be,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Eb(9,o)}}catch(S){Nr(o,o.return,S)}if(o===s){Be=null;break e}var A=o.sibling;if(A!==null){A.return=o.return,Be=A;break e}Be=o.return}}if(Ct=i,au(),go&&typeof go.onPostCommitFiberRoot=="function")try{go.onPostCommitFiberRoot(yb,t)}catch{}n=!0}return n}finally{Wt=r,Va.transition=e}}return!1}function WM(t,e,r){e=N0(r,e),e=N8(t,e,1),t=$c(t,e,1),e=_i(),t!==null&&(Ly(t,1,e),Vi(t,e))}function Nr(t,e,r){if(t.tag===3)WM(t,t,r);else for(;e!==null;){if(e.tag===3){WM(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Bc===null||!Bc.has(n))){t=N0(r,t),t=R8(e,t,1),e=$c(e,t,1),t=_i(),e!==null&&(Ly(e,1,t),Vi(e,t));break}}e=e.return}}function hG(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=_i(),t.pingedLanes|=t.suspendedLanes&r,kn===t&&(Un&r)===r&&(hn===4||hn===3&&(Un&130023424)===Un&&500>Ur()-cP?Lf(t,0):lP|=r),Vi(t,e)}function e6(t,e){e===0&&(t.mode&1?(e=gx,gx<<=1,!(gx&130023424)&&(gx=4194304)):e=1);var r=_i();t=El(t,e),t!==null&&(Ly(t,e,r),Vi(t,r))}function pG(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),e6(t,r)}function mG(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(we(314))}n!==null&&n.delete(e),e6(t,r)}var t6;t6=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ui.current)Fi=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Fi=!1,rG(t,e,r);Fi=!!(t.flags&131072)}else Fi=!1,pr&&e.flags&1048576&&a8(e,h_,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;g1(t,e),t=e.pendingProps;var i=P0(e,ci.current);xh(e,r),i=rP(null,e,n,t,i,r);var a=nP();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ji(n)?(a=!0,f_(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Jk(e),i.updater=Tb,e.stateNode=i,i._reactInternals=e,zT(e,n,t,r),e=XT(null,e,n,!0,a,r)):(e.tag=0,pr&&a&&Wk(e),mi(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(g1(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=vG(n),t=ss(n,t),i){case 0:e=qT(null,e,n,t,r);break e;case 1:e=RM(null,e,n,t,r);break e;case 11:e=MM(null,e,n,t,r);break e;case 14:e=NM(null,e,n,ss(n.type,t),r);break e}throw Error(we(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ss(n,i),qT(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ss(n,i),RM(t,e,n,i,r);case 3:e:{if($8(e),t===null)throw Error(we(387));n=e.pendingProps,a=e.memoizedState,i=a.element,f8(t,e),g_(e,n,null,r);var s=e.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=N0(Error(we(423)),e),e=DM(t,e,n,r,i);break e}else if(n!==i){i=N0(Error(we(424)),e),e=DM(t,e,n,r,i);break e}else for(da=Lc(e.stateNode.containerInfo.firstChild),ha=e,pr=!0,As=null,r=c8(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(I0(),n===i){e=Cl(t,e,r);break e}mi(t,e,n,r)}e=e.child}return e;case 5:return d8(e),t===null&&VT(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,LT(n,i)?s=null:a!==null&&LT(n,a)&&(e.flags|=32),L8(t,e),mi(t,e,s,r),e.child;case 6:return t===null&&VT(e),null;case 13:return B8(t,e,r);case 4:return Zk(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=O0(e,null,n,r):mi(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ss(n,i),MM(t,e,n,i,r);case 7:return mi(t,e,e.pendingProps,r),e.child;case 8:return mi(t,e,e.pendingProps.children,r),e.child;case 12:return mi(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,tr(p_,n._currentValue),n._currentValue=s,a!==null)if(Ls(a.value,s)){if(a.children===i.children&&!Ui.current){e=Cl(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=hl(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),HT(a.return,r,e),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(we(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),HT(s,r,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}mi(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,xh(e,r),i=qa(i),n=n(i),e.flags|=1,mi(t,e,n,r),e.child;case 14:return n=e.type,i=ss(n,e.pendingProps),i=ss(n.type,i),NM(t,e,n,i,r);case 15:return D8(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ss(n,i),g1(t,e),e.tag=1,ji(n)?(t=!0,f_(e)):t=!1,xh(e,r),M8(e,n,i),zT(e,n,i,r),XT(null,e,n,!0,t,r);case 19:return U8(t,e,r);case 22:return F8(t,e,r)}throw Error(we(156,e.tag))};function r6(t,e){return P5(t,e)}function gG(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ua(t,e,r,n){return new gG(t,e,r,n)}function hP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vG(t){if(typeof t=="function")return hP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Mk)return 11;if(t===Nk)return 14}return 2}function jc(t,e){var r=t.alternate;return r===null?(r=Ua(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function x1(t,e,r,n,i,a){var s=2;if(n=t,typeof t=="function")hP(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Zd:return $f(r.children,i,a,e);case Ok:s=8,i|=8;break;case mT:return t=Ua(12,r,e,i|2),t.elementType=mT,t.lanes=a,t;case gT:return t=Ua(13,r,e,i),t.elementType=gT,t.lanes=a,t;case vT:return t=Ua(19,r,e,i),t.elementType=vT,t.lanes=a,t;case d5:return kb(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case u5:s=10;break e;case f5:s=9;break e;case Mk:s=11;break e;case Nk:s=14;break e;case Xl:s=16,n=null;break e}throw Error(we(130,t==null?t:typeof t,""))}return e=Ua(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function $f(t,e,r,n){return t=Ua(7,t,n,e),t.lanes=r,t}function kb(t,e,r,n){return t=Ua(22,t,n,e),t.elementType=d5,t.lanes=r,t.stateNode={isHidden:!1},t}function pA(t,e,r){return t=Ua(6,t,null,e),t.lanes=r,t}function mA(t,e,r){return e=Ua(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function yG(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=KS(0),this.expirationTimes=KS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=KS(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function pP(t,e,r,n,i,a,s,o,l){return t=new yG(t,e,r,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Ua(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jk(a),t}function xG(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jd,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function n6(t){if(!t)return qc;t=t._reactInternals;e:{if(yd(t)!==t||t.tag!==1)throw Error(we(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ji(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(we(171))}if(t.tag===1){var r=t.type;if(ji(r))return n8(t,r,e)}return e}function i6(t,e,r,n,i,a,s,o,l){return t=pP(r,n,!0,t,i,a,s,o,l),t.context=n6(null),r=t.current,n=_i(),i=Uc(r),a=hl(n,i),a.callback=e??null,$c(r,a,i),t.current.lanes=i,Ly(t,i,n),Vi(t,n),t}function Pb(t,e,r,n){var i=e.current,a=_i(),s=Uc(i);return r=n6(r),e.context===null?e.context=r:e.pendingContext=r,e=hl(a,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=$c(i,e,s),t!==null&&(Ms(t,i,s,a),h1(t,i,s)),s}function A_(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zM(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function mP(t,e){zM(t,e),(t=t.alternate)&&zM(t,e)}function _G(){return null}var a6=typeof reportError=="function"?reportError:function(t){console.error(t)};function gP(t){this._internalRoot=t}Ib.prototype.render=gP.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(we(409));Pb(t,e,null,null)};Ib.prototype.unmount=gP.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Yf(function(){Pb(null,t,null,null)}),e[Tl]=null}};function Ib(t){this._internalRoot=t}Ib.prototype.unstable_scheduleHydration=function(t){if(t){var e=F5();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Zl.length&&e!==0&&e<Zl[r].priority;r++);Zl.splice(r,0,t),r===0&&$5(t)}};function vP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ob(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function GM(){}function wG(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=A_(s);a.call(c)}}var s=i6(e,n,t,0,null,!1,!1,"",GM);return t._reactRootContainer=s,t[Tl]=s.current,hg(t.nodeType===8?t.parentNode:t),Yf(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=A_(l);o.call(c)}}var l=pP(t,0,!1,null,null,!1,!1,"",GM);return t._reactRootContainer=l,t[Tl]=l.current,hg(t.nodeType===8?t.parentNode:t),Yf(function(){Pb(e,l,r,n)}),l}function Mb(t,e,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=A_(s);o.call(l)}}Pb(e,s,t,i)}else s=wG(r,e,t,i,n);return A_(s)}R5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=lm(e.pendingLanes);r!==0&&(Fk(e,r|1),Vi(e,Ur()),!(Ct&6)&&(R0=Ur()+500,au()))}break;case 13:Yf(function(){var n=El(t,1);if(n!==null){var i=_i();Ms(n,t,1,i)}}),mP(t,1)}};Lk=function(t){if(t.tag===13){var e=El(t,134217728);if(e!==null){var r=_i();Ms(e,t,134217728,r)}mP(t,134217728)}};D5=function(t){if(t.tag===13){var e=Uc(t),r=El(t,e);if(r!==null){var n=_i();Ms(r,t,e,n)}mP(t,e)}};F5=function(){return Wt};L5=function(t,e){var r=Wt;try{return Wt=t,e()}finally{Wt=r}};CT=function(t,e,r){switch(e){case"input":if(_T(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=bb(n);if(!i)throw Error(we(90));p5(n),_T(n,i)}}}break;case"textarea":g5(t,r);break;case"select":e=r.value,e!=null&&mh(t,!!r.multiple,e,!1)}};S5=uP;A5=Yf;var bG={usingClientEntryPoint:!1,Events:[By,rh,bb,w5,b5,uP]},Wp={findFiberByHostInstance:Mu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SG={bundleType:Wp.bundleType,version:Wp.version,rendererPackageName:Wp.rendererPackageName,rendererConfig:Wp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=C5(t),t===null?null:t.stateNode},findFiberByHostInstance:Wp.findFiberByHostInstance||_G,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cx.isDisabled&&Cx.supportsFiber)try{yb=Cx.inject(SG),go=Cx}catch{}}ya.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bG;ya.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vP(e))throw Error(we(200));return xG(t,e,null,r)};ya.createRoot=function(t,e){if(!vP(t))throw Error(we(299));var r=!1,n="",i=a6;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=pP(t,1,!1,null,null,r,!1,n,i),t[Tl]=e.current,hg(t.nodeType===8?t.parentNode:t),new gP(e)};ya.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(we(188)):(t=Object.keys(t).join(","),Error(we(268,t)));return t=C5(e),t=t===null?null:t.stateNode,t};ya.flushSync=function(t){return Yf(t)};ya.hydrate=function(t,e,r){if(!Ob(e))throw Error(we(200));return Mb(null,t,e,!0,r)};ya.hydrateRoot=function(t,e,r){if(!vP(t))throw Error(we(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=a6;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=i6(e,null,t,1,r??null,i,!1,a,s),t[Tl]=e.current,hg(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Ib(e)};ya.render=function(t,e,r){if(!Ob(e))throw Error(we(200));return Mb(null,t,e,!1,r)};ya.unmountComponentAtNode=function(t){if(!Ob(t))throw Error(we(40));return t._reactRootContainer?(Yf(function(){Mb(null,null,t,!1,function(){t._reactRootContainer=null,t[Tl]=null})}),!0):!1};ya.unstable_batchedUpdates=uP;ya.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ob(r))throw Error(we(200));if(t==null||t._reactInternals===void 0)throw Error(we(38));return Mb(t,e,r,!1,n)};ya.version="18.3.1-next-f1338f8080-20240426";function s6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s6)}catch(t){console.error(t)}}s6(),s5.exports=ya;var AG=s5.exports,qM=AG;hT.createRoot=qM.createRoot,hT.hydrateRoot=qM.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ke=(t,e)=>{const r=ae.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,...c},u)=>ae.createElement("svg",{ref:u,...TG,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${EG(t)}`,o].join(" "),...c},[...e.map(([f,d])=>ae.createElement(f,d)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=Ke("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=Ke("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=Ke("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=Ke("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=Ke("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=Ke("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=Ke("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=Ke("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=Ke("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=Ke("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=Ke("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=Ke("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=Ke("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=Ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=Ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=Ke("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=Ke("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=Ke("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=Ke("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=Ke("DownloadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m8 17 4 4 4-4",key:"1ul180"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=Ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=Ke("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=Ke("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=Ke("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=Ke("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=Ke("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=Ke("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=Ke("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=Ke("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=Ke("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=Ke("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=Ke("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=Ke("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=Ke("PackageX",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["path",{d:"m17 13 5 5m-5 0 5-5",key:"im3w4b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=Ke("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=Ke("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=Ke("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=Ke("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=Ke("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=Ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=Ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=Ke("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=Ke("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=Ke("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=Ke("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aq=Ke("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=Ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=Ke("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=Ke("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=Ke("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=Ke("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=Ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=Ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=Ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),cq=({params:t,onChange:e})=>C.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-6 gap-4",children:[C.jsxs("div",{children:[C.jsxs("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wider mb-2 flex items-center",children:[C.jsx(MG,{className:"w-3.5 h-3.5 mr-1.5"}),"Itinerary Date"]}),C.jsx("input",{type:"date",value:t.targetDate,onChange:r=>e("targetDate",r.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2.5 border bg-white"})]}),C.jsxs("div",{children:[C.jsxs("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wider mb-2 flex items-center",children:[C.jsx(f6,{className:"w-3.5 h-3.5 mr-1.5"}),"End of Shift"]}),C.jsx("input",{type:"time",value:t.endTime,onChange:r=>e("endTime",r.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2.5 border bg-white"})]}),C.jsxs("div",{children:[C.jsxs("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wider mb-2 flex items-center",children:[C.jsx(WG,{className:"w-3.5 h-3.5 mr-1.5"}),"Default Pace"]}),C.jsx("input",{type:"number",value:t.defaultPace,min:"1",onChange:r=>e("defaultPace",Number(r.target.value)),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2.5 border bg-white"}),C.jsxs("div",{className:"mt-2 flex items-center",children:[C.jsx("input",{id:"useIndividualPace",type:"checkbox",checked:t.useIndividualPace,onChange:r=>e("useIndividualPace",r.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),C.jsx("label",{htmlFor:"useIndividualPace",className:"ml-2 block text-xs text-gray-600",children:"Use file pace"})]})]}),C.jsxs("div",{children:[C.jsxs("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wider mb-2 flex items-center",children:[C.jsx(aq,{className:"w-3.5 h-3.5 mr-1.5"}),"Buffer (min)"]}),C.jsx("div",{className:"relative rounded-md shadow-sm",children:C.jsx("input",{type:"number",value:t.bufferMinutes,min:"0",onChange:r=>e("bufferMinutes",Number(r.target.value)),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2.5 border bg-white"})})]}),C.jsxs("div",{children:[C.jsxs("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wider mb-2 flex items-center",children:[C.jsx(d6,{className:"w-3.5 h-3.5 mr-1.5"}),"Meal Break"]}),C.jsxs("div",{className:"relative rounded-md shadow-sm",children:[C.jsx("input",{type:"number",value:t.requiredBreakMinutes,min:"0",onChange:r=>e("requiredBreakMinutes",Number(r.target.value)),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2.5 border bg-white",placeholder:"e.g. 30"}),C.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:C.jsx("span",{className:"text-gray-500 sm:text-xs",children:"min"})})]})]}),C.jsxs("div",{className:"bg-indigo-50 rounded-lg p-3 border border-indigo-100 flex flex-col justify-center",children:[C.jsxs("div",{className:"flex items-center justify-between mb-1",children:[C.jsxs("label",{className:"block text-xs font-bold text-indigo-700 uppercase tracking-wider flex items-center",children:[C.jsx(OG,{className:"w-3.5 h-3.5 mr-1.5"}),"AI Mode"]}),C.jsxs("div",{className:"relative inline-block w-8 align-middle select-none transition duration-200 ease-in",children:[C.jsx("input",{type:"checkbox",name:"smartAdjustment",id:"smartAdjustment",checked:t.smartAdjustment,onChange:r=>e("smartAdjustment",r.target.checked),className:"toggle-checkbox absolute block w-4 h-4 rounded-full bg-white border-4 appearance-none cursor-pointer checked:right-0 right-4 checked:border-indigo-600 border-gray-300",style:{right:t.smartAdjustment?"0":"auto",left:t.smartAdjustment?"auto":"0"}}),C.jsx("label",{htmlFor:"smartAdjustment",className:`toggle-label block overflow-hidden h-4 rounded-full cursor-pointer ${t.smartAdjustment?"bg-indigo-600":"bg-gray-300"}`})]})]}),C.jsx("p",{className:"text-[10px] text-indigo-600 leading-tight",children:"Adjusts for fatigue & traffic"})]})]});/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var E_={};E_.version="0.18.5";var m6=1252,uq=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],wP={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},bP=function(t){uq.indexOf(t)!=-1&&(m6=wP[0]=t)};function fq(){bP(1252)}var Cs=function(t){bP(t)};function SP(){Cs(1200),fq()}function JM(t){for(var e=[],r=0,n=t.length;r<n;++r)e[r]=t.charCodeAt(r);return e}function dq(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r)+(t.charCodeAt(2*r+1)<<8));return e.join("")}function g6(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r+1)+(t.charCodeAt(2*r)<<8));return e.join("")}var um=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1);return e==255&&r==254?dq(t.slice(2)):e==254&&r==255?g6(t.slice(2)):e==65279?t.slice(1):t},kx=function(e){return String.fromCharCode(e)},ZM=function(e){return String.fromCharCode(e)},Sg,Oc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Ag(t){for(var e="",r=0,n=0,i=0,a=0,s=0,o=0,l=0,c=0;c<t.length;)r=t.charCodeAt(c++),a=r>>2,n=t.charCodeAt(c++),s=(r&3)<<4|n>>4,i=t.charCodeAt(c++),o=(n&15)<<2|i>>6,l=i&63,isNaN(n)?o=l=64:isNaN(i)&&(l=64),e+=Oc.charAt(a)+Oc.charAt(s)+Oc.charAt(o)+Oc.charAt(l);return e}function ga(t){var e="",r=0,n=0,i=0,a=0,s=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)a=Oc.indexOf(t.charAt(c++)),s=Oc.indexOf(t.charAt(c++)),r=a<<2|s>>4,e+=String.fromCharCode(r),o=Oc.indexOf(t.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=Oc.indexOf(t.charAt(c++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var vt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Ll=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Xc(t){return vt?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function QM(t){return vt?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var ca=function(e){return vt?Ll(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function Nb(t){if(typeof ArrayBuffer>"u")return ca(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function su(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function hq(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}function AP(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return AP(new Uint8Array(t));for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=t[r];return e}var En=vt?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Ll(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function pq(t){for(var e=[],r=0,n=t.length+250,i=Xc(t.length+255),a=0;a<t.length;++a){var s=t.charCodeAt(a);if(s<128)i[r++]=s;else if(s<2048)i[r++]=192|s>>6&31,i[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=t.charCodeAt(++a)&1023;i[r++]=240|s>>8&7,i[r++]=128|s>>2&63,i[r++]=128|o>>6&15|(s&3)<<4,i[r++]=128|o&63}else i[r++]=224|s>>12&15,i[r++]=128|s>>6&63,i[r++]=128|s&63;r>n&&(e.push(i.slice(0,r)),r=0,i=Xc(65535),n=65530)}return e.push(i.slice(0,r)),En(e)}var wi=/\u0000/g,fm=/[\u0001-\u0006]/g;function wh(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function ks(t,e){var r=""+t;return r.length>=e?r:Rr("0",e-r.length)+r}function TP(t,e){var r=""+t;return r.length>=e?r:Rr(" ",e-r.length)+r}function C_(t,e){var r=""+t;return r.length>=e?r:r+Rr(" ",e-r.length)}function mq(t,e){var r=""+Math.round(t);return r.length>=e?r:Rr("0",e-r.length)+r}function gq(t,e){var r=""+t;return r.length>=e?r:Rr("0",e-r.length)+r}var eN=Math.pow(2,32);function Nd(t,e){if(t>eN||t<-eN)return mq(t,e);var r=Math.round(t);return gq(r,e)}function k_(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var tN=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],gA=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function vq(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Je={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},rN={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},yq={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function P_(t,e,r){for(var n=t<0?-1:1,i=t*n,a=0,s=1,o=0,l=1,c=0,u=0,f=Math.floor(i);c<e&&(f=Math.floor(i),o=f*s+a,u=f*c+l,!(i-f<5e-8));)i=1/(i-f),a=s,s=o,l=c,c=u;if(u>e&&(c>e?(u=l,o=a):(u=c,o=s)),!r)return[0,n*o,u];var d=Math.floor(n*o/u);return[d,n*o-d*u,u]}function Du(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),a=0,s=[],o={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],a=l.getDay(),n<60&&(a=(a+6)%7),r&&(a=Aq(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=a,o}var v6=new Date(1899,11,31,0,0,0),xq=v6.getTime(),_q=new Date(1900,2,1,0,0,0);function y6(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=_q&&(r+=24*60*60*1e3),(r-(xq+(t.getTimezoneOffset()-v6.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function EP(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function wq(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function bq(t){var e=t<0?12:11,r=EP(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function Sq(t){var e=EP(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function Tg(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=bq(t):e===10?r=t.toFixed(10).substr(0,12):r=Sq(t),EP(wq(r.toUpperCase()))}function Jf(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Tg(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Ka(14,y6(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function Aq(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function Tq(t,e,r,n){var i="",a=0,s=0,o=r.y,l,c=0;switch(t){case 98:o=r.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=r.m,c=e.length;break;case 3:return gA[r.m-1][1];case 5:return gA[r.m-1][0];default:return gA[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=r.d,c=e.length;break;case 3:return tN[r.q][0];default:return tN[r.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(r.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=r.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=r.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?ks(r.S,e.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,a=Math.round(s*(r.S+r.u)),a>=60*s&&(a=0),e==="s"?a===0?"0":""+a/s:(i=ks(a,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?ks(l,c):"";return u}function Mc(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var x6=/%/g;function Eq(t,e,r){var n=e.replace(x6,""),i=e.length-n.length;return pl(t,n,r*Math.pow(10,2*i))+Rr("%",i)}function Cq(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return pl(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function _6(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+_6(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),r.indexOf("e")===-1){var s=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+a)%i)+"."+u.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var w6=/# (\?+)( ?)\/( ?)(\d+)/;function kq(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),a=Math.floor(i/n),s=i-a*n,o=n;return r+(a===0?"":""+a)+" "+(s===0?Rr(" ",t[1].length+1+t[4].length):TP(s,t[1].length)+t[2]+"/"+t[3]+ks(o,t[4].length))}function Pq(t,e,r){return r+(e===0?"":""+e)+Rr(" ",t[1].length+2+t[4].length)}var b6=/^#*0*\.([0#]+)/,S6=/\).*[0#]/,A6=/\(###\) ###\\?-####/;function gi(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function nN(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function iN(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Iq(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function Oq(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Ta(t,e,r){if(t.charCodeAt(0)===40&&!e.match(S6)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ta("n",n,r):"("+Ta("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return Cq(t,e,r);if(e.indexOf("%")!==-1)return Eq(t,e,r);if(e.indexOf("E")!==-1)return _6(e,r);if(e.charCodeAt(0)===36)return"$"+Ta(t,e.substr(e.charAt(1)==" "?2:1),r);var i,a,s,o,l=Math.abs(r),c=r<0?"-":"";if(e.match(/^00+$/))return c+Nd(l,e.length);if(e.match(/^[#?]+$/))return i=Nd(r,0),i==="0"&&(i=""),i.length>e.length?i:gi(e.substr(0,e.length-i.length))+i;if(a=e.match(w6))return kq(a,l,c);if(e.match(/^#+0+$/))return c+Nd(l,e.length-e.indexOf("0"));if(a=e.match(b6))return i=nN(r,a[1].length).replace(/^([^\.]+)$/,"$1."+gi(a[1])).replace(/\.$/,"."+gi(a[1])).replace(/\.(\d*)$/,function(m,p){return"."+p+Rr("0",gi(a[1]).length-p.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return c+nN(l,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return c+Mc(Nd(l,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ta(t,e,-r):Mc(""+(Math.floor(r)+Iq(r,a[1].length)))+"."+ks(iN(r,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return Ta(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=wh(Ta(t,e.replace(/[\\-]/g,""),r)),s=0,wh(wh(e.replace(/\\/g,"")).replace(/[0#]/g,function(m){return s<i.length?i.charAt(s++):m==="0"?"0":""}));if(e.match(A6))return i=Ta(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=P_(l,Math.pow(10,s)-1,!1),i=""+c,u=pl("n",a[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+a[2]+"/"+a[3],u=C_(o[2],s),u.length<a[4].length&&(u=gi(a[4].substr(a[4].length-u.length))+u),i+=u,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=P_(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?TP(o[1],s)+a[2]+"/"+a[3]+C_(o[2],s):Rr(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=Nd(r,0),e.length<=i.length?i:gi(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var f=e.indexOf(".")-s,d=e.length-i.length-f;return gi(e.substr(0,f)+i+e.substr(e.length-d))}if(a=e.match(/^00,000\.([#0]*0)$/))return s=iN(r,a[1].length),r<0?"-"+Ta(t,e,-r):Mc(Oq(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?ks(0,3-m.length):"")+m})+"."+ks(s,a[1].length);switch(e){case"###,##0.00":return Ta(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var h=Mc(Nd(l,0));return h!=="0"?c+h:"";case"###,###.00":return Ta(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ta(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function Mq(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return pl(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function Nq(t,e,r){var n=e.replace(x6,""),i=e.length-n.length;return pl(t,n,r*Math.pow(10,2*i))+Rr("%",i)}function T6(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+T6(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!r.match(/[Ee]/)){var s=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+a)%i)+"."+u.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Hs(t,e,r){if(t.charCodeAt(0)===40&&!e.match(S6)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Hs("n",n,r):"("+Hs("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return Mq(t,e,r);if(e.indexOf("%")!==-1)return Nq(t,e,r);if(e.indexOf("E")!==-1)return T6(e,r);if(e.charCodeAt(0)===36)return"$"+Hs(t,e.substr(e.charAt(1)==" "?2:1),r);var i,a,s,o,l=Math.abs(r),c=r<0?"-":"";if(e.match(/^00+$/))return c+ks(l,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:gi(e.substr(0,e.length-i.length))+i;if(a=e.match(w6))return Pq(a,l,c);if(e.match(/^#+0+$/))return c+ks(l,e.length-e.indexOf("0"));if(a=e.match(b6))return i=(""+r).replace(/^([^\.]+)$/,"$1."+gi(a[1])).replace(/\.$/,"."+gi(a[1])),i=i.replace(/\.(\d*)$/,function(m,p){return"."+p+Rr("0",gi(a[1]).length-p.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return c+Mc(""+l);if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Hs(t,e,-r):Mc(""+r)+"."+Rr("0",a[1].length);if(a=e.match(/^#,#*,#0/))return Hs(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=wh(Hs(t,e.replace(/[\\-]/g,""),r)),s=0,wh(wh(e.replace(/\\/g,"")).replace(/[0#]/g,function(m){return s<i.length?i.charAt(s++):m==="0"?"0":""}));if(e.match(A6))return i=Hs(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=P_(l,Math.pow(10,s)-1,!1),i=""+c,u=pl("n",a[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+a[2]+"/"+a[3],u=C_(o[2],s),u.length<a[4].length&&(u=gi(a[4].substr(a[4].length-u.length))+u),i+=u,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=P_(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?TP(o[1],s)+a[2]+"/"+a[3]+C_(o[2],s):Rr(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:gi(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var f=e.indexOf(".")-s,d=e.length-i.length-f;return gi(e.substr(0,f)+i+e.substr(e.length-d))}if(a=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Hs(t,e,-r):Mc(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?ks(0,3-m.length):"")+m})+"."+ks(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var h=Mc(""+l);return h!=="0"?c+h:"";default:if(e.match(/\.[0#?]*$/))return Hs(t,e.slice(0,e.lastIndexOf(".")),r)+gi(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function pl(t,e,r){return(r|0)===r?Hs(t,e,r):Ta(t,e,r)}function Rq(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var E6=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function gp(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":k_(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(E6))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function Dq(t,e,r,n){for(var i=[],a="",s=0,o="",l="t",c,u,f,d="H";s<t.length;)switch(o=t.charAt(s)){case"G":if(!k_(t,s))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(f=t.charCodeAt(++s))!==34&&s<t.length;)a+=String.fromCharCode(f);i[i.length]={t:"t",v:a},++s;break;case"\\":var h=t.charAt(++s),m=h==="("||h===")"?h:"t";i[i.length]={t:m,v:h},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:e},++s;break;case"B":case"b":if(t.charAt(s+1)==="1"||t.charAt(s+1)==="2"){if(c==null&&(c=Du(e,r,t.charAt(s+1)==="2"),c==null))return"";i[i.length]={t:"X",v:t.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=Du(e,r),c==null))return"";for(a=o;++s<t.length&&t.charAt(s).toLowerCase()===o;)a+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=d),i[i.length]={t:o,v:a},l=o;break;case"A":case"a":case"":var p={t:o,v:o};if(c==null&&(c=Du(e,r)),t.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(p.v=c.H>=12?"P":"A"),p.t="T",d="h",s+=3):t.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(p.v=c.H>=12?"PM":"AM"),p.t="T",s+=5,d="h"):t.substr(s,5).toUpperCase()==="/"?(c!=null&&(p.v=c.H>=12?"":""),p.t="T",s+=5,d="h"):(p.t="t",++s),c==null&&p.t==="T")return"";i[i.length]=p,l=o;break;case"[":for(a=o;t.charAt(s++)!=="]"&&s<t.length;)a+=t.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(E6)){if(c==null&&(c=Du(e,r),c==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},l=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",gp(t)||(i[i.length]={t:"t",v:a}));break;case".":if(c!=null){for(a=o;++s<t.length&&(o=t.charAt(s))==="0";)a+=o;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++s<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(s))>-1;)a+=o;i[i.length]={t:"n",v:a};break;case"?":for(a=o;t.charAt(++s)===o;)a+=o;i[i.length]={t:o,v:a},l=o;break;case"*":++s,(t.charAt(s)==" "||t.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;s<t.length&&"0123456789".indexOf(t.charAt(++s))>-1;)a+=t.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:o,v:o},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++s;break}var y=0,_=0,b;for(s=i.length-1,l="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=d,l="h",y<1&&(y=1);break;case"s":(b=i[s].v.match(/\.0+$/))&&(_=Math.max(_,b[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":l=i[s].t;break;case"m":l==="s"&&(i[s].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&i[s].v.match(/[Hh]/)&&(y=1),y<2&&i[s].v.match(/[Mm]/)&&(y=2),y<3&&i[s].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var w="",A;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=Tq(i[s].t.charCodeAt(0),i[s].v,c,_),i[s].t="t";break;case"n":case"?":for(A=s+1;i[A]!=null&&((o=i[A].t)==="?"||o==="D"||(o===" "||o==="t")&&i[A+1]!=null&&(i[A+1].t==="?"||i[A+1].t==="t"&&i[A+1].v==="/")||i[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[A].v==="/"||i[A].v===" "&&i[A+1]!=null&&i[A+1].t=="?"));)i[s].v+=i[A].v,i[A]={v:"",t:";"},++A;w+=i[s].v,s=A-1;break;case"G":i[s].t="t",i[s].v=Jf(e,r);break}var S="",T,E;if(w.length>0){w.charCodeAt(0)==40?(T=e<0&&w.charCodeAt(0)===45?-e:e,E=pl("n",w,T)):(T=e<0&&n>1?-e:e,E=pl("n",w,T),T<0&&i[0]&&i[0].t=="t"&&(E=E.substr(1),i[0].v="-"+i[0].v)),A=E.length-1;var P=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){P=s;break}var k=i.length;if(P===i.length&&E.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(A>=i[s].v.length-1?(A-=i[s].v.length,i[s].v=E.substr(A+1,i[s].v.length)):A<0?i[s].v="":(i[s].v=E.substr(0,A+1),A=-1),i[s].t="t",k=s);A>=0&&k<i.length&&(i[k].v=E.substr(0,A+1)+i[k].v)}else if(P!==i.length&&E.indexOf("E")===-1){for(A=E.indexOf(".")-1,s=P;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(u=i[s].v.indexOf(".")>-1&&s===P?i[s].v.indexOf(".")-1:i[s].v.length-1,S=i[s].v.substr(u+1);u>=0;--u)A>=0&&(i[s].v.charAt(u)==="0"||i[s].v.charAt(u)==="#")&&(S=E.charAt(A--)+S);i[s].v=S,i[s].t="t",k=s}for(A>=0&&k<i.length&&(i[k].v=E.substr(0,A+1)+i[k].v),A=E.indexOf(".")+1,s=P;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==P)){for(u=i[s].v.indexOf(".")>-1&&s===P?i[s].v.indexOf(".")+1:0,S=i[s].v.substr(0,u);u<i[s].v.length;++u)A<E.length&&(S+=E.charAt(A++));i[s].v=S,i[s].t="t",k=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(T=n>1&&e<0&&s>0&&i[s-1].v==="-"?-e:e,i[s].v=pl(i[s].t,i[s].v,T),i[s].t="t");var D="";for(s=0;s!==i.length;++s)i[s]!=null&&(D+=i[s].v);return D}var aN=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function sN(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function Fq(t,e){var r=Rq(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(aN),o=r[1].match(aN);return sN(e,s)?[n,r[0]]:sN(e,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,a]}function Ka(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Je)[t],n==null&&(n=r.table&&r.table[rN[t]]||Je[rN[t]]),n==null&&(n=yq[t]||"General");break}if(k_(n,0))return Jf(e,r);e instanceof Date&&(e=y6(e,r.date1904));var i=Fq(n,e);if(k_(i[1]))return Jf(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return Dq(i[1],e,r,i[0])}function ml(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Je[r]==null){e<0&&(e=r);continue}if(Je[r]==t){e=r;break}}e<0&&(e=391)}return Je[e]=t,e}function Rb(t){for(var e=0;e!=392;++e)t[e]!==void 0&&ml(t[e],e)}function vp(){Je=vq()}var Lq={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},C6=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function $q(t){var e=typeof t=="number"?Je[t]:t;return e=e.replace(C6,"(\\d+)"),new RegExp("^"+e+"$")}function Bq(t,e,r){var n=-1,i=-1,a=-1,s=-1,o=-1,l=-1;(e.match(C6)||[]).forEach(function(f,d){var h=parseInt(r[d+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=h;break;case"d":a=h;break;case"h":s=h;break;case"s":l=h;break;case"m":s>=0?o=h:i=h;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&i==-1&&a==-1?u:c+"T"+u}var Uq=function(){var t={};t.version="1.2.0";function e(){for(var E=0,P=new Array(256),k=0;k!=256;++k)E=k,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,P[k]=E;return typeof Int32Array<"u"?new Int32Array(P):P}var r=e();function n(E){var P=0,k=0,D=0,I=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(D=0;D!=256;++D)I[D]=E[D];for(D=0;D!=256;++D)for(k=E[D],P=256+D;P<4096;P+=256)k=I[P]=k>>>8^E[k&255];var N=[];for(D=1;D!=16;++D)N[D-1]=typeof Int32Array<"u"?I.subarray(D*256,D*256+256):I.slice(D*256,D*256+256);return N}var i=n(r),a=i[0],s=i[1],o=i[2],l=i[3],c=i[4],u=i[5],f=i[6],d=i[7],h=i[8],m=i[9],p=i[10],y=i[11],_=i[12],b=i[13],w=i[14];function A(E,P){for(var k=P^-1,D=0,I=E.length;D<I;)k=k>>>8^r[(k^E.charCodeAt(D++))&255];return~k}function S(E,P){for(var k=P^-1,D=E.length-15,I=0;I<D;)k=w[E[I++]^k&255]^b[E[I++]^k>>8&255]^_[E[I++]^k>>16&255]^y[E[I++]^k>>>24]^p[E[I++]]^m[E[I++]]^h[E[I++]]^d[E[I++]]^f[E[I++]]^u[E[I++]]^c[E[I++]]^l[E[I++]]^o[E[I++]]^s[E[I++]]^a[E[I++]]^r[E[I++]];for(D+=15;I<D;)k=k>>>8^r[(k^E[I++])&255];return~k}function T(E,P){for(var k=P^-1,D=0,I=E.length,N=0,U=0;D<I;)N=E.charCodeAt(D++),N<128?k=k>>>8^r[(k^N)&255]:N<2048?(k=k>>>8^r[(k^(192|N>>6&31))&255],k=k>>>8^r[(k^(128|N&63))&255]):N>=55296&&N<57344?(N=(N&1023)+64,U=E.charCodeAt(D++)&1023,k=k>>>8^r[(k^(240|N>>8&7))&255],k=k>>>8^r[(k^(128|N>>2&63))&255],k=k>>>8^r[(k^(128|U>>6&15|(N&3)<<4))&255],k=k>>>8^r[(k^(128|U&63))&255]):(k=k>>>8^r[(k^(224|N>>12&15))&255],k=k>>>8^r[(k^(128|N>>6&63))&255],k=k>>>8^r[(k^(128|N&63))&255]);return~k}return t.table=r,t.bstr=A,t.buf=S,t.str=T,t}(),qe=function(){var e={};e.version="1.2.1";function r(F,z){for(var j=F.split("/"),H=z.split("/"),q=0,K=0,ce=Math.min(j.length,H.length);q<ce;++q){if(K=j[q].length-H[q].length)return K;if(j[q]!=H[q])return j[q]<H[q]?-1:1}return j.length-H.length}function n(F){if(F.charAt(F.length-1)=="/")return F.slice(0,-1).indexOf("/")===-1?F:n(F.slice(0,-1));var z=F.lastIndexOf("/");return z===-1?F:F.slice(0,z+1)}function i(F){if(F.charAt(F.length-1)=="/")return i(F.slice(0,-1));var z=F.lastIndexOf("/");return z===-1?F:F.slice(z+1)}function a(F,z){typeof z=="string"&&(z=new Date(z));var j=z.getHours();j=j<<6|z.getMinutes(),j=j<<5|z.getSeconds()>>>1,F.write_shift(2,j);var H=z.getFullYear()-1980;H=H<<4|z.getMonth()+1,H=H<<5|z.getDate(),F.write_shift(2,H)}function s(F){var z=F.read_shift(2)&65535,j=F.read_shift(2)&65535,H=new Date,q=j&31;j>>>=5;var K=j&15;j>>>=4,H.setMilliseconds(0),H.setFullYear(j+1980),H.setMonth(K-1),H.setDate(q);var ce=z&31;z>>>=5;var ge=z&63;return z>>>=6,H.setHours(z),H.setMinutes(ge),H.setSeconds(ce<<1),H}function o(F){Ln(F,0);for(var z={},j=0;F.l<=F.length-4;){var H=F.read_shift(2),q=F.read_shift(2),K=F.l+q,ce={};switch(H){case 21589:j=F.read_shift(1),j&1&&(ce.mtime=F.read_shift(4)),q>5&&(j&2&&(ce.atime=F.read_shift(4)),j&4&&(ce.ctime=F.read_shift(4))),ce.mtime&&(ce.mt=new Date(ce.mtime*1e3));break}F.l=K,z[H]=ce}return z}var l;function c(){return l||(l={})}function u(F,z){if(F[0]==80&&F[1]==75)return LO(F,z);if((F[0]|32)==109&&(F[1]|32)==105)return zH(F,z);if(F.length<512)throw new Error("CFB file size "+F.length+" < 512");var j=3,H=512,q=0,K=0,ce=0,ge=0,le=0,ue=[],he=F.slice(0,512);Ln(he,0);var _e=f(he);switch(j=_e[0],j){case 3:H=512;break;case 4:H=4096;break;case 0:if(_e[1]==0)return LO(F,z);default:throw new Error("Major Version: Expected 3 or 4 saw "+j)}H!==512&&(he=F.slice(0,H),Ln(he,28));var Me=F.slice(0,H);d(he,j);var $e=he.read_shift(4,"i");if(j===3&&$e!==0)throw new Error("# Directory Sectors: Expected 0 saw "+$e);he.l+=4,ce=he.read_shift(4,"i"),he.l+=4,he.chk("00100000","Mini Stream Cutoff Size: "),ge=he.read_shift(4,"i"),q=he.read_shift(4,"i"),le=he.read_shift(4,"i"),K=he.read_shift(4,"i");for(var Ae=-1,De=0;De<109&&(Ae=he.read_shift(4,"i"),!(Ae<0));++De)ue[De]=Ae;var ot=h(F,H);y(le,K,ot,H,ue);var vr=b(ot,ce,ue,H);vr[ce].name="!Directory",q>0&&ge!==U&&(vr[ge].name="!MiniFAT"),vr[ue[0]].name="!FAT",vr.fat_addrs=ue,vr.ssz=H;var yr={},Hn=[],Rp=[],Dp=[];w(ce,vr,ot,Hn,q,yr,Rp,ge),m(Rp,Dp,Hn),Hn.shift();var Fp={FileIndex:Rp,FullPaths:Dp};return z&&z.raw&&(Fp.raw={header:Me,sectors:ot}),Fp}function f(F){if(F[F.l]==80&&F[F.l+1]==75)return[0,0];F.chk(X,"Header Signature: "),F.l+=16;var z=F.read_shift(2,"u");return[F.read_shift(2,"u"),z]}function d(F,z){var j=9;switch(F.l+=2,j=F.read_shift(2)){case 9:if(z!=3)throw new Error("Sector Shift: Expected 9 saw "+j);break;case 12:if(z!=4)throw new Error("Sector Shift: Expected 12 saw "+j);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+j)}F.chk("0600","Mini Sector Shift: "),F.chk("000000000000","Reserved: ")}function h(F,z){for(var j=Math.ceil(F.length/z)-1,H=[],q=1;q<j;++q)H[q-1]=F.slice(q*z,(q+1)*z);return H[j-1]=F.slice(j*z),H}function m(F,z,j){for(var H=0,q=0,K=0,ce=0,ge=0,le=j.length,ue=[],he=[];H<le;++H)ue[H]=he[H]=H,z[H]=j[H];for(;ge<he.length;++ge)H=he[ge],q=F[H].L,K=F[H].R,ce=F[H].C,ue[H]===H&&(q!==-1&&ue[q]!==q&&(ue[H]=ue[q]),K!==-1&&ue[K]!==K&&(ue[H]=ue[K])),ce!==-1&&(ue[ce]=H),q!==-1&&H!=ue[H]&&(ue[q]=ue[H],he.lastIndexOf(q)<ge&&he.push(q)),K!==-1&&H!=ue[H]&&(ue[K]=ue[H],he.lastIndexOf(K)<ge&&he.push(K));for(H=1;H<le;++H)ue[H]===H&&(K!==-1&&ue[K]!==K?ue[H]=ue[K]:q!==-1&&ue[q]!==q&&(ue[H]=ue[q]));for(H=1;H<le;++H)if(F[H].type!==0){if(ge=H,ge!=ue[ge])do ge=ue[ge],z[H]=z[ge]+"/"+z[H];while(ge!==0&&ue[ge]!==-1&&ge!=ue[ge]);ue[H]=-1}for(z[0]+="/",H=1;H<le;++H)F[H].type!==2&&(z[H]+="/")}function p(F,z,j){for(var H=F.start,q=F.size,K=[],ce=H;j&&q>0&&ce>=0;)K.push(z.slice(ce*N,ce*N+N)),q-=N,ce=Pu(j,ce*4);return K.length===0?pe(0):En(K).slice(0,F.size)}function y(F,z,j,H,q){var K=U;if(F===U){if(z!==0)throw new Error("DIFAT chain shorter than expected")}else if(F!==-1){var ce=j[F],ge=(H>>>2)-1;if(!ce)return;for(var le=0;le<ge&&(K=Pu(ce,le*4))!==U;++le)q.push(K);y(Pu(ce,H-4),z-1,j,H,q)}}function _(F,z,j,H,q){var K=[],ce=[];q||(q=[]);var ge=H-1,le=0,ue=0;for(le=z;le>=0;){q[le]=!0,K[K.length]=le,ce.push(F[le]);var he=j[Math.floor(le*4/H)];if(ue=le*4&ge,H<4+ue)throw new Error("FAT boundary crossed: "+le+" 4 "+H);if(!F[he])break;le=Pu(F[he],ue)}return{nodes:K,data:yN([ce])}}function b(F,z,j,H){var q=F.length,K=[],ce=[],ge=[],le=[],ue=H-1,he=0,_e=0,Me=0,$e=0;for(he=0;he<q;++he)if(ge=[],Me=he+z,Me>=q&&(Me-=q),!ce[Me]){le=[];var Ae=[];for(_e=Me;_e>=0;){Ae[_e]=!0,ce[_e]=!0,ge[ge.length]=_e,le.push(F[_e]);var De=j[Math.floor(_e*4/H)];if($e=_e*4&ue,H<4+$e)throw new Error("FAT boundary crossed: "+_e+" 4 "+H);if(!F[De]||(_e=Pu(F[De],$e),Ae[_e]))break}K[Me]={nodes:ge,data:yN([le])}}return K}function w(F,z,j,H,q,K,ce,ge){for(var le=0,ue=H.length?2:0,he=z[F].data,_e=0,Me=0,$e;_e<he.length;_e+=128){var Ae=he.slice(_e,_e+128);Ln(Ae,64),Me=Ae.read_shift(2),$e=NP(Ae,0,Me-ue),H.push($e);var De={name:$e,type:Ae.read_shift(1),color:Ae.read_shift(1),L:Ae.read_shift(4,"i"),R:Ae.read_shift(4,"i"),C:Ae.read_shift(4,"i"),clsid:Ae.read_shift(16),state:Ae.read_shift(4,"i"),start:0,size:0},ot=Ae.read_shift(2)+Ae.read_shift(2)+Ae.read_shift(2)+Ae.read_shift(2);ot!==0&&(De.ct=A(Ae,Ae.l-8));var vr=Ae.read_shift(2)+Ae.read_shift(2)+Ae.read_shift(2)+Ae.read_shift(2);vr!==0&&(De.mt=A(Ae,Ae.l-8)),De.start=Ae.read_shift(4,"i"),De.size=Ae.read_shift(4,"i"),De.size<0&&De.start<0&&(De.size=De.type=0,De.start=U,De.name=""),De.type===5?(le=De.start,q>0&&le!==U&&(z[le].name="!StreamData")):De.size>=4096?(De.storage="fat",z[De.start]===void 0&&(z[De.start]=_(j,De.start,z.fat_addrs,z.ssz)),z[De.start].name=De.name,De.content=z[De.start].data.slice(0,De.size)):(De.storage="minifat",De.size<0?De.size=0:le!==U&&De.start!==U&&z[le]&&(De.content=p(De,z[le].data,(z[ge]||{}).data))),De.content&&Ln(De.content,0),K[$e]=De,ce.push(De)}}function A(F,z){return new Date((oa(F,z+4)/1e7*Math.pow(2,32)+oa(F,z)/1e7-11644473600)*1e3)}function S(F,z){return c(),u(l.readFileSync(F),z)}function T(F,z){var j=z&&z.type;switch(j||vt&&Buffer.isBuffer(F)&&(j="buffer"),j||"base64"){case"file":return S(F,z);case"base64":return u(ca(ga(F)),z);case"binary":return u(ca(F),z)}return u(F,z)}function E(F,z){var j=z||{},H=j.root||"Root Entry";if(F.FullPaths||(F.FullPaths=[]),F.FileIndex||(F.FileIndex=[]),F.FullPaths.length!==F.FileIndex.length)throw new Error("inconsistent CFB structure");F.FullPaths.length===0&&(F.FullPaths[0]=H+"/",F.FileIndex[0]={name:H,type:5}),j.CLSID&&(F.FileIndex[0].clsid=j.CLSID),P(F)}function P(F){var z="Sh33tJ5";if(!qe.find(F,"/"+z)){var j=pe(4);j[0]=55,j[1]=j[3]=50,j[2]=54,F.FileIndex.push({name:z,type:2,content:j,size:4,L:69,R:69,C:69}),F.FullPaths.push(F.FullPaths[0]+z),k(F)}}function k(F,z){E(F);for(var j=!1,H=!1,q=F.FullPaths.length-1;q>=0;--q){var K=F.FileIndex[q];switch(K.type){case 0:H?j=!0:(F.FileIndex.pop(),F.FullPaths.pop());break;case 1:case 2:case 5:H=!0,isNaN(K.R*K.L*K.C)&&(j=!0),K.R>-1&&K.L>-1&&K.R==K.L&&(j=!0);break;default:j=!0;break}}if(!(!j&&!z)){var ce=new Date(1987,1,19),ge=0,le=Object.create?Object.create(null):{},ue=[];for(q=0;q<F.FullPaths.length;++q)le[F.FullPaths[q]]=!0,F.FileIndex[q].type!==0&&ue.push([F.FullPaths[q],F.FileIndex[q]]);for(q=0;q<ue.length;++q){var he=n(ue[q][0]);H=le[he],H||(ue.push([he,{name:i(he).replace("/",""),type:1,clsid:Q,ct:ce,mt:ce,content:null}]),le[he]=!0)}for(ue.sort(function($e,Ae){return r($e[0],Ae[0])}),F.FullPaths=[],F.FileIndex=[],q=0;q<ue.length;++q)F.FullPaths[q]=ue[q][0],F.FileIndex[q]=ue[q][1];for(q=0;q<ue.length;++q){var _e=F.FileIndex[q],Me=F.FullPaths[q];if(_e.name=i(Me).replace("/",""),_e.L=_e.R=_e.C=-(_e.color=1),_e.size=_e.content?_e.content.length:0,_e.start=0,_e.clsid=_e.clsid||Q,q===0)_e.C=ue.length>1?1:-1,_e.size=0,_e.type=5;else if(Me.slice(-1)=="/"){for(ge=q+1;ge<ue.length&&n(F.FullPaths[ge])!=Me;++ge);for(_e.C=ge>=ue.length?-1:ge,ge=q+1;ge<ue.length&&n(F.FullPaths[ge])!=n(Me);++ge);_e.R=ge>=ue.length?-1:ge,_e.type=1}else n(F.FullPaths[q+1]||"")==n(Me)&&(_e.R=q+1),_e.type=2}}}function D(F,z){var j=z||{};if(j.fileType=="mad")return GH(F,j);switch(k(F),j.fileType){case"zip":return BH(F,j)}var H=function($e){for(var Ae=0,De=0,ot=0;ot<$e.FileIndex.length;++ot){var vr=$e.FileIndex[ot];if(vr.content){var yr=vr.content.length;yr>0&&(yr<4096?Ae+=yr+63>>6:De+=yr+511>>9)}}for(var Hn=$e.FullPaths.length+3>>2,Rp=Ae+7>>3,Dp=Ae+127>>7,Fp=Rp+De+Hn+Dp,vu=Fp+127>>7,VS=vu<=109?0:Math.ceil((vu-109)/127);Fp+vu+VS+127>>7>vu;)VS=++vu<=109?0:Math.ceil((vu-109)/127);var Co=[1,VS,vu,Dp,Hn,De,Ae,0];return $e.FileIndex[0].size=Ae<<6,Co[7]=($e.FileIndex[0].start=Co[0]+Co[1]+Co[2]+Co[3]+Co[4]+Co[5])+(Co[6]+7>>3),Co}(F),q=pe(H[7]<<9),K=0,ce=0;{for(K=0;K<8;++K)q.write_shift(1,G[K]);for(K=0;K<8;++K)q.write_shift(2,0);for(q.write_shift(2,62),q.write_shift(2,3),q.write_shift(2,65534),q.write_shift(2,9),q.write_shift(2,6),K=0;K<3;++K)q.write_shift(2,0);for(q.write_shift(4,0),q.write_shift(4,H[2]),q.write_shift(4,H[0]+H[1]+H[2]+H[3]-1),q.write_shift(4,0),q.write_shift(4,4096),q.write_shift(4,H[3]?H[0]+H[1]+H[2]-1:U),q.write_shift(4,H[3]),q.write_shift(-4,H[1]?H[0]-1:U),q.write_shift(4,H[1]),K=0;K<109;++K)q.write_shift(-4,K<H[2]?H[1]+K:-1)}if(H[1])for(ce=0;ce<H[1];++ce){for(;K<236+ce*127;++K)q.write_shift(-4,K<H[2]?H[1]+K:-1);q.write_shift(-4,ce===H[1]-1?U:ce+1)}var ge=function($e){for(ce+=$e;K<ce-1;++K)q.write_shift(-4,K+1);$e&&(++K,q.write_shift(-4,U))};for(ce=K=0,ce+=H[1];K<ce;++K)q.write_shift(-4,J.DIFSECT);for(ce+=H[2];K<ce;++K)q.write_shift(-4,J.FATSECT);ge(H[3]),ge(H[4]);for(var le=0,ue=0,he=F.FileIndex[0];le<F.FileIndex.length;++le)he=F.FileIndex[le],he.content&&(ue=he.content.length,!(ue<4096)&&(he.start=ce,ge(ue+511>>9)));for(ge(H[6]+7>>3);q.l&511;)q.write_shift(-4,J.ENDOFCHAIN);for(ce=K=0,le=0;le<F.FileIndex.length;++le)he=F.FileIndex[le],he.content&&(ue=he.content.length,!(!ue||ue>=4096)&&(he.start=ce,ge(ue+63>>6)));for(;q.l&511;)q.write_shift(-4,J.ENDOFCHAIN);for(K=0;K<H[4]<<2;++K){var _e=F.FullPaths[K];if(!_e||_e.length===0){for(le=0;le<17;++le)q.write_shift(4,0);for(le=0;le<3;++le)q.write_shift(4,-1);for(le=0;le<12;++le)q.write_shift(4,0);continue}he=F.FileIndex[K],K===0&&(he.start=he.size?he.start-1:U);var Me=K===0&&j.root||he.name;if(ue=2*(Me.length+1),q.write_shift(64,Me,"utf16le"),q.write_shift(2,ue),q.write_shift(1,he.type),q.write_shift(1,he.color),q.write_shift(-4,he.L),q.write_shift(-4,he.R),q.write_shift(-4,he.C),he.clsid)q.write_shift(16,he.clsid,"hex");else for(le=0;le<4;++le)q.write_shift(4,0);q.write_shift(4,he.state||0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,he.start),q.write_shift(4,he.size),q.write_shift(4,0)}for(K=1;K<F.FileIndex.length;++K)if(he=F.FileIndex[K],he.size>=4096)if(q.l=he.start+1<<9,vt&&Buffer.isBuffer(he.content))he.content.copy(q,q.l,0,he.size),q.l+=he.size+511&-512;else{for(le=0;le<he.size;++le)q.write_shift(1,he.content[le]);for(;le&511;++le)q.write_shift(1,0)}for(K=1;K<F.FileIndex.length;++K)if(he=F.FileIndex[K],he.size>0&&he.size<4096)if(vt&&Buffer.isBuffer(he.content))he.content.copy(q,q.l,0,he.size),q.l+=he.size+63&-64;else{for(le=0;le<he.size;++le)q.write_shift(1,he.content[le]);for(;le&63;++le)q.write_shift(1,0)}if(vt)q.l=q.length;else for(;q.l<q.length;)q.write_shift(1,0);return q}function I(F,z){var j=F.FullPaths.map(function(le){return le.toUpperCase()}),H=j.map(function(le){var ue=le.split("/");return ue[ue.length-(le.slice(-1)=="/"?2:1)]}),q=!1;z.charCodeAt(0)===47?(q=!0,z=j[0].slice(0,-1)+z):q=z.indexOf("/")!==-1;var K=z.toUpperCase(),ce=q===!0?j.indexOf(K):H.indexOf(K);if(ce!==-1)return F.FileIndex[ce];var ge=!K.match(fm);for(K=K.replace(wi,""),ge&&(K=K.replace(fm,"!")),ce=0;ce<j.length;++ce)if((ge?j[ce].replace(fm,"!"):j[ce]).replace(wi,"")==K||(ge?H[ce].replace(fm,"!"):H[ce]).replace(wi,"")==K)return F.FileIndex[ce];return null}var N=64,U=-2,X="d0cf11e0a1b11ae1",G=[208,207,17,224,161,177,26,225],Q="00000000000000000000000000000000",J={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:X,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Q,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ee(F,z,j){c();var H=D(F,j);l.writeFileSync(z,H)}function V(F){for(var z=new Array(F.length),j=0;j<F.length;++j)z[j]=String.fromCharCode(F[j]);return z.join("")}function ne(F,z){var j=D(F,z);switch(z&&z.type||"buffer"){case"file":return c(),l.writeFileSync(z.filename,j),j;case"binary":return typeof j=="string"?j:V(j);case"base64":return Ag(typeof j=="string"?j:V(j));case"buffer":if(vt)return Buffer.isBuffer(j)?j:Ll(j);case"array":return typeof j=="string"?ca(j):j}return j}var se;function R(F){try{var z=F.InflateRaw,j=new z;if(j._processChunk(new Uint8Array([3,0]),j._finishFlushFlag),j.bytesRead)se=F;else throw new Error("zlib does not expose bytesRead")}catch(H){console.error("cannot use native zlib: "+(H.message||H))}}function W(F,z){if(!se)return DO(F,z);var j=se.InflateRaw,H=new j,q=H._processChunk(F.slice(F.l),H._finishFlushFlag);return F.l+=H.bytesRead,q}function Y(F){return se?se.deflateRawSync(F):ke(F)}var Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],de=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ve(F){var z=(F<<1|F<<11)&139536|(F<<5|F<<15)&558144;return(z>>16|z>>8|z)&255}for(var te=typeof Uint8Array<"u",fe=te?new Uint8Array(256):[],be=0;be<256;++be)fe[be]=ve(be);function L(F,z){var j=fe[F&255];return z<=8?j>>>8-z:(j=j<<8|fe[F>>8&255],z<=16?j>>>16-z:(j=j<<8|fe[F>>16&255],j>>>24-z))}function We(F,z){var j=z&7,H=z>>>3;return(F[H]|(j<=6?0:F[H+1]<<8))>>>j&3}function Ie(F,z){var j=z&7,H=z>>>3;return(F[H]|(j<=5?0:F[H+1]<<8))>>>j&7}function Ge(F,z){var j=z&7,H=z>>>3;return(F[H]|(j<=4?0:F[H+1]<<8))>>>j&15}function je(F,z){var j=z&7,H=z>>>3;return(F[H]|(j<=3?0:F[H+1]<<8))>>>j&31}function xe(F,z){var j=z&7,H=z>>>3;return(F[H]|(j<=1?0:F[H+1]<<8))>>>j&127}function bt(F,z,j){var H=z&7,q=z>>>3,K=(1<<j)-1,ce=F[q]>>>H;return j<8-H||(ce|=F[q+1]<<8-H,j<16-H)||(ce|=F[q+2]<<16-H,j<24-H)||(ce|=F[q+3]<<24-H),ce&K}function Zt(F,z,j){var H=z&7,q=z>>>3;return H<=5?F[q]|=(j&7)<<H:(F[q]|=j<<H&255,F[q+1]=(j&7)>>8-H),z+3}function Pr(F,z,j){var H=z&7,q=z>>>3;return j=(j&1)<<H,F[q]|=j,z+1}function gr(F,z,j){var H=z&7,q=z>>>3;return j<<=H,F[q]|=j&255,j>>>=8,F[q+1]=j,z+8}function Ir(F,z,j){var H=z&7,q=z>>>3;return j<<=H,F[q]|=j&255,j>>>=8,F[q+1]=j&255,F[q+2]=j>>>8,z+16}function tn(F,z){var j=F.length,H=2*j>z?2*j:z+5,q=0;if(j>=z)return F;if(vt){var K=QM(H);if(F.copy)F.copy(K);else for(;q<F.length;++q)K[q]=F[q];return K}else if(te){var ce=new Uint8Array(H);if(ce.set)ce.set(F);else for(;q<j;++q)ce[q]=F[q];return ce}return F.length=H,F}function dr(F){for(var z=new Array(F),j=0;j<F;++j)z[j]=0;return z}function Or(F,z,j){var H=1,q=0,K=0,ce=0,ge=0,le=F.length,ue=te?new Uint16Array(32):dr(32);for(K=0;K<32;++K)ue[K]=0;for(K=le;K<j;++K)F[K]=0;le=F.length;var he=te?new Uint16Array(le):dr(le);for(K=0;K<le;++K)ue[q=F[K]]++,H<q&&(H=q),he[K]=0;for(ue[0]=0,K=1;K<=H;++K)ue[K+16]=ge=ge+ue[K-1]<<1;for(K=0;K<le;++K)ge=F[K],ge!=0&&(he[K]=ue[ge+16]++);var _e=0;for(K=0;K<le;++K)if(_e=F[K],_e!=0)for(ge=L(he[K],H)>>H-_e,ce=(1<<H+4-_e)-1;ce>=0;--ce)z[ge|ce<<_e]=_e&15|K<<4;return H}var ie=te?new Uint16Array(512):dr(512),Te=te?new Uint16Array(32):dr(32);if(!te){for(var Re=0;Re<512;++Re)ie[Re]=0;for(Re=0;Re<32;++Re)Te[Re]=0}(function(){for(var F=[],z=0;z<32;z++)F.push(5);Or(F,Te,32);var j=[];for(z=0;z<=143;z++)j.push(8);for(;z<=255;z++)j.push(9);for(;z<=279;z++)j.push(7);for(;z<=287;z++)j.push(8);Or(j,ie,288)})();var et=function(){for(var z=te?new Uint8Array(32768):[],j=0,H=0;j<de.length-1;++j)for(;H<de[j+1];++H)z[H]=j;for(;H<32768;++H)z[H]=29;var q=te?new Uint8Array(259):[];for(j=0,H=0;j<oe.length-1;++j)for(;H<oe[j+1];++H)q[H]=j;function K(ge,le){for(var ue=0;ue<ge.length;){var he=Math.min(65535,ge.length-ue),_e=ue+he==ge.length;for(le.write_shift(1,+_e),le.write_shift(2,he),le.write_shift(2,~he&65535);he-- >0;)le[le.l++]=ge[ue++]}return le.l}function ce(ge,le){for(var ue=0,he=0,_e=te?new Uint16Array(32768):[];he<ge.length;){var Me=Math.min(65535,ge.length-he);if(Me<10){for(ue=Zt(le,ue,+(he+Me==ge.length)),ue&7&&(ue+=8-(ue&7)),le.l=ue/8|0,le.write_shift(2,Me),le.write_shift(2,~Me&65535);Me-- >0;)le[le.l++]=ge[he++];ue=le.l*8;continue}ue=Zt(le,ue,+(he+Me==ge.length)+2);for(var $e=0;Me-- >0;){var Ae=ge[he];$e=($e<<5^Ae)&32767;var De=-1,ot=0;if((De=_e[$e])&&(De|=he&-32768,De>he&&(De-=32768),De<he))for(;ge[De+ot]==ge[he+ot]&&ot<250;)++ot;if(ot>2){Ae=q[ot],Ae<=22?ue=gr(le,ue,fe[Ae+1]>>1)-1:(gr(le,ue,3),ue+=5,gr(le,ue,fe[Ae-23]>>5),ue+=3);var vr=Ae<8?0:Ae-4>>2;vr>0&&(Ir(le,ue,ot-oe[Ae]),ue+=vr),Ae=z[he-De],ue=gr(le,ue,fe[Ae]>>3),ue-=3;var yr=Ae<4?0:Ae-2>>1;yr>0&&(Ir(le,ue,he-De-de[Ae]),ue+=yr);for(var Hn=0;Hn<ot;++Hn)_e[$e]=he&32767,$e=($e<<5^ge[he])&32767,++he;Me-=ot-1}else Ae<=143?Ae=Ae+48:ue=Pr(le,ue,1),ue=gr(le,ue,fe[Ae]),_e[$e]=he&32767,++he}ue=gr(le,ue,0)-1}return le.l=(ue+7)/8|0,le.l}return function(le,ue){return le.length<8?K(le,ue):ce(le,ue)}}();function ke(F){var z=pe(50+Math.floor(F.length*1.1)),j=et(F,z);return z.slice(0,j)}var ut=te?new Uint16Array(32768):dr(32768),Ot=te?new Uint16Array(32768):dr(32768),rr=te?new Uint16Array(128):dr(128),Bs=1,lx=1;function FH(F,z){var j=je(F,z)+257;z+=5;var H=je(F,z)+1;z+=5;var q=Ge(F,z)+4;z+=4;for(var K=0,ce=te?new Uint8Array(19):dr(19),ge=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],le=1,ue=te?new Uint8Array(8):dr(8),he=te?new Uint8Array(8):dr(8),_e=ce.length,Me=0;Me<q;++Me)ce[Z[Me]]=K=Ie(F,z),le<K&&(le=K),ue[K]++,z+=3;var $e=0;for(ue[0]=0,Me=1;Me<=le;++Me)he[Me]=$e=$e+ue[Me-1]<<1;for(Me=0;Me<_e;++Me)($e=ce[Me])!=0&&(ge[Me]=he[$e]++);var Ae=0;for(Me=0;Me<_e;++Me)if(Ae=ce[Me],Ae!=0){$e=fe[ge[Me]]>>8-Ae;for(var De=(1<<7-Ae)-1;De>=0;--De)rr[$e|De<<Ae]=Ae&7|Me<<3}var ot=[];for(le=1;ot.length<j+H;)switch($e=rr[xe(F,z)],z+=$e&7,$e>>>=3){case 16:for(K=3+We(F,z),z+=2,$e=ot[ot.length-1];K-- >0;)ot.push($e);break;case 17:for(K=3+Ie(F,z),z+=3;K-- >0;)ot.push(0);break;case 18:for(K=11+xe(F,z),z+=7;K-- >0;)ot.push(0);break;default:ot.push($e),le<$e&&(le=$e);break}var vr=ot.slice(0,j),yr=ot.slice(j);for(Me=j;Me<286;++Me)vr[Me]=0;for(Me=H;Me<30;++Me)yr[Me]=0;return Bs=Or(vr,ut,286),lx=Or(yr,Ot,30),z}function LH(F,z){if(F[0]==3&&!(F[1]&3))return[Xc(z),2];for(var j=0,H=0,q=QM(z||1<<18),K=0,ce=q.length>>>0,ge=0,le=0;!(H&1);){if(H=Ie(F,j),j+=3,H>>>1)H>>1==1?(ge=9,le=5):(j=FH(F,j),ge=Bs,le=lx);else{j&7&&(j+=8-(j&7));var ue=F[j>>>3]|F[(j>>>3)+1]<<8;if(j+=32,ue>0)for(!z&&ce<K+ue&&(q=tn(q,K+ue),ce=q.length);ue-- >0;)q[K++]=F[j>>>3],j+=8;continue}for(;;){!z&&ce<K+32767&&(q=tn(q,K+32767),ce=q.length);var he=bt(F,j,ge),_e=H>>>1==1?ie[he]:ut[he];if(j+=_e&15,_e>>>=4,!(_e>>>8&255))q[K++]=_e;else{if(_e==256)break;_e-=257;var Me=_e<8?0:_e-4>>2;Me>5&&(Me=0);var $e=K+oe[_e];Me>0&&($e+=bt(F,j,Me),j+=Me),he=bt(F,j,le),_e=H>>>1==1?Te[he]:Ot[he],j+=_e&15,_e>>>=4;var Ae=_e<4?0:_e-2>>1,De=de[_e];for(Ae>0&&(De+=bt(F,j,Ae),j+=Ae),!z&&ce<$e&&(q=tn(q,$e+100),ce=q.length);K<$e;)q[K]=q[K-De],++K}}}return z?[q,j+7>>>3]:[q.slice(0,K),j+7>>>3]}function DO(F,z){var j=F.slice(F.l||0),H=LH(j,z);return F.l+=H[1],H[0]}function FO(F,z){if(F)typeof console<"u"&&console.error(z);else throw new Error(z)}function LO(F,z){var j=F;Ln(j,0);var H=[],q=[],K={FileIndex:H,FullPaths:q};E(K,{root:z.root});for(var ce=j.length-4;(j[ce]!=80||j[ce+1]!=75||j[ce+2]!=5||j[ce+3]!=6)&&ce>=0;)--ce;j.l=ce+4,j.l+=4;var ge=j.read_shift(2);j.l+=6;var le=j.read_shift(4);for(j.l=le,ce=0;ce<ge;++ce){j.l+=20;var ue=j.read_shift(4),he=j.read_shift(4),_e=j.read_shift(2),Me=j.read_shift(2),$e=j.read_shift(2);j.l+=8;var Ae=j.read_shift(4),De=o(j.slice(j.l+_e,j.l+_e+Me));j.l+=_e+Me+$e;var ot=j.l;j.l=Ae+4,$H(j,ue,he,K,De),j.l=ot}return K}function $H(F,z,j,H,q){F.l+=2;var K=F.read_shift(2),ce=F.read_shift(2),ge=s(F);if(K&8257)throw new Error("Unsupported ZIP encryption");for(var le=F.read_shift(4),ue=F.read_shift(4),he=F.read_shift(4),_e=F.read_shift(2),Me=F.read_shift(2),$e="",Ae=0;Ae<_e;++Ae)$e+=String.fromCharCode(F[F.l++]);if(Me){var De=o(F.slice(F.l,F.l+Me));(De[21589]||{}).mt&&(ge=De[21589].mt),((q||{})[21589]||{}).mt&&(ge=q[21589].mt)}F.l+=Me;var ot=F.slice(F.l,F.l+ue);switch(ce){case 8:ot=W(F,he);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ce)}var vr=!1;K&8&&(le=F.read_shift(4),le==134695760&&(le=F.read_shift(4),vr=!0),ue=F.read_shift(4),he=F.read_shift(4)),ue!=z&&FO(vr,"Bad compressed size: "+z+" != "+ue),he!=j&&FO(vr,"Bad uncompressed size: "+j+" != "+he),jS(H,$e,ot,{unsafe:!0,mt:ge})}function BH(F,z){var j=z||{},H=[],q=[],K=pe(1),ce=j.compression?8:0,ge=0,le=0,ue=0,he=0,_e=0,Me=F.FullPaths[0],$e=Me,Ae=F.FileIndex[0],De=[],ot=0;for(le=1;le<F.FullPaths.length;++le)if($e=F.FullPaths[le].slice(Me.length),Ae=F.FileIndex[le],!(!Ae.size||!Ae.content||$e=="Sh33tJ5")){var vr=he,yr=pe($e.length);for(ue=0;ue<$e.length;++ue)yr.write_shift(1,$e.charCodeAt(ue)&127);yr=yr.slice(0,yr.l),De[_e]=Uq.buf(Ae.content,0);var Hn=Ae.content;ce==8&&(Hn=Y(Hn)),K=pe(30),K.write_shift(4,67324752),K.write_shift(2,20),K.write_shift(2,ge),K.write_shift(2,ce),Ae.mt?a(K,Ae.mt):K.write_shift(4,0),K.write_shift(-4,De[_e]),K.write_shift(4,Hn.length),K.write_shift(4,Ae.content.length),K.write_shift(2,yr.length),K.write_shift(2,0),he+=K.length,H.push(K),he+=yr.length,H.push(yr),he+=Hn.length,H.push(Hn),K=pe(46),K.write_shift(4,33639248),K.write_shift(2,0),K.write_shift(2,20),K.write_shift(2,ge),K.write_shift(2,ce),K.write_shift(4,0),K.write_shift(-4,De[_e]),K.write_shift(4,Hn.length),K.write_shift(4,Ae.content.length),K.write_shift(2,yr.length),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(4,0),K.write_shift(4,vr),ot+=K.l,q.push(K),ot+=yr.length,q.push(yr),++_e}return K=pe(22),K.write_shift(4,101010256),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,_e),K.write_shift(2,_e),K.write_shift(4,ot),K.write_shift(4,he),K.write_shift(2,0),En([En(H),En(q),K])}var cx={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function UH(F,z){if(F.ctype)return F.ctype;var j=F.name||"",H=j.match(/\.([^\.]+)$/);return H&&cx[H[1]]||z&&(H=(j=z).match(/[\.\\]([^\.\\])+$/),H&&cx[H[1]])?cx[H[1]]:"application/octet-stream"}function jH(F){for(var z=Ag(F),j=[],H=0;H<z.length;H+=76)j.push(z.slice(H,H+76));return j.join(`\r
`)+`\r
`}function VH(F){var z=F.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ue){var he=ue.charCodeAt(0).toString(16).toUpperCase();return"="+(he.length==1?"0"+he:he)});z=z.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),z.charAt(0)==`
`&&(z="=0D"+z.slice(1)),z=z.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var j=[],H=z.split(`\r
`),q=0;q<H.length;++q){var K=H[q];if(K.length==0){j.push("");continue}for(var ce=0;ce<K.length;){var ge=76,le=K.slice(ce,ce+ge);le.charAt(ge-1)=="="?ge--:le.charAt(ge-2)=="="?ge-=2:le.charAt(ge-3)=="="&&(ge-=3),le=K.slice(ce,ce+ge),ce+=ge,ce<K.length&&(le+="="),j.push(le)}}return j.join(`\r
`)}function HH(F){for(var z=[],j=0;j<F.length;++j){for(var H=F[j];j<=F.length&&H.charAt(H.length-1)=="=";)H=H.slice(0,H.length-1)+F[++j];z.push(H)}for(var q=0;q<z.length;++q)z[q]=z[q].replace(/[=][0-9A-Fa-f]{2}/g,function(K){return String.fromCharCode(parseInt(K.slice(1),16))});return ca(z.join(`\r
`))}function WH(F,z,j){for(var H="",q="",K="",ce,ge=0;ge<10;++ge){var le=z[ge];if(!le||le.match(/^\s*$/))break;var ue=le.match(/^(.*?):\s*([^\s].*)$/);if(ue)switch(ue[1].toLowerCase()){case"content-location":H=ue[2].trim();break;case"content-type":K=ue[2].trim();break;case"content-transfer-encoding":q=ue[2].trim();break}}switch(++ge,q.toLowerCase()){case"base64":ce=ca(ga(z.slice(ge).join("")));break;case"quoted-printable":ce=HH(z.slice(ge));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+q)}var he=jS(F,H.slice(j.length),ce,{unsafe:!0});K&&(he.ctype=K)}function zH(F,z){if(V(F.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var j=z&&z.root||"",H=(vt&&Buffer.isBuffer(F)?F.toString("binary"):V(F)).split(`\r
`),q=0,K="";for(q=0;q<H.length;++q)if(K=H[q],!!/^Content-Location:/i.test(K)&&(K=K.slice(K.indexOf("file")),j||(j=K.slice(0,K.lastIndexOf("/")+1)),K.slice(0,j.length)!=j))for(;j.length>0&&(j=j.slice(0,j.length-1),j=j.slice(0,j.lastIndexOf("/")+1),K.slice(0,j.length)!=j););var ce=(H[1]||"").match(/boundary="(.*?)"/);if(!ce)throw new Error("MAD cannot find boundary");var ge="--"+(ce[1]||""),le=[],ue=[],he={FileIndex:le,FullPaths:ue};E(he);var _e,Me=0;for(q=0;q<H.length;++q){var $e=H[q];$e!==ge&&$e!==ge+"--"||(Me++&&WH(he,H.slice(_e,q),j),_e=q)}return he}function GH(F,z){var j=z||{},H=j.boundary||"SheetJS";H="------="+H;for(var q=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+H.slice(2)+'"',"","",""],K=F.FullPaths[0],ce=K,ge=F.FileIndex[0],le=1;le<F.FullPaths.length;++le)if(ce=F.FullPaths[le].slice(K.length),ge=F.FileIndex[le],!(!ge.size||!ge.content||ce=="Sh33tJ5")){ce=ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ot){return"_x"+ot.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ot){return"_u"+ot.charCodeAt(0).toString(16)+"_"});for(var ue=ge.content,he=vt&&Buffer.isBuffer(ue)?ue.toString("binary"):V(ue),_e=0,Me=Math.min(1024,he.length),$e=0,Ae=0;Ae<=Me;++Ae)($e=he.charCodeAt(Ae))>=32&&$e<128&&++_e;var De=_e>=Me*4/5;q.push(H),q.push("Content-Location: "+(j.root||"file:///C:/SheetJS/")+ce),q.push("Content-Transfer-Encoding: "+(De?"quoted-printable":"base64")),q.push("Content-Type: "+UH(ge,ce)),q.push(""),q.push(De?VH(he):jH(he))}return q.push(H+`--\r
`),q.join(`\r
`)}function qH(F){var z={};return E(z,F),z}function jS(F,z,j,H){var q=H&&H.unsafe;q||E(F);var K=!q&&qe.find(F,z);if(!K){var ce=F.FullPaths[0];z.slice(0,ce.length)==ce?ce=z:(ce.slice(-1)!="/"&&(ce+="/"),ce=(ce+z).replace("//","/")),K={name:i(z),type:2},F.FileIndex.push(K),F.FullPaths.push(ce),q||qe.utils.cfb_gc(F)}return K.content=j,K.size=j?j.length:0,H&&(H.CLSID&&(K.clsid=H.CLSID),H.mt&&(K.mt=H.mt),H.ct&&(K.ct=H.ct)),K}function XH(F,z){E(F);var j=qe.find(F,z);if(j){for(var H=0;H<F.FileIndex.length;++H)if(F.FileIndex[H]==j)return F.FileIndex.splice(H,1),F.FullPaths.splice(H,1),!0}return!1}function KH(F,z,j){E(F);var H=qe.find(F,z);if(H){for(var q=0;q<F.FileIndex.length;++q)if(F.FileIndex[q]==H)return F.FileIndex[q].name=i(j),F.FullPaths[q]=j,!0}return!1}function YH(F){k(F,!0)}return e.find=I,e.read=T,e.parse=u,e.write=ne,e.writeFile=ee,e.utils={cfb_new:qH,cfb_add:jS,cfb_del:XH,cfb_mov:KH,cfb_gc:YH,ReadShift:jm,CheckField:K6,prep_blob:Ln,bconcat:En,use_zlib:R,_deflateRaw:ke,_inflateRaw:DO,consts:J},e}();function jq(t){return typeof t=="string"?Nb(t):Array.isArray(t)?hq(t):t}function jy(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=Nb(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?ho(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var i=new Blob([jq(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:t,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=t,s.href=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=su(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function Vq(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var r=e.read();return e.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+t)}function Lr(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function oN(t,e){for(var r=[],n=Lr(t),i=0;i!==n.length;++i)r[t[n[i]][e]]==null&&(r[t[n[i]][e]]=n[i]);return r}function Db(t){for(var e=[],r=Lr(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function Fb(t){for(var e=[],r=Lr(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function Hq(t){for(var e=[],r=Lr(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var I_=new Date(1899,11,30,0,0,0);function gn(t,e){var r=t.getTime(),n=I_.getTime()+(t.getTimezoneOffset()-I_.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var k6=new Date,Wq=I_.getTime()+(k6.getTimezoneOffset()-I_.getTimezoneOffset())*6e4,lN=k6.getTimezoneOffset();function Lb(t){var e=new Date;return e.setTime(t*24*60*60*1e3+Wq),e.getTimezoneOffset()!==lN&&e.setTime(e.getTime()+(e.getTimezoneOffset()-lN)*6e4),e}function zq(t){var e=0,r=0,n=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var a=1;a!=i.length;++a)if(i[a]){switch(r=1,a>3&&(n=!0),i[a].slice(i[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[a].slice(i[a].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=r*parseInt(i[a],10)}return e}var cN=new Date("2017-02-19T19:06:09.000Z"),P6=isNaN(cN.getFullYear())?new Date("2/19/17"):cN,Gq=P6.getFullYear()==2017;function cr(t,e){var r=new Date(t);if(Gq)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(P6.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function Zf(t,e){if(vt&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return ho(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return ho(g6(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return ho(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return ho(new TextDecoder("utf-16be").decode(t.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function ur(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=ur(t[r]));return e}function Rr(t,e){for(var r="";r.length<e;)r+=t;return r}function Ns(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(e=Number(n)))?e/r:e}var qq=["january","february","march","april","may","june","july","august","september","october","november","december"];function D0(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),a=e.getDate();if(isNaN(a))return r;var s=t.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&qq.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}var Xq=function(){var t="abacaba".split(/(:?b)/i).length==5;return function(r,n,i){if(t||typeof n=="string")return r.split(n);for(var a=r.split(n),s=[a[0]],o=1;o<a.length;++o)s.push(i),s.push(a[o]);return s}}();function I6(t){return t?t.content&&t.type?Zf(t.content,!0):t.data?um(t.data):t.asNodeBuffer&&vt?um(t.asNodeBuffer().toString("binary")):t.asBinary?um(t.asBinary()):t._data&&t._data.getContent?um(Zf(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function O6(t){if(!t)return null;if(t.data)return JM(t.data);if(t.asNodeBuffer&&vt)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?JM(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function Kq(t){return t&&t.name.slice(-4)===".bin"?O6(t):I6(t)}function ka(t,e){for(var r=t.FullPaths||Lr(t.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),a=0;a<r.length;++a){var s=r[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||i==s)return t.files?t.files[r[a]]:t.FileIndex[a]}return null}function CP(t,e){var r=ka(t,e);if(r==null)throw new Error("Cannot find file "+e+" in zip");return r}function Xr(t,e,r){if(!r)return Kq(CP(t,e));if(!e)return null;try{return Xr(t,e)}catch{return null}}function ua(t,e,r){if(!r)return I6(CP(t,e));if(!e)return null;try{return ua(t,e)}catch{return null}}function Yq(t,e,r){return O6(CP(t,e))}function uN(t){for(var e=t.FullPaths||Lr(t.files),r=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&r.push(e[n].replace(/^Root Entry[\/]/,""));return r.sort()}function ft(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return vt?n=Ll(r):n=pq(r),qe.utils.cfb_add(t,e,n)}qe.utils.cfb_add(t,e,r)}else t.file(e,r)}function kP(){return qe.utils.cfb_new()}function M6(t,e){switch(e.type){case"base64":return qe.read(t,{type:"base64"});case"binary":return qe.read(t,{type:"binary"});case"buffer":case"array":return qe.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function dm(t,e){if(t.charAt(0)=="/")return t.slice(1);var r=e.split("/");e.slice(-1)!="/"&&r.pop();for(var n=t.split("/");n.length!==0;){var i=n.shift();i===".."?r.pop():i!=="."&&r.push(i)}return r.join("/")}var Wr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Jq=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,fN=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Zq=/<[^>]*>/g,fi=Wr.match(fN)?fN:Zq,Qq=/<\w*:/,eX=/<(\/?)\w+:/;function Qe(t,e,r){for(var n={},i=0,a=0;i!==t.length&&!((a=t.charCodeAt(i))===32||a===10||a===13);++i);if(e||(n[0]=t.slice(0,i)),i===t.length)return n;var s=t.match(Jq),o=0,l="",c=0,u="",f="",d=1;if(s)for(c=0;c!=s.length;++c){for(f=s[c],a=0;a!=f.length&&f.charCodeAt(a)!==61;++a);for(u=f.slice(0,a).trim();f.charCodeAt(a+1)==32;)++a;for(d=(i=f.charCodeAt(a+1))==34||i==39?1:0,l=f.slice(a+1+d,f.length-d),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var h=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[h]&&u.slice(o-3,o)=="ext")continue;n[h]=l,n[h.toLowerCase()]=l}}return n}function So(t){return t.replace(eX,"<$1")}var N6={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},PP=Db(N6),kt=function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function r(n){var i=n+"",a=i.indexOf("<![CDATA[");if(a==-1)return i.replace(t,function(o,l){return N6[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=i.indexOf("]]>");return r(i.slice(0,a))+i.slice(a+9,s)+r(i.slice(s+3))}}(),IP=/[&<>'"]/g,tX=/[\u0000-\u0008\u000b-\u001f]/g;function Ht(t){var e=t+"";return e.replace(IP,function(r){return PP[r]}).replace(tX,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function dN(t){return Ht(t).replace(/ /g,"_x0020_")}var R6=/[\u0000-\u001f]/g;function OP(t){var e=t+"";return e.replace(IP,function(r){return PP[r]}).replace(/\n/g,"<br/>").replace(R6,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function rX(t){var e=t+"";return e.replace(IP,function(r){return PP[r]}).replace(R6,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var hN=function(){var t=/&#(\d+);/g;function e(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(t,e)}}();function nX(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function sr(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function vA(t){for(var e="",r=0,n=0,i=0,a=0,s=0,o=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=i&63,e+=String.fromCharCode(s);continue}if(a=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}s=t.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function pN(t){var e=Xc(2*t.length),r,n,i=1,a=0,s=0,o;for(n=0;n<t.length;n+=i)i=1,(o=t.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(t.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(e[a++]=s&255,e[a++]=s>>>8,s=0),e[a++]=r%256,e[a++]=r>>>8;return e.slice(0,a).toString("ucs2")}function mN(t){return Ll(t,"binary").toString("utf8")}var Px="foo bar baz",Xt=vt&&(mN(Px)==vA(Px)&&mN||pN(Px)==vA(Px)&&pN)||vA,ho=vt?function(t){return Ll(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},Eg=function(){var t={};return function(r,n){var i=r+"|"+(n||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),D6=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}}(),iX=function(){var t={};return function(r){return t[r]!==void 0?t[r]:t[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),aX=/<\/?(?:vt:)?variant>/g,sX=/<(?:vt:)([^>]*)>([\s\S]*)</;function gN(t,e){var r=Qe(t),n=t.match(iX(r.baseType))||[],i=[];if(n.length!=r.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return i}return n.forEach(function(a){var s=a.replace(aX,"").match(sX);s&&i.push({v:Xt(s[2]),t:s[1]})}),i}var F6=/(^\s|\s$|\n)/;function $n(t,e){return"<"+t+(e.match(F6)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Cg(t){return Lr(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Ee(t,e,r){return"<"+t+(r!=null?Cg(r):"")+(e!=null?(e.match(F6)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function oE(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function oX(t,e){switch(typeof t){case"string":var r=Ee("vt:lpwstr",Ht(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Ee((t|0)==t?"vt:i4":"vt:r8",Ht(String(t)));case"boolean":return Ee("vt:bool",t?"true":"false")}if(t instanceof Date)return Ee("vt:filetime",oE(t));throw new Error("Unable to serialize "+t)}function MP(t){if(vt&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return Xt(su(AP(t)));throw new Error("Bad input format: expected Buffer or string")}var kg=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,fn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},xd=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],sa={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function lX(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,a=5;a>=0;--a)i=i*256+t[e+a];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function cX(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,a=0,s=n?-e:e;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(e)?26985:0);for(var o=0;o<=5;++o,a/=256)t[r+o]=a&255;t[r+6]=(i&15)<<4|a&15,t[r+7]=i>>4|n}var vN=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,a=t[0][n].length;i<a;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},yN=vt?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Ll(e)})):vN(t)}:vN,xN=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(cl(t,i)));return n.join("").replace(wi,"")},NP=vt?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(wi,""):xN(t,e,r)}:xN,_N=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},L6=vt?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):_N(t,e,r)}:_N,wN=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(jd(t,i)));return n.join("")},Vy=vt?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):wN(e,r,n)}:wN,$6=function(t,e){var r=oa(t,e);return r>0?Vy(t,e+4,e+4+r-1):""},B6=$6,U6=function(t,e){var r=oa(t,e);return r>0?Vy(t,e+4,e+4+r-1):""},j6=U6,V6=function(t,e){var r=2*oa(t,e);return r>0?Vy(t,e+4,e+4+r-1):""},H6=V6,W6=function(e,r){var n=oa(e,r);return n>0?NP(e,r+4,r+4+n):""},z6=W6,G6=function(t,e){var r=oa(t,e);return r>0?Vy(t,e+4,e+4+r):""},q6=G6,X6=function(t,e){return lX(t,e)},O_=X6,RP=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};vt&&(B6=function(e,r){if(!Buffer.isBuffer(e))return $6(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},j6=function(e,r){if(!Buffer.isBuffer(e))return U6(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},H6=function(e,r){if(!Buffer.isBuffer(e))return V6(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},z6=function(e,r){if(!Buffer.isBuffer(e))return W6(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},q6=function(e,r){if(!Buffer.isBuffer(e))return G6(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},O_=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):X6(e,r)},RP=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var jd=function(t,e){return t[e]},cl=function(t,e){return t[e+1]*256+t[e]},uX=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},oa=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Pu=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},fX=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function jm(t,e){var r="",n,i,a=[],s,o,l,c;switch(e){case"dbcs":if(c=this.l,vt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)r+=String.fromCharCode(cl(this,c)),c+=2;t*=2;break;case"utf8":r=Vy(this,this.l,this.l+t);break;case"utf16le":t*=2,r=NP(this,this.l,this.l+t);break;case"wstr":return jm.call(this,t,"dbcs");case"lpstr-ansi":r=B6(this,this.l),t=4+oa(this,this.l);break;case"lpstr-cp":r=j6(this,this.l),t=4+oa(this,this.l);break;case"lpwstr":r=H6(this,this.l),t=4+2*oa(this,this.l);break;case"lpp4":t=4+oa(this,this.l),r=z6(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+oa(this,this.l),r=q6(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(s=jd(this,this.l+t++))!==0;)a.push(kx(s));r=a.join("");break;case"_wstr":for(t=0,r="";(s=cl(this,this.l+t))!==0;)a.push(kx(s)),t+=2;t+=2,r=a.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=jd(this,c),this.l=c+1,o=jm.call(this,t-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(kx(cl(this,c))),c+=2}r=a.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=jd(this,c),this.l=c+1,o=jm.call(this,t-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(kx(jd(this,c))),c+=1}r=a.join("");break;default:switch(t){case 1:return n=jd(this,this.l),this.l++,n;case 2:return n=(e==="i"?uX:cl)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(n=(t>0?Pu:fX)(this,this.l),this.l+=4,n):(i=oa(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=O_(this,this.l):i=O_([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=L6(this,this.l,t);break}}return this.l+=t,r}var dX=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},hX=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},pX=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function mX(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)pX(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var s=e.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,dX(this,e,this.l);break;case 8:if(n=8,r==="f"){cX(this,e,this.l);break}case 16:break;case-4:n=4,hX(this,e,this.l);break}return this.l+=n,this}function K6(t,e){var r=L6(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Ln(t,e){t.l=e,t.read_shift=jm,t.chk=K6,t.write_shift=mX}function ui(t,e){t.l+=e}function pe(t){var e=Xc(t);return Ln(e,0),e}function $l(t,e,r){if(t){var n,i,a;Ln(t,t.l||0);for(var s=t.length,o=0,l=0;t.l<s;){o=t.read_shift(1),o&128&&(o=(o&127)+((t.read_shift(1)&127)<<7));var c=Rg[o]||Rg[65535];for(n=t.read_shift(1),a=n&127,i=1;i<4&&n&128;++i)a+=((n=t.read_shift(1))&127)<<7*i;l=t.l+a;var u=c.f&&c.f(t,a,r);if(t.l=l,e(u,c,o))return}}}function Hi(){var t=[],e=vt?256:2048,r=function(c){var u=pe(c);return Ln(u,0),u},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},a=function(c){return n&&c<n.length-n.l?n:(i(),n=r(Math.max(c+1,e)))},s=function(){return i(),En(t)},o=function(c){i(),n=c,n.l==null&&(n.l=n.length),a(e)};return{next:a,push:o,end:s,_bufs:t}}function ye(t,e,r,n){var i=+e,a;if(!isNaN(i)){n||(n=Rg[i].p||(r||[]).length||0),a=1+(i>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var s=t.next(a);i<=127?s.write_shift(1,i):(s.write_shift(1,(i&127)+128),s.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&RP(r)&&t.push(r)}}function Vm(t,e,r){var n=ur(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function bN(t,e,r){var n=ur(t);return n.s=Vm(n.s,e.s,r),n.e=Vm(n.e,e.s,r),n}function Hm(t,e){if(t.cRel&&t.c<0)for(t=ur(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=ur(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=Ze(t);return!t.cRel&&t.cRel!=null&&(r=yX(r)),!t.rRel&&t.rRel!=null&&(r=gX(r)),r}function yA(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Tr(t.s.c)+":"+(t.e.cRel?"":"$")+Tr(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Vr(t.s.r)+":"+(t.e.rRel?"":"$")+Vr(t.e.r):Hm(t.s,e.biff)+":"+Hm(t.e,e.biff)}function DP(t){return parseInt(vX(t),10)-1}function Vr(t){return""+(t+1)}function gX(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function vX(t){return t.replace(/\$(\d+)$/,"$1")}function FP(t){for(var e=xX(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function Tr(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function yX(t){return t.replace(/^([A-Z])/,"$$$1")}function xX(t){return t.replace(/^\$([A-Z])/,"$1")}function _X(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Er(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function Ze(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function Wi(t){var e=t.indexOf(":");return e==-1?{s:Er(t),e:Er(t)}:{s:Er(t.slice(0,e)),e:Er(t.slice(e+1))}}function ct(t,e){return typeof e>"u"||typeof e=="number"?ct(t.s,t.e):(typeof t!="string"&&(t=Ze(t)),typeof e!="string"&&(e=Ze(e)),t==e?t:t+":"+e)}function It(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=t.length;for(r=0;n<a&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<a&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===a||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=a&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=a&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function SN(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Ka(t.z,r?gn(e):e)}catch{}try{return t.w=Ka((t.XF||{}).numFmtId||(r?14:0),r?gn(e):e)}catch{return""+e}}function kl(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?Bl[t.v]||t.v:e==null?SN(t,t.v):SN(t,e))}function ou(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function Y6(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,a=t||(i?[]:{}),s=0,o=0;if(a&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Er(n.origin):n.origin;s=l.r,o=l.c}a["!ref"]||(a["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var u=It(a["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),s==-1&&(c.e.r=s=u.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=e[f].length;++d)if(!(typeof e[f][d]>"u")){var h={v:e[f][d]},m=s+f,p=o+d;if(c.s.r>m&&(c.s.r=m),c.s.c>p&&(c.s.c=p),c.e.r<m&&(c.e.r=m),c.e.c<p&&(c.e.c=p),e[f][d]&&typeof e[f][d]=="object"&&!Array.isArray(e[f][d])&&!(e[f][d]instanceof Date))h=e[f][d];else if(Array.isArray(h.v)&&(h.f=e[f][d][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(n.nullError)h.t="e",h.v=0;else if(n.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=n.dateNF||Je[14],n.cellDates?(h.t="d",h.w=Ka(h.z,gn(h.v))):(h.t="n",h.v=gn(h.v),h.w=Ka(h.z,h.v))):h.t="s";if(i)a[m]||(a[m]=[]),a[m][p]&&a[m][p].z&&(h.z=a[m][p].z),a[m][p]=h;else{var y=Ze({c:p,r:m});a[y]&&a[y].z&&(h.z=a[y].z),a[y]=h}}}return c.s.c<1e7&&(a["!ref"]=ct(c)),a}function yp(t,e){return Y6(null,t,e)}function wX(t){return t.read_shift(4,"i")}function Rs(t,e){return e||(e=pe(4)),e.write_shift(4,t),e}function li(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Cn(t,e){var r=!1;return e==null&&(r=!0,e=pe(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function bX(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function SX(t,e){return e||(e=pe(4)),e.write_shift(2,0),e.write_shift(2,0),e}function LP(t,e){var r=t.l,n=t.read_shift(1),i=li(t),a=[],s={t:i,h:i};if(n&1){for(var o=t.read_shift(4),l=0;l!=o;++l)a.push(bX(t));s.r=a}else s.r=[{ich:0,ifnt:0}];return t.l=r+e,s}function AX(t,e){var r=!1;return e==null&&(r=!0,e=pe(15+4*t.t.length)),e.write_shift(1,0),Cn(t.t,e),r?e.slice(0,e.l):e}var TX=LP;function EX(t,e){var r=!1;return e==null&&(r=!0,e=pe(23+4*t.t.length)),e.write_shift(1,1),Cn(t.t,e),e.write_shift(4,1),SX({},e),r?e.slice(0,e.l):e}function Za(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function _d(t,e){return e==null&&(e=pe(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function wd(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function bd(t,e){return e==null&&(e=pe(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var CX=li,J6=Cn;function $P(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function M_(t,e){var r=!1;return e==null&&(r=!0,e=pe(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var kX=li,lE=$P,BP=M_;function UP(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?O_([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Pu(e,0)>>2;return r?i/100:i}function Z6(t,e){e==null&&(e=pe(4));var r=0,n=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?i:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function Q6(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function PX(t,e){return e||(e=pe(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Sd=Q6,xp=PX;function si(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Qf(t,e){return(e||pe(8)).write_shift(8,t,"f")}function IX(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),a=t.read_shift(2,"i"),s=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var c=Uf[i];c&&(e.rgb=Ig(c));break;case 2:e.rgb=Ig([s,o,l]);break;case 3:e.theme=i;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function N_(t,e){if(e||(e=pe(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function OX(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function MX(t,e){e||(e=pe(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}function e$(t,e){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=t.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[t.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function NX(t){return e$(t,1)}function RX(t){return e$(t,2)}var jP=2,Ni=3,Ix=11,AN=12,R_=19,Ox=64,DX=65,FX=71,LX=4108,$X=4126,Sn=80,t$=81,BX=[Sn,t$],cE={1:{n:"CodePage",t:jP},2:{n:"Category",t:Sn},3:{n:"PresentationFormat",t:Sn},4:{n:"ByteCount",t:Ni},5:{n:"LineCount",t:Ni},6:{n:"ParagraphCount",t:Ni},7:{n:"SlideCount",t:Ni},8:{n:"NoteCount",t:Ni},9:{n:"HiddenCount",t:Ni},10:{n:"MultimediaClipCount",t:Ni},11:{n:"ScaleCrop",t:Ix},12:{n:"HeadingPairs",t:LX},13:{n:"TitlesOfParts",t:$X},14:{n:"Manager",t:Sn},15:{n:"Company",t:Sn},16:{n:"LinksUpToDate",t:Ix},17:{n:"CharacterCount",t:Ni},19:{n:"SharedDoc",t:Ix},22:{n:"HyperlinksChanged",t:Ix},23:{n:"AppVersion",t:Ni,p:"version"},24:{n:"DigSig",t:DX},26:{n:"ContentType",t:Sn},27:{n:"ContentStatus",t:Sn},28:{n:"Language",t:Sn},29:{n:"Version",t:Sn},255:{},2147483648:{n:"Locale",t:R_},2147483651:{n:"Behavior",t:R_},1919054434:{}},uE={1:{n:"CodePage",t:jP},2:{n:"Title",t:Sn},3:{n:"Subject",t:Sn},4:{n:"Author",t:Sn},5:{n:"Keywords",t:Sn},6:{n:"Comments",t:Sn},7:{n:"Template",t:Sn},8:{n:"LastAuthor",t:Sn},9:{n:"RevNumber",t:Sn},10:{n:"EditTime",t:Ox},11:{n:"LastPrinted",t:Ox},12:{n:"CreatedDate",t:Ox},13:{n:"ModifiedDate",t:Ox},14:{n:"PageCount",t:Ni},15:{n:"WordCount",t:Ni},16:{n:"CharCount",t:Ni},17:{n:"Thumbnail",t:FX},18:{n:"Application",t:Sn},19:{n:"DocSecurity",t:Ni},255:{},2147483648:{n:"Locale",t:R_},2147483651:{n:"Behavior",t:R_},1919054434:{}},TN={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},UX=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function jX(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var VX=jX([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Uf=ur(VX),Bl={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},r$={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},fE={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Mx={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function VP(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function HX(t){var e=VP();if(!t||!t.match)return e;var r={};if((t.match(fi)||[]).forEach(function(n){var i=Qe(n);switch(i[0].replace(Qq,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[i.Extension]=i.ContentType;break;case"<Override":e[fE[i.ContentType]]!==void 0&&e[fE[i.ContentType]].push(i.PartName);break}}),e.xmlns!==fn.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=r,delete e.calcchains,e}function n$(t,e){var r=Hq(fE),n=[],i;n[n.length]=Wr,n[n.length]=Ee("Types",null,{xmlns:fn.CT,"xmlns:xsd":fn.xsd,"xmlns:xsi":fn.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return Ee("Default",null,{Extension:l[0],ContentType:l[1]})}));var a=function(l){t[l]&&t[l].length>0&&(i=t[l][0],n[n.length]=Ee("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Mx[l][e.bookType]||Mx[l].xlsx}))},s=function(l){(t[l]||[]).forEach(function(c){n[n.length]=Ee("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:Mx[l][e.bookType]||Mx[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(c){n[n.length]=Ee("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:r[l][0]})})};return a("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var xt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Pg(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Wm(t,e){var r={"!id":{}};if(!t)return r;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(t.match(fi)||[]).forEach(function(i){var a=Qe(i);if(a[0]==="<Relationship"){var s={};s.Type=a.Type,s.Target=a.Target,s.Id=a.Id,a.TargetMode&&(s.TargetMode=a.TargetMode);var o=a.TargetMode==="External"?a.Target:dm(a.Target,e);r[o]=s,n[a.Id]=s}}),r["!id"]=n,r}function bh(t){var e=[Wr,Ee("Relationships",null,{xmlns:fn.RELS})];return Lr(t["!id"]).forEach(function(r){e[e.length]=Ee("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function jt(t,e,r,n,i,a){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=r,[xt.HLINK,xt.XPATH,xt.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}var WX="application/vnd.oasis.opendocument.spreadsheet";function zX(t,e){for(var r=MP(t),n,i;n=kg.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(i=Qe(n[0],!1),i.path=="/"&&i.type!==WX)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}function GX(t){var e=[Wr];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function EN(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function qX(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function XX(t){var e=[Wr];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(EN(t[r][0],t[r][1])),e.push(qX("",t[r][0]));return e.push(EN("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function i$(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+E_.version+"</meta:generator></office:meta></office:document-meta>"}var Ha=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],KX=function(){for(var t=new Array(Ha.length),e=0;e<Ha.length;++e){var r=Ha[e],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);t[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return t}();function a$(t){var e={};t=Xt(t);for(var r=0;r<Ha.length;++r){var n=Ha[r],i=t.match(KX[r]);i!=null&&i.length>0&&(e[n[1]]=kt(i[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=cr(e[n[1]]))}return e}function xA(t,e,r,n,i){i[t]!=null||e==null||e===""||(i[t]=e,e=Ht(e),n[n.length]=r?Ee(t,e,r):$n(t,e))}function s$(t,e){var r=e||{},n=[Wr,Ee("cp:coreProperties",null,{"xmlns:cp":fn.CORE_PROPS,"xmlns:dc":fn.dc,"xmlns:dcterms":fn.dcterms,"xmlns:dcmitype":fn.dcmitype,"xmlns:xsi":fn.xsi})],i={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&xA("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:oE(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),t.ModifiedDate!=null&&xA("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:oE(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var a=0;a!=Ha.length;++a){var s=Ha[a],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:t?t[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&xA(s[0],o,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var jf=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],o$=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function l$(t,e,r,n){var i=[];if(typeof t=="string")i=gN(t,n);else for(var a=0;a<t.length;++a)i=i.concat(t[a].map(function(u){return{v:u}}));var s=typeof e=="string"?gN(e,n).map(function(u){return u.v}):e,o=0,l=0;if(s.length>0)for(var c=0;c!==i.length;c+=2){switch(l=+i[c+1].v,i[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=l,r.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=s.slice(o,o+l);break}o+=l}}function YX(t,e,r){var n={};return e||(e={}),t=Xt(t),jf.forEach(function(i){var a=(t.match(Eg(i[0]))||[])[1];switch(i[2]){case"string":a&&(e[i[1]]=kt(a));break;case"bool":e[i[1]]=a==="true";break;case"raw":var s=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));s&&s.length>0&&(n[i[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&l$(n.HeadingPairs,n.TitlesOfParts,e,r),e}function c$(t){var e=[],r=Ee;return t||(t={}),t.Application="SheetJS",e[e.length]=Wr,e[e.length]=Ee("Properties",null,{xmlns:fn.EXT_PROPS,"xmlns:vt":fn.vt}),jf.forEach(function(n){if(t[n[1]]!==void 0){var i;switch(n[2]){case"string":i=Ht(String(t[n[1]]));break;case"bool":i=t[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=r(n[0],i))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+Ht(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var JX=/<[^>]+>[^<]*/g;function ZX(t,e){var r={},n="",i=t.match(JX);if(i)for(var a=0;a!=i.length;++a){var s=i[a],o=Qe(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=kt(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=kt(u);break;case"bool":r[n]=sr(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=cr(u);break;case"cy":case"error":r[n]=kt(u);break;default:if(c.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",s,c,l)}}else if(s.slice(0,2)!=="</"){if(e.WTF)throw new Error(s)}}}return r}function u$(t){var e=[Wr,Ee("Properties",null,{xmlns:fn.CUST_PROPS,"xmlns:vt":fn.vt})];if(!t)return e.join("");var r=1;return Lr(t).forEach(function(i){++r,e[e.length]=Ee("property",oX(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Ht(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var dE={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},_A;function QX(t,e,r){_A||(_A=Db(dE)),e=_A[e]||e,t[e]=r}function eK(t,e){var r=[];return Lr(dE).map(function(n){for(var i=0;i<Ha.length;++i)if(Ha[i][1]==n)return Ha[i];for(i=0;i<jf.length;++i)if(jf[i][1]==n)return jf[i];throw n}).forEach(function(n){if(t[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push($n(dE[n[1]]||n[1],i))}}),Ee("DocumentProperties",r.join(""),{xmlns:sa.o})}function tK(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return t&&Lr(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)){for(var s=0;s<Ha.length;++s)if(a==Ha[s][1])return;for(s=0;s<jf.length;++s)if(a==jf[s][1])return;for(s=0;s<r.length;++s)if(a==r[s])return;var o=t[a],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(Ee(dN(a),o,{"dt:dt":l}))}}),e&&Lr(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)&&!(t&&Object.prototype.hasOwnProperty.call(t,a))){var s=e[a],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),i.push(Ee(dN(a),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+sa.o+'">'+i.join("")+"</"+n+">"}function HP(t){var e=t.read_shift(4),r=t.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function rK(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),i+=a);var s=pe(8);return s.write_shift(4,n),s.write_shift(4,i),s}function f$(t,e,r){var n=t.l,i=t.read_shift(0,"lpstr-cp");if(r)for(;t.l-n&3;)++t.l;return i}function d$(t,e,r){var n=t.read_shift(0,"lpwstr");return n}function h$(t,e,r){return e===31?d$(t):f$(t,e,r)}function hE(t,e,r){return h$(t,e,r===!1?0:4)}function nK(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return h$(t,e,0)}function iK(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n){var i=t.l;r[n]=t.read_shift(0,"lpwstr").replace(wi,""),t.l-i&2&&(t.l+=2)}return r}function aK(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n)r[n]=t.read_shift(0,"lpstr-cp").replace(wi,"");return r}function sK(t){var e=t.l,r=D_(t,t$);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var n=D_(t,Ni);return[r,n]}function oK(t){for(var e=t.read_shift(4),r=[],n=0;n<e/2;++n)r.push(sK(t));return r}function CN(t,e){for(var r=t.read_shift(4),n={},i=0;i!=r;++i){var a=t.read_shift(4),s=t.read_shift(4);n[a]=t.read_shift(s,e===1200?"utf16le":"utf8").replace(wi,"").replace(fm,"!"),e===1200&&s%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),n}function p$(t){var e=t.read_shift(4),r=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),r}function lK(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function D_(t,e,r){var n=t.read_shift(2),i,a=r||{};if(t.l+=2,e!==AN&&n!==e&&BX.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===AN?n:e){case 2:return i=t.read_shift(2,"i"),a.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return f$(t,n,4).replace(wi,"");case 31:return d$(t);case 64:return HP(t);case 65:return p$(t);case 71:return lK(t);case 80:return hE(t,n,!a.raw).replace(wi,"");case 81:return nK(t,n).replace(wi,"");case 4108:return oK(t);case 4126:case 4127:return n==4127?iK(t):aK(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function kN(t,e){var r=pe(4),n=pe(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=pe(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=rK(e);break;case 31:case 80:for(n=pe(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return En([r,n])}function PN(t,e){var r=t.l,n=t.read_shift(4),i=t.read_shift(4),a=[],s=0,o=0,l=-1,c={};for(s=0;s!=i;++s){var u=t.read_shift(4),f=t.read_shift(4);a[s]=[u,f+r]}a.sort(function(b,w){return b[1]-w[1]});var d={};for(s=0;s!=i;++s){if(t.l!==a[s][1]){var h=!0;if(s>0&&e)switch(e[a[s-1][0]].t){case 2:t.l+2===a[s][1]&&(t.l+=2,h=!1);break;case 80:t.l<=a[s][1]&&(t.l=a[s][1],h=!1);break;case 4108:t.l<=a[s][1]&&(t.l=a[s][1],h=!1);break}if((!e||s==0)&&t.l<=a[s][1]&&(h=!1,t.l=a[s][1]),h)throw new Error("Read Error: Expected address "+a[s][1]+" at "+t.l+" :"+s)}if(e){var m=e[a[s][0]];if(d[m.n]=D_(t,m.t,{raw:!0}),m.p==="version"&&(d[m.n]=String(d[m.n]>>16)+"."+("0000"+String(d[m.n]&65535)).slice(-4)),m.n=="CodePage")switch(d[m.n]){case 0:d[m.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Cs(o=d[m.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+d[m.n])}}else if(a[s][0]===1){if(o=d.CodePage=D_(t,jP),Cs(o),l!==-1){var p=t.l;t.l=a[l][1],c=CN(t,o),t.l=p}}else if(a[s][0]===0){if(o===0){l=s,t.l=a[s+1][1];continue}c=CN(t,o)}else{var y=c[a[s][0]],_;switch(t[t.l]){case 65:t.l+=4,_=p$(t);break;case 30:t.l+=4,_=hE(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,_=hE(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,_=t.read_shift(4,"i");break;case 19:t.l+=4,_=t.read_shift(4);break;case 5:t.l+=4,_=t.read_shift(8,"f");break;case 11:t.l+=4,_=$r(t,4);break;case 64:t.l+=4,_=cr(HP(t));break;default:throw new Error("unparsed value: "+t[t.l])}d[y]=_}}return t.l=r+n,d}var m$=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function cK(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function IN(t,e,r){var n=pe(8),i=[],a=[],s=8,o=0,l=pe(8),c=pe(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),a.push(l),i.push(c),s+=8+l.length,!e){c=pe(8),c.write_shift(4,0),i.unshift(c);var u=[pe(4)];for(u[0].write_shift(4,t.length),o=0;o<t.length;++o){var f=t[o][0];for(l=pe(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=En(u),a.unshift(l),s+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(m$.indexOf(t[o][0])>-1||o$.indexOf(t[o][0])>-1)&&t[o][1]!=null){var d=t[o][1],h=0;if(e){h=+e[t[o][0]];var m=r[h];if(m.p=="version"&&typeof d=="string"){var p=d.split(".");d=(+p[0]<<16)+(+p[1]||0)}l=kN(m.t,d)}else{var y=cK(d);y==-1&&(y=31,d=String(d)),l=kN(y,d)}a.push(l),c=pe(8),c.write_shift(4,e?h:2+o),i.push(c),s+=8+l.length}var _=8*(a.length+1);for(o=0;o<a.length;++o)i[o].write_shift(4,_),_+=a[o].length;return n.write_shift(4,s),n.write_shift(4,a.length),En([n].concat(i).concat(a))}function ON(t,e,r){var n=t.content;if(!n)return{};Ln(n,0);var i,a,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==qe.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(a=n.read_shift(16),o=n.read_shift(4),i===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);i===2&&(s=n.read_shift(16),l=n.read_shift(4));var f=PN(n,e),d={SystemIdentifier:c};for(var h in f)d[h]=f[h];if(d.FMTID=a,i===1)return d;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var m;try{m=PN(n,null)}catch{}for(h in m)d[h]=m[h];return d.FMTID=[a,s],d}function MN(t,e,r,n,i,a){var s=pe(i?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,qe.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,i?2:1),s.write_shift(16,e,"hex"),s.write_shift(4,i?68:48);var l=IN(t,r,n);if(o.push(l),i){var c=IN(i,null,null);s.write_shift(16,a,"hex"),s.write_shift(4,68+l.length),o.push(c)}return En(o)}function zl(t,e){return t.read_shift(e),null}function uK(t,e){e||(e=pe(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function fK(t,e,r){for(var n=[],i=t.l+e;t.l<i;)n.push(r(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return n}function $r(t,e){return t.read_shift(e)===1}function vi(t,e){return e||(e=pe(2)),e.write_shift(2,+!!t),e}function Kr(t){return t.read_shift(2,"u")}function Ra(t,e){return e||(e=pe(2)),e.write_shift(2,t),e}function g$(t,e){return fK(t,e,Kr)}function dK(t){var e=t.read_shift(1),r=t.read_shift(1);return r===1?e:e===1}function v$(t,e,r){return r||(r=pe(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function Hy(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=t.read_shift(1);a&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var s=n?t.read_shift(n,i):"";return s}function hK(t){var e=t.read_shift(2),r=t.read_shift(1),n=r&4,i=r&8,a=1+(r&1),s=0,o,l={};i&&(s=t.read_shift(2)),n&&(o=t.read_shift(4));var c=a==2?"dbcs-cont":"sbcs-cont",u=e===0?"":t.read_shift(e,c);return i&&(t.l+=4*s),n&&(t.l+=o),l.t=u,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function pK(t){var e=t.t||"",r=pe(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=pe(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[r,n];return En(i)}function ed(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function Wy(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):ed(t,n,r)}function Ad(t,e,r){if(r.biff>5)return Wy(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function y$(t,e,r){return r||(r=pe(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function mK(t){var e=t.read_shift(1);t.l++;var r=t.read_shift(2);return t.l+=2,[e,r]}function gK(t){var e=t.read_shift(4),r=t.l,n=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),t.l=r);var i=t.read_shift((n?e-24:e)>>1,"utf16le").replace(wi,"");return n&&(t.l+=24),i}function vK(t){for(var e=t.read_shift(2),r="";e-- >0;)r+="../";var n=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return r+n.replace(/\\/g,"/");var a=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=t.read_shift(a>>1,"utf16le").replace(wi,"");return r+s}function yK(t,e){var r=t.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return gK(t);case"0303000000000000c000000000000046":return vK(t);default:throw new Error("Unsupported Moniker "+r)}}function Nx(t){var e=t.read_shift(4),r=e>0?t.read_shift(e,"utf16le").replace(wi,""):"";return r}function NN(t,e){e||(e=pe(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function xK(t,e){var r=t.l+e,n=t.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=t.read_shift(2);t.l+=2;var a,s,o,l,c="",u,f;i&16&&(a=Nx(t,r-t.l)),i&128&&(s=Nx(t,r-t.l)),(i&257)===257&&(o=Nx(t,r-t.l)),(i&257)===1&&(l=yK(t,r-t.l)),i&8&&(c=Nx(t,r-t.l)),i&32&&(u=t.read_shift(16)),i&64&&(f=HP(t)),t.l=r;var d=s||o||l||"";d&&c&&(d+="#"+c),d||(d="#"+c),i&2&&d.charAt(0)=="/"&&d.charAt(1)!="/"&&(d="file://"+d);var h={Target:d};return u&&(h.guid=u),f&&(h.time=f),a&&(h.Tooltip=a),h}function _K(t){var e=pe(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),a=i>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}e.write_shift(4,2),e.write_shift(4,a);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)e.write_shift(4,s[r]);if(a==28)n=n.slice(1),NN(n,e);else if(a&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)e.write_shift(1,parseInt(s[r],16));var o=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)e.write_shift(2,o.charCodeAt(r));e.write_shift(2,0),a&8&&NN(i>-1?n.slice(i+1):"",e)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)e.write_shift(1,parseInt(s[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)e.write_shift(1,n.charCodeAt(r+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function x$(t){var e=t.read_shift(1),r=t.read_shift(1),n=t.read_shift(1),i=t.read_shift(1);return[e,r,n,i]}function _$(t,e){var r=x$(t);return r[3]=0,r}function Ao(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return{r:e,c:r,ixfe:n}}function td(t,e,r,n){return n||(n=pe(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function wK(t){var e=t.read_shift(2),r=t.read_shift(2);return t.l+=8,{type:e,flags:r}}function bK(t,e,r){return e===0?"":Ad(t,e,r)}function SK(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),a=t.read_shift(n,"i"),s=t.read_shift(n,"i");return[i,a,s]}function w$(t){var e=t.read_shift(2),r=UP(t);return[e,r]}function AK(t,e,r){t.l+=4,e-=4;var n=t.l+e,i=Hy(t,e,r),a=t.read_shift(2);if(n-=t.l,a!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+a);return t.l+=a,i}function $b(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function b$(t,e){return e||(e=pe(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function S$(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(1),i=t.read_shift(1);return{s:{c:n,r:e},e:{c:i,r}}}var TK=S$;function A$(t){t.l+=4;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return t.l+=12,[r,e,n]}function EK(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function CK(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function Gn(t){t.l+=2,t.l+=t.read_shift(2)}var kK={0:Gn,4:Gn,5:Gn,6:Gn,7:CK,8:Gn,9:Gn,10:Gn,11:Gn,12:Gn,13:EK,14:Gn,15:Gn,16:Gn,17:Gn,18:Gn,19:Gn,20:Gn,21:A$};function PK(t,e){for(var r=t.l+e,n=[];t.l<r;){var i=t.read_shift(2);t.l-=2;try{n.push(kK[i](t,r-t.l))}catch{return t.l=r,n}}return t.l!=r&&(t.l=r),n}function Rx(t,e){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=t.read_shift(2),e-=2,e>=2&&(r.dt=t.read_shift(2),t.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return t.read_shift(e),r}function WP(t,e,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=pe(i);return a.write_shift(2,n),a.write_shift(2,e),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function IK(t,e){return e===0||t.read_shift(2),1200}function OK(t,e,r){if(r.enc)return t.l+=e,"";var n=t.l,i=Ad(t,0,r);return t.read_shift(e+n-t.l),i}function MK(t,e){var r=!e||e.biff==8,n=pe(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function NK(t,e,r){var n=r&&r.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function RK(t,e,r){var n=t.read_shift(4),i=t.read_shift(1)&3,a=t.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var s=Hy(t,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:i,dt:a,name:s}}function DK(t,e){var r=!e||e.biff>=8?2:1,n=pe(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function FK(t,e){for(var r=t.l+e,n=t.read_shift(4),i=t.read_shift(4),a=[],s=0;s!=i&&t.l<r;++s)a.push(hK(t));return a.Count=n,a.Unique=i,a}function LK(t,e){var r=pe(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],i=0;i<t.length;++i)n[i]=pK(t[i]);var a=En([r].concat(n));return a.parts=[r.length].concat(n.map(function(s){return s.length})),a}function $K(t,e){var r={};return r.dsst=t.read_shift(2),t.l+=e-2,r}function BK(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var r=t.read_shift(2);t.l+=4;var n=t.read_shift(1);return t.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=r/20),e}function UK(t){var e=wK(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var r=t.read_shift(4);return r!==0}function jK(t){return t.read_shift(2),t.read_shift(4)}function RN(t,e,r){var n=0;r&&r.biff==2||(n=t.read_shift(2));var i=t.read_shift(2);r&&r.biff==2&&(n=1-(i>>15),i&=32767);var a={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[a,i]}function VK(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2),a=t.read_shift(2),s=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),c=t.read_shift(2);return{Pos:[e,r],Dim:[n,i],Flags:a,CurTab:s,FirstTab:o,Selected:l,TabRatio:c}}function HK(){var t=pe(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function WK(t,e,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=t.read_shift(2);return{RTL:n&64}}function zK(t){var e=pe(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function GK(){}function qK(t,e,r){var n={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return n.name=Hy(t,0,r),n}function XK(t,e){var r=t.name||"Arial",n=e&&e.biff==5,i=n?15+r.length:16+2*r.length,a=pe(i);return a.write_shift(2,t.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}function KK(t){var e=Ao(t);return e.isst=t.read_shift(4),e}function YK(t,e,r,n){var i=pe(10);return td(t,e,n,i),i.write_shift(4,r),i}function JK(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=t.l+e,i=Ao(t);r.biff==2&&t.l++;var a=Wy(t,n-t.l,r);return i.val=a,i}function ZK(t,e,r,n,i){var a=!i||i.biff==8,s=pe(8+ +a+(1+a)*r.length);return td(t,e,n,s),s.write_shift(2,r.length),a&&s.write_shift(1,1),s.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),s}function QK(t,e,r){var n=t.read_shift(2),i=Ad(t,0,r);return[n,i]}function eY(t,e,r,n){var i=r&&r.biff==5;n||(n=pe(i?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}var tY=Ad;function DN(t,e,r){var n=t.l+e,i=r.biff==8||!r.biff?4:2,a=t.read_shift(i),s=t.read_shift(i),o=t.read_shift(2),l=t.read_shift(2);return t.l=n,{s:{r:a,c:o},e:{r:s,c:l}}}function rY(t,e){var r=e.biff==8||!e.biff?4:2,n=pe(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function nY(t){var e=t.read_shift(2),r=t.read_shift(2),n=w$(t);return{r:e,c:r,ixfe:n[0],rknum:n[1]}}function iY(t,e){for(var r=t.l+e-2,n=t.read_shift(2),i=t.read_shift(2),a=[];t.l<r;)a.push(w$(t));if(t.l!==r)throw new Error("MulRK read error");var s=t.read_shift(2);if(a.length!=s-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:s,rkrec:a}}function aY(t,e){for(var r=t.l+e-2,n=t.read_shift(2),i=t.read_shift(2),a=[];t.l<r;)a.push(t.read_shift(2));if(t.l!==r)throw new Error("MulBlank read error");var s=t.read_shift(2);if(a.length!=s-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:s,ixfe:a}}function sY(t,e,r,n){var i={},a=t.read_shift(4),s=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(2);return i.patternType=UX[o>>26],n.cellStyles&&(i.alc=a&7,i.fWrap=a>>3&1,i.alcV=a>>4&7,i.fJustLast=a>>7&1,i.trot=a>>8&255,i.cIndent=a>>16&15,i.fShrinkToFit=a>>20&1,i.iReadOrder=a>>22&2,i.fAtrNum=a>>26&1,i.fAtrFnt=a>>27&1,i.fAtrAlc=a>>28&1,i.fAtrBdr=a>>29&1,i.fAtrPat=a>>30&1,i.fAtrProt=a>>31&1,i.dgLeft=s&15,i.dgRight=s>>4&15,i.dgTop=s>>8&15,i.dgBottom=s>>12&15,i.icvLeft=s>>16&127,i.icvRight=s>>23&127,i.grbitDiag=s>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function oY(t,e,r){var n={};return n.ifnt=t.read_shift(2),n.numFmtId=t.read_shift(2),n.flags=t.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=sY(t,e,n.fStyle,r),n}function FN(t,e,r,n){var i=r&&r.biff==5;n||(n=pe(i?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var a=0;return t.numFmtId>0&&i&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function lY(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function cY(t){var e=pe(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function LN(t,e,r){var n=Ao(t);(r.biff==2||e==9)&&++t.l;var i=dK(t);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function uY(t,e,r,n,i,a){var s=pe(8);return td(t,e,n,s),v$(r,a,s),s}function fY(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Ao(t),i=si(t);return n.val=i,n}function dY(t,e,r,n){var i=pe(14);return td(t,e,n,i),Qf(r,i),i}var $N=bK;function hY(t,e,r){var n=t.l+e,i=t.read_shift(2),a=t.read_shift(2);if(r.sbcch=a,a==1025||a==14849)return[a,i];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var s=ed(t,a),o=[];n>t.l;)o.push(Wy(t));return[a,i,s,o]}function BN(t,e,r){var n=t.read_shift(2),i,a={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(i=AK(t,e-2,r)),a.body=i||t.read_shift(e-2),typeof i=="string"&&(a.Name=i),a}var pY=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function UN(t,e,r){var n=t.l+e,i=t.read_shift(2),a=t.read_shift(1),s=t.read_shift(1),o=t.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(t.l+=2),l=t.read_shift(2),r.biff==5&&(t.l+=2),t.l+=4);var c=ed(t,s,r);i&32&&(c=pY[c.charCodeAt(0)]);var u=n-t.l;r&&r.biff==2&&--u;var f=n==t.l||o===0||!(u>0)?[]:Pee(t,u,r,o);return{chKey:a,Name:c,itab:l,rgce:f}}function T$(t,e,r){if(r.biff<8)return mY(t,e,r);for(var n=[],i=t.l+e,a=t.read_shift(r.biff>8?4:2);a--!==0;)n.push(SK(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function mY(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=Hy(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function gY(t,e,r){if(r.biff<8){t.l+=e;return}var n=t.read_shift(2),i=t.read_shift(2),a=ed(t,n,r),s=ed(t,i,r);return[a,s]}function vY(t,e,r){var n=S$(t);t.l++;var i=t.read_shift(1);return e-=8,[Iee(t,e,r),i,n]}function jN(t,e,r){var n=TK(t);switch(r.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[n,Cee(t,e,r)]}function yY(t){var e=t.read_shift(4)!==0,r=t.read_shift(4)!==0,n=t.read_shift(4);return[e,r,n]}function xY(t,e,r){if(!(r.biff<8)){var n=t.read_shift(2),i=t.read_shift(2),a=t.read_shift(2),s=t.read_shift(2),o=Ad(t,0,r);return r.biff<8&&t.read_shift(1),[{r:n,c:i},o,s,a]}}function _Y(t,e,r){return xY(t,e,r)}function wY(t,e){for(var r=[],n=t.read_shift(2);n--;)r.push($b(t));return r}function bY(t){var e=pe(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)b$(t[r],e);return e}function SY(t,e,r){if(r&&r.biff<8)return TY(t,e,r);var n=A$(t),i=PK(t,e-22,n[1]);return{cmo:n,ft:i}}var AY={8:function(t,e){var r=t.l+e;t.l+=10;var n=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=r,{fmt:n}}};function TY(t,e,r){t.l+=4;var n=t.read_shift(2),i=t.read_shift(2),a=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var s=[];return s.push((AY[n]||ui)(t,e,r)),{cmo:[i,n,a],ft:s}}function EY(t,e,r){var n=t.l,i="";try{t.l+=4;var a=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(a)==-1?t.l+=6:s=mK(t,6,r);var o=t.read_shift(2);t.read_shift(2),Kr(t,2);var l=t.read_shift(2);t.l+=l;for(var c=1;c<t.lens.length-1;++c){if(t.l-n!=t.lens[c])throw new Error("TxO: bad continue record");var u=t[t.l],f=ed(t,t.lens[c+1]-t.lens[c]-1);if(i+=f,i.length>=(u?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return t.l=n+e,{t:i}}catch{return t.l=n+e,{t:i}}}function CY(t,e){var r=$b(t);t.l+=16;var n=xK(t,e-24);return[r,n]}function kY(t){var e=pe(24),r=Er(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return En([e,_K(t[1])])}function PY(t,e){t.read_shift(2);var r=$b(t),n=t.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(wi,""),[r,n]}function IY(t){var e=t[1].Tooltip,r=pe(10+2*(e.length+1));r.write_shift(2,2048);var n=Er(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<e.length;++i)r.write_shift(2,e.charCodeAt(i));return r.write_shift(2,0),r}function OY(t){var e=[0,0],r;return r=t.read_shift(2),e[0]=TN[r]||r,r=t.read_shift(2),e[1]=TN[r]||r,e}function MY(t){return t||(t=pe(4)),t.write_shift(2,1),t.write_shift(2,1),t}function NY(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(_$(t));return r}function RY(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(_$(t));return r}function DY(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function E$(t,e,r){if(!r.cellStyles)return ui(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),a=t.read_shift(n),s=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(2);n==2&&(t.l+=2);var c={s:i,e:a,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function FY(t,e){var r=pe(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function LY(t,e){var r={};return e<32||(t.l+=16,r.header=si(t),r.footer=si(t),t.l+=2),r}function $Y(t,e,r){var n={area:!1};if(r.biff!=5)return t.l+=e,n;var i=t.read_shift(1);return t.l+=3,i&16&&(n.area=!0),n}function BY(t){for(var e=pe(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}var UY=Ao,jY=g$,VY=Wy;function HY(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i={fmt:e,env:r,len:n,data:t.slice(t.l,t.l+n)};return t.l+=n,i}function WY(t,e,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Ao(t);++t.l;var i=Ad(t,e-7,r);return n.t="str",n.val=i,n}function zY(t){var e=Ao(t);++t.l;var r=si(t);return e.t="n",e.val=r,e}function GY(t,e,r){var n=pe(15);return Xy(n,t,e),n.write_shift(8,r,"f"),n}function qY(t){var e=Ao(t);++t.l;var r=t.read_shift(2);return e.t="n",e.val=r,e}function XY(t,e,r){var n=pe(9);return Xy(n,t,e),n.write_shift(2,r),n}function KY(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function YY(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function JY(t,e,r){var n=t.l+e,i=Ao(t),a=t.read_shift(2),s=ed(t,a,r);return t.l=n,i.t="str",i.val=s,i}var ZY=[2,3,48,49,131,139,140,245],pE=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Db({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=Xc(1);switch(l.type){case"base64":u=ca(ga(o));break;case"binary":u=ca(o);break;case"buffer":case"array":u=o;break}Ln(u,0);var f=u.read_shift(1),d=!!(f&136),h=!1,m=!1;switch(f){case 2:break;case 3:break;case 48:h=!0,d=!0;break;case 49:h=!0,d=!0;break;case 131:break;case 139:break;case 140:m=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var p=0,y=521;f==2&&(p=u.read_shift(2)),u.l+=3,f!=2&&(p=u.read_shift(4)),p>1048576&&(p=1e6),f!=2&&(y=u.read_shift(2));var _=u.read_shift(2),b=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(b=t[u[u.l]]),u.l+=1,u.l+=2),m&&(u.l+=36);for(var w=[],A={},S=Math.min(u.length,f==2?521:y-10-(h?264:0)),T=m?32:11;u.l<S&&u[u.l]!=13;)switch(A={},A.name=Sg.utils.decode(b,u.slice(u.l,u.l+T)).replace(/[\u0000\r\n].*$/g,""),u.l+=T,A.type=String.fromCharCode(u.read_shift(1)),f!=2&&!m&&(A.offset=u.read_shift(4)),A.len=u.read_shift(1),f==2&&(A.offset=u.read_shift(2)),A.dec=u.read_shift(1),A.name.length&&w.push(A),f!=2&&(u.l+=m?13:14),A.type){case"B":(!h||A.len!=8)&&l.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+A.type)}if(u[u.l]!==13&&(u.l=y-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=y;var E=0,P=0;for(c[0]=[],P=0;P!=w.length;++P)c[0][P]=w[P].name;for(;p-- >0;){if(u[u.l]===42){u.l+=_;continue}for(++u.l,c[++E]=[],P=0,P=0;P!=w.length;++P){var k=u.slice(u.l,u.l+w[P].len);u.l+=w[P].len,Ln(k,0);var D=Sg.utils.decode(b,k);switch(w[P].type){case"C":D.trim().length&&(c[E][P]=D.replace(/\s+$/,""));break;case"D":D.length===8?c[E][P]=new Date(+D.slice(0,4),+D.slice(4,6)-1,+D.slice(6,8)):c[E][P]=D;break;case"F":c[E][P]=parseFloat(D.trim());break;case"+":case"I":c[E][P]=m?k.read_shift(-4,"i")^2147483648:k.read_shift(4,"i");break;case"L":switch(D.trim().toUpperCase()){case"Y":case"T":c[E][P]=!0;break;case"N":case"F":c[E][P]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+D+"|")}break;case"M":if(!d)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[E][P]="##MEMO##"+(m?parseInt(D.trim(),10):k.read_shift(4));break;case"N":D=D.replace(/\u0000/g,"").trim(),D&&D!="."&&(c[E][P]=+D||0);break;case"@":c[E][P]=new Date(k.read_shift(-8,"f")-621356832e5);break;case"T":c[E][P]=new Date((k.read_shift(4)-2440588)*864e5+k.read_shift(4));break;case"Y":c[E][P]=k.read_shift(4,"i")/1e4+k.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[E][P]=-k.read_shift(-8,"f");break;case"B":if(h&&w[P].len==8){c[E][P]=k.read_shift(8,"f");break}case"G":case"P":k.l+=w[P].len;break;case"0":if(w[P].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[P].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=w,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=yp(r(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function i(o,l){try{return ou(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&Cs(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=Hi(),f=$_(o,{header:1,raw:!0,cellDates:!0}),d=f[0],h=f.slice(1),m=o["!cols"]||[],p=0,y=0,_=0,b=1;for(p=0;p<d.length;++p){if(((m[p]||{}).DBF||{}).name){d[p]=m[p].DBF.name,++_;continue}if(d[p]!=null){if(++_,typeof d[p]=="number"&&(d[p]=d[p].toString(10)),typeof d[p]!="string")throw new Error("DBF Invalid column name "+d[p]+" |"+typeof d[p]+"|");if(d.indexOf(d[p])!==p){for(y=0;y<1024;++y)if(d.indexOf(d[p]+"_"+y)==-1){d[p]+="_"+y;break}}}}var w=It(o["!ref"]),A=[],S=[],T=[];for(p=0;p<=w.e.c-w.s.c;++p){var E="",P="",k=0,D=[];for(y=0;y<h.length;++y)h[y][p]!=null&&D.push(h[y][p]);if(D.length==0||d[p]==null){A[p]="?";continue}for(y=0;y<D.length;++y){switch(typeof D[y]){case"number":P="B";break;case"string":P="C";break;case"boolean":P="L";break;case"object":P=D[y]instanceof Date?"D":"C";break;default:P="C"}k=Math.max(k,String(D[y]).length),E=E&&E!=P?"C":P}k>250&&(k=250),P=((m[p]||{}).DBF||{}).type,P=="C"&&m[p].DBF.len>k&&(k=m[p].DBF.len),E=="B"&&P=="N"&&(E="N",T[p]=m[p].DBF.dec,k=m[p].DBF.len),S[p]=E=="C"||P=="N"?k:a[E]||0,b+=S[p],A[p]=E}var I=u.next(32);for(I.write_shift(4,318902576),I.write_shift(4,h.length),I.write_shift(2,296+32*_),I.write_shift(2,b),p=0;p<4;++p)I.write_shift(4,0);for(I.write_shift(4,0|(+e[m6]||3)<<8),p=0,y=0;p<d.length;++p)if(d[p]!=null){var N=u.next(32),U=(d[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);N.write_shift(1,U,"sbcs"),N.write_shift(1,A[p]=="?"?"C":A[p],"sbcs"),N.write_shift(4,y),N.write_shift(1,S[p]||a[A[p]]||0),N.write_shift(1,T[p]||0),N.write_shift(1,2),N.write_shift(4,0),N.write_shift(1,0),N.write_shift(4,0),N.write_shift(4,0),y+=S[p]||a[A[p]]||0}var X=u.next(264);for(X.write_shift(4,13),p=0;p<65;++p)X.write_shift(4,0);for(p=0;p<h.length;++p){var G=u.next(b);for(G.write_shift(1,0),y=0;y<d.length;++y)if(d[y]!=null)switch(A[y]){case"L":G.write_shift(1,h[p][y]==null?63:h[p][y]?84:70);break;case"B":G.write_shift(8,h[p][y]||0,"f");break;case"N":var Q="0";for(typeof h[p][y]=="number"&&(Q=h[p][y].toFixed(T[y]||0)),_=0;_<S[y]-Q.length;++_)G.write_shift(1,32);G.write_shift(1,Q,"sbcs");break;case"D":h[p][y]?(G.write_shift(4,("0000"+h[p][y].getFullYear()).slice(-4),"sbcs"),G.write_shift(2,("00"+(h[p][y].getMonth()+1)).slice(-2),"sbcs"),G.write_shift(2,("00"+h[p][y].getDate()).slice(-2),"sbcs")):G.write_shift(8,"00000000","sbcs");break;case"C":var J=String(h[p][y]!=null?h[p][y]:"").slice(0,S[y]);for(G.write_shift(1,J,"sbcs"),_=0;_<S[y]-J.length;++_)G.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:i,to_sheet:n,from_sheet:s}}(),C$=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Lr(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(d,h){var m=t[h];return typeof m=="number"?ZM(m):m},n=function(d,h,m){var p=h.charCodeAt(0)-32<<4|m.charCodeAt(0)-48;return p==59?d:ZM(p)};t["|"]=254;function i(d,h){switch(h.type){case"base64":return a(ga(d),h);case"binary":return a(d,h);case"buffer":return a(vt&&Buffer.isBuffer(d)?d.toString("binary"):su(d),h);case"array":return a(Zf(d),h)}throw new Error("Unrecognized type "+h.type)}function a(d,h){var m=d.split(/[\n\r]+/),p=-1,y=-1,_=0,b=0,w=[],A=[],S=null,T={},E=[],P=[],k=[],D=0,I;for(+h.codepage>=0&&Cs(+h.codepage);_!==m.length;++_){D=0;var N=m[_].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),U=N.replace(/;;/g,"\0").split(";").map(function(Z){return Z.replace(/\u0000/g,";")}),X=U[0],G;if(N.length>0)switch(X){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":U[1].charAt(0)=="P"&&A.push(N.slice(3).replace(/;;/g,";"));break;case"C":var Q=!1,J=!1,ee=!1,V=!1,ne=-1,se=-1;for(b=1;b<U.length;++b)switch(U[b].charAt(0)){case"A":break;case"X":y=parseInt(U[b].slice(1))-1,J=!0;break;case"Y":for(p=parseInt(U[b].slice(1))-1,J||(y=0),I=w.length;I<=p;++I)w[I]=[];break;case"K":G=U[b].slice(1),G.charAt(0)==='"'?G=G.slice(1,G.length-1):G==="TRUE"?G=!0:G==="FALSE"?G=!1:isNaN(Ns(G))?isNaN(D0(G).getDate())||(G=cr(G)):(G=Ns(G),S!==null&&gp(S)&&(G=Lb(G))),Q=!0;break;case"E":V=!0;var R=Sh(U[b].slice(1),{r:p,c:y});w[p][y]=[w[p][y],R];break;case"S":ee=!0,w[p][y]=[w[p][y],"S5S"];break;case"G":break;case"R":ne=parseInt(U[b].slice(1))-1;break;case"C":se=parseInt(U[b].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+N)}if(Q&&(w[p][y]&&w[p][y].length==2?w[p][y][0]=G:w[p][y]=G,S=null),ee){if(V)throw new Error("SYLK shared formula cannot have own formula");var W=ne>-1&&w[ne][se];if(!W||!W[1])throw new Error("SYLK shared formula cannot find base");w[p][y][1]=z$(W[1],{r:p-ne,c:y-se})}break;case"F":var Y=0;for(b=1;b<U.length;++b)switch(U[b].charAt(0)){case"X":y=parseInt(U[b].slice(1))-1,++Y;break;case"Y":for(p=parseInt(U[b].slice(1))-1,I=w.length;I<=p;++I)w[I]=[];break;case"M":D=parseInt(U[b].slice(1))/20;break;case"F":break;case"G":break;case"P":S=A[parseInt(U[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(k=U[b].slice(1).split(" "),I=parseInt(k[0],10);I<=parseInt(k[1],10);++I)D=parseInt(k[2],10),P[I-1]=D===0?{hidden:!0}:{wch:D},Kc(P[I-1]);break;case"C":y=parseInt(U[b].slice(1))-1,P[y]||(P[y]={});break;case"R":p=parseInt(U[b].slice(1))-1,E[p]||(E[p]={}),D>0?(E[p].hpt=D,E[p].hpx=L0(D)):D===0&&(E[p].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+N)}Y<1&&(S=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+N)}}return E.length>0&&(T["!rows"]=E),P.length>0&&(T["!cols"]=P),h&&h.sheetRows&&(w=w.slice(0,h.sheetRows)),[w,T]}function s(d,h){var m=i(d,h),p=m[0],y=m[1],_=yp(p,h);return Lr(y).forEach(function(b){_[b]=y[b]}),_}function o(d,h){return ou(s(d,h),h)}function l(d,h,m,p){var y="C;Y"+(m+1)+";X"+(p+1)+";K";switch(d.t){case"n":y+=d.v||0,d.f&&!d.F&&(y+=";E"+YP(d.f,{r:m,c:p}));break;case"b":y+=d.v?"TRUE":"FALSE";break;case"e":y+=d.w||d.v;break;case"d":y+='"'+(d.w||d.v)+'"';break;case"s":y+='"'+d.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function c(d,h){h.forEach(function(m,p){var y="F;W"+(p+1)+" "+(p+1)+" ";m.hidden?y+="0":(typeof m.width=="number"&&!m.wpx&&(m.wpx=Og(m.width)),typeof m.wpx=="number"&&!m.wch&&(m.wch=Mg(m.wpx)),typeof m.wch=="number"&&(y+=Math.round(m.wch))),y.charAt(y.length-1)!=" "&&d.push(y)})}function u(d,h){h.forEach(function(m,p){var y="F;";m.hidden?y+="M0;":m.hpt?y+="M"+20*m.hpt+";":m.hpx&&(y+="M"+20*Ng(m.hpx)+";"),y.length>2&&d.push(y+"R"+(p+1))})}function f(d,h){var m=["ID;PWXL;N;E"],p=[],y=It(d["!ref"]),_,b=Array.isArray(d),w=`\r
`;m.push("P;PGeneral"),m.push("F;P0;DG0G8;M255"),d["!cols"]&&c(m,d["!cols"]),d["!rows"]&&u(m,d["!rows"]),m.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var A=y.s.r;A<=y.e.r;++A)for(var S=y.s.c;S<=y.e.c;++S){var T=Ze({r:A,c:S});_=b?(d[A]||[])[S]:d[T],!(!_||_.v==null&&(!_.f||_.F))&&p.push(l(_,d,A,S))}return m.join(w)+w+p.join(w)+w+"E"+w}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),k$=function(){function t(a,s){switch(s.type){case"base64":return e(ga(a),s);case"binary":return e(a,s);case"buffer":return e(vt&&Buffer.isBuffer(a)?a.toString("binary"):su(a),s);case"array":return e(Zf(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){for(var o=a.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var d=o[u].trim().split(","),h=d[0],m=d[1];++u;for(var p=o[u]||"";(p.match(/["]/g)||[]).length&1&&u<o.length-1;)p+=`
`+o[++u];switch(p=p.trim(),+h){case-1:if(p==="BOT"){f[++l]=[],c=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?f[l][c]=!0:p==="FALSE"?f[l][c]=!1:isNaN(Ns(m))?isNaN(D0(m).getDate())?f[l][c]=m:f[l][c]=cr(m):f[l][c]=Ns(m),++c;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),f[l][c++]=p!==""?p:null;break}if(p==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(a,s){return yp(t(a,s),s)}function n(a,s){return ou(r(a,s),s)}var i=function(){var a=function(l,c,u,f,d){l.push(c),l.push(u+","+f),l.push('"'+d.replace(/"/g,'""')+'"')},s=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=It(l["!ref"]),f,d=Array.isArray(l);a(c,"TABLE",0,1,"sheetjs"),a(c,"VECTORS",0,u.e.r-u.s.r+1,""),a(c,"TUPLES",0,u.e.c-u.s.c+1,""),a(c,"DATA",0,0,"");for(var h=u.s.r;h<=u.e.r;++h){s(c,-1,0,"BOT");for(var m=u.s.c;m<=u.e.c;++m){var p=Ze({r:h,c:m});if(f=d?(l[h]||[])[m]:l[p],!f){s(c,1,0,"");continue}switch(f.t){case"n":var y=f.w;!y&&f.v!=null&&(y=f.v),y==null?f.f&&!f.F?s(c,1,0,"="+f.f):s(c,1,0,""):s(c,0,y,"V");break;case"b":s(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Ka(f.z||Je[14],gn(cr(f.v)))),s(c,0,f.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var _=`\r
`,b=c.join(_);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),P$=function(){function t(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,d){for(var h=f.split(`
`),m=-1,p=-1,y=0,_=[];y!==h.length;++y){var b=h[y].trim().split(":");if(b[0]==="cell"){var w=Er(b[1]);if(_.length<=w.r)for(m=_.length;m<=w.r;++m)_[m]||(_[m]=[]);switch(m=w.r,p=w.c,b[2]){case"t":_[m][p]=t(b[3]);break;case"v":_[m][p]=+b[3];break;case"vtf":var A=b[b.length-1];case"vtc":switch(b[3]){case"nl":_[m][p]=!!+b[4];break;default:_[m][p]=+b[4];break}b[2]=="vtf"&&(_[m][p]=[_[m][p],A])}}}return d&&d.sheetRows&&(_=_.slice(0,d.sheetRows)),_}function n(f,d){return yp(r(f,d),d)}function i(f,d){return ou(n(f,d),d)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var d=[],h=[],m,p="",y=Wi(f["!ref"]),_=Array.isArray(f),b=y.s.r;b<=y.e.r;++b)for(var w=y.s.c;w<=y.e.c;++w)if(p=Ze({r:b,c:w}),m=_?(f[b]||[])[w]:f[p],!(!m||m.v==null||m.t==="z")){switch(h=["cell",p,"t"],m.t){case"s":case"str":h.push(e(m.v));break;case"n":m.f?(h[2]="vtf",h[3]="n",h[4]=m.v,h[5]=e(m.f)):(h[2]="v",h[3]=m.v);break;case"b":h[2]="vt"+(m.f?"f":"c"),h[3]="nl",h[4]=m.v?"1":"0",h[5]=e(m.f||(m.v?"TRUE":"FALSE"));break;case"d":var A=gn(cr(m.v));h[2]="vtc",h[3]="nd",h[4]=""+A,h[5]=m.w||Ka(m.z||Je[14],A);break;case"e":continue}d.push(h.join(":"))}return d.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),d.push("valueformat:1:text-wiki"),d.join(`
`)}function u(f){return[a,s,o,s,c(f),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:u}}(),F0=function(){function t(u,f,d,h,m){m.raw?f[d][h]=u:u===""||(u==="TRUE"?f[d][h]=!0:u==="FALSE"?f[d][h]=!1:isNaN(Ns(u))?isNaN(D0(u).getDate())?f[d][h]=u:f[d][h]=cr(u):f[d][h]=Ns(u))}function e(u,f){var d=f||{},h=[];if(!u||u.length===0)return h;for(var m=u.split(/[\r\n]/),p=m.length-1;p>=0&&m[p].length===0;)--p;for(var y=10,_=0,b=0;b<=p;++b)_=m[b].indexOf(" "),_==-1?_=m[b].length:_++,y=Math.max(y,_);for(b=0;b<=p;++b){h[b]=[];var w=0;for(t(m[b].slice(0,y).trim(),h,b,w,d),w=1;w<=(m[b].length-y)/10+1;++w)t(m[b].slice(y+(w-1)*10,y+w*10).trim(),h,b,w,d)}return d.sheetRows&&(h=h.slice(0,d.sheetRows)),h}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(u){for(var f={},d=!1,h=0,m=0;h<u.length;++h)(m=u.charCodeAt(h))==34?d=!d:!d&&m in r&&(f[m]=(f[m]||0)+1);m=[];for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&m.push([f[h],h]);if(!m.length){f=n;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&m.push([f[h],h])}return m.sort(function(p,y){return p[0]-y[0]||n[p[1]]-n[y[1]]}),r[m.pop()[1]]||44}function a(u,f){var d=f||{},h="",m=d.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(h=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(h=u.charAt(4),u=u.slice(6)):h=i(u.slice(0,1024)):d&&d.FS?h=d.FS:h=i(u.slice(0,1024));var y=0,_=0,b=0,w=0,A=0,S=h.charCodeAt(0),T=!1,E=0,P=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var k=d.dateNF!=null?$q(d.dateNF):null;function D(){var I=u.slice(w,A),N={};if(I.charAt(0)=='"'&&I.charAt(I.length-1)=='"'&&(I=I.slice(1,-1).replace(/""/g,'"')),I.length===0)N.t="z";else if(d.raw)N.t="s",N.v=I;else if(I.trim().length===0)N.t="s",N.v=I;else if(I.charCodeAt(0)==61)I.charCodeAt(1)==34&&I.charCodeAt(I.length-1)==34?(N.t="s",N.v=I.slice(2,-1).replace(/""/g,'"')):hQ(I)?(N.t="n",N.f=I.slice(1)):(N.t="s",N.v=I);else if(I=="TRUE")N.t="b",N.v=!0;else if(I=="FALSE")N.t="b",N.v=!1;else if(!isNaN(b=Ns(I)))N.t="n",d.cellText!==!1&&(N.w=I),N.v=b;else if(!isNaN(D0(I).getDate())||k&&I.match(k)){N.z=d.dateNF||Je[14];var U=0;k&&I.match(k)&&(I=Bq(I,d.dateNF,I.match(k)||[]),U=1),d.cellDates?(N.t="d",N.v=cr(I,U)):(N.t="n",N.v=gn(cr(I,U))),d.cellText!==!1&&(N.w=Ka(N.z,N.v instanceof Date?gn(N.v):N.v)),d.cellNF||delete N.z}else N.t="s",N.v=I;if(N.t=="z"||(d.dense?(m[y]||(m[y]=[]),m[y][_]=N):m[Ze({c:_,r:y})]=N),w=A+1,P=u.charCodeAt(w),p.e.c<_&&(p.e.c=_),p.e.r<y&&(p.e.r=y),E==S)++_;else if(_=0,++y,d.sheetRows&&d.sheetRows<=y)return!0}e:for(;A<u.length;++A)switch(E=u.charCodeAt(A)){case 34:P===34&&(T=!T);break;case S:case 10:case 13:if(!T&&D())break e;break}return A-w>0&&D(),m["!ref"]=ct(p),m}function s(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?a(u,f):yp(e(u,f),f)}function o(u,f){var d="",h=f.type=="string"?[0,0,0,0]:iI(u,f);switch(f.type){case"base64":d=ga(u);break;case"binary":d=u;break;case"buffer":f.codepage==65001?d=u.toString("utf8"):f.codepage&&typeof Sg<"u"||(d=vt&&Buffer.isBuffer(u)?u.toString("binary"):su(u));break;case"array":d=Zf(u);break;case"string":d=u;break;default:throw new Error("Unrecognized type "+f.type)}return h[0]==239&&h[1]==187&&h[2]==191?d=Xt(d.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?d=Xt(d):f.type=="binary"&&typeof Sg<"u",d.slice(0,19)=="socialcalc:version:"?P$.to_sheet(f.type=="string"?d:Xt(d),f):s(d,f)}function l(u,f){return ou(o(u,f),f)}function c(u){for(var f=[],d=It(u["!ref"]),h,m=Array.isArray(u),p=d.s.r;p<=d.e.r;++p){for(var y=[],_=d.s.c;_<=d.e.c;++_){var b=Ze({r:p,c:_});if(h=m?(u[p]||[])[_]:u[b],!h||h.v==null){y.push("          ");continue}for(var w=(h.w||(kl(h),h.w)||"").slice(0,10);w.length<10;)w+=" ";y.push(w+(_===0?" ":""))}f.push(y.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function QY(t,e){var r=e||{},n=!!r.WTF;r.WTF=!0;try{var i=C$.to_workbook(t,r);return r.WTF=n,i}catch(a){if(r.WTF=n,!a.message.match(/SYLK bad record ID/)&&n)throw a;return F0.to_workbook(t,e)}}var Vf=function(){function t(R,W,Y){if(R){Ln(R,R.l||0);for(var Z=Y.Enum||ne;R.l<R.length;){var oe=R.read_shift(2),de=Z[oe]||Z[65535],ve=R.read_shift(2),te=R.l+ve,fe=de.f&&de.f(R,ve,Y);if(R.l=te,W(fe,de,oe))return}}}function e(R,W){switch(W.type){case"base64":return r(ca(ga(R)),W);case"binary":return r(ca(R),W);case"buffer":case"array":return r(R,W)}throw"Unsupported type "+W.type}function r(R,W){if(!R)return R;var Y=W||{},Z=Y.dense?[]:{},oe="Sheet1",de="",ve=0,te={},fe=[],be=[],L={s:{r:0,c:0},e:{r:0,c:0}},We=Y.sheetRows||0;if(R[2]==0&&(R[3]==8||R[3]==9)&&R.length>=16&&R[14]==5&&R[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(R[2]==2)Y.Enum=ne,t(R,function(xe,bt,Zt){switch(Zt){case 0:Y.vers=xe,xe>=4096&&(Y.qpro=!0);break;case 6:L=xe;break;case 204:xe&&(de=xe);break;case 222:de=xe;break;case 15:case 51:Y.qpro||(xe[1].v=xe[1].v.slice(1));case 13:case 14:case 16:Zt==14&&(xe[2]&112)==112&&(xe[2]&15)>1&&(xe[2]&15)<15&&(xe[1].z=Y.dateNF||Je[14],Y.cellDates&&(xe[1].t="d",xe[1].v=Lb(xe[1].v))),Y.qpro&&xe[3]>ve&&(Z["!ref"]=ct(L),te[oe]=Z,fe.push(oe),Z=Y.dense?[]:{},L={s:{r:0,c:0},e:{r:0,c:0}},ve=xe[3],oe=de||"Sheet"+(ve+1),de="");var Pr=Y.dense?(Z[xe[0].r]||[])[xe[0].c]:Z[Ze(xe[0])];if(Pr){Pr.t=xe[1].t,Pr.v=xe[1].v,xe[1].z!=null&&(Pr.z=xe[1].z),xe[1].f!=null&&(Pr.f=xe[1].f);break}Y.dense?(Z[xe[0].r]||(Z[xe[0].r]=[]),Z[xe[0].r][xe[0].c]=xe[1]):Z[Ze(xe[0])]=xe[1];break}},Y);else if(R[2]==26||R[2]==14)Y.Enum=se,R[2]==14&&(Y.qpro=!0,R.l=0),t(R,function(xe,bt,Zt){switch(Zt){case 204:oe=xe;break;case 22:xe[1].v=xe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(xe[3]>ve&&(Z["!ref"]=ct(L),te[oe]=Z,fe.push(oe),Z=Y.dense?[]:{},L={s:{r:0,c:0},e:{r:0,c:0}},ve=xe[3],oe="Sheet"+(ve+1)),We>0&&xe[0].r>=We)break;Y.dense?(Z[xe[0].r]||(Z[xe[0].r]=[]),Z[xe[0].r][xe[0].c]=xe[1]):Z[Ze(xe[0])]=xe[1],L.e.c<xe[0].c&&(L.e.c=xe[0].c),L.e.r<xe[0].r&&(L.e.r=xe[0].r);break;case 27:xe[14e3]&&(be[xe[14e3][0]]=xe[14e3][1]);break;case 1537:be[xe[0]]=xe[1],xe[0]==ve&&(oe=xe[1]);break}},Y);else throw new Error("Unrecognized LOTUS BOF "+R[2]);if(Z["!ref"]=ct(L),te[de||oe]=Z,fe.push(de||oe),!be.length)return{SheetNames:fe,Sheets:te};for(var Ie={},Ge=[],je=0;je<be.length;++je)te[fe[je]]?(Ge.push(be[je]||fe[je]),Ie[be[je]]=te[be[je]]||te[fe[je]]):(Ge.push(be[je]),Ie[be[je]]={"!ref":"A1"});return{SheetNames:Ge,Sheets:Ie}}function n(R,W){var Y=W||{};if(+Y.codepage>=0&&Cs(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK1 to JS string");var Z=Hi(),oe=It(R["!ref"]),de=Array.isArray(R),ve=[];Ce(Z,0,a(1030)),Ce(Z,6,l(oe));for(var te=Math.min(oe.e.r,8191),fe=oe.s.r;fe<=te;++fe)for(var be=Vr(fe),L=oe.s.c;L<=oe.e.c;++L){fe===oe.s.r&&(ve[L]=Tr(L));var We=ve[L]+be,Ie=de?(R[fe]||[])[L]:R[We];if(!(!Ie||Ie.t=="z"))if(Ie.t=="n")(Ie.v|0)==Ie.v&&Ie.v>=-32768&&Ie.v<=32767?Ce(Z,13,h(fe,L,Ie.v)):Ce(Z,14,p(fe,L,Ie.v));else{var Ge=kl(Ie);Ce(Z,15,f(fe,L,Ge.slice(0,239)))}}return Ce(Z,1),Z.end()}function i(R,W){var Y=W||{};if(+Y.codepage>=0&&Cs(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK3 to JS string");var Z=Hi();Ce(Z,0,s(R));for(var oe=0,de=0;oe<R.SheetNames.length;++oe)(R.Sheets[R.SheetNames[oe]]||{})["!ref"]&&Ce(Z,27,V(R.SheetNames[oe],de++));var ve=0;for(oe=0;oe<R.SheetNames.length;++oe){var te=R.Sheets[R.SheetNames[oe]];if(!(!te||!te["!ref"])){for(var fe=It(te["!ref"]),be=Array.isArray(te),L=[],We=Math.min(fe.e.r,8191),Ie=fe.s.r;Ie<=We;++Ie)for(var Ge=Vr(Ie),je=fe.s.c;je<=fe.e.c;++je){Ie===fe.s.r&&(L[je]=Tr(je));var xe=L[je]+Ge,bt=be?(te[Ie]||[])[je]:te[xe];if(!(!bt||bt.t=="z"))if(bt.t=="n")Ce(Z,23,D(Ie,je,ve,bt.v));else{var Zt=kl(bt);Ce(Z,22,E(Ie,je,ve,Zt.slice(0,239)))}}++ve}}return Ce(Z,1),Z.end()}function a(R){var W=pe(2);return W.write_shift(2,R),W}function s(R){var W=pe(26);W.write_shift(2,4096),W.write_shift(2,4),W.write_shift(4,0);for(var Y=0,Z=0,oe=0,de=0;de<R.SheetNames.length;++de){var ve=R.SheetNames[de],te=R.Sheets[ve];if(!(!te||!te["!ref"])){++oe;var fe=Wi(te["!ref"]);Y<fe.e.r&&(Y=fe.e.r),Z<fe.e.c&&(Z=fe.e.c)}}return Y>8191&&(Y=8191),W.write_shift(2,Y),W.write_shift(1,oe),W.write_shift(1,Z),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(1,1),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(4,0),W}function o(R,W,Y){var Z={s:{c:0,r:0},e:{c:0,r:0}};return W==8&&Y.qpro?(Z.s.c=R.read_shift(1),R.l++,Z.s.r=R.read_shift(2),Z.e.c=R.read_shift(1),R.l++,Z.e.r=R.read_shift(2),Z):(Z.s.c=R.read_shift(2),Z.s.r=R.read_shift(2),W==12&&Y.qpro&&(R.l+=2),Z.e.c=R.read_shift(2),Z.e.r=R.read_shift(2),W==12&&Y.qpro&&(R.l+=2),Z.s.c==65535&&(Z.s.c=Z.e.c=Z.s.r=Z.e.r=0),Z)}function l(R){var W=pe(8);return W.write_shift(2,R.s.c),W.write_shift(2,R.s.r),W.write_shift(2,R.e.c),W.write_shift(2,R.e.r),W}function c(R,W,Y){var Z=[{c:0,r:0},{t:"n",v:0},0,0];return Y.qpro&&Y.vers!=20768?(Z[0].c=R.read_shift(1),Z[3]=R.read_shift(1),Z[0].r=R.read_shift(2),R.l+=2):(Z[2]=R.read_shift(1),Z[0].c=R.read_shift(2),Z[0].r=R.read_shift(2)),Z}function u(R,W,Y){var Z=R.l+W,oe=c(R,W,Y);if(oe[1].t="s",Y.vers==20768){R.l++;var de=R.read_shift(1);return oe[1].v=R.read_shift(de,"utf8"),oe}return Y.qpro&&R.l++,oe[1].v=R.read_shift(Z-R.l,"cstr"),oe}function f(R,W,Y){var Z=pe(7+Y.length);Z.write_shift(1,255),Z.write_shift(2,W),Z.write_shift(2,R),Z.write_shift(1,39);for(var oe=0;oe<Z.length;++oe){var de=Y.charCodeAt(oe);Z.write_shift(1,de>=128?95:de)}return Z.write_shift(1,0),Z}function d(R,W,Y){var Z=c(R,W,Y);return Z[1].v=R.read_shift(2,"i"),Z}function h(R,W,Y){var Z=pe(7);return Z.write_shift(1,255),Z.write_shift(2,W),Z.write_shift(2,R),Z.write_shift(2,Y,"i"),Z}function m(R,W,Y){var Z=c(R,W,Y);return Z[1].v=R.read_shift(8,"f"),Z}function p(R,W,Y){var Z=pe(13);return Z.write_shift(1,255),Z.write_shift(2,W),Z.write_shift(2,R),Z.write_shift(8,Y,"f"),Z}function y(R,W,Y){var Z=R.l+W,oe=c(R,W,Y);if(oe[1].v=R.read_shift(8,"f"),Y.qpro)R.l=Z;else{var de=R.read_shift(2);A(R.slice(R.l,R.l+de),oe),R.l+=de}return oe}function _(R,W,Y){var Z=W&32768;return W&=-32769,W=(Z?R:0)+(W>=8192?W-16384:W),(Z?"":"$")+(Y?Tr(W):Vr(W))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function A(R,W){Ln(R,0);for(var Y=[],Z=0,oe="",de="",ve="",te="";R.l<R.length;){var fe=R[R.l++];switch(fe){case 0:Y.push(R.read_shift(8,"f"));break;case 1:de=_(W[0].c,R.read_shift(2),!0),oe=_(W[0].r,R.read_shift(2),!1),Y.push(de+oe);break;case 2:{var be=_(W[0].c,R.read_shift(2),!0),L=_(W[0].r,R.read_shift(2),!1);de=_(W[0].c,R.read_shift(2),!0),oe=_(W[0].r,R.read_shift(2),!1),Y.push(be+L+":"+de+oe)}break;case 3:if(R.l<R.length){console.error("WK1 premature formula end");return}break;case 4:Y.push("("+Y.pop()+")");break;case 5:Y.push(R.read_shift(2));break;case 6:{for(var We="";fe=R[R.l++];)We+=String.fromCharCode(fe);Y.push('"'+We.replace(/"/g,'""')+'"')}break;case 8:Y.push("-"+Y.pop());break;case 23:Y.push("+"+Y.pop());break;case 22:Y.push("NOT("+Y.pop()+")");break;case 20:case 21:te=Y.pop(),ve=Y.pop(),Y.push(["AND","OR"][fe-20]+"("+ve+","+te+")");break;default:if(fe<32&&w[fe])te=Y.pop(),ve=Y.pop(),Y.push(ve+w[fe]+te);else if(b[fe]){if(Z=b[fe][1],Z==69&&(Z=R[R.l++]),Z>Y.length){console.error("WK1 bad formula parse 0x"+fe.toString(16)+":|"+Y.join("|")+"|");return}var Ie=Y.slice(-Z);Y.length-=Z,Y.push(b[fe][0]+"("+Ie.join(",")+")")}else return fe<=7?console.error("WK1 invalid opcode "+fe.toString(16)):fe<=24?console.error("WK1 unsupported op "+fe.toString(16)):fe<=30?console.error("WK1 invalid opcode "+fe.toString(16)):fe<=115?console.error("WK1 unsupported function opcode "+fe.toString(16)):console.error("WK1 unrecognized opcode "+fe.toString(16))}}Y.length==1?W[1].f=""+Y[0]:console.error("WK1 bad formula parse |"+Y.join("|")+"|")}function S(R){var W=[{c:0,r:0},{t:"n",v:0},0];return W[0].r=R.read_shift(2),W[3]=R[R.l++],W[0].c=R[R.l++],W}function T(R,W){var Y=S(R);return Y[1].t="s",Y[1].v=R.read_shift(W-4,"cstr"),Y}function E(R,W,Y,Z){var oe=pe(6+Z.length);oe.write_shift(2,R),oe.write_shift(1,Y),oe.write_shift(1,W),oe.write_shift(1,39);for(var de=0;de<Z.length;++de){var ve=Z.charCodeAt(de);oe.write_shift(1,ve>=128?95:ve)}return oe.write_shift(1,0),oe}function P(R,W){var Y=S(R);Y[1].v=R.read_shift(2);var Z=Y[1].v>>1;if(Y[1].v&1)switch(Z&7){case 0:Z=(Z>>3)*5e3;break;case 1:Z=(Z>>3)*500;break;case 2:Z=(Z>>3)/20;break;case 3:Z=(Z>>3)/200;break;case 4:Z=(Z>>3)/2e3;break;case 5:Z=(Z>>3)/2e4;break;case 6:Z=(Z>>3)/16;break;case 7:Z=(Z>>3)/64;break}return Y[1].v=Z,Y}function k(R,W){var Y=S(R),Z=R.read_shift(4),oe=R.read_shift(4),de=R.read_shift(2);if(de==65535)return Z===0&&oe===3221225472?(Y[1].t="e",Y[1].v=15):Z===0&&oe===3489660928?(Y[1].t="e",Y[1].v=42):Y[1].v=0,Y;var ve=de&32768;return de=(de&32767)-16446,Y[1].v=(1-ve*2)*(oe*Math.pow(2,de+32)+Z*Math.pow(2,de)),Y}function D(R,W,Y,Z){var oe=pe(14);if(oe.write_shift(2,R),oe.write_shift(1,Y),oe.write_shift(1,W),Z==0)return oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(2,65535),oe;var de=0,ve=0,te=0,fe=0;return Z<0&&(de=1,Z=-Z),ve=Math.log2(Z)|0,Z/=Math.pow(2,ve-31),fe=Z>>>0,fe&2147483648||(Z/=2,++ve,fe=Z>>>0),Z-=fe,fe|=2147483648,fe>>>=0,Z*=Math.pow(2,32),te=Z>>>0,oe.write_shift(4,te),oe.write_shift(4,fe),ve+=16383+(de?32768:0),oe.write_shift(2,ve),oe}function I(R,W){var Y=k(R);return R.l+=W-14,Y}function N(R,W){var Y=S(R),Z=R.read_shift(4);return Y[1].v=Z>>6,Y}function U(R,W){var Y=S(R),Z=R.read_shift(8,"f");return Y[1].v=Z,Y}function X(R,W){var Y=U(R);return R.l+=W-10,Y}function G(R,W){return R[R.l+W-1]==0?R.read_shift(W,"cstr"):""}function Q(R,W){var Y=R[R.l++];Y>W-1&&(Y=W-1);for(var Z="";Z.length<Y;)Z+=String.fromCharCode(R[R.l++]);return Z}function J(R,W,Y){if(!(!Y.qpro||W<21)){var Z=R.read_shift(1);R.l+=17,R.l+=1,R.l+=2;var oe=R.read_shift(W-21,"cstr");return[Z,oe]}}function ee(R,W){for(var Y={},Z=R.l+W;R.l<Z;){var oe=R.read_shift(2);if(oe==14e3){for(Y[oe]=[0,""],Y[oe][0]=R.read_shift(2);R[R.l];)Y[oe][1]+=String.fromCharCode(R[R.l]),R.l++;R.l++}}return Y}function V(R,W){var Y=pe(5+R.length);Y.write_shift(2,14e3),Y.write_shift(2,W);for(var Z=0;Z<R.length;++Z){var oe=R.charCodeAt(Z);Y[Y.l++]=oe>127?95:oe}return Y[Y.l++]=0,Y}var ne={0:{n:"BOF",f:Kr},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:d},14:{n:"NUMBER",f:m},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:G},222:{n:"SHEETNAMELP",f:Q},65535:{n:""}},se={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:T},23:{n:"NUMBER17",f:k},24:{n:"NUMBER18",f:P},25:{n:"FORMULA19",f:I},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ee},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:N},38:{n:"??"},39:{n:"NUMBER27",f:U},40:{n:"FORMULA28",f:X},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:G},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:J},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}}();function eJ(t){var e={},r=t.match(fi),n=0,i=!1;if(r)for(;n!=r.length;++n){var a=Qe(r[n]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;e.cp=wP[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=a.val;break;case"<sz":e.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":a.rgb&&(e.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+a[0])}}return e}var tJ=function(){var t=Eg("t"),e=Eg("rPr");function r(a){var s=a.match(t);if(!s)return{t:"s",v:""};var o={t:"s",v:kt(s[1])},l=a.match(e);return l&&(o.s=eJ(l[1])),o}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(i).map(r).filter(function(o){return o.v})}}(),rJ=function(){var e=/(\r\n|\n)/g;function r(i,a,s){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),a.push('<span style="'+o.join("")+'">'),i.b&&(a.push("<b>"),s.push("</b>")),i.i&&(a.push("<i>"),s.push("</i>")),i.strike&&(a.push("<s>"),s.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(a.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),i}function n(i){var a=[[],i.v,[]];return i.v?(i.s&&r(i.s,a[0],a[2]),a[0].join("")+a[1].replace(e,"<br/>")+a[2].join("")):""}return function(a){return a.map(n).join("")}}(),nJ=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,iJ=/<(?:\w+:)?r>/,aJ=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function zP(t,e){var r=e?e.cellHTML:!0,n={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=kt(Xt(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Xt(t),r&&(n.h=OP(n.t))):t.match(iJ)&&(n.r=Xt(t),n.t=kt(Xt((t.replace(aJ,"").match(nJ)||[]).join("").replace(fi,""))),r&&(n.h=rJ(tJ(n.r)))),n):{t:""}}var sJ=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,oJ=/<(?:\w+:)?(?:si|sstItem)>/g,lJ=/<\/(?:\w+:)?(?:si|sstItem)>/;function cJ(t,e){var r=[],n="";if(!t)return r;var i=t.match(sJ);if(i){n=i[2].replace(oJ,"").split(lJ);for(var a=0;a!=n.length;++a){var s=zP(n[a].trim(),e);s!=null&&(r[r.length]=s)}i=Qe(i[1]),r.Count=i.count,r.Unique=i.uniqueCount}return r}var uJ=/^\s|\s$|[\t\n\r]/;function I$(t,e){if(!e.bookSST)return"";var r=[Wr];r[r.length]=Ee("sst",null,{xmlns:xd[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var i=t[n],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(uJ)&&(a+=' xml:space="preserve"'),a+=">"+Ht(i.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function fJ(t){return[t.read_shift(4),t.read_shift(4)]}function dJ(t,e){var r=[],n=!1;return $l(t,function(a,s,o){switch(o){case 159:r.Count=a[0],r.Unique=a[1];break;case 19:r.push(a);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function hJ(t,e){return e||(e=pe(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var pJ=AX;function mJ(t){var e=Hi();ye(e,159,hJ(t));for(var r=0;r<t.length;++r)ye(e,19,pJ(t[r]));return ye(e,160),e.end()}function O$(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function gl(t,e){var r={};return r.Major=t.read_shift(2),r.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),r}function gJ(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=gl(t,4),e.U=gl(t,4),e.W=gl(t,4),e}function vJ(t){for(var e=t.read_shift(4),r=t.l+e-4,n={},i=t.read_shift(4),a=[];i-- >0;)a.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(n.name=t.read_shift(0,"lpp4"),n.comps=a,t.l!=r)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+r);return n}function yJ(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(vJ(t));return e}function xJ(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function _J(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=gl(t,4),e.U=gl(t,4),e.W=gl(t,4),e}function wJ(t){var e=_J(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function M$(t,e){var r=t.l+e,n={};n.Flags=t.read_shift(4)&63,t.l+=4,n.AlgID=t.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=t.read_shift(4),n.KeySize=t.read_shift(4),n.ProviderType=t.read_shift(4),t.l+=8,n.CSPName=t.read_shift(r-t.l>>1,"utf16le"),t.l=r,n}function N$(t,e){var r={},n=t.l+e;return t.l+=4,r.Salt=t.slice(t.l,t.l+16),t.l+=16,r.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),r.VerifierHash=t.slice(t.l,n),t.l=n,r}function bJ(t){var e=gl(t);switch(e.Minor){case 2:return[e.Minor,SJ(t)];case 3:return[e.Minor,AJ()];case 4:return[e.Minor,TJ(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function SJ(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var r=t.read_shift(4),n=M$(t,r),i=N$(t,t.length-t.l);return{t:"Std",h:n,v:i}}function AJ(){throw new Error("File is password-protected: ECMA-376 Extensible")}function TJ(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var r=t.read_shift(t.length-t.l,"utf8"),n={};return r.replace(fi,function(a){var s=Qe(a);switch(So(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function EJ(t,e){var r={},n=r.EncryptionVersionInfo=gl(t,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,r.EncryptionHeader=M$(t,i),e-=i,r.EncryptionVerifier=N$(t,e),r}function CJ(t){var e={},r=e.EncryptionVersionInfo=gl(t,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function GP(t){var e=0,r,n=O$(t),i=n.length+1,a,s,o,l,c;for(r=Xc(i),r[0]=n.length,a=1;a!=i;++a)r[a]=n[a-1];for(a=i-1;a>=0;--a)s=r[a],o=e&16384?1:0,l=e<<1&32767,c=o|l,e=c^s;return e^52811}var R$=function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},i=function(s,o){return n(s^o)},a=function(s){for(var o=e[s.length-1],l=104,c=s.length-1;c>=0;--c)for(var u=s[c],f=0;f!=7;++f)u&64&&(o^=r[l]),u*=2,--l;return o};return function(s){for(var o=O$(s),l=a(o),c=o.length,u=Xc(16),f=0;f!=16;++f)u[f]=0;var d,h,m;for((c&1)===1&&(d=l>>8,u[c]=i(t[0],d),--c,d=l&255,h=o[o.length-1],u[c]=i(h,d));c>0;)--c,d=l>>8,u[c]=i(o[c],d),--c,d=l&255,u[c]=i(o[c],d);for(c=15,m=15-o.length;m>0;)d=l>>8,u[c]=i(t[m],d),--c,--m,d=l&255,u[c]=i(o[c],d),--c,--m;return u}}(),kJ=function(t,e,r,n,i){i||(i=e),n||(n=R$(t));var a,s;for(a=0;a!=e.length;++a)s=e[a],s^=n[r],s=(s>>5|s<<3)&255,i[a]=s,++r;return[i,r,n]},PJ=function(t){var e=0,r=R$(t);return function(n){var i=kJ("",n,e,r);return e=i[1],i[0]}};function IJ(t,e,r,n){var i={key:Kr(t),verificationBytes:Kr(t)};return r.password&&(i.verifier=GP(r.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=PJ(r.password)),i}function OJ(t,e,r){var n=r||{};return n.Info=t.read_shift(2),t.l-=2,n.Info===1?n.Data=CJ(t):n.Data=EJ(t,e),n}function MJ(t,e,r){var n={Type:r.biff>=8?t.read_shift(2):0};return n.Type?OJ(t,e-2,n):IJ(t,r.biff>=8?e:e-2,r,n),n}var D$=function(){function t(i,a){switch(a.type){case"base64":return e(ga(i),a);case"binary":return e(i,a);case"buffer":return e(vt&&Buffer.isBuffer(i)?i.toString("binary"):su(i),a);case"array":return e(Zf(i),a)}throw new Error("Unrecognized type "+a.type)}function e(i,a){var s=a||{},o=s.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var d=/\\\w+\b/g,h=0,m,p=-1;m=d.exec(u);){switch(m[0]){case"\\cell":var y=u.slice(h,d.lastIndex-m[0].length);if(y[0]==" "&&(y=y.slice(1)),++p,y.length){var _={v:y,t:"s"};Array.isArray(o)?o[f][p]=_:o[Ze({r:f,c:p})]=_}break}h=d.lastIndex}p>c.e.c&&(c.e.c=p)}),o["!ref"]=ct(c),o}function r(i,a){return ou(t(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],s=It(i["!ref"]),o,l=Array.isArray(i),c=s.s.r;c<=s.e.r;++c){a.push("\\trowd\\trautofit1");for(var u=s.s.c;u<=s.e.c;++u)a.push("\\cellx"+(u+1));for(a.push("\\pard\\intbl"),u=s.s.c;u<=s.e.c;++u){var f=Ze({r:c,c:u});o=l?(i[c]||[])[u]:i[f],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(kl(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function NJ(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Ig(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}function RJ(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(e,r,n),a=Math.min(e,r,n),s=i-a;if(s===0)return[0,0,e];var o=0,l=0,c=i+a;switch(l=s/(c>1?2-c:c),i){case e:o=((r-n)/s+6)%6;break;case r:o=(n-e)/s+2;break;case n:o=(e-r)/s+4;break}return[o/6,l,c/2]}function DJ(t){var e=t[0],r=t[1],n=t[2],i=r*2*(n<.5?n:1-n),a=n-i/2,s=[a,a,a],o=6*e,l;if(r!==0)switch(o|0){case 0:case 6:l=i*o,s[0]+=i,s[1]+=l;break;case 1:l=i*(2-o),s[0]+=l,s[1]+=i;break;case 2:l=i*(o-2),s[1]+=i,s[2]+=l;break;case 3:l=i*(4-o),s[1]+=l,s[2]+=i;break;case 4:l=i*(o-4),s[2]+=i,s[0]+=l;break;case 5:l=i*(6-o),s[2]+=l,s[0]+=i;break}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function F_(t,e){if(e===0)return t;var r=RJ(NJ(t));return e<0?r[2]=r[2]*(1+e):r[2]=1-(1-r[2])*(1-e),Ig(DJ(r))}var F$=6,FJ=15,LJ=1,ni=F$;function Og(t){return Math.floor((t+Math.round(128/ni)/256)*ni)}function Mg(t){return Math.floor((t-5)/ni*100+.5)/100}function L_(t){return Math.round((t*ni+5)/ni*256)/256}function wA(t){return L_(Mg(Og(t)))}function qP(t){var e=Math.abs(t-wA(t)),r=ni;if(e>.005)for(ni=LJ;ni<FJ;++ni)Math.abs(t-wA(t))<=e&&(e=Math.abs(t-wA(t)),r=ni);ni=r}function Kc(t){t.width?(t.wpx=Og(t.width),t.wch=Mg(t.wpx),t.MDW=ni):t.wpx?(t.wch=Mg(t.wpx),t.width=L_(t.wch),t.MDW=ni):typeof t.wch=="number"&&(t.width=L_(t.wch),t.wpx=Og(t.width),t.MDW=ni),t.customWidth&&delete t.customWidth}var $J=96,L$=$J;function Ng(t){return t*96/L$}function L0(t){return t*L$/96}var BJ={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function UJ(t,e,r,n){e.Borders=[];var i={},a=!1;(t[0].match(fi)||[]).forEach(function(s){var o=Qe(s);switch(So(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=sr(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=sr(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in borders")}})}function jJ(t,e,r,n){e.Fills=[];var i={},a=!1;(t[0].match(fi)||[]).forEach(function(s){var o=Qe(s);switch(So(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fills")}})}function VJ(t,e,r,n){e.Fonts=[];var i={},a=!1;(t[0].match(fi)||[]).forEach(function(s){var o=Qe(s);switch(So(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=Xt(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?sr(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?sr(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?sr(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?sr(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?sr(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?sr(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?sr(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=wP[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=sr(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var l=Uf[i.color.index];i.color.index==81&&(l=Uf[1]),l||(l=Uf[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(i.color.rgb=F_(r.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fonts")}})}function HJ(t,e,r){e.NumberFmt=[];for(var n=Lr(Je),i=0;i<n.length;++i)e.NumberFmt[n[i]]=Je[n[i]];var a=t[0].match(fi);if(a)for(i=0;i<a.length;++i){var s=Qe(a[i]);switch(So(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=kt(Xt(s.formatCode)),l=parseInt(s.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}ml(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}function WJ(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=Ee("numFmt",null,{numFmtId:n,formatCode:Ht(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Ee("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var Dx=["numFmtId","fillId","fontId","borderId","xfId"],Fx=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function zJ(t,e,r){e.CellXf=[];var n,i=!1;(t[0].match(fi)||[]).forEach(function(a){var s=Qe(a),o=0;switch(So(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<Dx.length;++o)n[Dx[o]]&&(n[Dx[o]]=parseInt(n[Dx[o]],10));for(o=0;o<Fx.length;++o)n[Fx[o]]&&(n[Fx[o]]=sr(n[Fx[o]]));if(e.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[o]){n.numFmtId=o;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=sr(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}function GJ(t){var e=[];return e[e.length]=Ee("cellXfs",null),t.forEach(function(r){e[e.length]=Ee("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Ee("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var qJ=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(e))&&HJ(f,u,c),(f=o.match(i))&&VJ(f,u,l,c),(f=o.match(n))&&jJ(f,u,l,c),(f=o.match(a))&&UJ(f,u,l,c),(f=o.match(r))&&zJ(f,u,c),u}}();function $$(t,e){var r=[Wr,Ee("styleSheet",null,{xmlns:xd[0],"xmlns:vt":fn.vt})],n;return t.SSF&&(n=WJ(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=GJ(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function XJ(t,e){var r=t.read_shift(2),n=li(t);return[r,n]}function KJ(t,e,r){r||(r=pe(6+4*e.length)),r.write_shift(2,t),Cn(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function YJ(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=OX(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=t.read_shift(2);switch(a===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=t.read_shift(1);s!=0&&(n.underline=s);var o=t.read_shift(1);o>0&&(n.family=o);var l=t.read_shift(1);switch(l>0&&(n.charset=l),t.l++,n.color=IX(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=li(t),n}function JJ(t,e){e||(e=pe(25+4*32)),e.write_shift(2,t.sz*20),MX(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),N_(t.color,e);var n=0;return n=2,e.write_shift(1,n),Cn(t.name,e),e.length>e.l?e.slice(0,e.l):e}var ZJ=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],bA,QJ=ui;function VN(t,e){e||(e=pe(4*3+8*7+16*1)),bA||(bA=Db(ZJ));var r=bA[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(N_({auto:1},e),N_({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function eZ(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}function B$(t,e,r){r||(r=pe(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function zp(t,e){return e||(e=pe(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var tZ=ui;function rZ(t,e){return e||(e=pe(51)),e.write_shift(1,0),zp(null,e),zp(null,e),zp(null,e),zp(null,e),zp(null,e),e.length>e.l?e.slice(0,e.l):e}function nZ(t,e){return e||(e=pe(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),M_(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function iZ(t,e,r){var n=pe(2052);return n.write_shift(4,t),M_(e,n),M_(r,n),n.length>n.l?n.slice(0,n.l):n}function aZ(t,e,r){var n={};n.NumberFmt=[];for(var i in Je)n.NumberFmt[i]=Je[i];n.CellXf=[],n.Fonts=[];var a=[],s=!1;return $l(t,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],ml(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=F_(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:a.push(u),s=!0;break;case 38:a.pop(),s=!1;break;default:if(c.T>0)a.push(u);else if(c.T<0)a.pop();else if(!s||r.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}function sZ(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++r}),r!=0&&(ye(t,615,Rs(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&ye(t,44,KJ(i,e[i]))}),ye(t,616))}}function oZ(t){var e=1;ye(t,611,Rs(e)),ye(t,43,JJ({sz:12,color:{theme:1},name:"Calibri",family:2})),ye(t,612)}function lZ(t){var e=2;ye(t,603,Rs(e)),ye(t,45,VN({patternType:"none"})),ye(t,45,VN({patternType:"gray125"})),ye(t,604)}function cZ(t){var e=1;ye(t,613,Rs(e)),ye(t,46,rZ()),ye(t,614)}function uZ(t){var e=1;ye(t,626,Rs(e)),ye(t,47,B$({numFmtId:0},65535)),ye(t,627)}function fZ(t,e){ye(t,617,Rs(e.length)),e.forEach(function(r){ye(t,47,B$(r,0))}),ye(t,618)}function dZ(t){var e=1;ye(t,619,Rs(e)),ye(t,48,nZ({xfId:0,name:"Normal"})),ye(t,620)}function hZ(t){var e=0;ye(t,505,Rs(e)),ye(t,506)}function pZ(t){var e=0;ye(t,508,iZ(e,"TableStyleMedium9","PivotStyleMedium4")),ye(t,509)}function mZ(t,e){var r=Hi();return ye(r,278),sZ(r,t.SSF),oZ(r),lZ(r),cZ(r),uZ(r),fZ(r,e.cellXfs),dZ(r),hZ(r),pZ(r),ye(r,279),r.end()}var gZ=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function vZ(t,e,r){e.themeElements.clrScheme=[];var n={};(t[0].match(fi)||[]).forEach(function(i){var a=Qe(i);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=a.val;break;case"<a:sysClr":n.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(e.themeElements.clrScheme[gZ.indexOf(a[0])]=n,n={}):n.name=a[0].slice(3,a[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function yZ(){}function xZ(){}var _Z=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,wZ=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,bZ=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function SZ(t,e,r){e.themeElements={};var n;[["clrScheme",_Z,vZ],["fontScheme",wZ,yZ],["fmtScheme",bZ,xZ]].forEach(function(i){if(!(n=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,e,r)})}var AZ=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function U$(t,e){(!t||t.length===0)&&(t=XP());var r,n={};if(!(r=t.match(AZ)))throw new Error("themeElements not found in theme");return SZ(r[0],n,e),n.raw=t,n}function XP(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[Wr];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function TZ(t,e,r){var n=t.l+e,i=t.read_shift(4);if(i!==124226){if(!r.cellStyles){t.l=n;return}var a=t.slice(t.l);t.l=n;var s;try{s=M6(a,{type:"array"})}catch{return}var o=ua(s,"theme/theme/theme1.xml",!0);if(o)return U$(o,r)}}function EZ(t){return t.read_shift(4)}function CZ(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=kZ(t,4);break;case 2:e.xclrValue=x$(t);break;case 3:e.xclrValue=EZ(t);break;case 4:t.l+=4;break}return t.l+=8,e}function kZ(t,e){return ui(t,e)}function PZ(t,e){return ui(t,e)}function IZ(t){var e=t.read_shift(2),r=t.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=CZ(t);break;case 6:n[1]=PZ(t,r);break;case 14:case 15:n[1]=t.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+r)}return n}function OZ(t,e){var r=t.l+e;t.l+=2;var n=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),a=[];i-- >0;)a.push(IZ(t,r-t.l));return{ixfe:n,ext:a}}function MZ(t,e){e.forEach(function(r){switch(r[0]){}})}function NZ(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:li(t)}}function RZ(t){var e=pe(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Cn(t.name,e),e.slice(0,e.l)}function DZ(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function FZ(t){var e=pe(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function LZ(t,e){var r=pe(8+2*e.length);return r.write_shift(4,t),Cn(e,r),r.slice(0,r.l)}function $Z(t){return t.l+=4,t.read_shift(4)!=0}function BZ(t,e){var r=pe(8);return r.write_shift(4,t),r.write_shift(4,1),r}function UZ(t,e,r){var n={Types:[],Cell:[],Value:[]},i=r||{},a=[],s=!1,o=2;return $l(t,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:a.push(u),s=!0;break;case 36:a.pop(),s=!1;break;default:if(!c.T){if(!s||i.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function jZ(){var t=Hi();return ye(t,332),ye(t,334,Rs(1)),ye(t,335,RZ({name:"XLDAPR",version:12e4,flags:3496657072})),ye(t,336),ye(t,339,LZ(1,"XLDAPR")),ye(t,52),ye(t,35,Rs(514)),ye(t,4096,Rs(0)),ye(t,4097,Ra(1)),ye(t,36),ye(t,53),ye(t,340),ye(t,337,BZ(1)),ye(t,51,FZ([[1,0]])),ye(t,338),ye(t,333),t.end()}function VZ(t,e,r){var n={Types:[],Cell:[],Value:[]};if(!t)return n;var i=!1,a=2,s;return t.replace(fi,function(o){var l=Qe(o);switch(So(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(s=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):a==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!i&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function j$(){var t=[Wr];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function HZ(t){var e=[];if(!t)return e;var r=1;return(t.match(fi)||[]).forEach(function(n){var i=Qe(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?r=i.i:i.i=r,e.push(i);break}}),e}function WZ(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=Ze(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function zZ(t,e,r){var n=[];return $l(t,function(a,s,o){switch(o){case 63:n.push(a);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function GZ(t,e,r,n){if(!t)return t;var i=n||{},a=!1;$l(t,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!l.T){if(!a||i.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},i)}function qZ(t,e){if(!t)return"??";var r=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][r].Target}var ch=1024;function V$(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[Ee("xml",null,{"xmlns:v":sa.v,"xmlns:o":sa.o,"xmlns:x":sa.x,"xmlns:mv":sa.mv}).replace(/\/>/,">"),Ee("o:shapelayout",Ee("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Ee("v:shapetype",[Ee("v:stroke",null,{joinstyle:"miter"}),Ee("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];ch<t*1e3;)ch+=1e3;return e.forEach(function(a){var s=Er(a[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?Ee("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=Ee("v:fill",l,o),u={on:"t",obscured:"t"};++ch,i=i.concat(["<v:shape"+Cg({id:"_x0000_s"+ch,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,Ee("v:shadow",null,u),Ee("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",$n("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),$n("x:AutoFill","False"),$n("x:Row",String(s.r)),$n("x:Column",String(s.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function HN(t,e,r,n){var i=Array.isArray(t),a;e.forEach(function(s){var o=Er(s.ref);if(i?(t[o.r]||(t[o.r]=[]),a=t[o.r][o.c]):a=t[s.ref],!a){a={t:"z"},i?t[o.r][o.c]=a:t[s.ref]=a;var l=It(t["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=ct(l);c!==t["!ref"]&&(t["!ref"]=c)}a.c||(a.c=[]);var u={a:s.author,t:s.t,r:s.r,T:r};s.h&&(u.h=s.h);for(var f=a.c.length-1;f>=0;--f){if(!r&&a.c[f].T)return;r&&!a.c[f].T&&a.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(u.a==n[f].id){u.a=n[f].name||u.a;break}}a.c.push(u)})}function XZ(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var a=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=Qe(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=Er(l.ref);if(!(e.sheetRows&&e.sheetRows<=u.r)){var f=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),d=!!f&&!!f[1]&&zP(f[1])||{r:"",t:"",h:""};c.r=d.r,d.r=="<t></t>"&&(d.t=d.h=""),c.t=(d.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(c.h=d.h),n.push(c)}}}}),n}function H$(t){var e=[Wr,Ee("comments",null,{xmlns:xd[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(i){var a=Ht(i.a);r.indexOf(a)==-1&&(r.push(a),e.push("<author>"+a+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var i=0,a=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(i=r.indexOf(Ht(l.a))),a.push(l.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),a.length<=1)e.push($n("t",Ht(a[0]||"")));else{for(var s=`Comment:
    `+a[0]+`
`,o=1;o<a.length;++o)s+=`Reply:
    `+a[o]+`
`;e.push($n("t",Ht(s)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function KZ(t,e){var r=[],n=!1,i={},a=0;return t.replace(fi,function(o,l){var c=Qe(o);switch(So(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":i.t!=null&&r.push(i);break;case"<text>":case"<text":a=l+o.length;break;case"</text>":i.t=t.slice(a,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function YZ(t,e,r){var n=[Wr,Ee("ThreadedComments",null,{xmlns:fn.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var a="";(i[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&e.indexOf(s.a)==-1&&e.push(s.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?a=l.id:l.parentId=a,s.ID=l.id,s.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(s.a)).slice(-12)+"}"),n.push(Ee("threadedComment",$n("text",s.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function JZ(t,e){var r=[],n=!1;return t.replace(fi,function(a){var s=Qe(a);switch(So(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return a}),r}function ZZ(t){var e=[Wr,Ee("personList",null,{xmlns:fn.TCMNT,"xmlns:x":xd[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(Ee("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function QZ(t){var e={};e.iauthor=t.read_shift(4);var r=Sd(t);return e.rfx=r.s,e.ref=Ze(r.s),t.l+=16,e}function eQ(t,e){return e==null&&(e=pe(36)),e.write_shift(4,t[1].iauthor),xp(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var tQ=li;function rQ(t){return Cn(t.slice(0,54))}function nQ(t,e){var r=[],n=[],i={},a=!1;return $l(t,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,r.push(i);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!a||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}function iQ(t){var e=Hi(),r=[];return ye(e,628),ye(e,630),t.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),ye(e,632,rQ(i.a)))})}),ye(e,631),ye(e,633),t.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var a={s:Er(n[0]),e:Er(n[0])};ye(e,635,eQ([a,i])),i.t&&i.t.length>0&&ye(e,637,EX(i)),ye(e,636),delete i.iauthor})}),ye(e,634),ye(e,629),e.end()}var aQ="application/vnd.ms-office.vbaProject";function sQ(t){var e=qe.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var i=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");qe.utils.cfb_add(e,i,t.FileIndex[n].content)}}),qe.write(e)}function oQ(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&qe.utils.cfb_add(t,i,e.FileIndex[n].content)}})}var W$=["xlsb","xlsm","xlam","biff8","xla"];function lQ(){return{"!type":"dialog"}}function cQ(){return{"!type":"dialog"}}function uQ(){return{"!type":"macro"}}function fQ(){return{"!type":"macro"}}var Sh=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,a,s){var o=!1,l=!1;a.length==0?l=!0:a.charAt(0)=="["&&(l=!0,a=a.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=a.length>0?parseInt(a,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return o?u+=e.c:--u,l?c+=e.r:--c,i+(o?"":"$")+Tr(u)+(l?"":"$")+Vr(c)}return function(i,a){return e=a,i.replace(t,r)}}(),KP=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,YP=function(){return function(e,r){return e.replace(KP,function(n,i,a,s,o,l){var c=FP(s)-(a?0:r.c),u=DP(l)-(o?0:r.r),f=u==0?"":o?u+1:"["+u+"]",d=c==0?"":a?c+1:"["+c+"]";return i+"R"+f+"C"+d})}}();function z$(t,e){return t.replace(KP,function(r,n,i,a,s,o){return n+(i=="$"?i+a:Tr(FP(a)+e.c))+(s=="$"?s+o:Vr(DP(o)+e.r))})}function dQ(t,e,r){var n=Wi(e),i=n.s,a=Er(r),s={r:a.r-i.r,c:a.c-i.c};return z$(t,s)}function hQ(t){return t.length!=1}function WN(t){return t.replace(/_xlfn\./g,"")}function zr(t){t.l+=1}function Yc(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function G$(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return q$(t);r.biff==12&&(n=4)}var i=t.read_shift(n),a=t.read_shift(n),s=Yc(t),o=Yc(t);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function q$(t){var e=Yc(t),r=Yc(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function pQ(t,e,r){if(r.biff<8)return q$(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),a=Yc(t),s=Yc(t);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function X$(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return mQ(t);var n=t.read_shift(r&&r.biff==12?4:2),i=Yc(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function mQ(t){var e=Yc(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function gQ(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function vQ(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return yQ(t);var i=t.read_shift(n>=12?4:2),a=t.read_shift(2),s=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:o}}function yQ(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function xQ(t,e,r){var n=(t[t.l++]&96)>>5,i=G$(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function _Q(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}var s=G$(t,a,r);return[n,i,s]}function wQ(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function bQ(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}return t.l+=a,[n,i]}function SQ(t,e,r){var n=(t[t.l++]&96)>>5,i=pQ(t,e-1,r);return[n,i]}function AQ(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function zN(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function TQ(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function EQ(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function CQ(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function kQ(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function PQ(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function K$(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function IQ(t){return t.read_shift(2),K$(t)}function OQ(t){return t.read_shift(2),K$(t)}function MQ(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=X$(t,0,r);return[n,i]}function NQ(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=vQ(t,0,r);return[n,i]}function RQ(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var a=X$(t,0,r);return[n,i,a]}function DQ(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[$ee[i],Z$[i],n]}function FQ(t,e,r){var n=t[t.l++],i=t.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:LQ(t);return[i,(a[0]===0?Z$:Lee)[a[1]]]}function LQ(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function $Q(t,e,r){t.l+=r&&r.biff==2?3:4}function BQ(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function UQ(t){return t.l++,Bl[t.read_shift(1)]}function jQ(t){return t.l++,t.read_shift(2)}function VQ(t){return t.l++,t.read_shift(1)!==0}function HQ(t){return t.l++,si(t)}function WQ(t,e,r){return t.l++,Hy(t,e-1,r)}function zQ(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=$r(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=Bl[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=si(t);break;case 2:r[1]=Ad(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function GQ(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((r.biff==12?Sd:$b)(t));return i}function qQ(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var a=0,s=[];a!=n&&(s[a]=[]);++a)for(var o=0;o!=i;++o)s[a][o]=zQ(t,r.biff);return s}function XQ(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,a]}function KQ(t,e,r){if(r.biff==5)return YQ(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),a=t.read_shift(4);return[n,i,a]}function YQ(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function JQ(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function ZQ(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function QQ(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function eee(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return t.l+=a,[n,i]}var tee=ui,ree=ui,nee=ui;function zy(t,e,r){return t.l+=2,[gQ(t)]}function JP(t){return t.l+=6,[]}var iee=zy,aee=JP,see=JP,oee=zy;function Y$(t){return t.l+=2,[Kr(t),t.read_shift(2)&1]}var lee=zy,cee=Y$,uee=JP,fee=zy,dee=zy,hee=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function pee(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),a=t.read_shift(2),s=hee[r>>2&31];return{ixti:e,coltype:r&3,rt:s,idx:n,c:i,C:a}}function mee(t){return t.l+=2,[t.read_shift(4)]}function gee(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function vee(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function yee(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function xee(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function _ee(t){return t.l+=4,[0,0]}var GN={1:{n:"PtgExp",f:BQ},2:{n:"PtgTbl",f:nee},3:{n:"PtgAdd",f:zr},4:{n:"PtgSub",f:zr},5:{n:"PtgMul",f:zr},6:{n:"PtgDiv",f:zr},7:{n:"PtgPower",f:zr},8:{n:"PtgConcat",f:zr},9:{n:"PtgLt",f:zr},10:{n:"PtgLe",f:zr},11:{n:"PtgEq",f:zr},12:{n:"PtgGe",f:zr},13:{n:"PtgGt",f:zr},14:{n:"PtgNe",f:zr},15:{n:"PtgIsect",f:zr},16:{n:"PtgUnion",f:zr},17:{n:"PtgRange",f:zr},18:{n:"PtgUplus",f:zr},19:{n:"PtgUminus",f:zr},20:{n:"PtgPercent",f:zr},21:{n:"PtgParen",f:zr},22:{n:"PtgMissArg",f:zr},23:{n:"PtgStr",f:WQ},26:{n:"PtgSheet",f:gee},27:{n:"PtgEndSheet",f:vee},28:{n:"PtgErr",f:UQ},29:{n:"PtgBool",f:VQ},30:{n:"PtgInt",f:jQ},31:{n:"PtgNum",f:HQ},32:{n:"PtgArray",f:AQ},33:{n:"PtgFunc",f:DQ},34:{n:"PtgFuncVar",f:FQ},35:{n:"PtgName",f:XQ},36:{n:"PtgRef",f:MQ},37:{n:"PtgArea",f:xQ},38:{n:"PtgMemArea",f:JQ},39:{n:"PtgMemErr",f:tee},40:{n:"PtgMemNoMem",f:ree},41:{n:"PtgMemFunc",f:ZQ},42:{n:"PtgRefErr",f:QQ},43:{n:"PtgAreaErr",f:wQ},44:{n:"PtgRefN",f:NQ},45:{n:"PtgAreaN",f:SQ},46:{n:"PtgMemAreaN",f:yee},47:{n:"PtgMemNoMemN",f:xee},57:{n:"PtgNameX",f:KQ},58:{n:"PtgRef3d",f:RQ},59:{n:"PtgArea3d",f:_Q},60:{n:"PtgRefErr3d",f:eee},61:{n:"PtgAreaErr3d",f:bQ},255:{}},wee={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},bee={1:{n:"PtgElfLel",f:Y$},2:{n:"PtgElfRw",f:fee},3:{n:"PtgElfCol",f:iee},6:{n:"PtgElfRwV",f:dee},7:{n:"PtgElfColV",f:oee},10:{n:"PtgElfRadical",f:lee},11:{n:"PtgElfRadicalS",f:uee},13:{n:"PtgElfColS",f:aee},15:{n:"PtgElfColSV",f:see},16:{n:"PtgElfRadicalLel",f:cee},25:{n:"PtgList",f:pee},29:{n:"PtgSxName",f:mee},255:{}},See={0:{n:"PtgAttrNoop",f:_ee},1:{n:"PtgAttrSemi",f:PQ},2:{n:"PtgAttrIf",f:CQ},4:{n:"PtgAttrChoose",f:TQ},8:{n:"PtgAttrGoto",f:EQ},16:{n:"PtgAttrSum",f:$Q},32:{n:"PtgAttrBaxcel",f:zN},33:{n:"PtgAttrBaxcel",f:zN},64:{n:"PtgAttrSpace",f:IQ},65:{n:"PtgAttrSpaceSemi",f:OQ},128:{n:"PtgAttrIfError",f:kQ},255:{}};function Gy(t,e,r,n){if(n.biff<8)return ui(t,e);for(var i=t.l+e,a=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=qQ(t,0,n),a.push(r[s][1]);break;case"PtgMemArea":r[s][2]=GQ(t,r[s][1],n),a.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=t.read_shift(4),a.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return e=i-t.l,e!==0&&a.push(ui(t,e)),a}function qy(t,e,r){for(var n=t.l+e,i,a,s=[];n!=t.l;)e=n-t.l,a=t[t.l],i=GN[a]||GN[wee[a]],(a===24||a===25)&&(i=(a===24?bee:See)[t[t.l+1]]),!i||!i.f?ui(t,e):s.push([i.n,i.f(t,e,r)]);return s}function Aee(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],a=0;a<n.length;++a){var s=n[a];if(s)switch(s[0]){case 2:i.push('"'+s[1].replace(/"/g,'""')+'"');break;default:i.push(s[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var Tee={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Eee(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function J$(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function qN(t,e,r){var n=J$(t,e,r);return n=="#REF"?n:Eee(n,r)}function ti(t,e,r,n,i){var a=i&&i.biff||8,s={s:{c:0,r:0}},o=[],l,c,u,f=0,d=0,h,m="";if(!t[0]||!t[0][0])return"";for(var p=-1,y="",_=0,b=t[0].length;_<b;++_){var w=t[0][_];switch(w[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),p>=0){switch(t[0][p][1][0]){case 0:y=Rr(" ",t[0][p][1][1]);break;case 1:y=Rr("\r",t[0][p][1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][p][1][0])}c=c+y,p=-1}o.push(c+Tee[w[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Vm(w[1][1],s,i),o.push(Hm(u,a));break;case"PtgRefN":u=r?Vm(w[1][1],r,i):w[1][1],o.push(Hm(u,a));break;case"PtgRef3d":f=w[1][1],u=Vm(w[1][2],s,i),m=qN(n,f,i),o.push(m+"!"+Hm(u,a));break;case"PtgFunc":case"PtgFuncVar":var A=w[1][0],S=w[1][1];A||(A=0),A&=127;var T=A==0?[]:o.slice(-A);o.length-=A,S==="User"&&(S=T.shift()),o.push(S+"("+T.join(",")+")");break;case"PtgBool":o.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(w[1]);break;case"PtgNum":o.push(String(w[1]));break;case"PtgStr":o.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(w[1]);break;case"PtgAreaN":h=bN(w[1][1],r?{s:r}:s,i),o.push(yA(h,i));break;case"PtgArea":h=bN(w[1][1],s,i),o.push(yA(h,i));break;case"PtgArea3d":f=w[1][1],h=w[1][2],m=qN(n,f,i),o.push(m+"!"+yA(h,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":d=w[1][2];var E=(n.names||[])[d-1]||(n[0]||[])[d],P=E?E.Name:"SH33TJSNAME"+String(d);P&&P.slice(0,6)=="_xlfn."&&!i.xlfn&&(P=P.slice(6)),o.push(P);break;case"PtgNameX":var k=w[1][1];d=w[1][2];var D;if(i.biff<=5)k<0&&(k=-k),n[k]&&(D=n[k][d]);else{var I="";if(((n[k]||[])[0]||[])[0]==14849||(((n[k]||[])[0]||[])[0]==1025?n[k][d]&&n[k][d].itab>0&&(I=n.SheetNames[n[k][d].itab-1]+"!"):I=n.SheetNames[d-1]+"!"),n[k]&&n[k][d])I+=n[k][d].Name;else if(n[0]&&n[0][d])I+=n[0][d].Name;else{var N=(J$(n,k,i)||"").split(";;");N[d-1]?I=N[d-1]:I+="SH33TJSERRX"}o.push(I);break}D||(D={Name:"SH33TJSERRY"}),o.push(D.Name);break;case"PtgParen":var U="(",X=")";if(p>=0){switch(y="",t[0][p][1][0]){case 2:U=Rr(" ",t[0][p][1][1])+U;break;case 3:U=Rr("\r",t[0][p][1][1])+U;break;case 4:X=Rr(" ",t[0][p][1][1])+X;break;case 5:X=Rr("\r",t[0][p][1][1])+X;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][p][1][0])}p=-1}o.push(U+o.pop()+X);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:w[1][1],r:w[1][0]};var G={c:r.c,r:r.r};if(n.sharedf[Ze(u)]){var Q=n.sharedf[Ze(u)];o.push(ti(Q,s,G,n,i))}else{var J=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(ti(c[1],s,G,n,i)),J=!0;break}J||o.push(w[1])}break;case"PtgArray":o.push("{"+Aee(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=_;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var ee=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&p>=0&&ee.indexOf(t[0][_][0])==-1){w=t[0][p];var V=!0;switch(w[1][0]){case 4:V=!1;case 0:y=Rr(" ",w[1][1]);break;case 5:V=!1;case 1:y=Rr("\r",w[1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}o.push((V?y:"")+o.pop()+(V?"":y)),p=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function Cee(t,e,r){var n=t.l+e,i=r.biff==2?1:2,a,s=t.read_shift(i);if(s==65535)return[[],ui(t,e-2)];var o=qy(t,s,r);return e!==s+i&&(a=Gy(t,e-s-i,o,r)),t.l=n,[o,a]}function kee(t,e,r){var n=t.l+e,i=r.biff==2?1:2,a,s=t.read_shift(i);if(s==65535)return[[],ui(t,e-2)];var o=qy(t,s,r);return e!==s+i&&(a=Gy(t,e-s-i,o,r)),t.l=n,[o,a]}function Pee(t,e,r,n){var i=t.l+e,a=qy(t,n,r),s;return i!==t.l&&(s=Gy(t,i-t.l,a,r)),[a,s]}function Iee(t,e,r){var n=t.l+e,i,a=t.read_shift(2),s=qy(t,a,r);return a==65535?[[],ui(t,e-2)]:(e!==a+2&&(i=Gy(t,n-a-2,s,r)),[s,i])}function Oee(t){var e;if(cl(t,t.l+6)!==65535)return[si(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function Mee(t){if(t==null){var e=pe(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Qf(t);return Qf(0)}function SA(t,e,r){var n=t.l+e,i=Ao(t);r.biff==2&&++t.l;var a=Oee(t),s=t.read_shift(1);r.biff!=2&&(t.read_shift(1),r.biff>=5&&t.read_shift(4));var o=kee(t,n-t.l,r);return{cell:i,val:a[0],formula:o,shared:s>>3&1,tt:a[1]}}function Nee(t,e,r,n,i){var a=td(e,r,i),s=Mee(t.v),o=pe(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=pe(t.bf.length),u=0;u<t.bf.length;++u)c[u]=t.bf[u];var f=En([a,s,o,c]);return f}function Bb(t,e,r){var n=t.read_shift(4),i=qy(t,n,r),a=t.read_shift(4),s=a>0?Gy(t,a,i,r):null;return[i,s]}var Ree=Bb,Ub=Bb,Dee=Bb,Fee=Bb,Lee={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Z$={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},$ee={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function XN(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,r){return r.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function Bee(t){var e="of:="+t.replace(KP,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function AA(t){var e=t.split(":"),r=e[0].split(".")[0];return[r,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function Uee(t){return t.replace(/\./,"!")}var zm={},Ah={},Gm=typeof Map<"u";function ZP(t,e,r){var n=0,i=t.length;if(r){if(Gm?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var a=Gm?r.get(e):r[e];n<a.length;++n)if(t[a[n]].t===e)return t.Count++,a[n]}}else for(;n<i;++n)if(t[n].t===e)return t.Count++,n;return t[i]={t:e},t.Count++,t.Unique++,r&&(Gm?(r.has(e)||r.set(e,[]),r.get(e).push(i)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(i))),i}function jb(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(ni=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=Mg(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=L_(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function Hf(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(r=[1,1,1,1,.5,.5]),t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function lu(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],i=60,a=t.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){ml(e.z,i),r.ssf[i]=e.z,r.revssf[e.z]=n=i;break}}for(i=0;i!=a;++i)if(t[i].numFmtId===n)return i;return t[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function Q$(t,e,r,n,i,a){try{n.cellNF&&(t.z=Je[e])}catch(o){if(n.WTF)throw o}if(!(t.t==="z"&&!n.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=cr(t.v)),(!n||n.cellText!==!1)&&t.t!=="z")try{if(Je[e]==null&&ml(Lq[e]||"General",e),t.t==="e")t.w=t.w||Bl[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Tg(t.v);else if(t.t==="d"){var s=gn(t.v);(s|0)===s?t.w=s.toString(10):t.w=Tg(s)}else{if(t.v===void 0)return"";t.w=Jf(t.v,Ah)}else t.t==="d"?t.w=Ka(e,gn(t.v),Ah):t.w=Ka(e,t.v,Ah)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{t.s=a.Fills[r],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=F_(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),n.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=F_(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),n.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&a.Fills)throw o}}}function jee(t,e,r){if(t&&t["!ref"]){var n=It(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function Vee(t,e){var r=It(e);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(t["!ref"]=ct(r))}var Hee=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Wee=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,zee=/<(?:\w:)?hyperlink [^>]*>/mg,Gee=/"(\w*:\w*)"/,qee=/<(?:\w:)?col\b[^>]*[\/]?>/g,Xee=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Kee=/<(?:\w:)?pageMargins[^>]*\/>/g,eB=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Yee=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Jee=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Zee(t,e,r,n,i,a,s){if(!t)return t;n||(n={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=t.match(Wee);f?(c=t.slice(0,f.index),u=t.slice(f.index+f[0].length)):c=u=t;var d=c.match(eB);d?QP(d[0],o,i,r):(d=c.match(Yee))&&ete(d[0],d[1]||"",o,i,r);var h=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(h>0){var m=c.slice(h,h+50).match(Gee);m&&Vee(o,m[1])}var p=c.match(Jee);p&&p[1]&&hte(p[1],i);var y=[];if(e.cellStyles){var _=c.match(qee);_&&lte(y,_)}f&&gte(f[1],o,e,l,a,s);var b=u.match(Xee);b&&(o["!autofilter"]=ute(b[0]));var w=[],A=u.match(Hee);if(A)for(h=0;h!=A.length;++h)w[h]=It(A[h].slice(A[h].indexOf('"')+1));var S=u.match(zee);S&&ate(o,S,n);var T=u.match(Kee);if(T&&(o["!margins"]=ste(Qe(T[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=ct(l)),e.sheetRows>0&&o["!ref"]){var E=It(o["!ref"]);e.sheetRows<=+E.e.r&&(E.e.r=e.sheetRows-1,E.e.r>l.e.r&&(E.e.r=l.e.r),E.e.r<E.s.r&&(E.s.r=E.e.r),E.e.c>l.e.c&&(E.e.c=l.e.c),E.e.c<E.s.c&&(E.s.c=E.e.c),o["!fullref"]=o["!ref"],o["!ref"]=ct(E))}return y.length>0&&(o["!cols"]=y),w.length>0&&(o["!merges"]=w),o}function Qee(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+ct(t[r])+'"/>';return e+"</mergeCells>"}function QP(t,e,r,n){var i=Qe(t);r.Sheets[n]||(r.Sheets[n]={}),i.codeName&&(r.Sheets[n].CodeName=kt(Xt(i.codeName)))}function ete(t,e,r,n,i){QP(t.slice(0,t.indexOf(">")),r,n,i)}function tte(t,e,r,n,i){var a=!1,s={},o=null;if(n.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[r];try{e.Workbook&&(l=e.Workbook.Sheets[r].CodeName||l)}catch{}a=!0,s.codeName=ho(Ht(l))}if(t&&t["!outline"]){var c={summaryBelow:1,summaryRight:1};t["!outline"].above&&(c.summaryBelow=0),t["!outline"].left&&(c.summaryRight=0),o=(o||"")+Ee("outlinePr",null,c)}!a&&!o||(i[i.length]=Ee("sheetPr",o,s))}var rte=["objects","scenarios","selectLockedCells","selectUnlockedCells"],nte=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function ite(t){var e={sheet:1};return rte.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),nte.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=GP(t.password).toString(16).toUpperCase()),Ee("sheetProtection",null,e)}function ate(t,e,r){for(var n=Array.isArray(t),i=0;i!=e.length;++i){var a=Qe(Xt(e[i]),!0);if(!a.ref)return;var s=((r||{})["!id"]||[])[a.id];s?(a.Target=s.Target,a.location&&(a.Target+="#"+kt(a.location))):(a.Target="#"+kt(a.location),s={Target:a.Target,TargetMode:"Internal"}),a.Rel=s,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var o=It(a.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=Ze({c,r:l});n?(t[l]||(t[l]=[]),t[l][c]||(t[l][c]={t:"z",v:void 0}),t[l][c].l=a):(t[u]||(t[u]={t:"z",v:void 0}),t[u].l=a)}}}function ste(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(r){t[r]&&(e[r]=parseFloat(t[r]))}),e}function ote(t){return Hf(t),Ee("pageMargins",null,t)}function lte(t,e){for(var r=!1,n=0;n!=e.length;++n){var i=Qe(e[n],!0);i.hidden&&(i.hidden=sr(i.hidden));var a=parseInt(i.min,10)-1,s=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!r&&i.width&&(r=!0,qP(i.width)),Kc(i);a<=s;)t[a++]=ur(i)}}function cte(t,e){for(var r=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(r[r.length]=Ee("col",null,jb(i,n)));return r[r.length]="</cols>",r.join("")}function ute(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}function fte(t,e,r,n){var i=typeof t.ref=="string"?t.ref:ct(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,s=Wi(i);s.s.r==s.e.r&&(s.e.r=Wi(e["!ref"]).e.r,i=ct(s));for(var o=0;o<a.length;++o){var l=a[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return o==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Ee("autoFilter",null,{ref:i})}var dte=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function hte(t,e){e.Views||(e.Views=[{}]),(t.match(dte)||[]).forEach(function(r,n){var i=Qe(r);e.Views[n]||(e.Views[n]={}),+i.zoomScale&&(e.Views[n].zoom=+i.zoomScale),sr(i.rightToLeft)&&(e.Views[n].RTL=!0)})}function pte(t,e,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Ee("sheetViews",Ee("sheetView",null,i),{})}function mte(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",a=t.t,s=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=Bl[t.v];break;case"d":n&&n.cellDates?i=cr(t.v,-1).toISOString():(t=ur(t),t.t="n",i=""+(t.v=gn(cr(t.v)))),typeof t.z>"u"&&(t.z=Je[14]);break;default:i=t.v;break}var o=$n("v",Ht(i)),l={r:e},c=lu(n.cellXfs,t,n);switch(c!==0&&(l.s=c),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=$n("v",""+ZP(n.Strings,t.v,n.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=a&&(t.t=a,t.v=s),typeof t.f=="string"&&t.f){var u=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=Ee("f",Ht(t.f),u)+(t.v!=null?o:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(l.cm=1),Ee("c",o,l)}var gte=function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,a=Eg("v"),s=Eg("f");return function(l,c,u,f,d,h){for(var m=0,p="",y=[],_=[],b=0,w=0,A=0,S="",T,E,P=0,k=0,D,I,N=0,U=0,X=Array.isArray(h.CellXf),G,Q=[],J=[],ee=Array.isArray(c),V=[],ne={},se=!1,R=!!u.sheetStubs,W=l.split(e),Y=0,Z=W.length;Y!=Z;++Y){p=W[Y].trim();var oe=p.length;if(oe!==0){var de=0;e:for(m=0;m<oe;++m)switch(p[m]){case">":if(p[m-1]!="/"){++m;break e}if(u&&u.cellStyles){if(E=Qe(p.slice(de,m),!0),P=E.r!=null?parseInt(E.r,10):P+1,k=-1,u.sheetRows&&u.sheetRows<P)continue;ne={},se=!1,E.ht&&(se=!0,ne.hpt=parseFloat(E.ht),ne.hpx=L0(ne.hpt)),E.hidden=="1"&&(se=!0,ne.hidden=!0),E.outlineLevel!=null&&(se=!0,ne.level=+E.outlineLevel),se&&(V[P-1]=ne)}break;case"<":de=m;break}if(de>=m)break;if(E=Qe(p.slice(de,m),!0),P=E.r!=null?parseInt(E.r,10):P+1,k=-1,!(u.sheetRows&&u.sheetRows<P)){f.s.r>P-1&&(f.s.r=P-1),f.e.r<P-1&&(f.e.r=P-1),u&&u.cellStyles&&(ne={},se=!1,E.ht&&(se=!0,ne.hpt=parseFloat(E.ht),ne.hpx=L0(ne.hpt)),E.hidden=="1"&&(se=!0,ne.hidden=!0),E.outlineLevel!=null&&(se=!0,ne.level=+E.outlineLevel),se&&(V[P-1]=ne)),y=p.slice(m).split(t);for(var ve=0;ve!=y.length&&y[ve].trim().charAt(0)=="<";++ve);for(y=y.slice(ve),m=0;m!=y.length;++m)if(p=y[m].trim(),p.length!==0){if(_=p.match(r),b=m,w=0,A=0,p="<c "+(p.slice(0,1)=="<"?">":"")+p,_!=null&&_.length===2){for(b=0,S=_[1],w=0;w!=S.length&&!((A=S.charCodeAt(w)-64)<1||A>26);++w)b=26*b+A;--b,k=b}else++k;for(w=0;w!=p.length&&p.charCodeAt(w)!==62;++w);if(++w,E=Qe(p.slice(0,w),!0),E.r||(E.r=Ze({r:P-1,c:k})),S=p.slice(w),T={t:""},(_=S.match(a))!=null&&_[1]!==""&&(T.v=kt(_[1])),u.cellFormula){if((_=S.match(s))!=null&&_[1]!==""){if(T.f=kt(Xt(_[1])).replace(/\r\n/g,`
`),u.xlfn||(T.f=WN(T.f)),_[0].indexOf('t="array"')>-1)T.F=(S.match(i)||[])[1],T.F.indexOf(":")>-1&&Q.push([It(T.F),T.F]);else if(_[0].indexOf('t="shared"')>-1){I=Qe(_[0]);var te=kt(Xt(_[1]));u.xlfn||(te=WN(te)),J[parseInt(I.si,10)]=[I,te,E.r]}}else(_=S.match(/<f[^>]*\/>/))&&(I=Qe(_[0]),J[I.si]&&(T.f=dQ(J[I.si][1],J[I.si][2],E.r)));var fe=Er(E.r);for(w=0;w<Q.length;++w)fe.r>=Q[w][0].s.r&&fe.r<=Q[w][0].e.r&&fe.c>=Q[w][0].s.c&&fe.c<=Q[w][0].e.c&&(T.F=Q[w][1])}if(E.t==null&&T.v===void 0)if(T.f||T.F)T.v=0,T.t="n";else if(R)T.t="z";else continue;else T.t=E.t||"n";switch(f.s.c>k&&(f.s.c=k),f.e.c<k&&(f.e.c=k),T.t){case"n":if(T.v==""||T.v==null){if(!R)continue;T.t="z"}else T.v=parseFloat(T.v);break;case"s":if(typeof T.v>"u"){if(!R)continue;T.t="z"}else D=zm[parseInt(T.v,10)],T.v=D.t,T.r=D.r,u.cellHTML&&(T.h=D.h);break;case"str":T.t="s",T.v=T.v!=null?Xt(T.v):"",u.cellHTML&&(T.h=OP(T.v));break;case"inlineStr":_=S.match(n),T.t="s",_!=null&&(D=zP(_[1]))?(T.v=D.t,u.cellHTML&&(T.h=D.h)):T.v="";break;case"b":T.v=sr(T.v);break;case"d":u.cellDates?T.v=cr(T.v,1):(T.v=gn(cr(T.v,1)),T.t="n");break;case"e":(!u||u.cellText!==!1)&&(T.w=T.v),T.v=r$[T.v];break}if(N=U=0,G=null,X&&E.s!==void 0&&(G=h.CellXf[E.s],G!=null&&(G.numFmtId!=null&&(N=G.numFmtId),u.cellStyles&&G.fillId!=null&&(U=G.fillId))),Q$(T,N,U,u,d,h),u.cellDates&&X&&T.t=="n"&&gp(Je[N])&&(T.t="d",T.v=Lb(T.v)),E.cm&&u.xlmeta){var be=(u.xlmeta.Cell||[])[+E.cm-1];be&&be.type=="XLDAPR"&&(T.D=!0)}if(ee){var L=Er(E.r);c[L.r]||(c[L.r]=[]),c[L.r][L.c]=T}else c[E.r]=T}}}}V.length>0&&(c["!rows"]=V)}}();function vte(t,e,r,n){var i=[],a=[],s=It(t["!ref"]),o="",l,c="",u=[],f=0,d=0,h=t["!rows"],m=Array.isArray(t),p={r:c},y,_=-1;for(d=s.s.c;d<=s.e.c;++d)u[d]=Tr(d);for(f=s.s.r;f<=s.e.r;++f){for(a=[],c=Vr(f),d=s.s.c;d<=s.e.c;++d){l=u[d]+c;var b=m?(t[f]||[])[d]:t[l];b!==void 0&&(o=mte(b,l,t,e))!=null&&a.push(o)}(a.length>0||h&&h[f])&&(p={r:c},h&&h[f]&&(y=h[f],y.hidden&&(p.hidden=1),_=-1,y.hpx?_=Ng(y.hpx):y.hpt&&(_=y.hpt),_>-1&&(p.ht=_,p.customHeight=1),y.level&&(p.outlineLevel=y.level)),i[i.length]=Ee("row",a.join(""),p))}if(h)for(;f<h.length;++f)h&&h[f]&&(p={r:f+1},y=h[f],y.hidden&&(p.hidden=1),_=-1,y.hpx?_=Ng(y.hpx):y.hpt&&(_=y.hpt),_>-1&&(p.ht=_,p.customHeight=1),y.level&&(p.outlineLevel=y.level),i[i.length]=Ee("row","",p));return i.join("")}function tB(t,e,r,n){var i=[Wr,Ee("worksheet",null,{xmlns:xd[0],"xmlns:r":fn.r})],a=r.SheetNames[t],s=0,o="",l=r.Sheets[a];l==null&&(l={});var c=l["!ref"]||"A1",u=It(c);if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=ct(u)}n||(n={}),l["!comments"]=[];var f=[];tte(l,r,t,e,i),i[i.length]=Ee("dimension",null,{ref:c}),i[i.length]=pte(l,e,t,r),e.sheetFormat&&(i[i.length]=Ee("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=cte(l,l["!cols"])),i[s=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=vte(l,e),o.length>0&&(i[i.length]=o)),i.length>s+1&&(i[i.length]="</sheetData>",i[s]=i[s].replace("/>",">")),l["!protect"]&&(i[i.length]=ite(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=fte(l["!autofilter"],l,r,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=Qee(l["!merges"]));var d=-1,h,m=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(p){p[1].Target&&(h={ref:p[0]},p[1].Target.charAt(0)!="#"&&(m=jt(n,-1,Ht(p[1].Target).replace(/#.*$/,""),xt.HLINK),h["r:id"]="rId"+m),(d=p[1].Target.indexOf("#"))>-1&&(h.location=Ht(p[1].Target.slice(d+1))),p[1].Tooltip&&(h.tooltip=Ht(p[1].Tooltip)),i[i.length]=Ee("hyperlink",null,h))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=ote(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=$n("ignoredErrors",Ee("ignoredError",null,{numberStoredAsText:1,sqref:c}))),f.length>0&&(m=jt(n,-1,"../drawings/drawing"+(t+1)+".xml",xt.DRAW),i[i.length]=Ee("drawing",null,{"r:id":"rId"+m}),l["!drawing"]=f),l["!comments"].length>0&&(m=jt(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",xt.VML),i[i.length]=Ee("legacyDrawing",null,{"r:id":"rId"+m}),l["!legacy"]=m),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function yte(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var a=t.read_shift(1);return t.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}function xte(t,e,r){var n=pe(145),i=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var a=320;i.hpx?a=Ng(i.hpx)*20:i.hpt&&(a=i.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var s=0;i.level&&(s|=i.level),i.hidden&&(s|=16),(i.hpx||i.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var c={r:t,c:0},u=0;u<16;++u)if(!(e.s.c>u+1<<10||e.e.c<u<<10)){for(var f=-1,d=-1,h=u<<10;h<u+1<<10;++h){c.c=h;var m=Array.isArray(r)?(r[c.r]||[])[c.c]:r[Ze(c)];m&&(f<0&&(f=h),d=h)}f<0||(++o,n.write_shift(4,f),n.write_shift(4,d))}var p=n.l;return n.l=l,n.write_shift(4,o),n.l=p,n.length>n.l?n.slice(0,n.l):n}function _te(t,e,r,n){var i=xte(n,r,e);(i.length>17||(e["!rows"]||[])[n])&&ye(t,0,i)}var wte=Sd,bte=xp;function Ste(){}function Ate(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=CX(t),r}function Tte(t,e,r){r==null&&(r=pe(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return N_({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),J6(t,r),r.slice(0,r.l)}function Ete(t){var e=Za(t);return[e]}function Cte(t,e,r){return r==null&&(r=pe(8)),_d(e,r)}function kte(t){var e=wd(t);return[e]}function Pte(t,e,r){return r==null&&(r=pe(4)),bd(e,r)}function Ite(t){var e=Za(t),r=t.read_shift(1);return[e,r,"b"]}function Ote(t,e,r){return r==null&&(r=pe(9)),_d(e,r),r.write_shift(1,t.v?1:0),r}function Mte(t){var e=wd(t),r=t.read_shift(1);return[e,r,"b"]}function Nte(t,e,r){return r==null&&(r=pe(5)),bd(e,r),r.write_shift(1,t.v?1:0),r}function Rte(t){var e=Za(t),r=t.read_shift(1);return[e,r,"e"]}function Dte(t,e,r){return r==null&&(r=pe(9)),_d(e,r),r.write_shift(1,t.v),r}function Fte(t){var e=wd(t),r=t.read_shift(1);return[e,r,"e"]}function Lte(t,e,r){return r==null&&(r=pe(8)),bd(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function $te(t){var e=Za(t),r=t.read_shift(4);return[e,r,"s"]}function Bte(t,e,r){return r==null&&(r=pe(12)),_d(e,r),r.write_shift(4,e.v),r}function Ute(t){var e=wd(t),r=t.read_shift(4);return[e,r,"s"]}function jte(t,e,r){return r==null&&(r=pe(8)),bd(e,r),r.write_shift(4,e.v),r}function Vte(t){var e=Za(t),r=si(t);return[e,r,"n"]}function Hte(t,e,r){return r==null&&(r=pe(16)),_d(e,r),Qf(t.v,r),r}function rB(t){var e=wd(t),r=si(t);return[e,r,"n"]}function Wte(t,e,r){return r==null&&(r=pe(12)),bd(e,r),Qf(t.v,r),r}function zte(t){var e=Za(t),r=UP(t);return[e,r,"n"]}function Gte(t,e,r){return r==null&&(r=pe(12)),_d(e,r),Z6(t.v,r),r}function qte(t){var e=wd(t),r=UP(t);return[e,r,"n"]}function Xte(t,e,r){return r==null&&(r=pe(8)),bd(e,r),Z6(t.v,r),r}function Kte(t){var e=Za(t),r=LP(t);return[e,r,"is"]}function Yte(t){var e=Za(t),r=li(t);return[e,r,"str"]}function Jte(t,e,r){return r==null&&(r=pe(12+4*t.v.length)),_d(e,r),Cn(t.v,r),r.length>r.l?r.slice(0,r.l):r}function Zte(t){var e=wd(t),r=li(t);return[e,r,"str"]}function Qte(t,e,r){return r==null&&(r=pe(8+4*t.v.length)),bd(e,r),Cn(t.v,r),r.length>r.l?r.slice(0,r.l):r}function ere(t,e,r){var n=t.l+e,i=Za(t);i.r=r["!row"];var a=t.read_shift(1),s=[i,a,"b"];if(r.cellFormula){t.l+=2;var o=Ub(t,n-t.l,r);s[3]=ti(o,null,i,r.supbooks,r)}else t.l=n;return s}function tre(t,e,r){var n=t.l+e,i=Za(t);i.r=r["!row"];var a=t.read_shift(1),s=[i,a,"e"];if(r.cellFormula){t.l+=2;var o=Ub(t,n-t.l,r);s[3]=ti(o,null,i,r.supbooks,r)}else t.l=n;return s}function rre(t,e,r){var n=t.l+e,i=Za(t);i.r=r["!row"];var a=si(t),s=[i,a,"n"];if(r.cellFormula){t.l+=2;var o=Ub(t,n-t.l,r);s[3]=ti(o,null,i,r.supbooks,r)}else t.l=n;return s}function nre(t,e,r){var n=t.l+e,i=Za(t);i.r=r["!row"];var a=li(t),s=[i,a,"str"];if(r.cellFormula){t.l+=2;var o=Ub(t,n-t.l,r);s[3]=ti(o,null,i,r.supbooks,r)}else t.l=n;return s}var ire=Sd,are=xp;function sre(t,e){return e==null&&(e=pe(4)),e.write_shift(4,t),e}function ore(t,e){var r=t.l+e,n=Sd(t),i=$P(t),a=li(t),s=li(t),o=li(t);t.l=r;var l={rfx:n,relId:i,loc:a,display:o};return s&&(l.Tooltip=s),l}function lre(t,e){var r=pe(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));xp({s:Er(t[0]),e:Er(t[0])},r),BP("rId"+e,r);var n=t[1].Target.indexOf("#"),i=n==-1?"":t[1].Target.slice(n+1);return Cn(i||"",r),Cn(t[1].Tooltip||"",r),Cn("",r),r.slice(0,r.l)}function cre(){}function ure(t,e,r){var n=t.l+e,i=Q6(t),a=t.read_shift(1),s=[i];if(s[2]=a,r.cellFormula){var o=Ree(t,n-t.l,r);s[1]=o}else t.l=n;return s}function fre(t,e,r){var n=t.l+e,i=Sd(t),a=[i];if(r.cellFormula){var s=Fee(t,n-t.l,r);a[1]=s,t.l=n}else t.l=n;return a}function dre(t,e,r){r==null&&(r=pe(18));var n=jb(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),r.write_shift(2,i),r}var nB=["left","right","top","bottom","header","footer"];function hre(t){var e={};return nB.forEach(function(r){e[r]=si(t)}),e}function pre(t,e){return e==null&&(e=pe(6*8)),Hf(t),nB.forEach(function(r){Qf(t[r],e)}),e}function mre(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function gre(t,e,r){r==null&&(r=pe(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function vre(t){var e=pe(24);return e.write_shift(4,4),e.write_shift(4,1),xp(t,e),e}function yre(t,e){return e==null&&(e=pe(16*4+2)),e.write_shift(2,t.password?GP(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function xre(){}function _re(){}function wre(t,e,r,n,i,a,s){if(!t)return t;var o=e||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,d=!1,h,m,p,y,_,b,w,A,S,T=[];o.biff=12,o["!row"]=0;var E=0,P=!1,k=[],D={},I=o.supbooks||i.supbooks||[[]];if(I.sharedf=D,I.arrayf=k,I.SheetNames=i.SheetNames||i.Sheets.map(function(ee){return ee.name}),!o.supbooks&&(o.supbooks=I,i.Names))for(var N=0;N<i.Names.length;++N)I[0][N+1]=i.Names[N];var U=[],X=[],G=!1;Rg[16]={n:"BrtShortReal",f:rB};var Q;if($l(t,function(V,ne,se){if(!d)switch(se){case 148:c=V;break;case 0:h=V,o.sheetRows&&o.sheetRows<=h.r&&(d=!0),A=Vr(y=h.r),o["!row"]=h.r,(V.hidden||V.hpt||V.level!=null)&&(V.hpt&&(V.hpx=L0(V.hpt)),X[V.r]=V);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(m={t:V[2]},V[2]){case"n":m.v=V[1];break;case"s":w=zm[V[1]],m.v=w.t,m.r=w.r;break;case"b":m.v=!!V[1];break;case"e":m.v=V[1],o.cellText!==!1&&(m.w=Bl[m.v]);break;case"str":m.t="s",m.v=V[1];break;case"is":m.t="s",m.v=V[1].t;break}if((p=s.CellXf[V[0].iStyleRef])&&Q$(m,p.numFmtId,null,o,a,s),_=V[0].c==-1?_+1:V[0].c,o.dense?(l[y]||(l[y]=[]),l[y][_]=m):l[Tr(_)+A]=m,o.cellFormula){for(P=!1,E=0;E<k.length;++E){var R=k[E];h.r>=R[0].s.r&&h.r<=R[0].e.r&&_>=R[0].s.c&&_<=R[0].e.c&&(m.F=ct(R[0]),P=!0)}!P&&V.length>3&&(m.f=V[3])}if(u.s.r>h.r&&(u.s.r=h.r),u.s.c>_&&(u.s.c=_),u.e.r<h.r&&(u.e.r=h.r),u.e.c<_&&(u.e.c=_),o.cellDates&&p&&m.t=="n"&&gp(Je[p.numFmtId])){var W=Du(m.v);W&&(m.t="d",m.v=new Date(W.y,W.m-1,W.d,W.H,W.M,W.S,W.u))}Q&&(Q.type=="XLDAPR"&&(m.D=!0),Q=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;m={t:"z",v:void 0},_=V[0].c==-1?_+1:V[0].c,o.dense?(l[y]||(l[y]=[]),l[y][_]=m):l[Tr(_)+A]=m,u.s.r>h.r&&(u.s.r=h.r),u.s.c>_&&(u.s.c=_),u.e.r<h.r&&(u.e.r=h.r),u.e.c<_&&(u.e.c=_),Q&&(Q.type=="XLDAPR"&&(m.D=!0),Q=void 0);break;case 176:T.push(V);break;case 49:Q=((o.xlmeta||{}).Cell||[])[V-1];break;case 494:var Y=n["!id"][V.relId];for(Y?(V.Target=Y.Target,V.loc&&(V.Target+="#"+V.loc),V.Rel=Y):V.relId==""&&(V.Target="#"+V.loc),y=V.rfx.s.r;y<=V.rfx.e.r;++y)for(_=V.rfx.s.c;_<=V.rfx.e.c;++_)o.dense?(l[y]||(l[y]=[]),l[y][_]||(l[y][_]={t:"z",v:void 0}),l[y][_].l=V):(b=Ze({c:_,r:y}),l[b]||(l[b]={t:"z",v:void 0}),l[b].l=V);break;case 426:if(!o.cellFormula)break;k.push(V),S=o.dense?l[y][_]:l[Tr(_)+A],S.f=ti(V[1],u,{r:h.r,c:_},I,o),S.F=ct(V[0]);break;case 427:if(!o.cellFormula)break;D[Ze(V[0].s)]=V[1],S=o.dense?l[y][_]:l[Tr(_)+A],S.f=ti(V[1],u,{r:h.r,c:_},I,o);break;case 60:if(!o.cellStyles)break;for(;V.e>=V.s;)U[V.e--]={width:V.w/256,hidden:!!(V.flags&1),level:V.level},G||(G=!0,qP(V.w/256)),Kc(U[V.e+1]);break;case 161:l["!autofilter"]={ref:ct(V)};break;case 476:l["!margins"]=V;break;case 147:i.Sheets[r]||(i.Sheets[r]={}),V.name&&(i.Sheets[r].CodeName=V.name),(V.above||V.left)&&(l["!outline"]={above:V.above,left:V.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),V.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!ne.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+se.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=ct(c||u)),o.sheetRows&&l["!ref"]){var J=It(l["!ref"]);o.sheetRows<=+J.e.r&&(J.e.r=o.sheetRows-1,J.e.r>u.e.r&&(J.e.r=u.e.r),J.e.r<J.s.r&&(J.s.r=J.e.r),J.e.c>u.e.c&&(J.e.c=u.e.c),J.e.c<J.s.c&&(J.s.c=J.e.c),l["!fullref"]=l["!ref"],l["!ref"]=ct(J))}return T.length>0&&(l["!merges"]=T),U.length>0&&(l["!cols"]=U),X.length>0&&(l["!rows"]=X),l}function bre(t,e,r,n,i,a,s){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=ur(e),e.z=e.z||Je[14],e.v=gn(cr(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r,c:n};switch(l.s=lu(i.cellXfs,e,i),e.l&&a["!links"].push([Ze(l),e.l]),e.c&&a["!comments"].push([Ze(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=ZP(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,s?ye(t,18,jte(e,l)):ye(t,7,Bte(e,l))):(l.t="str",s?ye(t,17,Qte(e,l)):ye(t,6,Jte(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?s?ye(t,13,Xte(e,l)):ye(t,2,Gte(e,l)):s?ye(t,16,Wte(e,l)):ye(t,5,Hte(e,l)),!0;case"b":return l.t="b",s?ye(t,15,Nte(e,l)):ye(t,4,Ote(e,l)),!0;case"e":return l.t="e",s?ye(t,14,Lte(e,l)):ye(t,3,Dte(e,l)),!0}return s?ye(t,12,Pte(e,l)):ye(t,1,Cte(e,l)),!0}function Sre(t,e,r,n){var i=It(e["!ref"]||"A1"),a,s="",o=[];ye(t,145);var l=Array.isArray(e),c=i.e.r;e["!rows"]&&(c=Math.max(i.e.r,e["!rows"].length-1));for(var u=i.s.r;u<=c;++u){s=Vr(u),_te(t,e,i,u);var f=!1;if(u<=i.e.r)for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(o[d]=Tr(d)),a=o[d]+s;var h=l?(e[u]||[])[d]:e[a];if(!h){f=!1;continue}f=bre(t,h,u,d,n,e,f)}}ye(t,146)}function Are(t,e){!e||!e["!merges"]||(ye(t,177,sre(e["!merges"].length)),e["!merges"].forEach(function(r){ye(t,176,are(r))}),ye(t,178))}function Tre(t,e){!e||!e["!cols"]||(ye(t,390),e["!cols"].forEach(function(r,n){r&&ye(t,60,dre(n,r))}),ye(t,391))}function Ere(t,e){!e||!e["!ref"]||(ye(t,648),ye(t,649,vre(It(e["!ref"]))),ye(t,650))}function Cre(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var i=jt(r,-1,n[1].Target.replace(/#.*$/,""),xt.HLINK);ye(t,494,lre(n,i))}}),delete e["!links"]}function kre(t,e,r,n){if(e["!comments"].length>0){var i=jt(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",xt.VML);ye(t,551,BP("rId"+i)),e["!legacy"]=i}}function Pre(t,e,r,n){if(e["!autofilter"]){var i=e["!autofilter"],a=typeof i.ref=="string"?i.ref:ct(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=Wi(a);o.s.r==o.e.r&&(o.e.r=Wi(e["!ref"]).e.r,a=ct(o));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),ye(t,161,xp(It(a))),ye(t,162)}}function Ire(t,e,r){ye(t,133),ye(t,137,gre(e,r)),ye(t,138),ye(t,134)}function Ore(t,e){e["!protect"]&&ye(t,535,yre(e["!protect"]))}function Mre(t,e,r,n){var i=Hi(),a=r.SheetNames[t],s=r.Sheets[a]||{},o=a;try{r&&r.Workbook&&(o=r.Workbook.Sheets[t].CodeName||o)}catch{}var l=It(s["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],ye(i,129),(r.vbaraw||s["!outline"])&&ye(i,147,Tte(o,s["!outline"])),ye(i,148,bte(l)),Ire(i,s,r.Workbook),Tre(i,s),Sre(i,s,t,e),Ore(i,s),Pre(i,s,r,t),Are(i,s),Cre(i,s,n),s["!margins"]&&ye(i,476,pre(s["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&Ere(i,s),kre(i,s,t,n),ye(i,130),i.end()}function Nre(t){var e=[],r=t.match(/^<c:numCache>/),n;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var s=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(e[+s[1]]=r?+s[2]:s[2])});var i=kt((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){n=a.replace(/<.*?>/g,"")}),[e,i,n]}function Rre(t,e,r,n,i,a){var s=a||{"!type":"chart"};if(!t)return a;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var d=Nre(f);u.s.r=u.s.c=0,u.e.c=o,c=Tr(o),d[0].forEach(function(h,m){s[c+Vr(m)]={t:"n",v:h,z:d[1]},l=m}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(s["!ref"]=ct(u)),s}function Dre(t,e,r,n,i){if(!t)return t;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s,o=t.match(eB);return o&&QP(o[0],a,i,r),(s=t.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=s[1]),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}function Fre(t,e){t.l+=10;var r=li(t);return{name:r}}function Lre(t,e,r,n,i){if(!t)return t;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s=!1;return $l(t,function(l,c,u){switch(u){case 550:a["!rel"]=l;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),l.name&&(i.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!s||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},e),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}var eI=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],$re=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Bre=[],Ure=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function KN(t,e){for(var r=0;r!=t.length;++r)for(var n=t[r],i=0;i!=e.length;++i){var a=e[i];if(n[a[0]]==null)n[a[0]]=a[1];else switch(a[2]){case"bool":typeof n[a[0]]=="string"&&(n[a[0]]=sr(n[a[0]]));break;case"int":typeof n[a[0]]=="string"&&(n[a[0]]=parseInt(n[a[0]],10));break}}}function YN(t,e){for(var r=0;r!=e.length;++r){var n=e[r];if(t[n[0]]==null)t[n[0]]=n[1];else switch(n[2]){case"bool":typeof t[n[0]]=="string"&&(t[n[0]]=sr(t[n[0]]));break;case"int":typeof t[n[0]]=="string"&&(t[n[0]]=parseInt(t[n[0]],10));break}}}function iB(t){YN(t.WBProps,eI),YN(t.CalcPr,Ure),KN(t.WBView,$re),KN(t.Sheets,Bre),Ah.date1904=sr(t.WBProps.date1904)}function jre(t){return!t.Workbook||!t.Workbook.WBProps?"false":sr(t.Workbook.WBProps.date1904)?"true":"false"}var Vre="][*?/\\".split("");function aB(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Vre.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Hre(t,e,r){t.forEach(function(n,i){aB(n);for(var a=0;a<i;++a)if(n==t[a])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=e&&e[i]&&e[i].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function Wre(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];Hre(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)jee(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}var zre=/<\w+:workbook/;function Gre(t,e){if(!t)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",a={},s=0;if(t.replace(fi,function(l,c){var u=Qe(l);switch(So(u[0])){case"<?xml":break;case"<workbook":l.match(zre)&&(i="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=u[i];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":eI.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=sr(u[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:r.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(r.WBProps.CodeName=Xt(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=kt(Xt(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":a={},a.Name=Xt(u.name),u.comment&&(a.Comment=u.comment),u.localSheetId&&(a.Sheet=+u.localSheetId),sr(u.hidden||"0")&&(a.Hidden=!0),s=c+l.length;break;case"</definedName>":a.Ref=kt(Xt(t.slice(s,c))),r.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),xd.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return iB(r),r}function sB(t){var e=[Wr];e[e.length]=Ee("workbook",null,{xmlns:xd[0],"xmlns:r":fn.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(eI.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=Ee("workbookPr",null,n);var i=t.Workbook&&t.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",a=0;a!=t.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==t.SheetNames.length&&(a=0),e[e.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",a=0;a!=t.SheetNames.length;++a){var s={name:Ht(t.SheetNames[a].slice(0,31))};if(s.sheetId=""+(a+1),s["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}e[e.length]=Ee("sheet",null,s)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=Ee("definedName",Ht(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function qre(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=lE(t),r.name=li(t),r}function Xre(t,e){return e||(e=pe(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),BP(t.strRelID,e),Cn(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function Kre(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?li(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Yre(t,e){e||(e=pe(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),J6(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function Jre(t,e){var r={};return t.read_shift(4),r.ArchID=t.read_shift(4),t.l+=e-8,r}function Zre(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),a=kX(t),s=Dee(t,0,r),o=$P(t);t.l=n;var l={Name:a,Ptg:s};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function Qre(t,e){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;e||(e={}),e.biff=12;var a=[],s=[[]];return s.SheetNames=[],s.XTI=[],Rg[16]={n:"BrtFRTArchID$",f:Jre},$l(t,function(l,c,u){switch(u){case 156:s.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=ti(l.Ptg,null,null,s,e),delete e.SID,delete l.Ptg,a.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([u,l]):s[0]=[u,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(u),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!c.T){if(!i||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},e),iB(r),r.Names=a,r.supbooks=s,r}function ene(t,e){ye(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};ye(t,156,Xre(i))}ye(t,144)}function tne(t,e){e||(e=pe(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Cn("SheetJS",e),Cn(E_.version,e),Cn(E_.version,e),Cn("7262",e),e.length>e.l?e.slice(0,e.l):e}function rne(t,e){e||(e=pe(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function nne(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,i=-1,a=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&a==-1&&(a=n);a>i||(ye(t,135),ye(t,158,rne(i)),ye(t,136))}}function ine(t,e){var r=Hi();return ye(r,131),ye(r,128,tne()),ye(r,153,Yre(t.Workbook&&t.Workbook.WBProps||null)),nne(r,t),ene(r,t),ye(r,132),r.end()}function ane(t,e,r){return e.slice(-4)===".bin"?Qre(t,r):Gre(t,r)}function sne(t,e,r,n,i,a,s,o){return e.slice(-4)===".bin"?wre(t,n,r,i,a,s,o):Zee(t,n,r,i,a,s,o)}function one(t,e,r,n,i,a,s,o){return e.slice(-4)===".bin"?Lre(t,n,r,i,a):Dre(t,n,r,i,a)}function lne(t,e,r,n,i,a,s,o){return e.slice(-4)===".bin"?uQ():fQ()}function cne(t,e,r,n,i,a,s,o){return e.slice(-4)===".bin"?lQ():cQ()}function une(t,e,r,n){return e.slice(-4)===".bin"?aZ(t,r,n):qJ(t,r,n)}function fne(t,e,r){return U$(t,r)}function dne(t,e,r){return e.slice(-4)===".bin"?dJ(t,r):cJ(t,r)}function hne(t,e,r){return e.slice(-4)===".bin"?nQ(t,r):XZ(t,r)}function pne(t,e,r){return e.slice(-4)===".bin"?zZ(t):HZ(t)}function mne(t,e,r,n){return r.slice(-4)===".bin"?GZ(t,e,r,n):void 0}function gne(t,e,r){return e.slice(-4)===".bin"?UZ(t,e,r):VZ(t,e,r)}function vne(t,e,r){return(e.slice(-4)===".bin"?ine:sB)(t)}function yne(t,e,r,n,i){return(e.slice(-4)===".bin"?Mre:tB)(t,r,n,i)}function xne(t,e,r){return(e.slice(-4)===".bin"?mZ:$$)(t,r)}function _ne(t,e,r){return(e.slice(-4)===".bin"?mJ:I$)(t,r)}function wne(t,e,r){return(e.slice(-4)===".bin"?iQ:H$)(t)}function bne(t){return(t.slice(-4)===".bin"?jZ:j$)()}var oB=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,lB=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function ns(t,e){var r=t.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var i=t.match(oB),a,s,o,l;if(i)for(l=0;l!=i.length;++l)a=i[l].match(lB),(s=a[1].indexOf(":"))===-1?n[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(s+1),n[o]=a[2].slice(1,a[2].length-1));return n}function Sne(t){var e=t.split(/\s+/),r={};if(e.length===1)return r;var n=t.match(oB),i,a,s,o;if(n)for(o=0;o!=n.length;++o)i=n[o].match(lB),(a=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?s="xmlns"+i[1].slice(6):s=i[1].slice(a+1),r[s]=i[2].slice(1,i[2].length-1));return r}var qm;function Ane(t,e){var r=qm[t]||kt(t);return r==="General"?Jf(e):Ka(r,e)}function Tne(t,e,r,n){var i=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=sr(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=cr(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}t[kt(e)]=i}function Ene(t,e,r){if(t.t!=="z"){if(!r||r.cellText!==!1)try{t.t==="e"?t.w=t.w||Bl[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Tg(t.v):t.w=Jf(t.v):t.w=Ane(e||"General",t.v)}catch(a){if(r.WTF)throw a}try{var n=qm[e]||e||"General";if(r.cellNF&&(t.z=n),r.cellDates&&t.t=="n"&&gp(n)){var i=Du(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(a){if(r.WTF)throw a}}}function Cne(t,e,r){if(r.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=BJ[n.Pattern]||n.Pattern)}t[e.ID]=e}function kne(t,e,r,n,i,a,s,o,l,c){var u="General",f=n.StyleID,d={};c=c||{};var h=[],m=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&s&&(f=s.StyleID);a[f]!==void 0&&(a[f].nf&&(u=a[f].nf),a[f].Interior&&h.push(a[f].Interior),!!a[f].Parent);)f=a[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=sr(t);break;case"String":n.t="s",n.r=hN(kt(t)),n.v=t.indexOf("<")>-1?kt(e||t).replace(/<.*?>/g,""):n.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),n.v=(cr(t)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=kt(t):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+t),n.t||(n.t="n");break;case"Error":n.t="e",n.v=r$[t],c.cellText!==!1&&(n.w=t);break;default:t==""&&e==""?n.t="z":(n.t="s",n.v=hN(e||t));break}if(Ene(n,u,c),c.cellFormula!==!1)if(n.Formula){var p=kt(n.Formula);p.charCodeAt(0)==61&&(p=p.slice(1)),n.f=Sh(p,i),delete n.Formula,n.ArrayRange=="RC"?n.F=Sh("RC:RC",i):n.ArrayRange&&(n.F=Sh(n.ArrayRange,i),l.push([It(n.F),n.F]))}else for(m=0;m<l.length;++m)i.r>=l[m][0].s.r&&i.r<=l[m][0].e.r&&i.c>=l[m][0].s.c&&i.c<=l[m][0].e.c&&(n.F=l[m][1]);c.cellStyles&&(h.forEach(function(y){!d.patternType&&y.patternType&&(d.patternType=y.patternType)}),n.s=d),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function Pne(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function TA(t,e){var r=e||{};vp();var n=um(MP(t));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Xt(n));var i=n.slice(0,1024).toLowerCase(),a=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var s=ur(r);return s.type="string",F0.to_workbook(n,s)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(bt){i.indexOf("<"+bt)>=0&&(a=!0)}),a)return pie(n,r);qm={"General Number":"General","General Date":Je[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Je[15],"Short Date":Je[14],"Long Time":Je[19],"Medium Time":Je[18],"Short Time":Je[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Je[2],Standard:Je[4],Percent:Je[10],Scientific:Je[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],d=r.dense?[]:{},h="",m={},p={},y=ns('<Data ss:Type="String">'),_=0,b=0,w=0,A={s:{r:2e6,c:2e6},e:{r:0,c:0}},S={},T={},E="",P=0,k=[],D={},I={},N=0,U=[],X=[],G={},Q=[],J,ee=!1,V=[],ne=[],se={},R=0,W=0,Y={Sheets:[],WBProps:{date1904:!1}},Z={};kg.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var oe="";o=kg.exec(n);)switch(o[3]=(oe=o[3]).toLowerCase()){case"data":if(oe=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?kne(n.slice(_,o.index),E,y,l[l.length-1][0]=="comment"?G:m,{c:b,r:w},S,Q[b],p,V,r):(E="",y=ns(o[0]),_=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(X.length>0&&(m.c=X),(!r.sheetRows||r.sheetRows>w)&&m.v!==void 0&&(r.dense?(d[w]||(d[w]=[]),d[w][b]=m):d[Tr(b)+Vr(w)]=m),m.HRef&&(m.l={Target:kt(m.HRef)},m.HRefScreenTip&&(m.l.Tooltip=m.HRefScreenTip),delete m.HRef,delete m.HRefScreenTip),(m.MergeAcross||m.MergeDown)&&(R=b+(parseInt(m.MergeAcross,10)|0),W=w+(parseInt(m.MergeDown,10)|0),k.push({s:{c:b,r:w},e:{c:R,r:W}})),!r.sheetStubs)m.MergeAcross?b=R+1:++b;else if(m.MergeAcross||m.MergeDown){for(var de=b;de<=R;++de)for(var ve=w;ve<=W;++ve)(de>b||ve>w)&&(r.dense?(d[ve]||(d[ve]=[]),d[ve][de]={t:"z"}):d[Tr(de)+Vr(ve)]={t:"z"});b=R+1}else++b;else m=Sne(o[0]),m.Index&&(b=+m.Index-1),b<A.s.c&&(A.s.c=b),b>A.e.c&&(A.e.c=b),o[0].slice(-2)==="/>"&&++b,X=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(w<A.s.r&&(A.s.r=w),w>A.e.r&&(A.e.r=w),o[0].slice(-2)==="/>"&&(p=ns(o[0]),p.Index&&(w=+p.Index-1)),b=0,++w):(p=ns(o[0]),p.Index&&(w=+p.Index-1),se={},(p.AutoFitHeight=="0"||p.Height)&&(se.hpx=parseInt(p.Height,10),se.hpt=Ng(se.hpx),ne[w]=se),p.Hidden=="1"&&(se.hidden=!0,ne[w]=se));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(h),A.s.r<=A.e.r&&A.s.c<=A.e.c&&(d["!ref"]=ct(A),r.sheetRows&&r.sheetRows<=A.e.r&&(d["!fullref"]=d["!ref"],A.e.r=r.sheetRows-1,d["!ref"]=ct(A))),k.length&&(d["!merges"]=k),Q.length>0&&(d["!cols"]=Q),ne.length>0&&(d["!rows"]=ne),u[h]=d}else A={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=b=0,l.push([o[3],!1]),c=ns(o[0]),h=kt(c.Name),d=r.dense?[]:{},k=[],V=[],ne=[],Z={name:h,Hidden:0},Y.Sheets.push(Z);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),Q=[],ee=!1}break;case"style":o[1]==="/"?Cne(S,T,r):T=ns(o[0]);break;case"numberformat":T.nf=kt(ns(o[0]).Format||"General"),qm[T.nf]&&(T.nf=qm[T.nf]);for(var te=0;te!=392&&Je[te]!=T.nf;++te);if(te==392){for(te=57;te!=392;++te)if(Je[te]==null){ml(T.nf,te);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(J=ns(o[0]),J.Hidden&&(J.hidden=!0,delete J.Hidden),J.Width&&(J.wpx=parseInt(J.Width,10)),!ee&&J.wpx>10){ee=!0,ni=F$;for(var fe=0;fe<Q.length;++fe)Q[fe]&&Kc(Q[fe])}ee&&Kc(J),Q[J.Index-1||Q.length]=J;for(var be=0;be<+J.Span;++be)Q[Q.length]=ur(J);break;case"namedrange":if(o[1]==="/")break;Y.Names||(Y.Names=[]);var L=Qe(o[0]),We={Name:L.Name,Ref:Sh(L.RefersTo.slice(1),{r:0,c:0})};Y.Sheets.length>0&&(We.Sheet=Y.Sheets.length-1),Y.Names.push(We);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?E+=n.slice(P,o.index):P=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;T.Interior=ns(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?QX(D,oe,n.slice(N,o.index)):N=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));Pne(G),X.push(G)}else l.push([o[3],!1]),c=ns(o[0]),G={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ie=ns(o[0]);d["!autofilter"]={ref:Sh(Ie.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return tR(n,r);var Ge=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ge=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ge=!1}break;case"excelworkbook":switch(o[3]){case"date1904":Y.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ge=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Ge=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(N,o.index)){case"SheetHidden":Z.Hidden=1;break;case"SheetVeryHidden":Z.Hidden=2;break}else N=o.index+o[0].length;break;case"header":d["!margins"]||Hf(d["!margins"]={},"xlml"),isNaN(+Qe(o[0]).Margin)||(d["!margins"].header=+Qe(o[0]).Margin);break;case"footer":d["!margins"]||Hf(d["!margins"]={},"xlml"),isNaN(+Qe(o[0]).Margin)||(d["!margins"].footer=+Qe(o[0]).Margin);break;case"pagemargins":var je=Qe(o[0]);d["!margins"]||Hf(d["!margins"]={},"xlml"),isNaN(+je.Top)||(d["!margins"].top=+je.Top),isNaN(+je.Left)||(d["!margins"].left=+je.Left),isNaN(+je.Right)||(d["!margins"].right=+je.Right),isNaN(+je.Bottom)||(d["!margins"].bottom=+je.Bottom);break;case"displayrighttoleft":Y.Views||(Y.Views=[]),Y.Views[0]||(Y.Views[0]={}),Y.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ge=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ge=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ge=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ge=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ge=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ge=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ge=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ge=!1}break;case"smarttags":break;default:Ge=!1;break}if(Ge||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?Tne(I,oe,U,n.slice(N,o.index)):(U=o,N=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var xe={};return!r.bookSheets&&!r.bookProps&&(xe.Sheets=u),xe.SheetNames=f,xe.Workbook=Y,xe.SSF=ur(Je),xe.Props=D,xe.Custprops=I,xe}function mE(t,e){switch(rI(e=e||{}),e.type||"base64"){case"base64":return TA(ga(t),e);case"binary":case"buffer":case"file":return TA(t,e);case"array":return TA(su(t),e)}}function Ine(t,e){var r=[];return t.Props&&r.push(eK(t.Props,e)),t.Custprops&&r.push(tK(t.Props,t.Custprops)),r.join("")}function One(){return""}function Mne(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var a=[];a.push(Ee("NumberFormat",null,{"ss:Format":Ht(Je[n.numFmtId])}));var s={"ss:ID":"s"+(21+i)};r.push(Ee("Style",a.join(""),s))}),Ee("Styles",r.join(""))}function cB(t){return Ee("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+YP(t.Ref,{r:0,c:0})})}function Nne(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(cB(i)))}return Ee("Names",r.join(""))}function Rne(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,a=[],s=0;s<i.length;++s){var o=i[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||a.push(cB(o)))}return a.join("")}function Dne(t,e,r,n){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(Ee("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(Ee("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(Ee("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(Ee("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push($n("ProtectContents","True")),t["!protect"].objects&&i.push($n("ProtectObjects","True")),t["!protect"].scenarios&&i.push($n("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push($n("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push($n("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){t["!protect"][s[0]]&&i.push("<"+s[1]+"/>")})),i.length==0?"":Ee("WorksheetOptions",i.join(""),{xmlns:sa.x})}function Fne(t){return t.map(function(e){var r=nX(e.t||""),n=Ee("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ee("Comment",n,{"ss:Author":e.a})}).join("")}function Lne(t,e,r,n,i,a,s){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+Ht(YP(t.f,s))),t.F&&t.F.slice(0,e.length)==e){var l=Er(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=Ht(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=Ht(t.l.Tooltip))),r["!merges"])for(var c=r["!merges"],u=0;u!=c.length;++u)c[u].s.c!=s.c||c[u].s.r!=s.r||(c[u].e.c>c[u].s.c&&(o["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(o["ss:MergeDown"]=c[u].e.r-c[u].s.r));var f="",d="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",d=String(t.v);break;case"b":f="Boolean",d=t.v?"1":"0";break;case"e":f="Error",d=Bl[t.v];break;case"d":f="DateTime",d=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Je[14]);break;case"s":f="String",d=rX(t.v||"");break}var h=lu(n.cellXfs,t,n);o["ss:StyleID"]="s"+(21+h),o["ss:Index"]=s.c+1;var m=t.v!=null?d:"",p=t.t=="z"?"":'<Data ss:Type="'+f+'">'+m+"</Data>";return(t.c||[]).length>0&&(p+=Fne(t.c)),Ee("Cell",p,o)}function $ne(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=L0(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Bne(t,e,r,n){if(!t["!ref"])return"";var i=It(t["!ref"]),a=t["!merges"]||[],s=0,o=[];t["!cols"]&&t["!cols"].forEach(function(y,_){Kc(y);var b=!!y.width,w=jb(_,y),A={"ss:Index":_+1};b&&(A["ss:Width"]=Og(w.width)),y.hidden&&(A["ss:Hidden"]="1"),o.push(Ee("Column",null,A))});for(var l=Array.isArray(t),c=i.s.r;c<=i.e.r;++c){for(var u=[$ne(c,(t["!rows"]||[])[c])],f=i.s.c;f<=i.e.c;++f){var d=!1;for(s=0;s!=a.length;++s)if(!(a[s].s.c>f)&&!(a[s].s.r>c)&&!(a[s].e.c<f)&&!(a[s].e.r<c)){(a[s].s.c!=f||a[s].s.r!=c)&&(d=!0);break}if(!d){var h={r:c,c:f},m=Ze(h),p=l?(t[c]||[])[f]:t[m];u.push(Lne(p,m,t,e,r,n,h))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function Une(t,e,r){var n=[],i=r.SheetNames[t],a=r.Sheets[i],s=a?Rne(a,e,t,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=a?Bne(a,e,t,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(Dne(a,e,t,r)),n.join("")}function jne(t,e){e||(e={}),t.SSF||(t.SSF=ur(Je)),t.SSF&&(vp(),Rb(t.SSF),e.revssf=Fb(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],lu(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Ine(t,e)),r.push(One()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(Ee("Worksheet",Une(n,e,t),{"ss:Name":Ht(t.SheetNames[n])}));return r[2]=Mne(t,e),r[3]=Nne(t),Wr+Ee("Workbook",r.join(""),{xmlns:sa.ss,"xmlns:o":sa.o,"xmlns:x":sa.x,"xmlns:ss":sa.ss,"xmlns:dt":sa.dt,"xmlns:html":sa.html})}function Vne(t){var e={},r=t.content;if(r.l=28,e.AnsiUserType=r.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=NX(r),r.length-r.l<=4)return e;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,e.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=RX(r),n=r.read_shift(4),n==0||n>40))return e;r.l-=4,e.Reserved2=r.read_shift(0,"lpwstr")}var Hne=[60,1084,2066,2165,2175];function Wne(t,e,r,n,i){var a=n,s=[],o=r.slice(r.l,r.l+a);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}s.push(o),r.l+=a;for(var l=cl(r,r.l),c=gE[l],u=0;c!=null&&Hne.indexOf(l)>-1;)a=cl(r,r.l+2),u=r.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=r.slice(u,r.l+4+a),s.push(o),r.l+=4+a,c=gE[l=cl(r,r.l)];var f=En(s);Ln(f,0);var d=0;f.lens=[];for(var h=0;h<s.length;++h)f.lens.push(d),d+=s[h].length;if(f.length<n)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+f.length+" < "+n;return e.f(f,f.length,i)}function js(t,e,r){if(t.t!=="z"&&t.XF){var n=0;try{n=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=Je[n])}catch(a){if(e.WTF)throw a}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||Bl[t.v]:n===0||n=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Tg(t.v):t.w=Jf(t.v):t.w=Ka(n,t.v,{date1904:!!r,dateNF:e&&e.dateNF})}catch(a){if(e.WTF)throw a}if(e.cellDates&&n&&t.t=="n"&&gp(Je[n]||String(n))){var i=Du(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function Lx(t,e,r){return{v:t,ixfe:e,t:r}}function zne(t,e){var r={opts:{}},n={},i=e.dense?[]:{},a={},s={},o=null,l=[],c="",u={},f,d="",h,m,p,y,_={},b=[],w,A,S=[],T=[],E={Sheets:[],WBProps:{date1904:!1},Views:[{}]},P={},k=function(ke){return ke<8?Uf[ke]:ke<64&&T[ke-8]||Uf[ke]},D=function(ke,ut,Ot){var rr=ut.XF.data;if(!(!rr||!rr.patternType||!Ot||!Ot.cellStyles)){ut.s={},ut.s.patternType=rr.patternType;var Bs;(Bs=Ig(k(rr.icvFore)))&&(ut.s.fgColor={rgb:Bs}),(Bs=Ig(k(rr.icvBack)))&&(ut.s.bgColor={rgb:Bs})}},I=function(ke,ut,Ot){if(!(se>1)&&!(Ot.sheetRows&&ke.r>=Ot.sheetRows)){if(Ot.cellStyles&&ut.XF&&ut.XF.data&&D(ke,ut,Ot),delete ut.ixfe,delete ut.XF,f=ke,d=Ze(ke),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),ke.r<s.s.r&&(s.s.r=ke.r),ke.c<s.s.c&&(s.s.c=ke.c),ke.r+1>s.e.r&&(s.e.r=ke.r+1),ke.c+1>s.e.c&&(s.e.c=ke.c+1),Ot.cellFormula&&ut.f){for(var rr=0;rr<b.length;++rr)if(!(b[rr][0].s.c>ke.c||b[rr][0].s.r>ke.r)&&!(b[rr][0].e.c<ke.c||b[rr][0].e.r<ke.r)){ut.F=ct(b[rr][0]),(b[rr][0].s.c!=ke.c||b[rr][0].s.r!=ke.r)&&delete ut.f,ut.f&&(ut.f=""+ti(b[rr][1],s,ke,V,N));break}}Ot.dense?(i[ke.r]||(i[ke.r]=[]),i[ke.r][ke.c]=ut):i[d]=ut}},N={enc:!1,sbcch:0,snames:[],sharedf:_,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(N.password=e.password);var U,X=[],G=[],Q=[],J=[],ee=!1,V=[];V.SheetNames=N.snames,V.sharedf=N.sharedf,V.arrayf=N.arrayf,V.names=[],V.XTI=[];var ne=0,se=0,R=0,W=[],Y=[],Z;N.codepage=1200,Cs(1200);for(var oe=!1;t.l<t.length-1;){var de=t.l,ve=t.read_shift(2);if(ve===0&&ne===10)break;var te=t.l===t.length?0:t.read_shift(2),fe=gE[ve];if(fe&&fe.f){if(e.bookSheets&&ne===133&&ve!==133)break;if(ne=ve,fe.r===2||fe.r==12){var be=t.read_shift(2);if(te-=2,!N.enc&&be!==ve&&((be&255)<<8|be>>8)!==ve)throw new Error("rt mismatch: "+be+"!="+ve);fe.r==12&&(t.l+=10,te-=10)}var L={};if(ve===10?L=fe.f(t,te,N):L=Wne(ve,fe,t,te,N),se==0&&[9,521,1033,2057].indexOf(ne)===-1)continue;switch(ve){case 34:r.opts.Date1904=E.WBProps.date1904=L;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(N.enc||(t.l=0),N.enc=L,!e.password)throw new Error("File is password-protected");if(L.valid==null)throw new Error("Encryption scheme unsupported");if(!L.valid)throw new Error("Password is incorrect");break;case 92:N.lastuser=L;break;case 66:var We=Number(L);switch(We){case 21010:We=1200;break;case 32768:We=1e4;break;case 32769:We=1252;break}Cs(N.codepage=We),oe=!0;break;case 317:N.rrtabid=L;break;case 25:N.winlocked=L;break;case 439:r.opts.RefreshAll=L;break;case 12:r.opts.CalcCount=L;break;case 16:r.opts.CalcDelta=L;break;case 17:r.opts.CalcIter=L;break;case 13:r.opts.CalcMode=L;break;case 14:r.opts.CalcPrecision=L;break;case 95:r.opts.CalcSaveRecalc=L;break;case 15:N.CalcRefMode=L;break;case 2211:r.opts.FullCalc=L;break;case 129:L.fDialog&&(i["!type"]="dialog"),L.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),L.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:S.push(L);break;case 430:V.push([L]),V[V.length-1].XTI=[];break;case 35:case 547:V[V.length-1].push(L);break;case 24:case 536:Z={Name:L.Name,Ref:ti(L.rgce,s,null,V,N)},L.itab>0&&(Z.Sheet=L.itab-1),V.names.push(Z),V[0]||(V[0]=[],V[0].XTI=[]),V[V.length-1].push(L),L.Name=="_xlnm._FilterDatabase"&&L.itab>0&&L.rgce&&L.rgce[0]&&L.rgce[0][0]&&L.rgce[0][0][0]=="PtgArea3d"&&(Y[L.itab-1]={ref:ct(L.rgce[0][0][1][2])});break;case 22:N.ExternCount=L;break;case 23:V.length==0&&(V[0]=[],V[0].XTI=[]),V[V.length-1].XTI=V[V.length-1].XTI.concat(L),V.XTI=V.XTI.concat(L);break;case 2196:if(N.biff<8)break;Z!=null&&(Z.Comment=L[1]);break;case 18:i["!protect"]=L;break;case 19:L!==0&&N.WTF&&console.error("Password verifier: "+L);break;case 133:a[L.pos]=L,N.snames.push(L.name);break;case 10:{if(--se)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,i["!ref"]=ct(s),e.sheetRows&&e.sheetRows<=s.e.r){var Ie=s.e.r;s.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=ct(s),s.e.r=Ie}s.e.r++,s.e.c++}X.length>0&&(i["!merges"]=X),G.length>0&&(i["!objects"]=G),Q.length>0&&(i["!cols"]=Q),J.length>0&&(i["!rows"]=J),E.Sheets.push(P)}c===""?u=i:n[c]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(N.biff===8&&(N.biff={9:2,521:3,1033:4}[ve]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[L.BIFFVer]||8),N.biffguess=L.BIFFVer==0,L.BIFFVer==0&&L.dt==4096&&(N.biff=5,oe=!0,Cs(N.codepage=28591)),N.biff==8&&L.BIFFVer==0&&L.dt==16&&(N.biff=2),se++)break;if(i=e.dense?[]:{},N.biff<8&&!oe&&(oe=!0,Cs(N.codepage=e.codepage||1252)),N.biff<5||L.BIFFVer==0&&L.dt==4096){c===""&&(c="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var Ge={pos:t.l-te,name:c};a[Ge.pos]=Ge,N.snames.push(c)}else c=(a[de]||{name:""}).name;L.dt==32&&(i["!type"]="chart"),L.dt==64&&(i["!type"]="macro"),X=[],G=[],N.arrayf=b=[],Q=[],J=[],ee=!1,P={Hidden:(a[de]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[L.r]||[])[L.c]:i[Ze({c:L.c,r:L.r})])&&++L.c,w={ixfe:L.ixfe,XF:S[L.ixfe]||{},v:L.val,t:"n"},R>0&&(w.z=W[w.ixfe>>8&63]),js(w,e,r.opts.Date1904),I({c:L.c,r:L.r},w,e);break;case 5:case 517:w={ixfe:L.ixfe,XF:S[L.ixfe],v:L.val,t:L.t},R>0&&(w.z=W[w.ixfe>>8&63]),js(w,e,r.opts.Date1904),I({c:L.c,r:L.r},w,e);break;case 638:w={ixfe:L.ixfe,XF:S[L.ixfe],v:L.rknum,t:"n"},R>0&&(w.z=W[w.ixfe>>8&63]),js(w,e,r.opts.Date1904),I({c:L.c,r:L.r},w,e);break;case 189:for(var je=L.c;je<=L.C;++je){var xe=L.rkrec[je-L.c][0];w={ixfe:xe,XF:S[xe],v:L.rkrec[je-L.c][1],t:"n"},R>0&&(w.z=W[w.ixfe>>8&63]),js(w,e,r.opts.Date1904),I({c:je,r:L.r},w,e)}break;case 6:case 518:case 1030:{if(L.val=="String"){o=L;break}if(w=Lx(L.val,L.cell.ixfe,L.tt),w.XF=S[w.ixfe],e.cellFormula){var bt=L.formula;if(bt&&bt[0]&&bt[0][0]&&bt[0][0][0]=="PtgExp"){var Zt=bt[0][0][1][0],Pr=bt[0][0][1][1],gr=Ze({r:Zt,c:Pr});_[gr]?w.f=""+ti(L.formula,s,L.cell,V,N):w.F=((e.dense?(i[Zt]||[])[Pr]:i[gr])||{}).F}else w.f=""+ti(L.formula,s,L.cell,V,N)}R>0&&(w.z=W[w.ixfe>>8&63]),js(w,e,r.opts.Date1904),I(L.cell,w,e),o=L}break;case 7:case 519:if(o)o.val=L,w=Lx(L,o.cell.ixfe,"s"),w.XF=S[w.ixfe],e.cellFormula&&(w.f=""+ti(o.formula,s,o.cell,V,N)),R>0&&(w.z=W[w.ixfe>>8&63]),js(w,e,r.opts.Date1904),I(o.cell,w,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(L);var Ir=Ze(L[0].s);if(h=e.dense?(i[L[0].s.r]||[])[L[0].s.c]:i[Ir],e.cellFormula&&h){if(!o||!Ir||!h)break;h.f=""+ti(L[1],s,L[0],V,N),h.F=ct(L[0])}}break;case 1212:{if(!e.cellFormula)break;if(d){if(!o)break;_[Ze(o.cell)]=L[0],h=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[Ze(o.cell)],(h||{}).f=""+ti(L[0],s,f,V,N)}}break;case 253:w=Lx(l[L.isst].t,L.ixfe,"s"),l[L.isst].h&&(w.h=l[L.isst].h),w.XF=S[w.ixfe],R>0&&(w.z=W[w.ixfe>>8&63]),js(w,e,r.opts.Date1904),I({c:L.c,r:L.r},w,e);break;case 513:e.sheetStubs&&(w={ixfe:L.ixfe,XF:S[L.ixfe],t:"z"},R>0&&(w.z=W[w.ixfe>>8&63]),js(w,e,r.opts.Date1904),I({c:L.c,r:L.r},w,e));break;case 190:if(e.sheetStubs)for(var tn=L.c;tn<=L.C;++tn){var dr=L.ixfe[tn-L.c];w={ixfe:dr,XF:S[dr],t:"z"},R>0&&(w.z=W[w.ixfe>>8&63]),js(w,e,r.opts.Date1904),I({c:tn,r:L.r},w,e)}break;case 214:case 516:case 4:w=Lx(L.val,L.ixfe,"s"),w.XF=S[w.ixfe],R>0&&(w.z=W[w.ixfe>>8&63]),js(w,e,r.opts.Date1904),I({c:L.c,r:L.r},w,e);break;case 0:case 512:se===1&&(s=L);break;case 252:l=L;break;case 1054:if(N.biff==4){W[R++]=L[1];for(var Or=0;Or<R+163&&Je[Or]!=L[1];++Or);Or>=163&&ml(L[1],R+163)}else ml(L[1],L[0]);break;case 30:{W[R++]=L;for(var ie=0;ie<R+163&&Je[ie]!=L;++ie);ie>=163&&ml(L,R+163)}break;case 229:X=X.concat(L);break;case 93:G[L.cmo[0]]=N.lastobj=L;break;case 438:N.lastobj.TxO=L;break;case 127:N.lastobj.ImData=L;break;case 440:for(y=L[0].s.r;y<=L[0].e.r;++y)for(p=L[0].s.c;p<=L[0].e.c;++p)h=e.dense?(i[y]||[])[p]:i[Ze({c:p,r:y})],h&&(h.l=L[1]);break;case 2048:for(y=L[0].s.r;y<=L[0].e.r;++y)for(p=L[0].s.c;p<=L[0].e.c;++p)h=e.dense?(i[y]||[])[p]:i[Ze({c:p,r:y})],h&&h.l&&(h.l.Tooltip=L[1]);break;case 28:{if(N.biff<=5&&N.biff>=2)break;h=e.dense?(i[L[0].r]||[])[L[0].c]:i[Ze(L[0])];var Te=G[L[2]];h||(e.dense?(i[L[0].r]||(i[L[0].r]=[]),h=i[L[0].r][L[0].c]={t:"z"}):h=i[Ze(L[0])]={t:"z"},s.e.r=Math.max(s.e.r,L[0].r),s.s.r=Math.min(s.s.r,L[0].r),s.e.c=Math.max(s.e.c,L[0].c),s.s.c=Math.min(s.s.c,L[0].c)),h.c||(h.c=[]),m={a:L[1],t:Te.TxO.t},h.c.push(m)}break;case 2173:MZ(S[L.ixfe],L.ext);break;case 125:{if(!N.cellStyles)break;for(;L.e>=L.s;)Q[L.e--]={width:L.w/256,level:L.level||0,hidden:!!(L.flags&1)},ee||(ee=!0,qP(L.w/256)),Kc(Q[L.e+1])}break;case 520:{var Re={};L.level!=null&&(J[L.r]=Re,Re.level=L.level),L.hidden&&(J[L.r]=Re,Re.hidden=!0),L.hpt&&(J[L.r]=Re,Re.hpt=L.hpt,Re.hpx=L0(L.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Hf(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ve]]=L;break;case 161:i["!margins"]||Hf(i["!margins"]={}),i["!margins"].header=L.header,i["!margins"].footer=L.footer;break;case 574:L.RTL&&(E.Views[0].RTL=!0);break;case 146:T=L;break;case 2198:U=L;break;case 140:A=L;break;case 442:c?P.CodeName=L||P.name:E.WBProps.CodeName=L||"ThisWorkbook";break}}else fe||console.error("Missing Info for XLS Record 0x"+ve.toString(16)),t.l+=te}return r.SheetNames=Lr(a).sort(function(et,ke){return Number(et)-Number(ke)}).map(function(et){return a[et].name}),e.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&Y.forEach(function(et,ke){r.Sheets[r.SheetNames[ke]]["!autofilter"]=et}),r.Strings=l,r.SSF=ur(Je),N.enc&&(r.Encryption=N.enc),U&&(r.Themes=U),r.Metadata={},A!==void 0&&(r.Metadata.Country=A),V.names.length>0&&(E.Names=V.names),r.Workbook=E,r}var Xm={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Gne(t,e,r){var n=qe.find(t,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=ON(n,cE,Xm.DSI);for(var a in i)e[a]=i[a]}catch(c){if(r.WTF)throw c}var s=qe.find(t,"/!SummaryInformation");if(s&&s.size>0)try{var o=ON(s,uE,Xm.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(c){if(r.WTF)throw c}e.HeadingPairs&&e.TitlesOfParts&&(l$(e.HeadingPairs,e.TitlesOfParts,e,r),delete e.HeadingPairs,delete e.TitlesOfParts)}function qne(t,e){var r=[],n=[],i=[],a=0,s,o=oN(cE,"n"),l=oN(uE,"n");if(t.Props)for(s=Lr(t.Props),a=0;a<s.length;++a)(Object.prototype.hasOwnProperty.call(o,s[a])?r:Object.prototype.hasOwnProperty.call(l,s[a])?n:i).push([s[a],t.Props[s[a]]]);if(t.Custprops)for(s=Lr(t.Custprops),a=0;a<s.length;++a)Object.prototype.hasOwnProperty.call(t.Props||{},s[a])||(Object.prototype.hasOwnProperty.call(o,s[a])?r:Object.prototype.hasOwnProperty.call(l,s[a])?n:i).push([s[a],t.Custprops[s[a]]]);var c=[];for(a=0;a<i.length;++a)m$.indexOf(i[a][0])>-1||o$.indexOf(i[a][0])>-1||i[a][1]!=null&&c.push(i[a]);n.length&&qe.utils.cfb_add(e,"/SummaryInformation",MN(n,Xm.SI,l,uE)),(r.length||c.length)&&qe.utils.cfb_add(e,"/DocumentSummaryInformation",MN(r,Xm.DSI,o,cE,c.length?c:null,Xm.UDI))}function uB(t,e){e||(e={}),rI(e),SP(),e.codepage&&bP(e.codepage);var r,n;if(t.FullPaths){if(qe.find(t,"/encryption"))throw new Error("File is password-protected");r=qe.find(t,"!CompObj"),n=qe.find(t,"/Workbook")||qe.find(t,"/Book")}else{switch(e.type){case"base64":t=ca(ga(t));break;case"binary":t=ca(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}Ln(t,0),n={content:t}}var i,a;if(r&&Vne(r),e.bookProps&&!e.bookSheets)i={};else{var s=vt?"buffer":"array";if(n&&n.content)i=zne(n.content,e);else if((a=qe.find(t,"PerfectOffice_MAIN"))&&a.content)i=Vf.to_workbook(a.content,(e.type=s,e));else if((a=qe.find(t,"NativeContent_MAIN"))&&a.content)i=Vf.to_workbook(a.content,(e.type=s,e));else throw(a=qe.find(t,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&qe.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=sQ(t))}var o={};return t.FullPaths&&Gne(t,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=t),i}function Xne(t,e){var r=e||{},n=qe.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return qe.utils.cfb_add(n,i,fB(t,r)),r.biff==8&&(t.Props||t.Custprops)&&qne(t,n),r.biff==8&&t.vbaraw&&oQ(n,qe.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var Rg={0:{f:yte},1:{f:Ete},2:{f:zte},3:{f:Rte},4:{f:Ite},5:{f:Vte},6:{f:Yte},7:{f:$te},8:{f:nre},9:{f:rre},10:{f:ere},11:{f:tre},12:{f:kte},13:{f:qte},14:{f:Fte},15:{f:Mte},16:{f:rB},17:{f:Zte},18:{f:Ute},19:{f:LP},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Zre},40:{},42:{},43:{f:YJ},44:{f:XJ},45:{f:QJ},46:{f:tZ},47:{f:eZ},48:{},49:{f:wX},50:{},51:{f:DZ},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:E$},62:{f:Kte},63:{f:WZ},64:{f:xre},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ui,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:mre},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Ate},148:{f:wte,p:16},151:{f:cre},152:{},153:{f:Kre},154:{},155:{},156:{f:qre},157:{},158:{},159:{T:1,f:fJ},160:{T:-1},161:{T:1,f:Sd},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:ire},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:NZ},336:{T:-1},337:{f:$Z,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:lE},357:{},358:{},359:{},360:{T:1},361:{},362:{f:T$},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:ure},427:{f:fre},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:hre},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Ste},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:ore},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:lE},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:tQ},633:{T:1},634:{T:-1},635:{T:1,f:QZ},636:{T:-1},637:{f:TX},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Fre},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:_re},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},gE={6:{f:SA},10:{f:zl},12:{f:Kr},13:{f:Kr},14:{f:$r},15:{f:$r},16:{f:si},17:{f:$r},18:{f:$r},19:{f:Kr},20:{f:$N},21:{f:$N},23:{f:T$},24:{f:UN},25:{f:$r},26:{},27:{},28:{f:_Y},29:{},34:{f:$r},35:{f:BN},38:{f:si},39:{f:si},40:{f:si},41:{f:si},42:{f:$r},43:{f:$r},47:{f:MJ},49:{f:qK},51:{f:Kr},60:{},61:{f:VK},64:{f:$r},65:{f:GK},66:{f:Kr},77:{},80:{},81:{},82:{},85:{f:Kr},89:{},90:{},91:{},92:{f:OK},93:{f:SY},94:{},95:{f:$r},96:{},97:{},99:{f:$r},125:{f:E$},128:{f:lY},129:{f:NK},130:{f:Kr},131:{f:$r},132:{f:$r},133:{f:RK},134:{},140:{f:OY},141:{f:Kr},144:{},146:{f:RY},151:{},152:{},153:{},154:{},155:{},156:{f:Kr},157:{},158:{},160:{f:jY},161:{f:LY},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:iY},190:{f:aY},193:{f:zl},197:{},198:{},199:{},200:{},201:{},202:{f:$r},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Kr},220:{},221:{f:$r},222:{},224:{f:oY},225:{f:IK},226:{f:zl},227:{},229:{f:wY},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:FK},253:{f:KK},255:{f:$K},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:g$},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:$r},353:{f:zl},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:hY},431:{f:$r},432:{},433:{},434:{},437:{},438:{f:EY},439:{f:$r},440:{f:CY},441:{},442:{f:Wy},443:{},444:{f:Kr},445:{},446:{},448:{f:zl},449:{f:jK,r:2},450:{f:zl},512:{f:DN},513:{f:UY},515:{f:fY},516:{f:JK},517:{f:LN},519:{f:VY},520:{f:BK},523:{},545:{f:jN},549:{f:RN},566:{},574:{f:WK},638:{f:nY},659:{},1048:{},1054:{f:QK},1084:{},1212:{f:vY},2048:{f:PY},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Rx},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:zl},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:DY,r:12},2173:{f:OZ,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:$r,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:gY,r:12},2197:{},2198:{f:TZ,r:12},2199:{},2200:{},2201:{},2202:{f:yY,r:12},2203:{f:zl},2204:{},2205:{},2206:{},2207:{},2211:{f:UK},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Kr},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:$Y},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:NY},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:DN},1:{},2:{f:qY},3:{f:zY},4:{f:WY},5:{f:LN},7:{f:KY},8:{},9:{f:Rx},11:{},22:{f:Kr},30:{f:tY},31:{},32:{},33:{f:jN},36:{},37:{f:RN},50:{f:YY},62:{},52:{},67:{},68:{f:Kr},69:{},86:{},126:{},127:{f:HY},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:JY},223:{},234:{},354:{},421:{},518:{f:SA},521:{f:Rx},536:{f:UN},547:{f:BN},561:{},579:{},1030:{f:SA},1033:{f:Rx},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Ce(t,e,r,n){var i=e;if(!isNaN(i)){var a=n||(r||[]).length||0,s=t.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&RP(r)&&t.push(r)}}function Kne(t,e,r,n){var i=(r||[]).length||0;if(i<=8224)return Ce(t,e,r,i);var a=e;if(!isNaN(a)){for(var s=r.parts||[],o=0,l=0,c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;var u=t.next(4);for(u.write_shift(2,a),u.write_shift(2,c),t.push(r.slice(l,l+c)),l+=c;l<i;){for(u=t.next(4),u.write_shift(2,60),c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;u.write_shift(2,c),t.push(r.slice(l,l+c)),l+=c}}}function Xy(t,e,r){return t||(t=pe(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function Yne(t,e,r,n){var i=pe(9);return Xy(i,t,e),v$(r,n||"b",i),i}function Jne(t,e,r){var n=pe(8+2*r.length);return Xy(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function Zne(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?gn(cr(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?Ce(t,2,XY(r,n,i)):Ce(t,3,GY(r,n,i));return;case"b":case"e":Ce(t,5,Yne(r,n,e.v,e.t));return;case"s":case"str":Ce(t,4,Jne(r,n,(e.v||"").slice(0,255)));return}Ce(t,1,Xy(null,r,n))}function Qne(t,e,r,n){var i=Array.isArray(e),a=It(e["!ref"]||"A1"),s,o="",l=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),s=ct(a)}for(var c=a.s.r;c<=a.e.r;++c){o=Vr(c);for(var u=a.s.c;u<=a.e.c;++u){c===a.s.r&&(l[u]=Tr(u)),s=l[u]+o;var f=i?(e[c]||[])[u]:e[s];f&&Zne(t,f,c,u)}}}function eie(t,e){for(var r=e||{},n=Hi(),i=0,a=0;a<t.SheetNames.length;++a)t.SheetNames[a]==r.sheet&&(i=a);if(i==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Ce(n,r.biff==4?1033:r.biff==3?521:9,WP(t,16,r)),Qne(n,t.Sheets[t.SheetNames[i]],i,r),Ce(n,10),n.end()}function tie(t,e,r){Ce(t,49,XK({sz:12,name:"Arial"},r))}function rie(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&Ce(t,1054,eY(i,e[i],r))})}function nie(t,e){var r=pe(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Ce(t,2151,r),r=pe(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),b$(It(e["!ref"]||"A1"),r),r.write_shift(4,4),Ce(t,2152,r)}function iie(t,e){for(var r=0;r<16;++r)Ce(t,224,FN({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){Ce(t,224,FN(n,0,e))})}function aie(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];Ce(t,440,kY(n)),n[1].Tooltip&&Ce(t,2048,IY(n))}delete e["!links"]}function sie(t,e){if(e){var r=0;e.forEach(function(n,i){++r<=256&&n&&Ce(t,125,FY(jb(i,n),i))})}}function oie(t,e,r,n,i){var a=16+lu(i.cellXfs,e,i);if(e.v==null&&!e.bf){Ce(t,513,td(r,n,a));return}if(e.bf)Ce(t,6,Nee(e,r,n,i,a));else switch(e.t){case"d":case"n":var s=e.t=="d"?gn(cr(e.v)):e.v;Ce(t,515,dY(r,n,s,a));break;case"b":case"e":Ce(t,517,uY(r,n,e.v,a,i,e.t));break;case"s":case"str":if(i.bookSST){var o=ZP(i.Strings,e.v,i.revStrings);Ce(t,253,YK(r,n,o,a))}else Ce(t,516,ZK(r,n,(e.v||"").slice(0,255),a,i));break;default:Ce(t,513,td(r,n,a))}}function lie(t,e,r){var n=Hi(),i=r.SheetNames[t],a=r.Sheets[i]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[t]||{},l=Array.isArray(a),c=e.biff==8,u,f="",d=[],h=It(a["!ref"]||"A1"),m=c?65536:16384;if(h.e.c>255||h.e.r>=m){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");h.e.c=Math.min(h.e.c,255),h.e.r=Math.min(h.e.c,m-1)}Ce(n,2057,WP(r,16,e)),Ce(n,13,Ra(1)),Ce(n,12,Ra(100)),Ce(n,15,vi(!0)),Ce(n,17,vi(!1)),Ce(n,16,Qf(.001)),Ce(n,95,vi(!0)),Ce(n,42,vi(!1)),Ce(n,43,vi(!1)),Ce(n,130,Ra(1)),Ce(n,128,cY()),Ce(n,131,vi(!1)),Ce(n,132,vi(!1)),c&&sie(n,a["!cols"]),Ce(n,512,rY(h,e)),c&&(a["!links"]=[]);for(var p=h.s.r;p<=h.e.r;++p){f=Vr(p);for(var y=h.s.c;y<=h.e.c;++y){p===h.s.r&&(d[y]=Tr(y)),u=d[y]+f;var _=l?(a[p]||[])[y]:a[u];_&&(oie(n,_,p,y,e),c&&_.l&&a["!links"].push([u,_.l]))}}var b=o.CodeName||o.name||i;return c&&Ce(n,574,zK((s.Views||[])[0])),c&&(a["!merges"]||[]).length&&Ce(n,229,bY(a["!merges"])),c&&aie(n,a),Ce(n,442,y$(b)),c&&nie(n,a),Ce(n,10),n.end()}function cie(t,e,r){var n=Hi(),i=(t||{}).Workbook||{},a=i.Sheets||[],s=i.WBProps||{},o=r.biff==8,l=r.biff==5;if(Ce(n,2057,WP(t,5,r)),r.bookType=="xla"&&Ce(n,135),Ce(n,225,o?Ra(1200):null),Ce(n,193,uK(2)),l&&Ce(n,191),l&&Ce(n,192),Ce(n,226),Ce(n,92,MK("SheetJS",r)),Ce(n,66,Ra(o?1200:1252)),o&&Ce(n,353,Ra(0)),o&&Ce(n,448),Ce(n,317,BY(t.SheetNames.length)),o&&t.vbaraw&&Ce(n,211),o&&t.vbaraw){var c=s.CodeName||"ThisWorkbook";Ce(n,442,y$(c))}Ce(n,156,Ra(17)),Ce(n,25,vi(!1)),Ce(n,18,vi(!1)),Ce(n,19,Ra(0)),o&&Ce(n,431,vi(!1)),o&&Ce(n,444,Ra(0)),Ce(n,61,HK()),Ce(n,64,vi(!1)),Ce(n,141,Ra(0)),Ce(n,34,vi(jre(t)=="true")),Ce(n,14,vi(!0)),o&&Ce(n,439,vi(!1)),Ce(n,218,Ra(0)),tie(n,t,r),rie(n,t.SSF,r),iie(n,r),o&&Ce(n,352,vi(!1));var u=n.end(),f=Hi();o&&Ce(f,140,MY()),o&&r.Strings&&Kne(f,252,LK(r.Strings)),Ce(f,10);var d=f.end(),h=Hi(),m=0,p=0;for(p=0;p<t.SheetNames.length;++p)m+=(o?12:11)+(o?2:1)*t.SheetNames[p].length;var y=u.length+m+d.length;for(p=0;p<t.SheetNames.length;++p){var _=a[p]||{};Ce(h,133,DK({pos:y,hs:_.Hidden||0,dt:0,name:t.SheetNames[p]},r)),y+=e[p].length}var b=h.end();if(m!=b.length)throw new Error("BS8 "+m+" != "+b.length);var w=[];return u.length&&w.push(u),b.length&&w.push(b),d.length&&w.push(d),En(w)}function uie(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=ur(Je)),t&&t.SSF&&(vp(),Rb(t.SSF),r.revssf=Fb(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,nI(r),r.cellXfs=[],lu(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)n[n.length]=lie(i,r,t);return n.unshift(cie(t,n,r)),En(n)}function fB(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var i=Wi(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var a=e||{};switch(a.biff||2){case 8:case 5:return uie(t,e);case 4:case 3:case 2:return eie(t,e)}throw new Error("invalid type "+a.bookType+" for BIFF")}function JN(t,e){var r=e||{},n=r.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var a=t.match(/<\/table/i),s=i.index,o=a&&a.index||t.length,l=Xq(t.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,d=0,h={s:{r:1e7,c:1e7},e:{r:0,c:0}},m=[];for(s=0;s<l.length;++s){var p=l[s].trim(),y=p.slice(0,3).toLowerCase();if(y=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0;continue}if(!(y!="<td"&&y!="<th")){var _=p.split(/<\/t[dh]>/i);for(o=0;o<_.length;++o){var b=_[o].trim();if(b.match(/<t[dh]/i)){for(var w=b,A=0;w.charAt(0)=="<"&&(A=w.indexOf(">"))>-1;)w=w.slice(A+1);for(var S=0;S<m.length;++S){var T=m[S];T.s.c==u&&T.s.r<c&&c<=T.e.r&&(u=T.e.c+1,S=-1)}var E=Qe(b.slice(0,b.indexOf(">")));d=E.colspan?+E.colspan:1,((f=+E.rowspan)>1||d>1)&&m.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+d-1}});var P=E.t||E["data-t"]||"";if(!w.length){u+=d;continue}if(w=D6(w),h.s.r>c&&(h.s.r=c),h.e.r<c&&(h.e.r=c),h.s.c>u&&(h.s.c=u),h.e.c<u&&(h.e.c=u),!w.length){u+=d;continue}var k={t:"s",v:w};r.raw||!w.trim().length||P=="s"||(w==="TRUE"?k={t:"b",v:!0}:w==="FALSE"?k={t:"b",v:!1}:isNaN(Ns(w))?isNaN(D0(w).getDate())||(k={t:"d",v:cr(w)},r.cellDates||(k={t:"n",v:gn(k.v)}),k.z=r.dateNF||Je[14]):k={t:"n",v:Ns(w)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=k):n[Ze({r:c,c:u})]=k,u+=d}}}}return n["!ref"]=ct(h),m.length&&(n["!merges"]=m),n}function fie(t,e,r,n){for(var i=t["!merges"]||[],a=[],s=e.s.c;s<=e.e.c;++s){for(var o=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>r||i[c].s.c>s)&&!(i[c].e.r<r||i[c].e.c<s)){if(i[c].s.r<r||i[c].s.c<s){o=-1;break}o=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var u=Ze({r,c:s}),f=n.dense?(t[r]||[])[s]:t[u],d=f&&f.v!=null&&(f.h||OP(f.w||(kl(f),f.w)||""))||"",h={};o>1&&(h.rowspan=o),l>1&&(h.colspan=l),n.editable?d='<span contenteditable="true">'+d+"</span>":f&&(h["data-t"]=f&&f.t||"z",f.v!=null&&(h["data-v"]=f.v),f.z!=null&&(h["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(d='<a href="'+f.l.Target+'">'+d+"</a>")),h.id=(n.id||"sjs")+"-"+u,a.push(Ee("td",d,h))}}var m="<tr>";return m+a.join("")+"</tr>"}var die='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',hie="</body></html>";function pie(t,e){var r=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return ou(JN(r[0],e),e);var n=sI();return r.forEach(function(i,a){oI(n,JN(i,e),"Sheet"+(a+1))}),n}function mie(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function dB(t,e){var r=e||{},n=r.header!=null?r.header:die,i=r.footer!=null?r.footer:hie,a=[n],s=Wi(t["!ref"]);r.dense=Array.isArray(t),a.push(mie(t,s,r));for(var o=s.s.r;o<=s.e.r;++o)a.push(fie(t,s,o,r));return a.push("</table>"+i),a.join("")}function hB(t,e,r){var n=r||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var s=typeof n.origin=="string"?Er(n.origin):n.origin;i=s.r,a=s.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:a}};if(t["!ref"]){var u=Wi(t["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),i==-1&&(c.e.r=i=u.e.r+1)}var f=[],d=0,h=t["!rows"]||(t["!rows"]=[]),m=0,p=0,y=0,_=0,b=0,w=0;for(t["!cols"]||(t["!cols"]=[]);m<o.length&&p<l;++m){var A=o[m];if(ZN(A)){if(n.display)continue;h[p]={hidden:!0}}var S=A.children;for(y=_=0;y<S.length;++y){var T=S[y];if(!(n.display&&ZN(T))){var E=T.hasAttribute("data-v")?T.getAttribute("data-v"):T.hasAttribute("v")?T.getAttribute("v"):D6(T.innerHTML),P=T.getAttribute("data-z")||T.getAttribute("z");for(d=0;d<f.length;++d){var k=f[d];k.s.c==_+a&&k.s.r<p+i&&p+i<=k.e.r&&(_=k.e.c+1-a,d=-1)}w=+T.getAttribute("colspan")||1,((b=+T.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:p+i,c:_+a},e:{r:p+i+(b||1)-1,c:_+a+(w||1)-1}});var D={t:"s",v:E},I=T.getAttribute("data-t")||T.getAttribute("t")||"";E!=null&&(E.length==0?D.t=I||"z":n.raw||E.trim().length==0||I=="s"||(E==="TRUE"?D={t:"b",v:!0}:E==="FALSE"?D={t:"b",v:!1}:isNaN(Ns(E))?isNaN(D0(E).getDate())||(D={t:"d",v:cr(E)},n.cellDates||(D={t:"n",v:gn(D.v)}),D.z=n.dateNF||Je[14]):D={t:"n",v:Ns(E)})),D.z===void 0&&P!=null&&(D.z=P);var N="",U=T.getElementsByTagName("A");if(U&&U.length)for(var X=0;X<U.length&&!(U[X].hasAttribute("href")&&(N=U[X].getAttribute("href"),N.charAt(0)!="#"));++X);N&&N.charAt(0)!="#"&&(D.l={Target:N}),n.dense?(t[p+i]||(t[p+i]=[]),t[p+i][_+a]=D):t[Ze({c:_+a,r:p+i})]=D,c.e.c<_+a&&(c.e.c=_+a),_+=w}}++p}return f.length&&(t["!merges"]=(t["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,p-1+i),t["!ref"]=ct(c),p>=l&&(t["!fullref"]=ct((c.e.r=o.length-m+p-1+i,c))),t}function pB(t,e){var r=e||{},n=r.dense?[]:{};return hB(n,t,e)}function gie(t,e){return ou(pB(t,e),e)}function ZN(t){var e="",r=vie(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function vie(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function yie(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=kt(e.replace(/<[^>]*>/g,""));return[r]}var QN={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function mB(t,e){var r=e||{},n=MP(t),i=[],a,s,o={name:""},l="",c=0,u,f,d={},h=[],m=r.dense?[]:{},p,y,_={value:""},b="",w=0,A=[],S=-1,T=-1,E={s:{r:1e6,c:1e7},e:{r:0,c:0}},P=0,k={},D=[],I={},N=0,U=0,X=[],G=1,Q=1,J=[],ee={Names:[]},V={},ne=["",""],se=[],R={},W="",Y=0,Z=!1,oe=!1,de=0;for(kg.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");p=kg.exec(n);)switch(p[3]=p[3].replace(/_.*$/,"")){case"table":case"":p[1]==="/"?(E.e.c>=E.s.c&&E.e.r>=E.s.r?m["!ref"]=ct(E):m["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=E.e.r&&(m["!fullref"]=m["!ref"],E.e.r=r.sheetRows-1,m["!ref"]=ct(E)),D.length&&(m["!merges"]=D),X.length&&(m["!rows"]=X),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),h.push(u.name),d[u.name]=m,oe=!1):p[0].charAt(p[0].length-2)!=="/"&&(u=Qe(p[0],!1),S=T=-1,E.s.r=E.s.c=1e7,E.e.r=E.e.c=0,m=r.dense?[]:{},D=[],X=[],oe=!0);break;case"table-row-group":p[1]==="/"?--P:++P;break;case"table-row":case"":if(p[1]==="/"){S+=G,G=1;break}if(f=Qe(p[0],!1),f.?S=f.-1:S==-1&&(S=0),G=+f["number-rows-repeated"]||1,G<10)for(de=0;de<G;++de)P>0&&(X[S+de]={level:P});T=-1;break;case"covered-table-cell":p[1]!=="/"&&++T,r.sheetStubs&&(r.dense?(m[S]||(m[S]=[]),m[S][T]={t:"z"}):m[Ze({r:S,c:T})]={t:"z"}),b="",A=[];break;case"table-cell":case"":if(p[0].charAt(p[0].length-2)==="/")++T,_=Qe(p[0],!1),Q=parseInt(_["number-columns-repeated"]||"1",10),y={t:"z",v:null},_.formula&&r.cellFormula!=!1&&(y.f=XN(kt(_.formula))),(_.||_["value-type"])=="string"&&(y.t="s",y.v=kt(_["string-value"]||""),r.dense?(m[S]||(m[S]=[]),m[S][T]=y):m[Ze({r:S,c:T})]=y),T+=Q-1;else if(p[1]!=="/"){++T,b="",w=0,A=[],Q=1;var ve=G?S+G-1:S;if(T>E.e.c&&(E.e.c=T),T<E.s.c&&(E.s.c=T),S<E.s.r&&(E.s.r=S),ve>E.e.r&&(E.e.r=ve),_=Qe(p[0],!1),se=[],R={},y={t:_.||_["value-type"],v:null},r.cellFormula)if(_.formula&&(_.formula=kt(_.formula)),_["number-matrix-columns-spanned"]&&_["number-matrix-rows-spanned"]&&(N=parseInt(_["number-matrix-rows-spanned"],10)||0,U=parseInt(_["number-matrix-columns-spanned"],10)||0,I={s:{r:S,c:T},e:{r:S+N-1,c:T+U-1}},y.F=ct(I),J.push([I,y.F])),_.formula)y.f=XN(_.formula);else for(de=0;de<J.length;++de)S>=J[de][0].s.r&&S<=J[de][0].e.r&&T>=J[de][0].s.c&&T<=J[de][0].e.c&&(y.F=J[de][1]);switch((_["number-columns-spanned"]||_["number-rows-spanned"])&&(N=parseInt(_["number-rows-spanned"],10)||0,U=parseInt(_["number-columns-spanned"],10)||0,I={s:{r:S,c:T},e:{r:S+N-1,c:T+U-1}},D.push(I)),_["number-columns-repeated"]&&(Q=parseInt(_["number-columns-repeated"],10)),y.t){case"boolean":y.t="b",y.v=sr(_["boolean-value"]);break;case"float":y.t="n",y.v=parseFloat(_.value);break;case"percentage":y.t="n",y.v=parseFloat(_.value);break;case"currency":y.t="n",y.v=parseFloat(_.value);break;case"date":y.t="d",y.v=cr(_["date-value"]),r.cellDates||(y.t="n",y.v=gn(y.v)),y.z="m/d/yy";break;case"time":y.t="n",y.v=zq(_["time-value"])/86400,r.cellDates&&(y.t="d",y.v=Lb(y.v)),y.z="HH:MM:SS";break;case"number":y.t="n",y.v=parseFloat(_.);break;default:if(y.t==="string"||y.t==="text"||!y.t)y.t="s",_["string-value"]!=null&&(b=kt(_["string-value"]),A=[]);else throw new Error("Unsupported value type "+y.t)}}else{if(Z=!1,y.t==="s"&&(y.v=b||"",A.length&&(y.R=A),Z=w==0),V.Target&&(y.l=V),se.length>0&&(y.c=se,se=[]),b&&r.cellText!==!1&&(y.w=b),Z&&(y.t="z",delete y.v),(!Z||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=S))for(var te=0;te<G;++te){if(Q=parseInt(_["number-columns-repeated"]||"1",10),r.dense)for(m[S+te]||(m[S+te]=[]),m[S+te][T]=te==0?y:ur(y);--Q>0;)m[S+te][T+Q]=ur(y);else for(m[Ze({r:S+te,c:T})]=y;--Q>0;)m[Ze({r:S+te,c:T+Q})]=ur(y);E.e.c<=T&&(E.e.c=T)}Q=parseInt(_["number-columns-repeated"]||"1",10),T+=Q-1,Q=0,y={},b="",A=[]}V={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(p[1]==="/"){if((a=i.pop())[0]!==p[3])throw"Bad state: "+a}else p[0].charAt(p[0].length-2)!=="/"&&i.push([p[3],!0]);break;case"annotation":if(p[1]==="/"){if((a=i.pop())[0]!==p[3])throw"Bad state: "+a;R.t=b,A.length&&(R.R=A),R.a=W,se.push(R)}else p[0].charAt(p[0].length-2)!=="/"&&i.push([p[3],!1]);W="",Y=0,b="",w=0,A=[];break;case"creator":p[1]==="/"?W=n.slice(Y,p.index):Y=p.index+p[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(p[1]==="/"){if((a=i.pop())[0]!==p[3])throw"Bad state: "+a}else p[0].charAt(p[0].length-2)!=="/"&&i.push([p[3],!1]);b="",w=0,A=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(p[1]==="/"){if(k[o.name]=l,(a=i.pop())[0]!==p[3])throw"Bad state: "+a}else p[0].charAt(p[0].length-2)!=="/"&&(l="",o=Qe(p[0],!1),i.push([p[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":s=Qe(p[0],!1),l+=QN[p[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":s=Qe(p[0],!1),l+=QN[p[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(p[0].slice(-2)==="/>")break;if(p[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,p.index);break}else c=p.index+p[0].length;break;case"named-range":s=Qe(p[0],!1),ne=AA(s["cell-range-address"]);var fe={Name:s.name,Ref:ne[0]+"!"+ne[1]};oe&&(fe.Sheet=h.length),ee.Names.push(fe);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(p[1]==="/"&&(!_||!_["string-value"])){var be=yie(n.slice(w,p.index));b=(b.length>0?b+`
`:"")+be[0]}else Qe(p[0],!1),w=p.index+p[0].length;break;case"s":break;case"database-range":if(p[1]==="/")break;try{ne=AA(Qe(p[0])["target-range-address"]),d[ne[0]]["!autofilter"]={ref:ne[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(p[1]!=="/"){if(V=Qe(p[0],!1),!V.href)break;V.Target=kt(V.href),delete V.href,V.Target.charAt(0)=="#"&&V.Target.indexOf(".")>-1?(ne=AA(V.Target.slice(1)),V.Target="#"+ne[0]+"!"+ne[1]):V.Target.match(/^\.\.[\\\/]/)&&(V.Target=V.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(p[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(p)}}var L={Sheets:d,SheetNames:h,Workbook:ee};return r.bookSheets&&delete L.Sheets,L}function eR(t,e){e=e||{},ka(t,"META-INF/manifest.xml")&&zX(Xr(t,"META-INF/manifest.xml"),e);var r=ua(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=mB(Xt(r),e);return ka(t,"meta.xml")&&(n.Props=a$(Xr(t,"meta.xml"))),n}function tR(t,e){return mB(t,e)}var xie=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Cg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Wr+e}}(),rR=function(){var t=function(a){return Ht(a).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(a,s,o){var l=[];l.push('      <table:table table:name="'+Ht(s.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,u=0,f=Wi(a["!ref"]||"A1"),d=a["!merges"]||[],h=0,m=Array.isArray(a);if(a["!cols"])for(u=0;u<=f.e.c;++u)l.push("        <table:table-column"+(a["!cols"][u]?' table:style-name="co'+a["!cols"][u].ods+'"':"")+`></table:table-column>
`);var p="",y=a["!rows"]||[];for(c=0;c<f.s.r;++c)p=y[c]?' table:style-name="ro'+y[c].ods+'"':"",l.push("        <table:table-row"+p+`></table:table-row>
`);for(;c<=f.e.r;++c){for(p=y[c]?' table:style-name="ro'+y[c].ods+'"':"",l.push("        <table:table-row"+p+`>
`),u=0;u<f.s.c;++u)l.push(e);for(;u<=f.e.c;++u){var _=!1,b={},w="";for(h=0;h!=d.length;++h)if(!(d[h].s.c>u)&&!(d[h].s.r>c)&&!(d[h].e.c<u)&&!(d[h].e.r<c)){(d[h].s.c!=u||d[h].s.r!=c)&&(_=!0),b["table:number-columns-spanned"]=d[h].e.c-d[h].s.c+1,b["table:number-rows-spanned"]=d[h].e.r-d[h].s.r+1;break}if(_){l.push(r);continue}var A=Ze({r:c,c:u}),S=m?(a[c]||[])[u]:a[A];if(S&&S.f&&(b["table:formula"]=Ht(Bee(S.f)),S.F&&S.F.slice(0,A.length)==A)){var T=Wi(S.F);b["table:number-matrix-columns-spanned"]=T.e.c-T.s.c+1,b["table:number-matrix-rows-spanned"]=T.e.r-T.s.r+1}if(!S){l.push(e);continue}switch(S.t){case"b":w=S.v?"TRUE":"FALSE",b["office:value-type"]="boolean",b["office:boolean-value"]=S.v?"true":"false";break;case"n":w=S.w||String(S.v||0),b["office:value-type"]="float",b["office:value"]=S.v||0;break;case"s":case"str":w=S.v==null?"":S.v,b["office:value-type"]="string";break;case"d":w=S.w||cr(S.v).toISOString(),b["office:value-type"]="date",b["office:date-value"]=cr(S.v).toISOString(),b["table:style-name"]="ce1";break;default:l.push(e);continue}var E=t(w);if(S.l&&S.l.Target){var P=S.l.Target;P=P.charAt(0)=="#"?"#"+Uee(P.slice(1)):P,P.charAt(0)!="#"&&!P.match(/^\w+:/)&&(P="../"+P),E=Ee("text:a",E,{"xlink:href":P.replace(/&/g,"&amp;")})}l.push("          "+Ee("table:table-cell",Ee("text:p",E,{}),b)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(a,s){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var f=c["!cols"][u];if(f.width==null&&f.wpx==null&&f.wch==null)continue;Kc(f),f.ods=o;var d=c["!cols"][u].wpx+"px";a.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+d+`"/>
`),a.push(`  </style:style>
`),++o}}});var l=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=l;var f=c["!rows"][u].hpx+"px";a.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),a.push(`  </style:style>
`),++l}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(s,o){var l=[Wr],c=Cg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=Cg({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+u+`>
`),l.push(i$().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),i(l,s),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=s.SheetNames.length;++f)l.push(n(s.Sheets[s.SheetNames[f]],s,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function gB(t,e){if(e.bookType=="fods")return rR(t,e);var r=kP(),n="",i=[],a=[];return n="mimetype",ft(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",ft(r,n,rR(t,e)),i.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",ft(r,n,xie(t,e)),i.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",ft(r,n,Wr+i$()),i.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",ft(r,n,XX(a)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",ft(r,n,GX(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function rd(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function vE(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Xt(su(t))}function _ie(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):ca(ho(t))}function wie(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function Jc(t){var e=t.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function nR(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function bie(t,e){for(var r=(t[e+15]&127)<<7|t[e+14]>>1,n=t[e+14]&1,i=e+13;i>=e;--i)n=n*256+t[i];return(t[e+15]&128?-n:n)*Math.pow(10,r-6176)}function Sie(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var a=0;i>=1;++a,i/=256)t[e+a]=i&255;t[e+15]|=r>=0?0:128}function Dg(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function Ut(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function Fr(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Mt(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=Dg(t,r),a=i&7;i=Math.floor(i/8);var s=0,o;if(i==0)break;switch(a){case 0:{for(var l=r[0];t[r[0]++]>=128;);o=t.slice(l,r[0])}break;case 5:s=4,o=t.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=t.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=Dg(t,r),o=t.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var c={data:o,type:a};e[i]==null?e[i]=[c]:e[i].push(c)}return e}function In(t){var e=[];return t.forEach(function(r,n){r.forEach(function(i){i.data&&(e.push(Ut(n*8+i.type)),i.type==2&&e.push(Ut(i.data.length)),e.push(i.data))})}),Jc(e)}function tI(t,e){return(t==null?void 0:t.map(function(r){return e(r.data)}))||[]}function Ea(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=Dg(t,n),a=Mt(t.slice(n[0],n[0]+i));n[0]+=i;var s={id:Fr(a[1][0].data),messages:[]};a[2].forEach(function(o){var l=Mt(o.data),c=Fr(l[3][0].data);s.messages.push({meta:l,data:t.slice(n[0],n[0]+c)}),n[0]+=c}),(e=a[3])!=null&&e[0]&&(s.merge=Fr(a[3][0].data)>>>0>0),r.push(s)}return r}function Rd(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:Ut(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Ut(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(s){i.push(s.data),s.meta[3]=[{type:0,data:Ut(s.data.length)}],n[2].push({data:In(s.meta),type:2})});var a=In(n);e.push(Ut(a.length)),e.push(a),i.forEach(function(s){return e.push(s)})}),Jc(e)}function Aie(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=Dg(e,r),i=[];r[0]<e.length;){var a=e[r[0]]&3;if(a==0){var s=e[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=e[r[0]],o>1&&(s|=e[r[0]+1]<<8),o>2&&(s|=e[r[0]+2]<<16),o>3&&(s|=e[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}i.push(e.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,c=0;if(a==1?(c=(e[r[0]]>>2&7)+4,l=(e[r[0]++]&224)<<3,l|=e[r[0]++]):(c=(e[r[0]++]>>2)+1,a==2?(l=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(l=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[Jc(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var u=Jc(i);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function Ca(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(Aie(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return Jc(e)}function Dd(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),i=new Uint8Array(4);e.push(i);var a=Ut(n),s=a.length;e.push(a),n<=60?(s++,e.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),s+=n,i[0]=0,i[1]=s&255,i[2]=s>>8&255,i[3]=s>>16&255,r+=n}return Jc(e)}function Tie(t,e,r,n){var i=rd(t),a=i.getUint32(4,!0),s=(n>1?12:8)+nR(a&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);a&512&&(o=i.getUint32(s,!0),s+=4),s+=nR(a&(n>1?12288:4096))*4,a&16&&(l=i.getUint32(s,!0),s+=4),a&32&&(c=i.getFloat64(s,!0),s+=8),a&64&&(u.setTime(u.getTime()+i.getFloat64(s,!0)*1e3),s+=8);var f;switch(t[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:e[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(l>-1)f={t:"s",v:e[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return f}function Eie(t,e,r){var n=rd(t),i=n.getUint32(8,!0),a=12,s=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);i&1&&(l=bie(t,a),a+=16),i&2&&(c=n.getFloat64(a,!0),a+=8),i&4&&(u.setTime(u.getTime()+n.getFloat64(a,!0)*1e3),a+=8),i&8&&(o=n.getUint32(a,!0),a+=4),i&16&&(s=n.getUint32(a,!0),a+=4);var f;switch(t[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:e[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return f}function EA(t,e){var r=new Uint8Array(32),n=rd(r),i=12,a=0;switch(r[0]=5,t.t){case"n":r[1]=2,Sie(r,i,t.v),a|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,t.v?1:0,!0),a|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(i,e.indexOf(t.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,a,!0),r.slice(0,i)}function CA(t,e){var r=new Uint8Array(32),n=rd(r),i=12,a=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(i,t.v,!0),a|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,t.v?1:0,!0),a|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(i,e.indexOf(t.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,a,!0),r.slice(0,i)}function Cie(t,e,r){switch(t[0]){case 0:case 1:case 2:case 3:return Tie(t,e,r,t[0]);case 5:return Eie(t,e,r);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function ei(t){var e=Mt(t);return Dg(e[1][0].data)}function iR(t,e){var r=Mt(e.data),n=Fr(r[1][0].data),i=r[3],a=[];return(i||[]).forEach(function(s){var o=Mt(s.data),l=Fr(o[1][0].data)>>>0;switch(n){case 1:a[l]=vE(o[3][0].data);break;case 8:{var c=t[ei(o[9][0].data)][0],u=Mt(c.data),f=t[ei(u[1][0].data)][0],d=Fr(f.meta[1][0].data);if(d!=2001)throw new Error("2000 unexpected reference to ".concat(d));var h=Mt(f.data);a[l]=h[3].map(function(m){return vE(m.data)}).join("")}break}}),a}function kie(t,e){var r,n,i,a,s,o,l,c,u,f,d,h,m,p,y=Mt(t),_=Fr(y[1][0].data)>>>0,b=Fr(y[2][0].data)>>>0,w=((n=(r=y[8])==null?void 0:r[0])==null?void 0:n.data)&&Fr(y[8][0].data)>0||!1,A,S;if((a=(i=y[7])==null?void 0:i[0])!=null&&a.data&&e!=0)A=(o=(s=y[7])==null?void 0:s[0])==null?void 0:o.data,S=(c=(l=y[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=y[4])==null?void 0:u[0])!=null&&f.data&&e!=1)A=(h=(d=y[4])==null?void 0:d[0])==null?void 0:h.data,S=(p=(m=y[3])==null?void 0:m[0])==null?void 0:p.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var T=w?4:1,E=rd(A),P=[],k=0;k<A.length/2;++k){var D=E.getUint16(k*2,!0);D<65535&&P.push([k,D])}if(P.length!=b)throw"Expected ".concat(b," cells, found ").concat(P.length);var I=[];for(k=0;k<P.length-1;++k)I[P[k][0]]=S.subarray(P[k][1]*T,P[k+1][1]*T);return P.length>=1&&(I[P[P.length-1][0]]=S.subarray(P[P.length-1][1]*T)),{R:_,cells:I}}function Pie(t,e){var r,n=Mt(e.data),i=(r=n==null?void 0:n[7])!=null&&r[0]?Fr(n[7][0].data)>>>0>0?1:0:-1,a=tI(n[5],function(s){return kie(s,i)});return{nrows:Fr(n[4][0].data)>>>0,data:a.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,c){if(s[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));s[o.R][c]=l}),s},[])}}function Iie(t,e,r){var n,i=Mt(e.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(Fr(i[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(a.e.c=(Fr(i[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));r["!ref"]=ct(a);var s=Mt(i[4][0].data),o=iR(t,t[ei(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?iR(t,t[ei(s[17][0].data)][0]):[],c=Mt(s[3][0].data),u=0;c[1].forEach(function(f){var d=Mt(f.data),h=t[ei(d[2][0].data)][0],m=Fr(h.meta[1][0].data);if(m!=6002)throw new Error("6001 unexpected reference to ".concat(m));var p=Pie(t,h);p.data.forEach(function(y,_){y.forEach(function(b,w){var A=Ze({r:u+_,c:w}),S=Cie(b,o,l);S&&(r[A]=S)})}),u+=p.nrows})}function Oie(t,e){var r=Mt(e.data),n={"!ref":"A1"},i=t[ei(r[2][0].data)],a=Fr(i[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return Iie(t,i[0],n),n}function Mie(t,e){var r,n=Mt(e.data),i={name:(r=n[1])!=null&&r[0]?vE(n[1][0].data):"",sheets:[]},a=tI(n[2],ei);return a.forEach(function(s){t[s].forEach(function(o){var l=Fr(o.meta[1][0].data);l==6e3&&i.sheets.push(Oie(t,o))})}),i}function Nie(t,e){var r=sI(),n=Mt(e.data),i=tI(n[1],ei);if(i.forEach(function(a){t[a].forEach(function(s){var o=Fr(s.meta[1][0].data);if(o==2){var l=Mie(t,s);l.sheets.forEach(function(c,u){oI(r,c,u==0?l.name:l.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function kA(t){var e,r,n,i,a={},s=[];if(t.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=Ca(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=Ea(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){a[f.id]=f.messages,s.push(f.id)})}}),!s.length)throw new Error("File has no messages");var o=((i=(n=(r=(e=a==null?void 0:a[1])==null?void 0:e[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&Fr(a[1][0].meta[1][0].data)==1&&a[1][0];if(o||s.forEach(function(l){a[l].forEach(function(c){var u=Fr(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return Nie(a,o)}function Rie(t,e,r){var n,i,a,s;if(!((n=t[6])!=null&&n[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(a=t[8])==null?void 0:a[0])==null?void 0:s.data)&&Fr(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=rd(t[7][0].data),u=0,f=[],d=rd(t[4][0].data),h=0,m=[],p=0;p<e.length;++p){if(e[p]==null){c.setUint16(p*2,65535,!0),d.setUint16(p*2,65535);continue}c.setUint16(p*2,u,!0),d.setUint16(p*2,h,!0);var y,_;switch(typeof e[p]){case"string":y=EA({t:"s",v:e[p]},r),_=CA({t:"s",v:e[p]},r);break;case"number":y=EA({t:"n",v:e[p]},r),_=CA({t:"n",v:e[p]},r);break;case"boolean":y=EA({t:"b",v:e[p]},r),_=CA({t:"b",v:e[p]},r);break;default:throw new Error("Unsupported value "+e[p])}f.push(y),u+=y.length,m.push(_),h+=_.length,++l}for(t[2][0].data=Ut(l);p<t[7][0].data.length/2;++p)c.setUint16(p*2,65535,!0),d.setUint16(p*2,65535,!0);return t[6][0].data=Jc(f),t[3][0].data=Jc(m),l}function Die(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Wi(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(ct(n)));var a=$_(r,{range:n,header:1}),s=["~Sh33tJ5~"];a.forEach(function(W){return W.forEach(function(Y){typeof Y=="string"&&s.push(Y)})});var o={},l=[],c=qe.read(e.numbers,{type:"base64"});c.FileIndex.map(function(W,Y){return[W,c.FullPaths[Y]]}).forEach(function(W){var Y=W[0],Z=W[1];if(Y.type==2&&Y.name.match(/\.iwa/)){var oe=Y.content,de=Ca(oe),ve=Ea(de);ve.forEach(function(te){l.push(te.id),o[te.id]={deps:[],location:Z,type:Fr(te.messages[0].meta[1][0].data)}})}}),l.sort(function(W,Y){return W-Y});var u=l.filter(function(W){return W>1}).map(function(W){return[W,Ut(W)]});c.FileIndex.map(function(W,Y){return[W,c.FullPaths[Y]]}).forEach(function(W){var Y=W[0];if(W[1],!!Y.name.match(/\.iwa/)){var Z=Ea(Ca(Y.content));Z.forEach(function(oe){oe.messages.forEach(function(de){u.forEach(function(ve){oe.messages.some(function(te){return Fr(te.meta[1][0].data)!=11006&&wie(te.data,ve[1])})&&o[ve[0]].deps.push(oe.id)})})})}});for(var f=qe.find(c,o[1].location),d=Ea(Ca(f.content)),h,m=0;m<d.length;++m){var p=d[m];p.id==1&&(h=p)}var y=ei(Mt(h.messages[0].data)[1][0].data);for(f=qe.find(c,o[y].location),d=Ea(Ca(f.content)),m=0;m<d.length;++m)p=d[m],p.id==y&&(h=p);for(y=ei(Mt(h.messages[0].data)[2][0].data),f=qe.find(c,o[y].location),d=Ea(Ca(f.content)),m=0;m<d.length;++m)p=d[m],p.id==y&&(h=p);for(y=ei(Mt(h.messages[0].data)[2][0].data),f=qe.find(c,o[y].location),d=Ea(Ca(f.content)),m=0;m<d.length;++m)p=d[m],p.id==y&&(h=p);var _=Mt(h.messages[0].data);{_[6][0].data=Ut(n.e.r+1),_[7][0].data=Ut(n.e.c+1);var b=ei(_[46][0].data),w=qe.find(c,o[b].location),A=Ea(Ca(w.content));{for(var S=0;S<A.length&&A[S].id!=b;++S);if(A[S].id!=b)throw"Bad ColumnRowUIDMapArchive";var T=Mt(A[S].messages[0].data);T[1]=[],T[2]=[],T[3]=[];for(var E=0;E<=n.e.c;++E){var P=[];P[1]=P[2]=[{type:0,data:Ut(E+420690)}],T[1].push({type:2,data:In(P)}),T[2].push({type:0,data:Ut(E)}),T[3].push({type:0,data:Ut(E)})}T[4]=[],T[5]=[],T[6]=[];for(var k=0;k<=n.e.r;++k)P=[],P[1]=P[2]=[{type:0,data:Ut(k+726270)}],T[4].push({type:2,data:In(P)}),T[5].push({type:0,data:Ut(k)}),T[6].push({type:0,data:Ut(k)});A[S].messages[0].data=In(T)}w.content=Dd(Rd(A)),w.size=w.content.length,delete _[46];var D=Mt(_[4][0].data);{D[7][0].data=Ut(n.e.r+1);var I=Mt(D[1][0].data),N=ei(I[2][0].data);w=qe.find(c,o[N].location),A=Ea(Ca(w.content));{if(A[0].id!=N)throw"Bad HeaderStorageBucket";var U=Mt(A[0].messages[0].data);for(k=0;k<a.length;++k){var X=Mt(U[2][0].data);X[1][0].data=Ut(k),X[4][0].data=Ut(a[k].length),U[2][k]={type:U[2][0].type,data:In(X)}}A[0].messages[0].data=In(U)}w.content=Dd(Rd(A)),w.size=w.content.length;var G=ei(D[2][0].data);w=qe.find(c,o[G].location),A=Ea(Ca(w.content));{if(A[0].id!=G)throw"Bad HeaderStorageBucket";for(U=Mt(A[0].messages[0].data),E=0;E<=n.e.c;++E)X=Mt(U[2][0].data),X[1][0].data=Ut(E),X[4][0].data=Ut(n.e.r+1),U[2][E]={type:U[2][0].type,data:In(X)};A[0].messages[0].data=In(U)}w.content=Dd(Rd(A)),w.size=w.content.length;var Q=ei(D[4][0].data);(function(){for(var W=qe.find(c,o[Q].location),Y=Ea(Ca(W.content)),Z,oe=0;oe<Y.length;++oe){var de=Y[oe];de.id==Q&&(Z=de)}var ve=Mt(Z.messages[0].data);{ve[3]=[];var te=[];s.forEach(function(L,We){te[1]=[{type:0,data:Ut(We)}],te[2]=[{type:0,data:Ut(1)}],te[3]=[{type:2,data:_ie(L)}],ve[3].push({type:2,data:In(te)})})}Z.messages[0].data=In(ve);var fe=Rd(Y),be=Dd(fe);W.content=be,W.size=W.content.length})();var J=Mt(D[3][0].data);{var ee=J[1][0];delete J[2];var V=Mt(ee.data);{var ne=ei(V[2][0].data);(function(){for(var W=qe.find(c,o[ne].location),Y=Ea(Ca(W.content)),Z,oe=0;oe<Y.length;++oe){var de=Y[oe];de.id==ne&&(Z=de)}var ve=Mt(Z.messages[0].data);{delete ve[6],delete J[7];var te=new Uint8Array(ve[5][0].data);ve[5]=[];for(var fe=0,be=0;be<=n.e.r;++be){var L=Mt(te);fe+=Rie(L,a[be],s),L[1][0].data=Ut(be),ve[5].push({data:In(L),type:2})}ve[1]=[{type:0,data:Ut(n.e.c+1)}],ve[2]=[{type:0,data:Ut(n.e.r+1)}],ve[3]=[{type:0,data:Ut(fe)}],ve[4]=[{type:0,data:Ut(n.e.r+1)}]}Z.messages[0].data=In(ve);var We=Rd(Y),Ie=Dd(We);W.content=Ie,W.size=W.content.length})()}ee.data=In(V)}D[3][0].data=In(J)}_[4][0].data=In(D)}h.messages[0].data=In(_);var se=Rd(d),R=Dd(se);return f.content=R,f.size=f.content.length,c}function vB(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function rI(t){vB([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function nI(t){vB([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function Fie(t){return xt.WS.indexOf(t)>-1?"sheet":t==xt.CS?"chart":t==xt.DS?"dialog":t==xt.MS?"macro":t&&t.length?t:"sheet"}function Lie(t,e){if(!t)return 0;try{t=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,t["!id"][n.id].Target,Fie(t["!id"][n.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function $ie(t,e,r,n,i,a,s,o,l,c,u,f){try{a[n]=Wm(ua(t,r,!0),e);var d=Xr(t,e),h;switch(o){case"sheet":h=sne(d,e,i,l,a[n],c,u,f);break;case"chart":if(h=one(d,e,i,l,a[n],c,u,f),!h||!h["!drawel"])break;var m=dm(h["!drawel"].Target,e),p=Pg(m),y=qZ(ua(t,m,!0),Wm(ua(t,p,!0),m)),_=dm(y,m),b=Pg(_);h=Rre(ua(t,_,!0),_,l,Wm(ua(t,b,!0),_),c,h);break;case"macro":h=lne(d,e,i,l,a[n],c,u,f);break;case"dialog":h=cne(d,e,i,l,a[n],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=h;var w=[];a&&a[n]&&Lr(a[n]).forEach(function(A){var S="";if(a[n][A].Type==xt.CMNT){S=dm(a[n][A].Target,e);var T=hne(Xr(t,S,!0),S,l);if(!T||!T.length)return;HN(h,T,!1)}a[n][A].Type==xt.TCMNT&&(S=dm(a[n][A].Target,e),w=w.concat(KZ(Xr(t,S,!0),l)))}),w&&w.length&&HN(h,w,!0,l.people||[])}catch(A){if(l.WTF)throw A}}function _a(t){return t.charAt(0)=="/"?t.slice(1):t}function Bie(t,e){if(vp(),e=e||{},rI(e),ka(t,"META-INF/manifest.xml")||ka(t,"objectdata.xml"))return eR(t,e);if(ka(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof kA<"u"){if(t.FileIndex)return kA(t);var r=qe.utils.cfb_new();return uN(t).forEach(function(X){ft(r,X,Yq(t,X))}),kA(r)}throw new Error("Unsupported NUMBERS file")}if(!ka(t,"[Content_Types].xml"))throw ka(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ka(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=uN(t),i=HX(ua(t,"[Content_Types].xml")),a=!1,s,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",Xr(t,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!Xr(t,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),a=!0}i.workbooks[0].slice(-3)=="bin"&&(a=!0);var l={},c={};if(!e.bookSheets&&!e.bookProps){if(zm=[],i.sst)try{zm=dne(Xr(t,_a(i.sst)),i.sst,e)}catch(X){if(e.WTF)throw X}e.cellStyles&&i.themes.length&&(l=fne(ua(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(c=une(Xr(t,_a(i.style)),i.style,l,e))}i.links.map(function(X){try{var G=Wm(ua(t,Pg(_a(X))),X);return mne(Xr(t,_a(X)),G,X,e)}catch{}});var u=ane(Xr(t,_a(i.workbooks[0])),i.workbooks[0],e),f={},d="";i.coreprops.length&&(d=Xr(t,_a(i.coreprops[0]),!0),d&&(f=a$(d)),i.extprops.length!==0&&(d=Xr(t,_a(i.extprops[0]),!0),d&&YX(d,f,e)));var h={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(d=ua(t,_a(i.custprops[0]),!0),d&&(h=ZX(d,e)));var m={};if((e.bookSheets||e.bookProps)&&(u.Sheets?s=u.Sheets.map(function(G){return G.name}):f.Worksheets&&f.SheetNames.length>0&&(s=f.SheetNames),e.bookProps&&(m.Props=f,m.Custprops=h),e.bookSheets&&typeof s<"u"&&(m.SheetNames=s),e.bookSheets?m.SheetNames:e.bookProps))return m;s={};var p={};e.bookDeps&&i.calcchain&&(p=pne(Xr(t,_a(i.calcchain)),i.calcchain));var y=0,_={},b,w;{var A=u.Sheets;f.Worksheets=A.length,f.SheetNames=[];for(var S=0;S!=A.length;++S)f.SheetNames[S]=A[S].name}var T=a?"bin":"xml",E=i.workbooks[0].lastIndexOf("/"),P=(i.workbooks[0].slice(0,E+1)+"_rels/"+i.workbooks[0].slice(E+1)+".rels").replace(/^\//,"");ka(t,P)||(P="xl/_rels/workbook."+T+".rels");var k=Wm(ua(t,P,!0),P.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=gne(Xr(t,_a(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=JZ(Xr(t,_a(i.people[0])),e)),k&&(k=Lie(k,u.Sheets));var D=Xr(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=f.Worksheets;++y){var I="sheet";if(k&&k[y]?(b="xl/"+k[y][1].replace(/[\/]?xl\//,""),ka(t,b)||(b=k[y][1]),ka(t,b)||(b=P.replace(/_rels\/.*$/,"")+k[y][1]),I=k[y][2]):(b="xl/worksheets/sheet"+(y+1-D)+"."+T,b=b.replace(/sheet0\./,"sheet.")),w=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(y!=e.sheets)continue e;break;case"string":if(f.SheetNames[y].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var N=!1,U=0;U!=e.sheets.length;++U)typeof e.sheets[U]=="number"&&e.sheets[U]==y&&(N=1),typeof e.sheets[U]=="string"&&e.sheets[U].toLowerCase()==f.SheetNames[y].toLowerCase()&&(N=1);if(!N)continue e}}$ie(t,b,w,f.SheetNames[y],y,_,s,I,e,u,l,c)}return m={Directory:i,Workbook:u,Props:f,Custprops:h,Deps:p,Sheets:s,SheetNames:f.SheetNames,Strings:zm,Styles:c,Themes:l,SSF:ur(Je)},e&&e.bookFiles&&(t.files?(m.keys=n,m.files=t.files):(m.keys=[],m.files={},t.FullPaths.forEach(function(X,G){X=X.replace(/^Root Entry[\/]/,""),m.keys.push(X),m.files[X]=t.FileIndex[G]}))),e&&e.bookVBA&&(i.vba.length>0?m.vbaraw=Xr(t,_a(i.vba[0]),!0):i.defaults&&i.defaults.bin===aQ&&(m.vbaraw=Xr(t,"xl/vbaProject.bin",!0))),m}function Uie(t,e){var r=e||{},n="Workbook",i=qe.find(t,n);try{if(n="/!DataSpaces/Version",i=qe.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(gJ(i.content),n="/!DataSpaces/DataSpaceMap",i=qe.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=yJ(i.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=qe.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=xJ(i.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=qe.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);wJ(i.content)}catch{}if(n="/EncryptionInfo",i=qe.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=bJ(i.content);if(n="/EncryptedPackage",i=qe.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,r.password||"",r);throw new Error("File is password-protected")}function jie(t,e){return e.bookType=="ods"?gB(t,e):e.bookType=="numbers"?Die(t,e):e.bookType=="xlsb"?Vie(t,e):Hie(t,e)}function Vie(t,e){ch=1024,t&&!t.SSF&&(t.SSF=ur(Je)),t&&t.SSF&&(vp(),Rb(t.SSF),e.revssf=Fb(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Gm?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=W$.indexOf(e.bookType)>-1,i=VP();nI(e=e||{});var a=kP(),s="",o=0;if(e.cellXfs=[],lu(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",ft(a,s,s$(t.Props,e)),i.coreprops.push(s),jt(e.rels,2,s,xt.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,ft(a,s,c$(t.Props)),i.extprops.push(s),jt(e.rels,3,s,xt.EXT_PROPS),t.Custprops!==t.Props&&Lr(t.Custprops||{}).length>0&&(s="docProps/custom.xml",ft(a,s,u$(t.Custprops)),i.custprops.push(s),jt(e.rels,4,s,xt.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var u={"!id":{}},f=t.Sheets[t.SheetNames[o-1]],d=(f||{})["!type"]||"sheet";switch(d){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,ft(a,s,yne(o-1,s,e,t,u)),i.sheets.push(s),jt(e.wbrels,-1,"worksheets/sheet"+o+"."+r,xt.WS[0])}if(f){var h=f["!comments"],m=!1,p="";h&&h.length>0&&(p="xl/comments"+o+"."+r,ft(a,p,wne(h,p)),i.comments.push(p),jt(u,-1,"../comments"+o+"."+r,xt.CMNT),m=!0),f["!legacy"]&&m&&ft(a,"xl/drawings/vmlDrawing"+o+".vml",V$(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&ft(a,Pg(s),bh(u))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+r,ft(a,s,_ne(e.Strings,s,e)),i.strs.push(s),jt(e.wbrels,-1,"sharedStrings."+r,xt.SST)),s="xl/workbook."+r,ft(a,s,vne(t,s)),i.workbooks.push(s),jt(e.rels,1,s,xt.WB),s="xl/theme/theme1.xml",ft(a,s,XP(t.Themes,e)),i.themes.push(s),jt(e.wbrels,-1,"theme/theme1.xml",xt.THEME),s="xl/styles."+r,ft(a,s,xne(t,s,e)),i.styles.push(s),jt(e.wbrels,-1,"styles."+r,xt.STY),t.vbaraw&&n&&(s="xl/vbaProject.bin",ft(a,s,t.vbaraw),i.vba.push(s),jt(e.wbrels,-1,"vbaProject.bin",xt.VBA)),s="xl/metadata."+r,ft(a,s,bne(s)),i.metadata.push(s),jt(e.wbrels,-1,"metadata."+r,xt.XLMETA),ft(a,"[Content_Types].xml",n$(i,e)),ft(a,"_rels/.rels",bh(e.rels)),ft(a,"xl/_rels/workbook."+r+".rels",bh(e.wbrels)),delete e.revssf,delete e.ssf,a}function Hie(t,e){ch=1024,t&&!t.SSF&&(t.SSF=ur(Je)),t&&t.SSF&&(vp(),Rb(t.SSF),e.revssf=Fb(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Gm?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=W$.indexOf(e.bookType)>-1,i=VP();nI(e=e||{});var a=kP(),s="",o=0;if(e.cellXfs=[],lu(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",ft(a,s,s$(t.Props,e)),i.coreprops.push(s),jt(e.rels,2,s,xt.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,ft(a,s,c$(t.Props)),i.extprops.push(s),jt(e.rels,3,s,xt.EXT_PROPS),t.Custprops!==t.Props&&Lr(t.Custprops||{}).length>0&&(s="docProps/custom.xml",ft(a,s,u$(t.Custprops)),i.custprops.push(s),jt(e.rels,4,s,xt.CUST_PROPS));var u=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var f={"!id":{}},d=t.Sheets[t.SheetNames[o-1]],h=(d||{})["!type"]||"sheet";switch(h){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,ft(a,s,tB(o-1,e,t,f)),i.sheets.push(s),jt(e.wbrels,-1,"worksheets/sheet"+o+"."+r,xt.WS[0])}if(d){var m=d["!comments"],p=!1,y="";if(m&&m.length>0){var _=!1;m.forEach(function(b){b[1].forEach(function(w){w.T==!0&&(_=!0)})}),_&&(y="xl/threadedComments/threadedComment"+o+"."+r,ft(a,y,YZ(m,u,e)),i.threadedcomments.push(y),jt(f,-1,"../threadedComments/threadedComment"+o+"."+r,xt.TCMNT)),y="xl/comments"+o+"."+r,ft(a,y,H$(m)),i.comments.push(y),jt(f,-1,"../comments"+o+"."+r,xt.CMNT),p=!0}d["!legacy"]&&p&&ft(a,"xl/drawings/vmlDrawing"+o+".vml",V$(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}f["!id"].rId1&&ft(a,Pg(s),bh(f))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+r,ft(a,s,I$(e.Strings,e)),i.strs.push(s),jt(e.wbrels,-1,"sharedStrings."+r,xt.SST)),s="xl/workbook."+r,ft(a,s,sB(t)),i.workbooks.push(s),jt(e.rels,1,s,xt.WB),s="xl/theme/theme1.xml",ft(a,s,XP(t.Themes,e)),i.themes.push(s),jt(e.wbrels,-1,"theme/theme1.xml",xt.THEME),s="xl/styles."+r,ft(a,s,$$(t,e)),i.styles.push(s),jt(e.wbrels,-1,"styles."+r,xt.STY),t.vbaraw&&n&&(s="xl/vbaProject.bin",ft(a,s,t.vbaraw),i.vba.push(s),jt(e.wbrels,-1,"vbaProject.bin",xt.VBA)),s="xl/metadata."+r,ft(a,s,j$()),i.metadata.push(s),jt(e.wbrels,-1,"metadata."+r,xt.XLMETA),u.length>1&&(s="xl/persons/person.xml",ft(a,s,ZZ(u)),i.people.push(s),jt(e.wbrels,-1,"persons/person.xml",xt.PEOPLE)),ft(a,"[Content_Types].xml",n$(i,e)),ft(a,"_rels/.rels",bh(e.rels)),ft(a,"xl/_rels/workbook."+r+".rels",bh(e.wbrels)),delete e.revssf,delete e.ssf,a}function iI(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=ga(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Wie(t,e){return qe.find(t,"EncryptedPackage")?Uie(t,e):uB(t,e)}function zie(t,e){var r,n=t,i=e||{};return i.type||(i.type=vt&&Buffer.isBuffer(t)?"buffer":"base64"),r=M6(n,i),Bie(r,i)}function yB(t,e){var r=0;e:for(;r<t.length;)switch(t.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return mE(t.slice(r),e);default:break e}return F0.to_workbook(t,e)}function Gie(t,e){var r="",n=iI(t,e);switch(e.type){case"base64":r=ga(t);break;case"binary":r=t;break;case"buffer":r=t.toString("binary");break;case"array":r=Zf(t);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Xt(r)),e.type="binary",yB(r,e)}function qie(t,e){var r=t;return e.type=="base64"&&(r=ga(r)),r=Sg.utils.decode(1200,r.slice(2),"str"),e.type="binary",yB(r,e)}function Xie(t){return t.match(/[^\x00-\x7F]/)?ho(t):t}function PA(t,e,r,n){return n?(r.type="string",F0.to_workbook(t,r)):F0.to_workbook(e,r)}function yE(t,e){SP();var r=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return yE(new Uint8Array(t),(r=ur(r),r.type="array",r));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=t,i=[0,0,0,0],a=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Ah={},r.dateNF&&(Ah.dateNF=r.dateNF),r.type||(r.type=vt&&Buffer.isBuffer(t)?"buffer":"base64"),r.type=="file"&&(r.type=vt?"buffer":"binary",n=Vq(t),typeof Uint8Array<"u"&&!vt&&(r.type="array")),r.type=="string"&&(a=!0,r.type="binary",r.codepage=65001,n=Xie(t)),r.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=ur(r),r.type="array",yE(AP(n),r)}switch((i=iI(n,r))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return Wie(qe.read(n,r),r);break;case 9:if(i[1]<=8)return uB(n,r);break;case 60:return mE(n,r);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return QY(n,r);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return k$.to_workbook(n,r);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?zie(n,r):PA(t,n,r,a);case 239:return i[3]===60?mE(n,r):PA(t,n,r,a);case 255:if(i[1]===254)return qie(n,r);if(i[1]===0&&i[2]===2&&i[3]===0)return Vf.to_workbook(n,r);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Vf.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return pE.to_workbook(n,r);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return D$.to_workbook(n,r);break;case 10:case 13:case 32:return Gie(n,r);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return ZY.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?pE.to_workbook(n,r):PA(t,n,r,a)}function xB(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return jy(e.file,qe.write(t,{type:vt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return qe.write(t,e)}function Kie(t,e){var r=ur(e||{}),n=jie(t,r);return Yie(n,r)}function Yie(t,e){var r={},n=vt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?qe.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(Nb(i))}return e.password&&typeof encrypt_agile<"u"?xB(encrypt_agile(i,e.password),e):e.type==="file"?jy(e.file,i):e.type=="string"?Xt(i):i}function Jie(t,e){var r=e||{},n=Xne(t,r);return xB(n,r)}function Ws(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return Ag(ho(n));case"binary":return ho(n);case"string":return t;case"file":return jy(e.file,n,"utf8");case"buffer":return vt?Ll(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Ws(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Zie(t,e){switch(e.type){case"base64":return Ag(t);case"binary":return t;case"string":return t;case"file":return jy(e.file,t,"binary");case"buffer":return vt?Ll(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function $x(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?Ag(r):e.type=="string"?Xt(r):r;case"file":return jy(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function _B(t,e){SP(),Wre(t);var r=ur(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=_B(t,r);return r.type="array",Nb(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=t.SheetNames.indexOf(r.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Ws(jne(t,r),r);case"slk":case"sylk":return Ws(C$.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"htm":case"html":return Ws(dB(t.Sheets[t.SheetNames[i]],r),r);case"txt":return Zie(wB(t.Sheets[t.SheetNames[i]],r),r);case"csv":return Ws(aI(t.Sheets[t.SheetNames[i]],r),r,"\uFEFF");case"dif":return Ws(k$.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"dbf":return $x(pE.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"prn":return Ws(F0.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"rtf":return Ws(D$.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"eth":return Ws(P$.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"fods":return Ws(gB(t,r),r);case"wk1":return $x(Vf.sheet_to_wk1(t.Sheets[t.SheetNames[i]],r),r);case"wk3":return $x(Vf.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),$x(fB(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Jie(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Kie(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Qie(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function eae(t,e,r){var n={};return n.type="file",n.file=e,Qie(n),_B(t,n)}function tae(t,e,r,n,i,a,s,o){var l=Vr(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,d=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:r,enumerable:!1})}catch{d.__rowNum__=r}else d.__rowNum__=r;if(!s||t[r])for(var h=e.s.c;h<=e.e.c;++h){var m=s?t[r][h]:t[n[h]+l];if(m===void 0||m.t===void 0){if(c===void 0)continue;a[h]!=null&&(d[a[h]]=c);continue}var p=m.v;switch(m.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+m.t)}if(a[h]!=null){if(p==null)if(m.t=="e"&&p===null)d[a[h]]=null;else if(c!==void 0)d[a[h]]=c;else if(u&&p===null)d[a[h]]=null;else continue;else d[a[h]]=u&&(m.t!=="n"||m.t==="n"&&o.rawNumbers!==!1)?p:kl(m,p,o);p!=null&&(f=!1)}}return{row:d,isempty:f}}function $_(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,a=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},u=c.range!=null?c.range:t["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=It(u);break;case"number":l=It(t["!ref"]),l.s.r=u;break;default:l=u}n>0&&(i=0);var f=Vr(l.s.r),d=[],h=[],m=0,p=0,y=Array.isArray(t),_=l.s.r,b=0,w={};y&&!t[_]&&(t[_]=[]);var A=c.skipHidden&&t["!cols"]||[],S=c.skipHidden&&t["!rows"]||[];for(b=l.s.c;b<=l.e.c;++b)if(!(A[b]||{}).hidden)switch(d[b]=Tr(b),r=y?t[_][b]:t[d[b]+f],n){case 1:a[b]=b-l.s.c;break;case 2:a[b]=d[b];break;case 3:a[b]=c.header[b-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=kl(r,null,c),p=w[s]||0,!p)w[s]=1;else{do o=s+"_"+p++;while(w[o]);w[s]=p,w[o]=1}a[b]=o}for(_=l.s.r+i;_<=l.e.r;++_)if(!(S[_]||{}).hidden){var T=tae(t,l,_,d,n,a,y,c);(T.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(h[m++]=T.row)}return h.length=m,h}var aR=/"/g;function rae(t,e,r,n,i,a,s,o){for(var l=!0,c=[],u="",f=Vr(r),d=e.s.c;d<=e.e.c;++d)if(n[d]){var h=o.dense?(t[r]||[])[d]:t[n[d]+f];if(h==null)u="";else if(h.v!=null){l=!1,u=""+(o.rawNumbers&&h.t=="n"?h.v:kl(h,null,o));for(var m=0,p=0;m!==u.length;++m)if((p=u.charCodeAt(m))===i||p===a||p===34||o.forceQuotes){u='"'+u.replace(aR,'""')+'"';break}u=="ID"&&(u='"ID"')}else h.f!=null&&!h.F?(l=!1,u="="+h.f,u.indexOf(",")>=0&&(u='"'+u.replace(aR,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(s)}function aI(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=It(t["!ref"]),a=n.FS!==void 0?n.FS:",",s=a.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((a=="|"?"\\|":a)+"+$"),u="",f=[];n.dense=Array.isArray(t);for(var d=n.skipHidden&&t["!cols"]||[],h=n.skipHidden&&t["!rows"]||[],m=i.s.c;m<=i.e.c;++m)(d[m]||{}).hidden||(f[m]=Tr(m));for(var p=0,y=i.s.r;y<=i.e.r;++y)(h[y]||{}).hidden||(u=rae(t,i,y,f,s,l,a,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((p++?o:"")+u)));return delete n.dense,r.join("")}function wB(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=aI(t,e);return r}function nae(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=It(t["!ref"]),a="",s=[],o,l=[],c=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)s[o]=Tr(o);for(var u=i.s.r;u<=i.e.r;++u)for(a=Vr(u),o=i.s.c;o<=i.e.c;++o)if(e=s[o]+a,r=c?(t[u]||[])[o]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=e+"="+n}return l}function bB(t,e,r){var n=r||{},i=+!n.skipHeader,a=t||{},s=0,o=0;if(a&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Er(n.origin):n.origin;s=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:s+e.length-1+i}};if(a["!ref"]){var f=It(a["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),s==-1&&(s=f.e.r+1,u.e.r=s+e.length-1+i)}else s==-1&&(s=0,u.e.r=e.length-1+i);var d=n.header||[],h=0;e.forEach(function(p,y){Lr(p).forEach(function(_){(h=d.indexOf(_))==-1&&(d[h=d.length]=_);var b=p[_],w="z",A="",S=Ze({c:o+h,r:s+y+i});c=Fg(a,S),b&&typeof b=="object"&&!(b instanceof Date)?a[S]=b:(typeof b=="number"?w="n":typeof b=="boolean"?w="b":typeof b=="string"?w="s":b instanceof Date?(w="d",n.cellDates||(w="n",b=gn(b)),A=n.dateNF||Je[14]):b===null&&n.nullError&&(w="e",b=0),c?(c.t=w,c.v=b,delete c.w,delete c.R,A&&(c.z=A)):a[S]=c={t:w,v:b},A&&(c.z=A))})}),u.e.c=Math.max(u.e.c,o+d.length-1);var m=Vr(s);if(i)for(h=0;h<d.length;++h)a[Tr(h+o)+m]={t:"s",v:d[h]};return a["!ref"]=ct(u),a}function iae(t,e){return bB(null,t,e)}function Fg(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Er(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Fg(t,Ze(e)):Fg(t,Ze({r:e,c:r||0}))}function aae(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function sI(){return{SheetNames:[],Sheets:{}}}function oI(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=s+i)!=-1;++i);}if(aB(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function sae(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=aae(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function oae(t,e){return t.z=e,t}function SB(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function lae(t,e,r){return SB(t,"#"+e,r)}function cae(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function uae(t,e,r,n){for(var i=typeof e!="string"?e:It(e),a=typeof e=="string"?e:ct(e),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var l=Fg(t,s,o);l.t="n",l.F=a,delete l.v,s==i.s.r&&o==i.s.c&&(l.f=r,n&&(l.D=!0))}return t}var _1={encode_col:Tr,encode_row:Vr,encode_cell:Ze,encode_range:ct,decode_col:FP,decode_row:DP,split_cell:_X,decode_cell:Er,decode_range:Wi,format_cell:kl,sheet_add_aoa:Y6,sheet_add_json:bB,sheet_add_dom:hB,aoa_to_sheet:yp,json_to_sheet:iae,table_to_sheet:pB,table_to_book:gie,sheet_to_csv:aI,sheet_to_txt:wB,sheet_to_json:$_,sheet_to_html:dB,sheet_to_formulae:nae,sheet_to_row_object_array:$_,sheet_get_cell:Fg,book_new:sI,book_append_sheet:oI,book_set_sheet_visibility:sae,cell_set_number_format:oae,cell_set_hyperlink:SB,cell_set_internal_link:lae,cell_add_comment:cae,sheet_set_array_formula:uae,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const fae=({onDataLoaded:t,currentFileName:e,onLoadDemo:r})=>{const[n,i]=ae.useState(null),[a,s]=ae.useState(!1),o=ae.useRef(null),l=f=>{i(null);const d=new FileReader;d.onload=h=>{var m;try{const p=(m=h.target)==null?void 0:m.result;if(!p)throw new Error("Failed to read file");const y=yE(p,{type:"array"});if(y.SheetNames.length===0)throw new Error("Excel file is empty");const _=y.Sheets[y.SheetNames[0]],b=_1.sheet_to_json(_,{header:1});if(b.length<1)throw new Error("No data found in sheet");t(b,f.name)}catch(p){console.error(p),i("Invalid file format. Please try another .xlsx or .csv file.")}},d.onerror=()=>i("Error reading file."),d.readAsArrayBuffer(f)},c=f=>{f.target.files&&f.target.files[0]&&l(f.target.files[0])},u=f=>{f.preventDefault(),s(!1),f.dataTransfer.files&&f.dataTransfer.files[0]&&l(f.dataTransfer.files[0])};return C.jsxs("div",{className:"w-full",children:[C.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-6 text-center transition-all duration-200 ease-in-out cursor-pointer
                    ${a?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-indigo-400 hover:bg-gray-50"}
                `,onDragOver:f=>{f.preventDefault(),s(!0)},onDragLeave:()=>s(!1),onDrop:u,onClick:()=>{var f;return(f=o.current)==null?void 0:f.click()},children:[C.jsx("input",{type:"file",ref:o,className:"hidden",accept:".xlsx,.csv",onChange:c}),C.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[e?C.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:C.jsx(jG,{className:"h-6 w-6 text-green-600"})}):C.jsx("div",{className:"bg-gray-100 p-3 rounded-full",children:C.jsx(_P,{className:"h-6 w-6 text-gray-500"})}),C.jsx("div",{className:"text-sm font-medium text-gray-900",children:e||"Click or drag file here"}),C.jsx("p",{className:"text-xs text-gray-500",children:"Supports .xlsx, .csv"})]})]}),C.jsx("div",{className:"mt-3 flex justify-center",children:C.jsxs("button",{onClick:f=>{f.stopPropagation(),r()},className:"flex items-center text-xs text-indigo-600 hover:text-indigo-800 font-medium transition-colors",children:[C.jsx($G,{className:"w-3 h-3 mr-1"}),"Load Demo Data"]})}),n&&C.jsxs("div",{className:"mt-2 flex items-center text-xs text-red-600 bg-red-50 p-2 rounded",children:[C.jsx(yP,{className:"w-4 h-4 mr-1 flex-shrink-0"}),n]})]})},Bx=({label:t,value:e,icon:r,colorClass:n,bgClass:i})=>C.jsx("div",{className:"bg-white overflow-hidden rounded-xl shadow-sm border border-gray-100",children:C.jsx("div",{className:"p-5",children:C.jsxs("div",{className:"flex items-center",children:[C.jsx("div",{className:`flex-shrink-0 rounded-md p-3 ${i}`,children:C.jsx(r,{className:`h-6 w-6 ${n}`,"aria-hidden":"true"})}),C.jsx("div",{className:"ml-5 w-0 flex-1",children:C.jsxs("dl",{children:[C.jsx("dt",{className:"truncate text-sm font-medium text-gray-500",children:t}),C.jsx("dd",{children:C.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e})})]})})]})})}),dae=({summary:t})=>C.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[C.jsx(Bx,{label:"Total Drivers",value:t.totalDrivers,icon:lq,colorClass:"text-gray-600",bgClass:"bg-gray-50"}),C.jsx(Bx,{label:"Drivers Needing Rescue",value:t.totalRescueNeeded,icon:kG,colorClass:"text-red-600",bgClass:"bg-red-50"}),C.jsx(Bx,{label:"Stops to Rescue",value:t.totalStopsToRescue,icon:YG,colorClass:"text-red-600",bgClass:"bg-red-50"}),C.jsx(Bx,{label:"Surplus Stops",value:t.totalStopsAvailable,icon:KG,colorClass:"text-green-600",bgClass:"bg-green-50"})]}),sR=({title:t,drivers:e,type:r,historicalStats:n,onLogRescue:i,rescueLogs:a,onDeleteRescueLog:s,onEditRescueLog:o})=>{const[l,c]=ae.useState(""),u=r==="danger",f=e.filter(h=>h.name.toLowerCase().includes(l.toLowerCase())||h.routeId.toString().toLowerCase().includes(l.toLowerCase())),d=()=>{const h=_1.json_to_sheet(e.map(p=>{const y=a?a[p.name]||[]:[],_=y.reduce((w,A)=>w+A.stopsRemoved,0),b=y.map(w=>w.rescuerName).join(", ");return{Name:p.name,Route:p.routeId,Status:u?"Rescue Needed":"On Pace",RescuedBy:b,StopsTaken:_,Stops_Diff:p.diff,Pace:p.pace,Remaining:p.remaining,ETA:p.eta,RTS_Source:p.projectedRts||"N/A",Stalled:p.isStalled?"Yes":"No",Battery:p.batteryLevel||"N/A",BreakOwed:p.breakTimeRemaining}})),m=_1.book_new();_1.book_append_sheet(m,h,"Drivers"),eae(m,`Driver_List_${t}.xlsx`)};return C.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 flex flex-col h-full max-h-[700px]",children:[C.jsxs("div",{className:`px-4 py-3 border-b border-gray-100 ${u?"bg-red-50/50":"bg-green-50/50"} rounded-t-xl`,children:[C.jsxs("div",{className:"flex items-center justify-between mb-2",children:[C.jsxs("h3",{className:`font-bold flex items-center ${u?"text-red-900":"text-green-900"}`,children:[t,C.jsx("span",{className:`ml-2 text-xs px-2 py-0.5 rounded-full border ${u?"bg-red-100 border-red-200":"bg-green-100 border-green-200"}`,children:e.length})]}),C.jsx("button",{onClick:d,className:"text-xs font-medium text-indigo-600 hover:text-indigo-800",children:"Export"})]}),C.jsxs("div",{className:"relative",children:[C.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:C.jsx(tq,{className:"h-4 w-4 text-gray-400"})}),C.jsx("input",{type:"text",placeholder:"Filter by name...",className:"block w-full pl-9 pr-3 py-1.5 border border-gray-200 rounded-md leading-5 bg-white placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition duration-150 ease-in-out",value:l,onChange:h=>c(h.target.value)})]})]}),C.jsx("div",{className:"overflow-y-auto flex-1 p-3 space-y-3 custom-scrollbar",children:f.length===0?C.jsx("div",{className:"text-center py-10 text-gray-400",children:C.jsx("p",{className:"text-sm",children:"No drivers found."})}):f.map(h=>{const m=n?n[h.name]:null;m&&m.totalRescuesNeeded>=2;const p=a?a[h.name]||[]:[],y=p.length>0;return C.jsxs("div",{className:`group relative bg-white border border-gray-100 rounded-lg p-3 shadow-sm hover:shadow-md transition-all duration-200 
                                    hover:border-indigo-200`,children:[C.jsxs("div",{className:"flex justify-between items-start mb-1",children:[C.jsxs("div",{className:"flex items-center overflow-hidden flex-1 mr-2",children:[C.jsx("div",{className:`flex-shrink-0 p-1.5 rounded-full mr-2 ${u?"bg-red-50":"bg-green-50"}`,children:h.isDspInitiated?C.jsx(bg,{className:`w-4 h-4 ${u?"text-red-600":"text-green-600"}`}):C.jsx(p6,{className:`w-4 h-4 ${u?"text-red-600":"text-green-600"}`})}),C.jsxs("div",{className:"min-w-0 flex-1",children:[C.jsx("h4",{className:"font-semibold text-gray-900 text-sm flex items-center flex-wrap leading-tight",children:C.jsx("span",{className:"mr-1 truncate flex-grow min-w-[60px]",title:h.name,children:h.name})}),C.jsxs("div",{className:"flex items-center space-x-2 text-[10px] text-gray-400 mt-0.5",children:[C.jsx("span",{className:"truncate max-w-[100px]",title:h.routeId,children:h.routeId}),h.breakTimeRemaining>0&&C.jsxs("span",{className:"text-orange-400 font-medium flex items-center whitespace-nowrap",children:[C.jsx(d6,{className:"w-3 h-3 mr-1"}),"-",h.breakTimeRemaining,"m"]})]})]})]}),C.jsx("div",{className:`flex-shrink-0 text-xs font-bold px-2 py-1 rounded-full ${u?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:u?`-${h.diff}`:`+${Math.abs(h.diff)}`})]}),C.jsxs("div",{className:"mt-2 mb-2",children:[C.jsxs("div",{className:"flex justify-between text-[10px] text-gray-500 mb-1",children:[C.jsx("span",{children:"Progress"}),C.jsxs("span",{children:[Math.min(100,h.progress),"%"]})]}),C.jsx("div",{className:"w-full bg-gray-100 rounded-full h-1.5 overflow-hidden",children:C.jsx("div",{className:`h-1.5 rounded-full ${u?"bg-red-500":"bg-green-500"}`,style:{width:`${Math.min(100,h.progress)}%`}})})]}),y&&C.jsx("div",{className:"mt-2 space-y-1.5",children:p.map((_,b)=>C.jsxs("div",{className:"bg-green-50/80 border border-green-100 rounded px-2 py-1.5 flex justify-between items-center",children:[C.jsxs("div",{className:"flex items-center text-[10px] text-green-800 overflow-hidden flex-1 min-w-0",children:[C.jsx(bg,{className:"w-3 h-3 mr-1.5 flex-shrink-0 opacity-70"}),C.jsx("span",{className:"truncate font-medium",children:_.rescuerName})]}),C.jsxs("div",{className:"flex items-center space-x-1",children:[C.jsxs("div",{className:"flex items-center text-[10px] font-bold text-green-700 mr-1 bg-white px-1.5 rounded border border-green-100",children:[C.jsx(PG,{className:"w-3 h-3 mr-1"}),C.jsx("span",{children:_.stopsRemoved})]}),o&&C.jsx("button",{onClick:w=>o(h,_,b,w),className:"p-1 text-green-500 hover:text-indigo-600",children:C.jsx(ZG,{className:"w-3 h-3"})}),s&&C.jsx("button",{onClick:()=>s(h.name,b),className:"p-1 text-green-500 hover:text-red-600",children:C.jsx(Bf,{className:"w-3 h-3"})})]})]},b))}),!y&&C.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[C.jsxs("div",{className:"bg-gray-50 p-1.5 rounded border border-gray-100",children:[C.jsxs("div",{className:"text-[10px] text-gray-500 flex items-center",children:[C.jsx(JG,{className:"w-3 h-3 mr-1"})," Left"]}),C.jsx("div",{className:"text-sm font-bold text-gray-800",children:h.remaining})]}),C.jsxs("div",{className:"bg-gray-50 p-1.5 rounded border border-gray-100",children:[C.jsxs("div",{className:"text-[10px] text-gray-500 flex items-center",children:[C.jsx(CG,{className:"w-3 h-3 mr-1"})," Pace"]}),C.jsx("div",{className:"text-sm font-bold text-gray-800",children:h.pace.toFixed(0)})]})]}),i&&C.jsxs("button",{onClick:_=>i(h,_),className:"mt-2 w-full flex items-center justify-center py-1.5 bg-indigo-50 hover:bg-indigo-100 text-indigo-700 rounded text-xs font-medium transition-colors",children:[C.jsx(u6,{className:"w-3 h-3 mr-1.5"}),"Log Rescue"]})]},h.id)})})]})};function AB(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=AB(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Pt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=AB(t))&&(n&&(n+=" "),n+=e);return n}var hae=Array.isArray,zi=hae,pae=typeof ux=="object"&&ux&&ux.Object===Object&&ux,TB=pae,mae=TB,gae=typeof self=="object"&&self&&self.Object===Object&&self,vae=mae||gae||Function("return this")(),To=vae,yae=To,xae=yae.Symbol,Ky=xae,oR=Ky,EB=Object.prototype,_ae=EB.hasOwnProperty,wae=EB.toString,Gp=oR?oR.toStringTag:void 0;function bae(t){var e=_ae.call(t,Gp),r=t[Gp];try{t[Gp]=void 0;var n=!0}catch{}var i=wae.call(t);return n&&(e?t[Gp]=r:delete t[Gp]),i}var Sae=bae,Aae=Object.prototype,Tae=Aae.toString;function Eae(t){return Tae.call(t)}var Cae=Eae,lR=Ky,kae=Sae,Pae=Cae,Iae="[object Null]",Oae="[object Undefined]",cR=lR?lR.toStringTag:void 0;function Mae(t){return t==null?t===void 0?Oae:Iae:cR&&cR in Object(t)?kae(t):Pae(t)}var Ul=Mae;function Nae(t){return t!=null&&typeof t=="object"}var jl=Nae,Rae=Ul,Dae=jl,Fae="[object Symbol]";function Lae(t){return typeof t=="symbol"||Dae(t)&&Rae(t)==Fae}var _p=Lae,$ae=zi,Bae=_p,Uae=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jae=/^\w*$/;function Vae(t,e){if($ae(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Bae(t)?!0:jae.test(t)||!Uae.test(t)||e!=null&&t in Object(e)}var lI=Vae;function Hae(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var cu=Hae;const wp=Jt(cu);var Wae=Ul,zae=cu,Gae="[object AsyncFunction]",qae="[object Function]",Xae="[object GeneratorFunction]",Kae="[object Proxy]";function Yae(t){if(!zae(t))return!1;var e=Wae(t);return e==qae||e==Xae||e==Gae||e==Kae}var cI=Yae;const mt=Jt(cI);var Jae=To,Zae=Jae["__core-js_shared__"],Qae=Zae,IA=Qae,uR=function(){var t=/[^.]+$/.exec(IA&&IA.keys&&IA.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function ese(t){return!!uR&&uR in t}var tse=ese,rse=Function.prototype,nse=rse.toString;function ise(t){if(t!=null){try{return nse.call(t)}catch{}try{return t+""}catch{}}return""}var CB=ise,ase=cI,sse=tse,ose=cu,lse=CB,cse=/[\\^$.*+?()[\]{}|]/g,use=/^\[object .+?Constructor\]$/,fse=Function.prototype,dse=Object.prototype,hse=fse.toString,pse=dse.hasOwnProperty,mse=RegExp("^"+hse.call(pse).replace(cse,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gse(t){if(!ose(t)||sse(t))return!1;var e=ase(t)?mse:use;return e.test(lse(t))}var vse=gse;function yse(t,e){return t==null?void 0:t[e]}var xse=yse,_se=vse,wse=xse;function bse(t,e){var r=wse(t,e);return _se(r)?r:void 0}var Td=bse,Sse=Td,Ase=Sse(Object,"create"),Vb=Ase,fR=Vb;function Tse(){this.__data__=fR?fR(null):{},this.size=0}var Ese=Tse;function Cse(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var kse=Cse,Pse=Vb,Ise="__lodash_hash_undefined__",Ose=Object.prototype,Mse=Ose.hasOwnProperty;function Nse(t){var e=this.__data__;if(Pse){var r=e[t];return r===Ise?void 0:r}return Mse.call(e,t)?e[t]:void 0}var Rse=Nse,Dse=Vb,Fse=Object.prototype,Lse=Fse.hasOwnProperty;function $se(t){var e=this.__data__;return Dse?e[t]!==void 0:Lse.call(e,t)}var Bse=$se,Use=Vb,jse="__lodash_hash_undefined__";function Vse(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Use&&e===void 0?jse:e,this}var Hse=Vse,Wse=Ese,zse=kse,Gse=Rse,qse=Bse,Xse=Hse;function bp(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}bp.prototype.clear=Wse;bp.prototype.delete=zse;bp.prototype.get=Gse;bp.prototype.has=qse;bp.prototype.set=Xse;var Kse=bp;function Yse(){this.__data__=[],this.size=0}var Jse=Yse;function Zse(t,e){return t===e||t!==t&&e!==e}var uI=Zse,Qse=uI;function eoe(t,e){for(var r=t.length;r--;)if(Qse(t[r][0],e))return r;return-1}var Hb=eoe,toe=Hb,roe=Array.prototype,noe=roe.splice;function ioe(t){var e=this.__data__,r=toe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():noe.call(e,r,1),--this.size,!0}var aoe=ioe,soe=Hb;function ooe(t){var e=this.__data__,r=soe(e,t);return r<0?void 0:e[r][1]}var loe=ooe,coe=Hb;function uoe(t){return coe(this.__data__,t)>-1}var foe=uoe,doe=Hb;function hoe(t,e){var r=this.__data__,n=doe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var poe=hoe,moe=Jse,goe=aoe,voe=loe,yoe=foe,xoe=poe;function Sp(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Sp.prototype.clear=moe;Sp.prototype.delete=goe;Sp.prototype.get=voe;Sp.prototype.has=yoe;Sp.prototype.set=xoe;var Wb=Sp,_oe=Td,woe=To,boe=_oe(woe,"Map"),fI=boe,dR=Kse,Soe=Wb,Aoe=fI;function Toe(){this.size=0,this.__data__={hash:new dR,map:new(Aoe||Soe),string:new dR}}var Eoe=Toe;function Coe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var koe=Coe,Poe=koe;function Ioe(t,e){var r=t.__data__;return Poe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var zb=Ioe,Ooe=zb;function Moe(t){var e=Ooe(this,t).delete(t);return this.size-=e?1:0,e}var Noe=Moe,Roe=zb;function Doe(t){return Roe(this,t).get(t)}var Foe=Doe,Loe=zb;function $oe(t){return Loe(this,t).has(t)}var Boe=$oe,Uoe=zb;function joe(t,e){var r=Uoe(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Voe=joe,Hoe=Eoe,Woe=Noe,zoe=Foe,Goe=Boe,qoe=Voe;function Ap(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ap.prototype.clear=Hoe;Ap.prototype.delete=Woe;Ap.prototype.get=zoe;Ap.prototype.has=Goe;Ap.prototype.set=qoe;var dI=Ap,kB=dI,Xoe="Expected a function";function hI(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Xoe);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=t.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(hI.Cache||kB),r}hI.Cache=kB;var PB=hI;const Koe=Jt(PB);var Yoe=PB,Joe=500;function Zoe(t){var e=Yoe(t,function(n){return r.size===Joe&&r.clear(),n}),r=e.cache;return e}var Qoe=Zoe,ele=Qoe,tle=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rle=/\\(\\)?/g,nle=ele(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(tle,function(r,n,i,a){e.push(i?a.replace(rle,"$1"):n||r)}),e}),ile=nle;function ale(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var pI=ale,hR=Ky,sle=pI,ole=zi,lle=_p,pR=hR?hR.prototype:void 0,mR=pR?pR.toString:void 0;function IB(t){if(typeof t=="string")return t;if(ole(t))return sle(t,IB)+"";if(lle(t))return mR?mR.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var cle=IB,ule=cle;function fle(t){return t==null?"":ule(t)}var OB=fle,dle=zi,hle=lI,ple=ile,mle=OB;function gle(t,e){return dle(t)?t:hle(t,e)?[t]:ple(mle(t))}var MB=gle,vle=_p;function yle(t){if(typeof t=="string"||vle(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Gb=yle,xle=MB,_le=Gb;function wle(t,e){e=xle(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[_le(e[r++])];return r&&r==n?t:void 0}var mI=wle,ble=mI;function Sle(t,e,r){var n=t==null?void 0:ble(t,e);return n===void 0?r:n}var NB=Sle;const Wa=Jt(NB);function Ale(t){return t==null}var Tle=Ale;const _t=Jt(Tle);var Ele=Ul,Cle=zi,kle=jl,Ple="[object String]";function Ile(t){return typeof t=="string"||!Cle(t)&&kle(t)&&Ele(t)==Ple}var Ole=Ile;const nd=Jt(Ole);var RB={exports:{}},zt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gI=Symbol.for("react.element"),vI=Symbol.for("react.portal"),qb=Symbol.for("react.fragment"),Xb=Symbol.for("react.strict_mode"),Kb=Symbol.for("react.profiler"),Yb=Symbol.for("react.provider"),Jb=Symbol.for("react.context"),Mle=Symbol.for("react.server_context"),Zb=Symbol.for("react.forward_ref"),Qb=Symbol.for("react.suspense"),eS=Symbol.for("react.suspense_list"),tS=Symbol.for("react.memo"),rS=Symbol.for("react.lazy"),Nle=Symbol.for("react.offscreen"),DB;DB=Symbol.for("react.module.reference");function Qa(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case gI:switch(t=t.type,t){case qb:case Kb:case Xb:case Qb:case eS:return t;default:switch(t=t&&t.$$typeof,t){case Mle:case Jb:case Zb:case rS:case tS:case Yb:return t;default:return e}}case vI:return e}}}zt.ContextConsumer=Jb;zt.ContextProvider=Yb;zt.Element=gI;zt.ForwardRef=Zb;zt.Fragment=qb;zt.Lazy=rS;zt.Memo=tS;zt.Portal=vI;zt.Profiler=Kb;zt.StrictMode=Xb;zt.Suspense=Qb;zt.SuspenseList=eS;zt.isAsyncMode=function(){return!1};zt.isConcurrentMode=function(){return!1};zt.isContextConsumer=function(t){return Qa(t)===Jb};zt.isContextProvider=function(t){return Qa(t)===Yb};zt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===gI};zt.isForwardRef=function(t){return Qa(t)===Zb};zt.isFragment=function(t){return Qa(t)===qb};zt.isLazy=function(t){return Qa(t)===rS};zt.isMemo=function(t){return Qa(t)===tS};zt.isPortal=function(t){return Qa(t)===vI};zt.isProfiler=function(t){return Qa(t)===Kb};zt.isStrictMode=function(t){return Qa(t)===Xb};zt.isSuspense=function(t){return Qa(t)===Qb};zt.isSuspenseList=function(t){return Qa(t)===eS};zt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===qb||t===Kb||t===Xb||t===Qb||t===eS||t===Nle||typeof t=="object"&&t!==null&&(t.$$typeof===rS||t.$$typeof===tS||t.$$typeof===Yb||t.$$typeof===Jb||t.$$typeof===Zb||t.$$typeof===DB||t.getModuleId!==void 0)};zt.typeOf=Qa;RB.exports=zt;var Rle=RB.exports,Dle=Ul,Fle=jl,Lle="[object Number]";function $le(t){return typeof t=="number"||Fle(t)&&Dle(t)==Lle}var FB=$le;const Ble=Jt(FB);var Ule=FB;function jle(t){return Ule(t)&&t!=+t}var Vle=jle;const Yy=Jt(Vle);var Ps=function(e){return e===0?0:e>0?1:-1},Fu=function(e){return nd(e)&&e.indexOf("%")===e.length-1},Pe=function(e){return Ble(e)&&!Yy(e)},Hle=function(e){return _t(e)},pn=function(e){return Pe(e)||nd(e)},Wle=0,Jy=function(e){var r=++Wle;return"".concat(e||"").concat(r)},id=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe(e)&&!nd(e))return n;var a;if(Fu(e)){var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return Yy(a)&&(a=n),i&&a>r&&(a=r),a},ec=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},zle=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Ts=function(e,r){return Pe(e)&&Pe(r)?function(n){return e+n*(r-e)}:function(){return r}};function B_(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Wa(n,e))===r})}var Gle=function(e,r){return Pe(e)&&Pe(r)?e-r:nd(e)&&nd(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Th(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function xE(t){"@babel/helpers - typeof";return xE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xE(t)}var qle=["viewBox","children"],Xle=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],gR=["points","pathLength"],OA={svg:qle,polygon:gR,polyline:gR},yI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],U_=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(ae.isValidElement(e)&&(n=e.props),!wp(n))return null;var i={};return Object.keys(n).forEach(function(a){yI.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},Kle=function(e,r,n){return function(i){return e(r,n,i),null}},j_=function(e,r,n){if(!wp(e)||xE(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];yI.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=Kle(s,r,n))}),i},Yle=["children"],Jle=["children"];function vR(t,e){if(t==null)return{};var r=Zle(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Zle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _E(t){"@babel/helpers - typeof";return _E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_E(t)}var yR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},vl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},xR=null,MA=null,xI=function t(e){if(e===xR&&Array.isArray(MA))return MA;var r=[];return ae.Children.forEach(e,function(n){_t(n)||(Rle.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),MA=r,xR=e,r};function za(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return vl(i)}):n=[vl(e)],xI(t).forEach(function(i){var a=Wa(i,"type.displayName")||Wa(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function aa(t,e){var r=za(t,e);return r&&r[0]}var _R=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Pe(n)||n<=0||!Pe(i)||i<=0)},Qle=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ece=function(e){return e&&e.type&&nd(e.type)&&Qle.indexOf(e.type)>=0},tce=function(e){return e&&_E(e)==="object"&&"clipDot"in e},rce=function(e,r,n,i){var a,s=(a=OA==null?void 0:OA[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!mt(e)&&(i&&s.includes(r)||Xle.includes(r))||n&&yI.includes(r)},Tt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(ae.isValidElement(e)&&(i=e.props),!wp(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;rce((o=i)===null||o===void 0?void 0:o[s],s,r,n)&&(a[s]=i[s])}),a},wE=function t(e,r){if(e===r)return!0;var n=ae.Children.count(e);if(n!==ae.Children.count(r))return!1;if(n===0)return!0;if(n===1)return wR(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!wR(a,s))return!1}return!0},wR=function(e,r){if(_t(e)&&_t(r))return!0;if(!_t(e)&&!_t(r)){var n=e.props||{},i=n.children,a=vR(n,Yle),s=r.props||{},o=s.children,l=vR(s,Jle);return i&&o?Th(a,l)&&wE(i,o):!i&&!o?Th(a,l):!1}return!1},bR=function(e,r){var n=[],i={};return xI(e).forEach(function(a,s){if(ece(a))n.push(a);else if(a){var o=vl(a.type),l=r[o]||{},c=l.handler,u=l.once;if(c&&(!u||!i[o])){var f=c(a,o,s);n.push(f),i[o]=!0}}}),n},nce=function(e){var r=e&&e.type;return r&&yR[r]?yR[r]:null},ice=function(e,r){return xI(r).indexOf(e)},ace=["children","width","height","viewBox","className","style","title","desc"];function bE(){return bE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bE.apply(this,arguments)}function sce(t,e){if(t==null)return{};var r=oce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function SE(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,c=sce(t,ace),u=i||{width:r,height:n,x:0,y:0},f=Pt("recharts-surface",a);return re.createElement("svg",bE({},Tt(c,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),re.createElement("title",null,o),re.createElement("desc",null,l),e)}var lce=["children","className"];function AE(){return AE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},AE.apply(this,arguments)}function cce(t,e){if(t==null)return{};var r=uce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var jr=re.forwardRef(function(t,e){var r=t.children,n=t.className,i=cce(t,lce),a=Pt("recharts-layer",n);return re.createElement("g",AE({className:a},Tt(i,!0),{ref:e}),r)}),yl=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function fce(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var dce=fce,hce=dce;function pce(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:hce(t,e,r)}var mce=pce,gce="\\ud800-\\udfff",vce="\\u0300-\\u036f",yce="\\ufe20-\\ufe2f",xce="\\u20d0-\\u20ff",_ce=vce+yce+xce,wce="\\ufe0e\\ufe0f",bce="\\u200d",Sce=RegExp("["+bce+gce+_ce+wce+"]");function Ace(t){return Sce.test(t)}var LB=Ace;function Tce(t){return t.split("")}var Ece=Tce,$B="\\ud800-\\udfff",Cce="\\u0300-\\u036f",kce="\\ufe20-\\ufe2f",Pce="\\u20d0-\\u20ff",Ice=Cce+kce+Pce,Oce="\\ufe0e\\ufe0f",Mce="["+$B+"]",TE="["+Ice+"]",EE="\\ud83c[\\udffb-\\udfff]",Nce="(?:"+TE+"|"+EE+")",BB="[^"+$B+"]",UB="(?:\\ud83c[\\udde6-\\uddff]){2}",jB="[\\ud800-\\udbff][\\udc00-\\udfff]",Rce="\\u200d",VB=Nce+"?",HB="["+Oce+"]?",Dce="(?:"+Rce+"(?:"+[BB,UB,jB].join("|")+")"+HB+VB+")*",Fce=HB+VB+Dce,Lce="(?:"+[BB+TE+"?",TE,UB,jB,Mce].join("|")+")",$ce=RegExp(EE+"(?="+EE+")|"+Lce+Fce,"g");function Bce(t){return t.match($ce)||[]}var Uce=Bce,jce=Ece,Vce=LB,Hce=Uce;function Wce(t){return Vce(t)?Hce(t):jce(t)}var zce=Wce,Gce=mce,qce=LB,Xce=zce,Kce=OB;function Yce(t){return function(e){e=Kce(e);var r=qce(e)?Xce(e):void 0,n=r?r[0]:e.charAt(0),i=r?Gce(r,1).join(""):e.slice(1);return n[t]()+i}}var Jce=Yce,Zce=Jce,Qce=Zce("toUpperCase"),eue=Qce;const nS=Jt(eue);function er(t){return function(){return t}}const WB=Math.cos,V_=Math.sin,$s=Math.sqrt,H_=Math.PI,iS=2*H_,CE=Math.PI,kE=2*CE,bu=1e-6,tue=kE-bu;function zB(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function rue(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return zB;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class nue{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?zB:rue(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-e,c=i-r,u=s-e,f=o-r,d=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(d>bu)if(!(Math.abs(f*l-c*u)>bu)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-s,m=i-o,p=l*l+c*c,y=h*h+m*m,_=Math.sqrt(p),b=Math.sqrt(d),w=a*Math.tan((CE-Math.acos((p+d-y)/(2*_*b)))/2),A=w/b,S=w/_;Math.abs(A-1)>bu&&this._append`L${e+A*u},${r+A*f}`,this._append`A${a},${a},0,0,${+(f*h>u*m)},${this._x1=e+S*l},${this._y1=r+S*c}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),c=e+o,u=r+l,f=1^s,d=s?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>bu||Math.abs(this._y1-u)>bu)&&this._append`L${c},${u}`,n&&(d<0&&(d=d%kE+kE),d>tue?this._append`A${n},${n},0,1,${f},${e-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:d>bu&&this._append`A${n},${n},0,${+(d>=CE)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function _I(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new nue(e)}function wI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function GB(t){this._context=t}GB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function aS(t){return new GB(t)}function qB(t){return t[0]}function XB(t){return t[1]}function KB(t,e){var r=er(!0),n=null,i=aS,a=null,s=_I(o);t=typeof t=="function"?t:t===void 0?qB:er(t),e=typeof e=="function"?e:e===void 0?XB:er(e);function o(l){var c,u=(l=wI(l)).length,f,d=!1,h;for(n==null&&(a=i(h=s())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+t(f,c,l),+e(f,c,l));if(h)return a=null,h+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:er(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:er(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:er(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function Ux(t,e,r){var n=null,i=er(!0),a=null,s=aS,o=null,l=_I(c);t=typeof t=="function"?t:t===void 0?qB:er(+t),e=typeof e=="function"?e:er(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?XB:er(+r);function c(f){var d,h,m,p=(f=wI(f)).length,y,_=!1,b,w=new Array(p),A=new Array(p);for(a==null&&(o=s(b=l())),d=0;d<=p;++d){if(!(d<p&&i(y=f[d],d,f))===_)if(_=!_)h=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=d-1;m>=h;--m)o.point(w[m],A[m]);o.lineEnd(),o.areaEnd()}_&&(w[d]=+t(y,d,f),A[d]=+e(y,d,f),o.point(n?+n(y,d,f):w[d],r?+r(y,d,f):A[d]))}if(b)return o=null,b+""||null}function u(){return KB().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:er(+f),n=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:er(+f),c):t},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:er(+f),c):n},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:er(+f),r=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:er(+f),c):e},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:er(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(r)},c.lineX1=function(){return u().x(n).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:er(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class YB{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function iue(t){return new YB(t,!0)}function aue(t){return new YB(t,!1)}const bI={draw(t,e){const r=$s(e/H_);t.moveTo(r,0),t.arc(0,0,r,0,iS)}},sue={draw(t,e){const r=$s(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},JB=$s(1/3),oue=JB*2,lue={draw(t,e){const r=$s(e/oue),n=r*JB;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},cue={draw(t,e){const r=$s(e),n=-r/2;t.rect(n,n,r,r)}},uue=.8908130915292852,ZB=V_(H_/10)/V_(7*H_/10),fue=V_(iS/10)*ZB,due=-WB(iS/10)*ZB,hue={draw(t,e){const r=$s(e*uue),n=fue*r,i=due*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=iS*a/5,o=WB(s),l=V_(s);t.lineTo(l*r,-o*r),t.lineTo(o*n-l*i,l*n+o*i)}t.closePath()}},NA=$s(3),pue={draw(t,e){const r=-$s(e/(NA*3));t.moveTo(0,r*2),t.lineTo(-NA*r,-r),t.lineTo(NA*r,-r),t.closePath()}},wa=-.5,ba=$s(3)/2,PE=1/$s(12),mue=(PE/2+1)*3,gue={draw(t,e){const r=$s(e/mue),n=r/2,i=r*PE,a=n,s=r*PE+r,o=-a,l=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(wa*n-ba*i,ba*n+wa*i),t.lineTo(wa*a-ba*s,ba*a+wa*s),t.lineTo(wa*o-ba*l,ba*o+wa*l),t.lineTo(wa*n+ba*i,wa*i-ba*n),t.lineTo(wa*a+ba*s,wa*s-ba*a),t.lineTo(wa*o+ba*l,wa*l-ba*o),t.closePath()}};function vue(t,e){let r=null,n=_I(i);t=typeof t=="function"?t:er(t||bI),e=typeof e=="function"?e:er(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:er(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:er(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function W_(){}function z_(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function QB(t){this._context=t}QB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:z_(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:z_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function yue(t){return new QB(t)}function eU(t){this._context=t}eU.prototype={areaStart:W_,areaEnd:W_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:z_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function xue(t){return new eU(t)}function tU(t){this._context=t}tU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:z_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _ue(t){return new tU(t)}function rU(t){this._context=t}rU.prototype={areaStart:W_,areaEnd:W_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function wue(t){return new rU(t)}function SR(t){return t<0?-1:1}function AR(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(SR(a)+SR(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function TR(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function RA(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-n)/3;t._context.bezierCurveTo(n+o,i+o*e,a-o,s-o*r,a,s)}function G_(t){this._context=t}G_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:RA(this,this._t0,TR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,RA(this,TR(this,r=AR(this,t,e)),r);break;default:RA(this,this._t0,r=AR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function nU(t){this._context=new iU(t)}(nU.prototype=Object.create(G_.prototype)).point=function(t,e){G_.prototype.point.call(this,e,t)};function iU(t){this._context=t}iU.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function bue(t){return new G_(t)}function Sue(t){return new nU(t)}function aU(t){this._context=t}aU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=ER(t),i=ER(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function ER(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Aue(t){return new aU(t)}function sS(t,e){this._context=t,this._t=e}sS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Tue(t){return new sS(t,.5)}function Eue(t){return new sS(t,0)}function Cue(t){return new sS(t,1)}function $0(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,o=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function IE(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function kue(t,e){return t[e]}function Pue(t){const e=[];return e.key=t,e}function Iue(){var t=er([]),e=IE,r=$0,n=kue;function i(a){var s=Array.from(t.apply(this,arguments),Pue),o,l=s.length,c=-1,u;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,a)]).data=f;for(o=0,u=wI(e(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:er(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:er(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?IE:typeof a=="function"?a:er(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??$0,i):r},i}function Oue(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}$0(t,e)}}function Mue(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}$0(t,e)}}function Nue(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=t[e[o]],f=u[n][1]||0,d=u[n-1][1]||0,h=(f-d)/2,m=0;m<o;++m){var p=t[e[m]],y=p[n][1]||0,_=p[n-1][1]||0;h+=y-_}l+=f,c+=h*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,$0(t,e)}}function Lg(t){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lg(t)}var Rue=["type","size","sizeType"];function OE(){return OE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},OE.apply(this,arguments)}function CR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(r),!0).forEach(function(n){Due(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Due(t,e,r){return e=Fue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fue(t){var e=Lue(t,"string");return Lg(e)=="symbol"?e:e+""}function Lue(t,e){if(Lg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ue(t,e){if(t==null)return{};var r=Bue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Bue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var sU={symbolCircle:bI,symbolCross:sue,symbolDiamond:lue,symbolSquare:cue,symbolStar:hue,symbolTriangle:pue,symbolWye:gue},Uue=Math.PI/180,jue=function(e){var r="symbol".concat(nS(e));return sU[r]||bI},Vue=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Uue;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Hue=function(e,r){sU["symbol".concat(nS(e))]=r},SI=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=$ue(e,Rue),c=kR(kR({},l),{},{type:n,size:a,sizeType:o}),u=function(){var y=jue(n),_=vue().type(y).size(Vue(a,o,n));return _()},f=c.className,d=c.cx,h=c.cy,m=Tt(c,!0);return d===+d&&h===+h&&a===+a?re.createElement("path",OE({},m,{className:Pt("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(h,")"),d:u()})):null};SI.registerSymbol=Hue;function B0(t){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B0(t)}function ME(){return ME=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ME.apply(this,arguments)}function PR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wue(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(r),!0).forEach(function(n){$g(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lU(n.key),n)}}function que(t,e,r){return e&&Gue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xue(t,e,r){return e=q_(e),Kue(t,oU()?Reflect.construct(e,r||[],q_(t).constructor):e.apply(t,r))}function Kue(t,e){if(e&&(B0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yue(t)}function Yue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oU=function(){return!!t})()}function q_(t){return q_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},q_(t)}function Jue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NE(t,e)}function NE(t,e){return NE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},NE(t,e)}function $g(t,e,r){return e=lU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lU(t){var e=Zue(t,"string");return B0(e)=="symbol"?e:e+""}function Zue(t,e){if(B0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(B0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Sa=32,AI=function(t){function e(){return zue(this,e),Xue(this,e,arguments)}return Jue(e,t),que(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Sa/2,s=Sa/6,o=Sa/3,l=n.inactive?i:n.color;if(n.type==="plainline")return re.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Sa,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return re.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Sa,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return re.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Sa/8,"h").concat(Sa,"v").concat(Sa*3/4,"h").concat(-Sa,"z"),className:"recharts-legend-icon"});if(re.isValidElement(n.legendIcon)){var c=Wue({},n);return delete c.legendIcon,re.cloneElement(n.legendIcon,c)}return re.createElement(SI,{fill:l,cx:a,cy:a,size:Sa,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:Sa,height:Sa},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(h,m){var p=h.formatter||l,y=Pt($g($g({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",h.inactive));if(h.type==="none")return null;var _=mt(h.value)?null:h.value;yl(!mt(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=h.inactive?c:h.color;return re.createElement("li",ME({className:y,style:f,key:"legend-item-".concat(m)},j_(n.props,h,m)),re.createElement(SE,{width:s,height:s,viewBox:u,style:d},n.renderIcon(h)),re.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},p?p(_,h,m):_))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return re.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(ae.PureComponent);$g(AI,"displayName","Legend");$g(AI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Que=Wb;function efe(){this.__data__=new Que,this.size=0}var tfe=efe;function rfe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var nfe=rfe;function ife(t){return this.__data__.get(t)}var afe=ife;function sfe(t){return this.__data__.has(t)}var ofe=sfe,lfe=Wb,cfe=fI,ufe=dI,ffe=200;function dfe(t,e){var r=this.__data__;if(r instanceof lfe){var n=r.__data__;if(!cfe||n.length<ffe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new ufe(n)}return r.set(t,e),this.size=r.size,this}var hfe=dfe,pfe=Wb,mfe=tfe,gfe=nfe,vfe=afe,yfe=ofe,xfe=hfe;function Tp(t){var e=this.__data__=new pfe(t);this.size=e.size}Tp.prototype.clear=mfe;Tp.prototype.delete=gfe;Tp.prototype.get=vfe;Tp.prototype.has=yfe;Tp.prototype.set=xfe;var cU=Tp,_fe="__lodash_hash_undefined__";function wfe(t){return this.__data__.set(t,_fe),this}var bfe=wfe;function Sfe(t){return this.__data__.has(t)}var Afe=Sfe,Tfe=dI,Efe=bfe,Cfe=Afe;function X_(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Tfe;++e<r;)this.add(t[e])}X_.prototype.add=X_.prototype.push=Efe;X_.prototype.has=Cfe;var uU=X_;function kfe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var fU=kfe;function Pfe(t,e){return t.has(e)}var dU=Pfe,Ife=uU,Ofe=fU,Mfe=dU,Nfe=1,Rfe=2;function Dfe(t,e,r,n,i,a){var s=r&Nfe,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var f=-1,d=!0,h=r&Rfe?new Ife:void 0;for(a.set(t,e),a.set(e,t);++f<o;){var m=t[f],p=e[f];if(n)var y=s?n(p,m,f,e,t,a):n(m,p,f,t,e,a);if(y!==void 0){if(y)continue;d=!1;break}if(h){if(!Ofe(e,function(_,b){if(!Mfe(h,b)&&(m===_||i(m,_,r,n,a)))return h.push(b)})){d=!1;break}}else if(!(m===p||i(m,p,r,n,a))){d=!1;break}}return a.delete(t),a.delete(e),d}var hU=Dfe,Ffe=To,Lfe=Ffe.Uint8Array,$fe=Lfe;function Bfe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var Ufe=Bfe;function jfe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var TI=jfe,IR=Ky,OR=$fe,Vfe=uI,Hfe=hU,Wfe=Ufe,zfe=TI,Gfe=1,qfe=2,Xfe="[object Boolean]",Kfe="[object Date]",Yfe="[object Error]",Jfe="[object Map]",Zfe="[object Number]",Qfe="[object RegExp]",ede="[object Set]",tde="[object String]",rde="[object Symbol]",nde="[object ArrayBuffer]",ide="[object DataView]",MR=IR?IR.prototype:void 0,DA=MR?MR.valueOf:void 0;function ade(t,e,r,n,i,a,s){switch(r){case ide:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case nde:return!(t.byteLength!=e.byteLength||!a(new OR(t),new OR(e)));case Xfe:case Kfe:case Zfe:return Vfe(+t,+e);case Yfe:return t.name==e.name&&t.message==e.message;case Qfe:case tde:return t==e+"";case Jfe:var o=Wfe;case ede:var l=n&Gfe;if(o||(o=zfe),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;n|=qfe,s.set(t,e);var u=Hfe(o(t),o(e),n,i,a,s);return s.delete(t),u;case rde:if(DA)return DA.call(t)==DA.call(e)}return!1}var sde=ade;function ode(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var pU=ode,lde=pU,cde=zi;function ude(t,e,r){var n=e(t);return cde(t)?n:lde(n,r(t))}var fde=ude;function dde(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var s=t[r];e(s,r,t)&&(a[i++]=s)}return a}var hde=dde;function pde(){return[]}var mde=pde,gde=hde,vde=mde,yde=Object.prototype,xde=yde.propertyIsEnumerable,NR=Object.getOwnPropertySymbols,_de=NR?function(t){return t==null?[]:(t=Object(t),gde(NR(t),function(e){return xde.call(t,e)}))}:vde,wde=_de;function bde(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Sde=bde,Ade=Ul,Tde=jl,Ede="[object Arguments]";function Cde(t){return Tde(t)&&Ade(t)==Ede}var kde=Cde,RR=kde,Pde=jl,mU=Object.prototype,Ide=mU.hasOwnProperty,Ode=mU.propertyIsEnumerable,Mde=RR(function(){return arguments}())?RR:function(t){return Pde(t)&&Ide.call(t,"callee")&&!Ode.call(t,"callee")},EI=Mde,K_={exports:{}};function Nde(){return!1}var Rde=Nde;K_.exports;(function(t,e){var r=To,n=Rde,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;t.exports=c})(K_,K_.exports);var gU=K_.exports,Dde=9007199254740991,Fde=/^(?:0|[1-9]\d*)$/;function Lde(t,e){var r=typeof t;return e=e??Dde,!!e&&(r=="number"||r!="symbol"&&Fde.test(t))&&t>-1&&t%1==0&&t<e}var CI=Lde,$de=9007199254740991;function Bde(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=$de}var kI=Bde,Ude=Ul,jde=kI,Vde=jl,Hde="[object Arguments]",Wde="[object Array]",zde="[object Boolean]",Gde="[object Date]",qde="[object Error]",Xde="[object Function]",Kde="[object Map]",Yde="[object Number]",Jde="[object Object]",Zde="[object RegExp]",Qde="[object Set]",ehe="[object String]",the="[object WeakMap]",rhe="[object ArrayBuffer]",nhe="[object DataView]",ihe="[object Float32Array]",ahe="[object Float64Array]",she="[object Int8Array]",ohe="[object Int16Array]",lhe="[object Int32Array]",che="[object Uint8Array]",uhe="[object Uint8ClampedArray]",fhe="[object Uint16Array]",dhe="[object Uint32Array]",ir={};ir[ihe]=ir[ahe]=ir[she]=ir[ohe]=ir[lhe]=ir[che]=ir[uhe]=ir[fhe]=ir[dhe]=!0;ir[Hde]=ir[Wde]=ir[rhe]=ir[zde]=ir[nhe]=ir[Gde]=ir[qde]=ir[Xde]=ir[Kde]=ir[Yde]=ir[Jde]=ir[Zde]=ir[Qde]=ir[ehe]=ir[the]=!1;function hhe(t){return Vde(t)&&jde(t.length)&&!!ir[Ude(t)]}var phe=hhe;function mhe(t){return function(e){return t(e)}}var vU=mhe,Y_={exports:{}};Y_.exports;(function(t,e){var r=TB,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(Y_,Y_.exports);var ghe=Y_.exports,vhe=phe,yhe=vU,DR=ghe,FR=DR&&DR.isTypedArray,xhe=FR?yhe(FR):vhe,yU=xhe,_he=Sde,whe=EI,bhe=zi,She=gU,Ahe=CI,The=yU,Ehe=Object.prototype,Che=Ehe.hasOwnProperty;function khe(t,e){var r=bhe(t),n=!r&&whe(t),i=!r&&!n&&She(t),a=!r&&!n&&!i&&The(t),s=r||n||i||a,o=s?_he(t.length,String):[],l=o.length;for(var c in t)(e||Che.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Ahe(c,l)))&&o.push(c);return o}var Phe=khe,Ihe=Object.prototype;function Ohe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Ihe;return t===r}var Mhe=Ohe;function Nhe(t,e){return function(r){return t(e(r))}}var xU=Nhe,Rhe=xU,Dhe=Rhe(Object.keys,Object),Fhe=Dhe,Lhe=Mhe,$he=Fhe,Bhe=Object.prototype,Uhe=Bhe.hasOwnProperty;function jhe(t){if(!Lhe(t))return $he(t);var e=[];for(var r in Object(t))Uhe.call(t,r)&&r!="constructor"&&e.push(r);return e}var Vhe=jhe,Hhe=cI,Whe=kI;function zhe(t){return t!=null&&Whe(t.length)&&!Hhe(t)}var Zy=zhe,Ghe=Phe,qhe=Vhe,Xhe=Zy;function Khe(t){return Xhe(t)?Ghe(t):qhe(t)}var oS=Khe,Yhe=fde,Jhe=wde,Zhe=oS;function Qhe(t){return Yhe(t,Zhe,Jhe)}var e0e=Qhe,LR=e0e,t0e=1,r0e=Object.prototype,n0e=r0e.hasOwnProperty;function i0e(t,e,r,n,i,a){var s=r&t0e,o=LR(t),l=o.length,c=LR(e),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var d=o[f];if(!(s?d in e:n0e.call(e,d)))return!1}var h=a.get(t),m=a.get(e);if(h&&m)return h==e&&m==t;var p=!0;a.set(t,e),a.set(e,t);for(var y=s;++f<l;){d=o[f];var _=t[d],b=e[d];if(n)var w=s?n(b,_,d,e,t,a):n(_,b,d,t,e,a);if(!(w===void 0?_===b||i(_,b,r,n,a):w)){p=!1;break}y||(y=d=="constructor")}if(p&&!y){var A=t.constructor,S=e.constructor;A!=S&&"constructor"in t&&"constructor"in e&&!(typeof A=="function"&&A instanceof A&&typeof S=="function"&&S instanceof S)&&(p=!1)}return a.delete(t),a.delete(e),p}var a0e=i0e,s0e=Td,o0e=To,l0e=s0e(o0e,"DataView"),c0e=l0e,u0e=Td,f0e=To,d0e=u0e(f0e,"Promise"),h0e=d0e,p0e=Td,m0e=To,g0e=p0e(m0e,"Set"),_U=g0e,v0e=Td,y0e=To,x0e=v0e(y0e,"WeakMap"),_0e=x0e,RE=c0e,DE=fI,FE=h0e,LE=_U,$E=_0e,wU=Ul,Ep=CB,$R="[object Map]",w0e="[object Object]",BR="[object Promise]",UR="[object Set]",jR="[object WeakMap]",VR="[object DataView]",b0e=Ep(RE),S0e=Ep(DE),A0e=Ep(FE),T0e=Ep(LE),E0e=Ep($E),Su=wU;(RE&&Su(new RE(new ArrayBuffer(1)))!=VR||DE&&Su(new DE)!=$R||FE&&Su(FE.resolve())!=BR||LE&&Su(new LE)!=UR||$E&&Su(new $E)!=jR)&&(Su=function(t){var e=wU(t),r=e==w0e?t.constructor:void 0,n=r?Ep(r):"";if(n)switch(n){case b0e:return VR;case S0e:return $R;case A0e:return BR;case T0e:return UR;case E0e:return jR}return e});var C0e=Su,FA=cU,k0e=hU,P0e=sde,I0e=a0e,HR=C0e,WR=zi,zR=gU,O0e=yU,M0e=1,GR="[object Arguments]",qR="[object Array]",jx="[object Object]",N0e=Object.prototype,XR=N0e.hasOwnProperty;function R0e(t,e,r,n,i,a){var s=WR(t),o=WR(e),l=s?qR:HR(t),c=o?qR:HR(e);l=l==GR?jx:l,c=c==GR?jx:c;var u=l==jx,f=c==jx,d=l==c;if(d&&zR(t)){if(!zR(e))return!1;s=!0,u=!1}if(d&&!u)return a||(a=new FA),s||O0e(t)?k0e(t,e,r,n,i,a):P0e(t,e,l,r,n,i,a);if(!(r&M0e)){var h=u&&XR.call(t,"__wrapped__"),m=f&&XR.call(e,"__wrapped__");if(h||m){var p=h?t.value():t,y=m?e.value():e;return a||(a=new FA),i(p,y,r,n,a)}}return d?(a||(a=new FA),I0e(t,e,r,n,i,a)):!1}var D0e=R0e,F0e=D0e,KR=jl;function bU(t,e,r,n,i){return t===e?!0:t==null||e==null||!KR(t)&&!KR(e)?t!==t&&e!==e:F0e(t,e,r,n,bU,i)}var PI=bU,L0e=cU,$0e=PI,B0e=1,U0e=2;function j0e(t,e,r,n){var i=r.length,a=i,s=!n;if(t==null)return!a;for(t=Object(t);i--;){var o=r[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=r[i];var l=o[0],c=t[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in t))return!1}else{var f=new L0e;if(n)var d=n(c,u,l,t,e,f);if(!(d===void 0?$0e(u,c,B0e|U0e,n,f):d))return!1}}return!0}var V0e=j0e,H0e=cu;function W0e(t){return t===t&&!H0e(t)}var SU=W0e,z0e=SU,G0e=oS;function q0e(t){for(var e=G0e(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,z0e(i)]}return e}var X0e=q0e;function K0e(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var AU=K0e,Y0e=V0e,J0e=X0e,Z0e=AU;function Q0e(t){var e=J0e(t);return e.length==1&&e[0][2]?Z0e(e[0][0],e[0][1]):function(r){return r===t||Y0e(r,t,e)}}var epe=Q0e;function tpe(t,e){return t!=null&&e in Object(t)}var rpe=tpe,npe=MB,ipe=EI,ape=zi,spe=CI,ope=kI,lpe=Gb;function cpe(t,e,r){e=npe(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var s=lpe(e[n]);if(!(a=t!=null&&r(t,s)))break;t=t[s]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&ope(i)&&spe(s,i)&&(ape(t)||ipe(t)))}var upe=cpe,fpe=rpe,dpe=upe;function hpe(t,e){return t!=null&&dpe(t,e,fpe)}var ppe=hpe,mpe=PI,gpe=NB,vpe=ppe,ype=lI,xpe=SU,_pe=AU,wpe=Gb,bpe=1,Spe=2;function Ape(t,e){return ype(t)&&xpe(e)?_pe(wpe(t),e):function(r){var n=gpe(r,t);return n===void 0&&n===e?vpe(r,t):mpe(e,n,bpe|Spe)}}var Tpe=Ape;function Epe(t){return t}var Cp=Epe;function Cpe(t){return function(e){return e==null?void 0:e[t]}}var kpe=Cpe,Ppe=mI;function Ipe(t){return function(e){return Ppe(e,t)}}var Ope=Ipe,Mpe=kpe,Npe=Ope,Rpe=lI,Dpe=Gb;function Fpe(t){return Rpe(t)?Mpe(Dpe(t)):Npe(t)}var Lpe=Fpe,$pe=epe,Bpe=Tpe,Upe=Cp,jpe=zi,Vpe=Lpe;function Hpe(t){return typeof t=="function"?t:t==null?Upe:typeof t=="object"?jpe(t)?Bpe(t[0],t[1]):$pe(t):Vpe(t)}var uu=Hpe;function Wpe(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var TU=Wpe;function zpe(t){return t!==t}var Gpe=zpe;function qpe(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var Xpe=qpe,Kpe=TU,Ype=Gpe,Jpe=Xpe;function Zpe(t,e,r){return e===e?Jpe(t,e,r):Kpe(t,Ype,r)}var Qpe=Zpe,eme=Qpe;function tme(t,e){var r=t==null?0:t.length;return!!r&&eme(t,e,0)>-1}var rme=tme;function nme(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var ime=nme;function ame(){}var sme=ame,LA=_U,ome=sme,lme=TI,cme=1/0,ume=LA&&1/lme(new LA([,-0]))[1]==cme?function(t){return new LA(t)}:ome,fme=ume,dme=uU,hme=rme,pme=ime,mme=dU,gme=fme,vme=TI,yme=200;function xme(t,e,r){var n=-1,i=hme,a=t.length,s=!0,o=[],l=o;if(r)s=!1,i=pme;else if(a>=yme){var c=e?null:gme(t);if(c)return vme(c);s=!1,i=mme,l=new dme}else l=e?[]:o;e:for(;++n<a;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,s&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),o.push(u)}else i(l,f,r)||(l!==o&&l.push(f),o.push(u))}return o}var _me=xme,wme=uu,bme=_me;function Sme(t,e){return t&&t.length?bme(t,wme(e)):[]}var Ame=Sme;const YR=Jt(Ame);function EU(t,e,r){return e===!0?YR(t,r):mt(e)?YR(t,e):t}function U0(t){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U0(t)}var Tme=["ref"];function JR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ko(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JR(Object(r),!0).forEach(function(n){lS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kU(n.key),n)}}function Cme(t,e,r){return e&&ZR(t.prototype,e),r&&ZR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function kme(t,e,r){return e=J_(e),Pme(t,CU()?Reflect.construct(e,r||[],J_(t).constructor):e.apply(t,r))}function Pme(t,e){if(e&&(U0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ime(t)}function Ime(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CU=function(){return!!t})()}function J_(t){return J_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},J_(t)}function Ome(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BE(t,e)}function BE(t,e){return BE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},BE(t,e)}function lS(t,e,r){return e=kU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kU(t){var e=Mme(t,"string");return U0(e)=="symbol"?e:e+""}function Mme(t,e){if(U0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(U0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Nme(t,e){if(t==null)return{};var r=Rme(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Dme(t){return t.value}function Fme(t,e){if(re.isValidElement(t))return re.cloneElement(t,e);if(typeof t=="function")return re.createElement(t,e);e.ref;var r=Nme(e,Tme);return re.createElement(AI,r)}var QR=1,xl=function(t){function e(){var r;Eme(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=kme(this,e,[].concat(i)),lS(r,"lastBoundingBox",{width:-1,height:-1}),r}return Ome(e,t),Cme(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>QR||Math.abs(i.height-this.lastBoundingBox.height)>QR)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ko({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,d;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var h=this.getBBoxSnapshot();f={left:((c||0)-h.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var m=this.getBBoxSnapshot();d={top:((u||0)-m.height)/2}}else d=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ko(ko({},f),d)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=ko(ko({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return re.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},Fme(a,ko(ko({},this.props),{},{payload:EU(u,c,Dme)})))}}],[{key:"getWithHeight",value:function(n,i){var a=ko(ko({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&Pe(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(ae.PureComponent);lS(xl,"displayName","Legend");lS(xl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var eD=Ky,Lme=EI,$me=zi,tD=eD?eD.isConcatSpreadable:void 0;function Bme(t){return $me(t)||Lme(t)||!!(tD&&t&&t[tD])}var Ume=Bme,jme=pU,Vme=Ume;function PU(t,e,r,n,i){var a=-1,s=t.length;for(r||(r=Vme),i||(i=[]);++a<s;){var o=t[a];e>0&&r(o)?e>1?PU(o,e-1,r,n,i):jme(i,o):n||(i[i.length]=o)}return i}var IU=PU;function Hme(t){return function(e,r,n){for(var i=-1,a=Object(e),s=n(e),o=s.length;o--;){var l=s[t?o:++i];if(r(a[l],l,a)===!1)break}return e}}var Wme=Hme,zme=Wme,Gme=zme(),qme=Gme,Xme=qme,Kme=oS;function Yme(t,e){return t&&Xme(t,e,Kme)}var OU=Yme,Jme=Zy;function Zme(t,e){return function(r,n){if(r==null)return r;if(!Jme(r))return t(r,n);for(var i=r.length,a=e?i:-1,s=Object(r);(e?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var Qme=Zme,ege=OU,tge=Qme,rge=tge(ege),II=rge,nge=II,ige=Zy;function age(t,e){var r=-1,n=ige(t)?Array(t.length):[];return nge(t,function(i,a,s){n[++r]=e(i,a,s)}),n}var MU=age;function sge(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var oge=sge,rD=_p;function lge(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=rD(t),s=e!==void 0,o=e===null,l=e===e,c=rD(e);if(!o&&!c&&!a&&t>e||a&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!i)return 1;if(!n&&!a&&!c&&t<e||c&&r&&i&&!n&&!a||o&&r&&i||!s&&i||!l)return-1}return 0}var cge=lge,uge=cge;function fge(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,s=i.length,o=r.length;++n<s;){var l=uge(i[n],a[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return t.index-e.index}var dge=fge,$A=pI,hge=mI,pge=uu,mge=MU,gge=oge,vge=vU,yge=dge,xge=Cp,_ge=zi;function wge(t,e,r){e.length?e=$A(e,function(a){return _ge(a)?function(s){return hge(s,a.length===1?a[0]:a)}:a}):e=[xge];var n=-1;e=$A(e,vge(pge));var i=mge(t,function(a,s,o){var l=$A(e,function(c){return c(a)});return{criteria:l,index:++n,value:a}});return gge(i,function(a,s){return yge(a,s,r)})}var bge=wge;function Sge(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var Age=Sge,Tge=Age,nD=Math.max;function Ege(t,e,r){return e=nD(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=nD(n.length-e,0),s=Array(a);++i<a;)s[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(s),Tge(t,this,o)}}var Cge=Ege;function kge(t){return function(){return t}}var Pge=kge,Ige=Td,Oge=function(){try{var t=Ige(Object,"defineProperty");return t({},"",{}),t}catch{}}(),NU=Oge,Mge=Pge,iD=NU,Nge=Cp,Rge=iD?function(t,e){return iD(t,"toString",{configurable:!0,enumerable:!1,value:Mge(e),writable:!0})}:Nge,Dge=Rge,Fge=800,Lge=16,$ge=Date.now;function Bge(t){var e=0,r=0;return function(){var n=$ge(),i=Lge-(n-r);if(r=n,i>0){if(++e>=Fge)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Uge=Bge,jge=Dge,Vge=Uge,Hge=Vge(jge),Wge=Hge,zge=Cp,Gge=Cge,qge=Wge;function Xge(t,e){return qge(Gge(t,e,zge),t+"")}var Kge=Xge,Yge=uI,Jge=Zy,Zge=CI,Qge=cu;function eve(t,e,r){if(!Qge(r))return!1;var n=typeof e;return(n=="number"?Jge(r)&&Zge(e,r.length):n=="string"&&e in r)?Yge(r[e],t):!1}var cS=eve,tve=IU,rve=bge,nve=Kge,aD=cS,ive=nve(function(t,e){if(t==null)return[];var r=e.length;return r>1&&aD(t,e[0],e[1])?e=[]:r>2&&aD(e[0],e[1],e[2])&&(e=[e[0]]),rve(t,tve(e,1),[])}),ave=ive;const OI=Jt(ave);function Bg(t){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bg(t)}function UE(){return UE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UE.apply(this,arguments)}function sve(t,e){return uve(t)||cve(t,e)||lve(t,e)||ove()}function ove(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lve(t,e){if(t){if(typeof t=="string")return sD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sD(t,e)}}function sD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function uve(t){if(Array.isArray(t))return t}function oD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function BA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oD(Object(r),!0).forEach(function(n){fve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fve(t,e,r){return e=dve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dve(t){var e=hve(t,"string");return Bg(e)=="symbol"?e:e+""}function hve(t,e){if(Bg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pve(t){return Array.isArray(t)&&pn(t[0])&&pn(t[1])?t.join(" ~ "):t}var mve=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,f=e.formatter,d=e.itemSorter,h=e.wrapperClassName,m=e.labelClassName,p=e.label,y=e.labelFormatter,_=e.accessibilityLayer,b=_===void 0?!1:_,w=function(){if(u&&u.length){var N={padding:0,margin:0},U=(d?OI(u,d):u).map(function(X,G){if(X.type==="none")return null;var Q=BA({display:"block",paddingTop:4,paddingBottom:4,color:X.color||"#000"},o),J=X.formatter||f||pve,ee=X.value,V=X.name,ne=ee,se=V;if(J&&ne!=null&&se!=null){var R=J(ee,V,X,G,u);if(Array.isArray(R)){var W=sve(R,2);ne=W[0],se=W[1]}else ne=R}return re.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:Q},pn(se)?re.createElement("span",{className:"recharts-tooltip-item-name"},se):null,pn(se)?re.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,re.createElement("span",{className:"recharts-tooltip-item-value"},ne),re.createElement("span",{className:"recharts-tooltip-item-unit"},X.unit||""))});return re.createElement("ul",{className:"recharts-tooltip-item-list",style:N},U)}return null},A=BA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=BA({margin:0},c),T=!_t(p),E=T?p:"",P=Pt("recharts-default-tooltip",h),k=Pt("recharts-tooltip-label",m);T&&y&&u!==void 0&&u!==null&&(E=y(p,u));var D=b?{role:"status","aria-live":"assertive"}:{};return re.createElement("div",UE({className:P,style:A},D),re.createElement("p",{className:k,style:S},re.isValidElement(E)?E:"".concat(E)),w())};function Ug(t){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ug(t)}function Vx(t,e,r){return e=gve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gve(t){var e=vve(t,"string");return Ug(e)=="symbol"?e:e+""}function vve(t,e){if(Ug(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qp="recharts-tooltip-wrapper",yve={visibility:"hidden"};function xve(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Pt(qp,Vx(Vx(Vx(Vx({},"".concat(qp,"-right"),Pe(r)&&e&&Pe(e.x)&&r>=e.x),"".concat(qp,"-left"),Pe(r)&&e&&Pe(e.x)&&r<e.x),"".concat(qp,"-bottom"),Pe(n)&&e&&Pe(e.y)&&n>=e.y),"".concat(qp,"-top"),Pe(n)&&e&&Pe(e.y)&&n<e.y))}function lD(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&Pe(a[n]))return a[n];var u=r[n]-o-i,f=r[n]+i;if(e[n])return s[n]?u:f;if(s[n]){var d=u,h=l[n];return d<h?Math.max(f,l[n]):Math.max(u,l[n])}var m=f+o,p=l[n]+c;return m>p?Math.max(u,l[n]):Math.max(f,l[n])}function _ve(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function wve(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,u,f;return s.height>0&&s.width>0&&r?(u=lD({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=lD({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=_ve({translateX:u,translateY:f,useTranslate3d:o})):c=yve,{cssProperties:c,cssClasses:xve({translateX:u,translateY:f,coordinate:r})}}function j0(t){"@babel/helpers - typeof";return j0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j0(t)}function cD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cD(Object(r),!0).forEach(function(n){VE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DU(n.key),n)}}function Ave(t,e,r){return e&&Sve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tve(t,e,r){return e=Z_(e),Eve(t,RU()?Reflect.construct(e,r||[],Z_(t).constructor):e.apply(t,r))}function Eve(t,e){if(e&&(j0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cve(t)}function Cve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RU=function(){return!!t})()}function Z_(t){return Z_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Z_(t)}function kve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jE(t,e)}function jE(t,e){return jE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jE(t,e)}function VE(t,e,r){return e=DU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DU(t){var e=Pve(t,"string");return j0(e)=="symbol"?e:e+""}function Pve(t,e){if(j0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(j0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fD=1,Ive=function(t){function e(){var r;bve(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Tve(this,e,[].concat(i)),VE(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),VE(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return kve(e,t),Ave(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>fD||Math.abs(n.height-this.state.lastBoundingBox.height)>fD)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,h=i.offset,m=i.position,p=i.reverseDirection,y=i.useTranslate3d,_=i.viewBox,b=i.wrapperStyle,w=wve({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:h,position:m,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:_}),A=w.cssClasses,S=w.cssProperties,T=uD(uD({transition:d&&a?"transform ".concat(o,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return re.createElement("div",{tabIndex:-1,className:A,style:T,ref:function(P){n.wrapperNode=P}},c)}}])}(ae.PureComponent),Ove=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},kp={isSsr:Ove()};function V0(t){"@babel/helpers - typeof";return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V0(t)}function dD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dD(Object(r),!0).forEach(function(n){MI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LU(n.key),n)}}function Rve(t,e,r){return e&&Nve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dve(t,e,r){return e=Q_(e),Fve(t,FU()?Reflect.construct(e,r||[],Q_(t).constructor):e.apply(t,r))}function Fve(t,e){if(e&&(V0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lve(t)}function Lve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FU=function(){return!!t})()}function Q_(t){return Q_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Q_(t)}function $ve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HE(t,e)}function HE(t,e){return HE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},HE(t,e)}function MI(t,e,r){return e=LU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LU(t){var e=Bve(t,"string");return V0(e)=="symbol"?e:e+""}function Bve(t,e){if(V0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(V0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Uve(t){return t.dataKey}function jve(t,e){return re.isValidElement(t)?re.cloneElement(t,e):typeof t=="function"?re.createElement(t,e):re.createElement(mve,e)}var Da=function(t){function e(){return Mve(this,e),Dve(this,e,arguments)}return $ve(e,t),Rve(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,d=i.isAnimationActive,h=i.offset,m=i.payload,p=i.payloadUniqBy,y=i.position,_=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,A=i.wrapperStyle,S=m??[];f&&S.length&&(S=EU(m.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),p,Uve));var T=S.length>0;return re.createElement(Ive,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:d,active:a,coordinate:u,hasPayload:T,offset:h,position:y,reverseDirection:_,useTranslate3d:b,viewBox:w,wrapperStyle:A},jve(c,hD(hD({},this.props),{},{payload:S})))}}])}(ae.PureComponent);MI(Da,"displayName","Tooltip");MI(Da,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!kp.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Vve=To,Hve=function(){return Vve.Date.now()},Wve=Hve,zve=/\s/;function Gve(t){for(var e=t.length;e--&&zve.test(t.charAt(e)););return e}var qve=Gve,Xve=qve,Kve=/^\s+/;function Yve(t){return t&&t.slice(0,Xve(t)+1).replace(Kve,"")}var Jve=Yve,Zve=Jve,pD=cu,Qve=_p,mD=NaN,eye=/^[-+]0x[0-9a-f]+$/i,tye=/^0b[01]+$/i,rye=/^0o[0-7]+$/i,nye=parseInt;function iye(t){if(typeof t=="number")return t;if(Qve(t))return mD;if(pD(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=pD(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Zve(t);var r=tye.test(t);return r||rye.test(t)?nye(t.slice(2),r?2:8):eye.test(t)?mD:+t}var $U=iye,aye=cu,UA=Wve,gD=$U,sye="Expected a function",oye=Math.max,lye=Math.min;function cye(t,e,r){var n,i,a,s,o,l,c=0,u=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(sye);e=gD(e)||0,aye(r)&&(u=!!r.leading,f="maxWait"in r,a=f?oye(gD(r.maxWait)||0,e):a,d="trailing"in r?!!r.trailing:d);function h(T){var E=n,P=i;return n=i=void 0,c=T,s=t.apply(P,E),s}function m(T){return c=T,o=setTimeout(_,e),u?h(T):s}function p(T){var E=T-l,P=T-c,k=e-E;return f?lye(k,a-P):k}function y(T){var E=T-l,P=T-c;return l===void 0||E>=e||E<0||f&&P>=a}function _(){var T=UA();if(y(T))return b(T);o=setTimeout(_,p(T))}function b(T){return o=void 0,d&&n?h(T):(n=i=void 0,s)}function w(){o!==void 0&&clearTimeout(o),c=0,n=l=i=o=void 0}function A(){return o===void 0?s:b(UA())}function S(){var T=UA(),E=y(T);if(n=arguments,i=this,l=T,E){if(o===void 0)return m(l);if(f)return clearTimeout(o),o=setTimeout(_,e),h(l)}return o===void 0&&(o=setTimeout(_,e)),s}return S.cancel=w,S.flush=A,S}var uye=cye,fye=uye,dye=cu,hye="Expected a function";function pye(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(hye);return dye(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),fye(t,e,{leading:n,maxWait:e,trailing:i})}var mye=pye;const BU=Jt(mye);function jg(t){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(t)}function vD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vD(Object(r),!0).forEach(function(n){gye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gye(t,e,r){return e=vye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vye(t){var e=yye(t,"string");return jg(e)=="symbol"?e:e+""}function yye(t,e){if(jg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xye(t,e){return Sye(t)||bye(t,e)||wye(t,e)||_ye()}function _ye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wye(t,e){if(t){if(typeof t=="string")return yD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yD(t,e)}}function yD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Sye(t){if(Array.isArray(t))return t}var UU=ae.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,u=c===void 0?0:c,f=t.minHeight,d=t.maxHeight,h=t.children,m=t.debounce,p=m===void 0?0:m,y=t.id,_=t.className,b=t.onResize,w=t.style,A=w===void 0?{}:w,S=ae.useRef(null),T=ae.useRef();T.current=b,ae.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var E=ae.useState({containerWidth:i.width,containerHeight:i.height}),P=xye(E,2),k=P[0],D=P[1],I=ae.useCallback(function(U,X){D(function(G){var Q=Math.round(U),J=Math.round(X);return G.containerWidth===Q&&G.containerHeight===J?G:{containerWidth:Q,containerHeight:J}})},[]);ae.useEffect(function(){var U=function(V){var ne,se=V[0].contentRect,R=se.width,W=se.height;I(R,W),(ne=T.current)===null||ne===void 0||ne.call(T,R,W)};p>0&&(U=BU(U,p,{trailing:!0,leading:!1}));var X=new ResizeObserver(U),G=S.current.getBoundingClientRect(),Q=G.width,J=G.height;return I(Q,J),X.observe(S.current),function(){X.disconnect()}},[I,p]);var N=ae.useMemo(function(){var U=k.containerWidth,X=k.containerHeight;if(U<0||X<0)return null;yl(Fu(s)||Fu(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),yl(!r||r>0,"The aspect(%s) must be greater than zero.",r);var G=Fu(s)?U:s,Q=Fu(l)?X:l;r&&r>0&&(G?Q=G/r:Q&&(G=Q*r),d&&Q>d&&(Q=d)),yl(G>0||Q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,Q,s,l,u,f,r);var J=!Array.isArray(h)&&vl(h.type).endsWith("Chart");return re.Children.map(h,function(ee){return re.isValidElement(ee)?ae.cloneElement(ee,Hx({width:G,height:Q},J?{style:Hx({height:"100%",width:"100%",maxHeight:Q,maxWidth:G},ee.props.style)}:{})):ee})},[r,h,l,d,f,u,k,s]);return re.createElement("div",{id:y?"".concat(y):void 0,className:Pt("recharts-responsive-container",_),style:Hx(Hx({},A),{},{width:s,height:l,minWidth:u,minHeight:f,maxHeight:d}),ref:S},N)}),jU=function(e){return null};jU.displayName="Cell";function Vg(t){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vg(t)}function xD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xD(Object(r),!0).forEach(function(n){Aye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Aye(t,e,r){return e=Tye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tye(t){var e=Eye(t,"string");return Vg(e)=="symbol"?e:e+""}function Eye(t,e){if(Vg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fd={widthCache:{},cacheCount:0},Cye=2e3,kye={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_D="recharts_measurement_span";function Pye(t){var e=WE({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Km=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||kp.isSsr)return{width:0,height:0};var n=Pye(r),i=JSON.stringify({text:e,copyStyle:n});if(Fd.widthCache[i])return Fd.widthCache[i];try{var a=document.getElementById(_D);a||(a=document.createElement("span"),a.setAttribute("id",_D),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=WE(WE({},kye),n);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return Fd.widthCache[i]=l,++Fd.cacheCount>Cye&&(Fd.cacheCount=0,Fd.widthCache={}),l}catch{return{width:0,height:0}}},Iye=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Hg(t){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hg(t)}function ew(t,e){return Rye(t)||Nye(t,e)||Mye(t,e)||Oye()}function Oye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mye(t,e){if(t){if(typeof t=="string")return wD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wD(t,e)}}function wD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Nye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Rye(t){if(Array.isArray(t))return t}function Dye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Lye(n.key),n)}}function Fye(t,e,r){return e&&bD(t.prototype,e),r&&bD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lye(t){var e=$ye(t,"string");return Hg(e)=="symbol"?e:e+""}function $ye(t,e){if(Hg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var SD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,AD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Bye=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Uye=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,VU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},jye=Object.keys(VU),uh="NaN";function Vye(t,e){return t*VU[e]}var Wx=function(){function t(e,r){Dye(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!Bye.test(r)&&(this.num=NaN,this.unit=""),jye.includes(r)&&(this.num=Vye(e,r),this.unit="px")}return Fye(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Uye.exec(r))!==null&&n!==void 0?n:[],a=ew(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function HU(t){if(t.includes(uh))return uh;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=SD.exec(e))!==null&&r!==void 0?r:[],i=ew(n,4),a=i[1],s=i[2],o=i[3],l=Wx.parse(a??""),c=Wx.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return uh;e=e.replace(SD,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,d=(f=AD.exec(e))!==null&&f!==void 0?f:[],h=ew(d,4),m=h[1],p=h[2],y=h[3],_=Wx.parse(m??""),b=Wx.parse(y??""),w=p==="+"?_.add(b):_.subtract(b);if(w.isNaN())return uh;e=e.replace(AD,w.toString())}return e}var TD=/\(([^()]*)\)/;function Hye(t){for(var e=t;e.includes("(");){var r=TD.exec(e),n=ew(r,2),i=n[1];e=e.replace(TD,HU(i))}return e}function Wye(t){var e=t.replace(/\s+/g,"");return e=Hye(e),e=HU(e),e}function zye(t){try{return Wye(t)}catch{return uh}}function jA(t){var e=zye(t.slice(5,-1));return e===uh?"":e}var Gye=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],qye=["dx","dy","angle","className","breakAll"];function zE(){return zE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zE.apply(this,arguments)}function ED(t,e){if(t==null)return{};var r=Xye(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Xye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function CD(t,e){return Zye(t)||Jye(t,e)||Yye(t,e)||Kye()}function Kye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yye(t,e){if(t){if(typeof t=="string")return kD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kD(t,e)}}function kD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Jye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Zye(t){if(Array.isArray(t))return t}var WU=/[ \f\n\r\t\v\u2028\u2029]+/,zU=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];_t(r)||(n?a=r.toString().split(""):a=r.toString().split(WU));var s=a.map(function(l){return{word:l,width:Km(l,i).width}}),o=n?0:Km("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},Qye=function(e,r,n,i,a){var s=e.maxLines,o=e.children,l=e.style,c=e.breakAll,u=Pe(s),f=o,d=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(Q,J){var ee=J.word,V=J.width,ne=Q[Q.length-1];if(ne&&(i==null||a||ne.width+V+n<Number(i)))ne.words.push(ee),ne.width+=V+n;else{var se={words:[ee],width:V};Q.push(se)}return Q},[])},h=d(r),m=function(G){return G.reduce(function(Q,J){return Q.width>J.width?Q:J})};if(!u)return h;for(var p="",y=function(G){var Q=f.slice(0,G),J=zU({breakAll:c,style:l,children:Q+p}).wordsWithComputedWidth,ee=d(J),V=ee.length>s||m(ee).width>Number(i);return[V,ee]},_=0,b=f.length-1,w=0,A;_<=b&&w<=f.length-1;){var S=Math.floor((_+b)/2),T=S-1,E=y(T),P=CD(E,2),k=P[0],D=P[1],I=y(S),N=CD(I,1),U=N[0];if(!k&&!U&&(_=S+1),k&&U&&(b=S-1),!k&&U){A=D;break}w++}return A||h},PD=function(e){var r=_t(e)?[]:e.toString().split(WU);return[{words:r}]},exe=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((r||n)&&!kp.isSsr){var l,c,u=zU({breakAll:s,children:i,style:a});if(u){var f=u.wordsWithComputedWidth,d=u.spaceWidth;l=f,c=d}else return PD(i);return Qye({breakAll:s,children:i,maxLines:o,style:a},l,c,r,n)}return PD(i)},ID="#808080",tw=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,f=u===void 0?!1:u,d=e.textAnchor,h=d===void 0?"start":d,m=e.verticalAnchor,p=m===void 0?"end":m,y=e.fill,_=y===void 0?ID:y,b=ED(e,Gye),w=ae.useMemo(function(){return exe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),A=b.dx,S=b.dy,T=b.angle,E=b.className,P=b.breakAll,k=ED(b,qye);if(!pn(n)||!pn(a))return null;var D=n+(Pe(A)?A:0),I=a+(Pe(S)?S:0),N;switch(p){case"start":N=jA("calc(".concat(c,")"));break;case"middle":N=jA("calc(".concat((w.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:N=jA("calc(".concat(w.length-1," * -").concat(o,")"));break}var U=[];if(f){var X=w[0].width,G=b.width;U.push("scale(".concat((Pe(G)?G/X:1)/X,")"))}return T&&U.push("rotate(".concat(T,", ").concat(D,", ").concat(I,")")),U.length&&(k.transform=U.join(" ")),re.createElement("text",zE({},Tt(k,!0),{x:D,y:I,className:Pt("recharts-text",E),textAnchor:h,fill:_.includes("url")?ID:_}),w.map(function(Q,J){var ee=Q.words.join(P?"":" ");return re.createElement("tspan",{x:D,dy:J===0?N:o,key:"".concat(ee,"-").concat(J)},ee)}))};function Vc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function txe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function NI(t){let e,r,n;t.length!==2?(e=Vc,r=(o,l)=>Vc(t(o),l),n=(o,l)=>t(o)-l):(e=t===Vc||t===txe?t:rxe,r=t,n=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=i(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function rxe(){return 0}function GU(t){return t===null?NaN:+t}function*nxe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const ixe=NI(Vc),Qy=ixe.right;NI(GU).center;class OD extends Map{constructor(e,r=oxe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(MD(this,e))}has(e){return super.has(MD(this,e))}set(e,r){return super.set(axe(this,e),r)}delete(e){return super.delete(sxe(this,e))}}function MD({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function axe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function sxe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function oxe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function lxe(t=Vc){if(t===Vc)return qU;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function qU(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const cxe=Math.sqrt(50),uxe=Math.sqrt(10),fxe=Math.sqrt(2);function rw(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=cxe?10:a>=uxe?5:a>=fxe?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=r&&r<2?rw(t,e,r*2):[o,l,c]}function GE(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?rw(e,t,r):rw(t,e,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function qE(t,e,r){return e=+e,t=+t,r=+r,rw(t,e,r)[2]}function XE(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?qE(e,t,r):qE(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function ND(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function RD(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function XU(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?qU:lxe(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),h=Math.max(r,Math.floor(e-c*f/l+d)),m=Math.min(n,Math.floor(e+(l-c)*f/l+d));XU(t,e,h,m,i)}const a=t[e];let s=r,o=n;for(Xp(t,r,e),i(t[n],a)>0&&Xp(t,r,n);s<o;){for(Xp(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[r],a)===0?Xp(t,r,o):(++o,Xp(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function Xp(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function dxe(t,e,r){if(t=Float64Array.from(nxe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return RD(t);if(e>=1)return ND(t);var n,i=(n-1)*e,a=Math.floor(i),s=ND(XU(t,a).subarray(0,a+1)),o=RD(t.subarray(a+1));return s+(o-s)*(i-a)}}function hxe(t,e,r=GU){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),o=+r(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function pxe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function es(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Vl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const KE=Symbol("implicit");function RI(){var t=new OD,e=[],r=[],n=KE;function i(a){let s=t.get(a);if(s===void 0){if(n!==KE)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new OD;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return RI(e,r).unknown(n)},es.apply(i,arguments),i}function Wg(){var t=RI().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,o=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var d=e().length,h=i<n,m=h?i:n,p=h?n:i;a=(p-m)/Math.max(1,d-l+c*2),o&&(a=Math.floor(a)),m+=(p-m-a*(d-l))*u,s=a*(1-l),o&&(m=Math.round(m),s=Math.round(s));var y=pxe(d).map(function(_){return m+a*_});return r(h?y.reverse():y)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([n,i]=d,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(d){return[n,i]=d,n=+n,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(d){return arguments.length?(o=!!d,f()):o},t.padding=function(d){return arguments.length?(l=Math.min(1,c=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(c=+d,f()):c},t.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),f()):u},t.copy=function(){return Wg(e(),[n,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},es.apply(f(),arguments)}function KU(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return KU(e())},t}function Ym(){return KU(Wg.apply(null,arguments).paddingInner(1))}function DI(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function YU(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function ex(){}var zg=.7,nw=1/zg,Eh="\\s*([+-]?\\d+)\\s*",Gg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mxe=/^#([0-9a-f]{3,8})$/,gxe=new RegExp(`^rgb\\(${Eh},${Eh},${Eh}\\)$`),vxe=new RegExp(`^rgb\\(${yo},${yo},${yo}\\)$`),yxe=new RegExp(`^rgba\\(${Eh},${Eh},${Eh},${Gg}\\)$`),xxe=new RegExp(`^rgba\\(${yo},${yo},${yo},${Gg}\\)$`),_xe=new RegExp(`^hsl\\(${Gg},${yo},${yo}\\)$`),wxe=new RegExp(`^hsla\\(${Gg},${yo},${yo},${Gg}\\)$`),DD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};DI(ex,qg,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:FD,formatHex:FD,formatHex8:bxe,formatHsl:Sxe,formatRgb:LD,toString:LD});function FD(){return this.rgb().formatHex()}function bxe(){return this.rgb().formatHex8()}function Sxe(){return JU(this).formatHsl()}function LD(){return this.rgb().formatRgb()}function qg(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=mxe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?$D(e):r===3?new Li(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?zx(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?zx(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=gxe.exec(t))?new Li(e[1],e[2],e[3],1):(e=vxe.exec(t))?new Li(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=yxe.exec(t))?zx(e[1],e[2],e[3],e[4]):(e=xxe.exec(t))?zx(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=_xe.exec(t))?jD(e[1],e[2]/100,e[3]/100,1):(e=wxe.exec(t))?jD(e[1],e[2]/100,e[3]/100,e[4]):DD.hasOwnProperty(t)?$D(DD[t]):t==="transparent"?new Li(NaN,NaN,NaN,0):null}function $D(t){return new Li(t>>16&255,t>>8&255,t&255,1)}function zx(t,e,r,n){return n<=0&&(t=e=r=NaN),new Li(t,e,r,n)}function Axe(t){return t instanceof ex||(t=qg(t)),t?(t=t.rgb(),new Li(t.r,t.g,t.b,t.opacity)):new Li}function YE(t,e,r,n){return arguments.length===1?Axe(t):new Li(t,e,r,n??1)}function Li(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}DI(Li,YE,YU(ex,{brighter(t){return t=t==null?nw:Math.pow(nw,t),new Li(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?zg:Math.pow(zg,t),new Li(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Li(Wf(this.r),Wf(this.g),Wf(this.b),iw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:BD,formatHex:BD,formatHex8:Txe,formatRgb:UD,toString:UD}));function BD(){return`#${Lu(this.r)}${Lu(this.g)}${Lu(this.b)}`}function Txe(){return`#${Lu(this.r)}${Lu(this.g)}${Lu(this.b)}${Lu((isNaN(this.opacity)?1:this.opacity)*255)}`}function UD(){const t=iw(this.opacity);return`${t===1?"rgb(":"rgba("}${Wf(this.r)}, ${Wf(this.g)}, ${Wf(this.b)}${t===1?")":`, ${t})`}`}function iw(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Wf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Lu(t){return t=Wf(t),(t<16?"0":"")+t.toString(16)}function jD(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Es(t,e,r,n)}function JU(t){if(t instanceof Es)return new Es(t.h,t.s,t.l,t.opacity);if(t instanceof ex||(t=qg(t)),!t)return new Es;if(t instanceof Es)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-e)/o+2:s=(e-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Es(s,o,l,t.opacity)}function Exe(t,e,r,n){return arguments.length===1?JU(t):new Es(t,e,r,n??1)}function Es(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}DI(Es,Exe,YU(ex,{brighter(t){return t=t==null?nw:Math.pow(nw,t),new Es(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?zg:Math.pow(zg,t),new Es(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Li(VA(t>=240?t-240:t+120,i,n),VA(t,i,n),VA(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Es(VD(this.h),Gx(this.s),Gx(this.l),iw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=iw(this.opacity);return`${t===1?"hsl(":"hsla("}${VD(this.h)}, ${Gx(this.s)*100}%, ${Gx(this.l)*100}%${t===1?")":`, ${t})`}`}}));function VD(t){return t=(t||0)%360,t<0?t+360:t}function Gx(t){return Math.max(0,Math.min(1,t||0))}function VA(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const FI=t=>()=>t;function Cxe(t,e){return function(r){return t+r*e}}function kxe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Pxe(t){return(t=+t)==1?ZU:function(e,r){return r-e?kxe(e,r,t):FI(isNaN(e)?r:e)}}function ZU(t,e){var r=e-t;return r?Cxe(t,r):FI(isNaN(t)?e:t)}const HD=function t(e){var r=Pxe(e);function n(i,a){var s=r((i=YE(i)).r,(a=YE(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),c=ZU(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=t,n}(1);function Ixe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function Oxe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Mxe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Pp(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function Nxe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function aw(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Rxe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Pp(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var JE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,HA=new RegExp(JE.source,"g");function Dxe(t){return function(){return t}}function Fxe(t){return function(e){return t(e)+""}}function Lxe(t,e){var r=JE.lastIndex=HA.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(n=JE.exec(t))&&(i=HA.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:aw(n,i)})),r=HA.lastIndex;return r<e.length&&(a=e.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?Fxe(l[0].x):Dxe(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function Pp(t,e){var r=typeof e,n;return e==null||r==="boolean"?FI(e):(r==="number"?aw:r==="string"?(n=qg(e))?(e=n,HD):Lxe:e instanceof qg?HD:e instanceof Date?Nxe:Oxe(e)?Ixe:Array.isArray(e)?Mxe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Rxe:aw)(t,e)}function LI(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function $xe(t,e){e===void 0&&(e=t,t=Pp);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function Bxe(t){return function(){return t}}function sw(t){return+t}var WD=[0,1];function xi(t){return t}function ZE(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Bxe(isNaN(e)?NaN:.5)}function Uxe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function jxe(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=ZE(i,n),a=r(s,a)):(n=ZE(n,i),a=r(a,s)),function(o){return a(n(o))}}function Vxe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=ZE(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(o){var l=Qy(t,o,1,n)-1;return a[l](i[l](o))}}function tx(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function uS(){var t=WD,e=WD,r=Pp,n,i,a,s=xi,o,l,c;function u(){var d=Math.min(t.length,e.length);return s!==xi&&(s=Uxe(t[0],t[d-1])),o=d>2?Vxe:jxe,l=c=null,f}function f(d){return d==null||isNaN(d=+d)?a:(l||(l=o(t.map(n),e,r)))(n(s(d)))}return f.invert=function(d){return s(i((c||(c=o(e,t.map(n),aw)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,sw),u()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),u()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),r=LI,u()},f.clamp=function(d){return arguments.length?(s=d?!0:xi,u()):s!==xi},f.interpolate=function(d){return arguments.length?(r=d,u()):r},f.unknown=function(d){return arguments.length?(a=d,f):a},function(d,h){return n=d,i=h,u()}}function $I(){return uS()(xi,xi)}function Hxe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ow(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function H0(t){return t=ow(Math.abs(t)),t?t[1]:NaN}function Wxe(t,e){return function(r,n){for(var i=r.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function zxe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Gxe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xg(t){if(!(e=Gxe.exec(t)))throw new Error("invalid format: "+t);var e;return new BI({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Xg.prototype=BI.prototype;function BI(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}BI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qxe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var QU;function Xxe(t,e){var r=ow(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(QU=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+ow(t,Math.max(0,e+a-1))[0]}function zD(t,e){var r=ow(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const GD={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Hxe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>zD(t*100,e),r:zD,s:Xxe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function qD(t){return t}var XD=Array.prototype.map,KD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Kxe(t){var e=t.grouping===void 0||t.thousands===void 0?qD:Wxe(XD.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?qD:zxe(XD.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=Xg(f);var d=f.fill,h=f.align,m=f.sign,p=f.symbol,y=f.zero,_=f.width,b=f.comma,w=f.precision,A=f.trim,S=f.type;S==="n"?(b=!0,S="g"):GD[S]||(w===void 0&&(w=12),A=!0,S="g"),(y||d==="0"&&h==="=")&&(y=!0,d="0",h="=");var T=p==="$"?r:p==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",E=p==="$"?n:/[%p]/.test(S)?s:"",P=GD[S],k=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function D(I){var N=T,U=E,X,G,Q;if(S==="c")U=P(I)+U,I="";else{I=+I;var J=I<0||1/I<0;if(I=isNaN(I)?l:P(Math.abs(I),w),A&&(I=qxe(I)),J&&+I==0&&m!=="+"&&(J=!1),N=(J?m==="("?m:o:m==="-"||m==="("?"":m)+N,U=(S==="s"?KD[8+QU/3]:"")+U+(J&&m==="("?")":""),k){for(X=-1,G=I.length;++X<G;)if(Q=I.charCodeAt(X),48>Q||Q>57){U=(Q===46?i+I.slice(X+1):I.slice(X))+U,I=I.slice(0,X);break}}}b&&!y&&(I=e(I,1/0));var ee=N.length+I.length+U.length,V=ee<_?new Array(_-ee+1).join(d):"";switch(b&&y&&(I=e(V+I,V.length?_-U.length:1/0),V=""),h){case"<":I=N+I+U+V;break;case"=":I=N+V+I+U;break;case"^":I=V.slice(0,ee=V.length>>1)+N+I+U+V.slice(ee);break;default:I=V+N+I+U;break}return a(I)}return D.toString=function(){return f+""},D}function u(f,d){var h=c((f=Xg(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(H0(d)/3)))*3,p=Math.pow(10,-m),y=KD[8+m/3];return function(_){return h(p*_)+y}}return{format:c,formatPrefix:u}}var qx,UI,ej;Yxe({thousands:",",grouping:[3],currency:["$",""]});function Yxe(t){return qx=Kxe(t),UI=qx.format,ej=qx.formatPrefix,qx}function Jxe(t){return Math.max(0,-H0(Math.abs(t)))}function Zxe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(H0(e)/3)))*3-H0(Math.abs(t)))}function Qxe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,H0(e)-H0(t))+1}function tj(t,e,r,n){var i=XE(t,e,r),a;switch(n=Xg(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=Zxe(i,s))&&(n.precision=a),ej(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Qxe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Jxe(i))&&(n.precision=a-(n.type==="%")*2);break}}return UI(n)}function fu(t){var e=t.domain;return t.ticks=function(r){var n=e();return GE(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return tj(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],o=n[a],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);u-- >0;){if(c=qE(s,o,r),c===l)return n[i]=s,n[a]=o,e(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function lw(){var t=$I();return t.copy=function(){return tx(t,lw())},es.apply(t,arguments),fu(t)}function rj(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,sw),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return rj(t).unknown(e)},t=arguments.length?Array.from(t,sw):[0,1],fu(r)}function nj(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function YD(t){return Math.log(t)}function JD(t){return Math.exp(t)}function e1e(t){return-Math.log(-t)}function t1e(t){return-Math.exp(-t)}function r1e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function n1e(t){return t===10?r1e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function i1e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function ZD(t){return(e,r)=>-t(-e,r)}function jI(t){const e=t(YD,JD),r=e.domain;let n=10,i,a;function s(){return i=i1e(n),a=n1e(n),r()[0]<0?(i=ZD(i),a=ZD(a),t(e1e,t1e)):t(YD,JD),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let d=i(c),h=i(u),m,p;const y=o==null?10:+o;let _=[];if(!(n%1)&&h-d<y){if(d=Math.floor(d),h=Math.ceil(h),c>0){for(;d<=h;++d)for(m=1;m<n;++m)if(p=d<0?m/a(-d):m*a(d),!(p<c)){if(p>u)break;_.push(p)}}else for(;d<=h;++d)for(m=n-1;m>=1;--m)if(p=d>0?m/a(-d):m*a(d),!(p<c)){if(p>u)break;_.push(p)}_.length*2<y&&(_=GE(c,u,y))}else _=GE(d,h,Math.min(h-d,y)).map(a);return f?_.reverse():_},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Xg(l)).precision==null&&(l.trim=!0),l=UI(l)),o===1/0)return l;const c=Math.max(1,n*o/e.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},e.nice=()=>r(nj(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function ij(){const t=jI(uS()).domain([1,10]);return t.copy=()=>tx(t,ij()).base(t.base()),es.apply(t,arguments),t}function QD(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function eF(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function VI(t){var e=1,r=t(QD(e),eF(e));return r.constant=function(n){return arguments.length?t(QD(e=+n),eF(e)):e},fu(r)}function aj(){var t=VI(uS());return t.copy=function(){return tx(t,aj()).constant(t.constant())},es.apply(t,arguments)}function tF(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function a1e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function s1e(t){return t<0?-t*t:t*t}function HI(t){var e=t(xi,xi),r=1;function n(){return r===1?t(xi,xi):r===.5?t(a1e,s1e):t(tF(r),tF(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},fu(e)}function WI(){var t=HI(uS());return t.copy=function(){return tx(t,WI()).exponent(t.exponent())},es.apply(t,arguments),t}function o1e(){return WI.apply(null,arguments).exponent(.5)}function rF(t){return Math.sign(t)*t*t}function l1e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function sj(){var t=$I(),e=[0,1],r=!1,n;function i(a){var s=l1e(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(rF(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,sw)).map(rF)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return sj(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},es.apply(i,arguments),fu(i)}function oj(){var t=[],e=[],r=[],n;function i(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=hxe(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:e[Qy(r,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Vc),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return oj().domain(t).range(e).unknown(n)},es.apply(a,arguments)}function lj(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Qy(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return lj().domain([t,e]).range(i).unknown(a)},es.apply(fu(s),arguments)}function cj(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Qy(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return cj().domain(t).range(e).unknown(r)},es.apply(i,arguments)}const WA=new Date,zA=new Date;function vn(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return l},i.filter=a=>vn(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(WA.setTime(+a),zA.setTime(+s),t(WA),t(zA),Math.floor(r(WA,zA))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const cw=vn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);cw.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?vn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):cw);cw.range;const ul=1e3,ja=ul*60,fl=ja*60,Pl=fl*24,zI=Pl*7,nF=Pl*30,GA=Pl*365,$u=vn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ul)},(t,e)=>(e-t)/ul,t=>t.getUTCSeconds());$u.range;const GI=vn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ul)},(t,e)=>{t.setTime(+t+e*ja)},(t,e)=>(e-t)/ja,t=>t.getMinutes());GI.range;const qI=vn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ja)},(t,e)=>(e-t)/ja,t=>t.getUTCMinutes());qI.range;const XI=vn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ul-t.getMinutes()*ja)},(t,e)=>{t.setTime(+t+e*fl)},(t,e)=>(e-t)/fl,t=>t.getHours());XI.range;const KI=vn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*fl)},(t,e)=>(e-t)/fl,t=>t.getUTCHours());KI.range;const rx=vn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ja)/Pl,t=>t.getDate()-1);rx.range;const fS=vn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Pl,t=>t.getUTCDate()-1);fS.range;const uj=vn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Pl,t=>Math.floor(t/Pl));uj.range;function Ed(t){return vn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*ja)/zI)}const dS=Ed(0),uw=Ed(1),c1e=Ed(2),u1e=Ed(3),W0=Ed(4),f1e=Ed(5),d1e=Ed(6);dS.range;uw.range;c1e.range;u1e.range;W0.range;f1e.range;d1e.range;function Cd(t){return vn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/zI)}const hS=Cd(0),fw=Cd(1),h1e=Cd(2),p1e=Cd(3),z0=Cd(4),m1e=Cd(5),g1e=Cd(6);hS.range;fw.range;h1e.range;p1e.range;z0.range;m1e.range;g1e.range;const YI=vn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());YI.range;const JI=vn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());JI.range;const Il=vn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Il.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:vn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Il.range;const Ol=vn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ol.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:vn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Ol.range;function fj(t,e,r,n,i,a){const s=[[$u,1,ul],[$u,5,5*ul],[$u,15,15*ul],[$u,30,30*ul],[a,1,ja],[a,5,5*ja],[a,15,15*ja],[a,30,30*ja],[i,1,fl],[i,3,3*fl],[i,6,6*fl],[i,12,12*fl],[n,1,Pl],[n,2,2*Pl],[r,1,zI],[e,1,nF],[e,3,3*nF],[t,1,GA]];function o(c,u,f){const d=u<c;d&&([c,u]=[u,c]);const h=f&&typeof f.range=="function"?f:l(c,u,f),m=h?h.range(c,+u+1):[];return d?m.reverse():m}function l(c,u,f){const d=Math.abs(u-c)/f,h=NI(([,,y])=>y).right(s,d);if(h===s.length)return t.every(XE(c/GA,u/GA,f));if(h===0)return cw.every(Math.max(XE(c,u,f),1));const[m,p]=s[d/s[h-1][2]<s[h][2]/d?h-1:h];return m.every(p)}return[o,l]}const[v1e,y1e]=fj(Ol,JI,hS,uj,KI,qI),[x1e,_1e]=fj(Il,YI,dS,rx,XI,GI);function qA(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function XA(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Kp(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function w1e(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=Yp(i),u=Jp(i),f=Yp(a),d=Jp(a),h=Yp(s),m=Jp(s),p=Yp(o),y=Jp(o),_=Yp(l),b=Jp(l),w={a:J,A:ee,b:V,B:ne,c:null,d:cF,e:cF,f:W1e,g:e_e,G:r_e,H:j1e,I:V1e,j:H1e,L:dj,m:z1e,M:G1e,p:se,q:R,Q:dF,s:hF,S:q1e,u:X1e,U:K1e,V:Y1e,w:J1e,W:Z1e,x:null,X:null,y:Q1e,Y:t_e,Z:n_e,"%":fF},A={a:W,A:Y,b:Z,B:oe,c:null,d:uF,e:uF,f:o_e,g:v_e,G:x_e,H:i_e,I:a_e,j:s_e,L:pj,m:l_e,M:c_e,p:de,q:ve,Q:dF,s:hF,S:u_e,u:f_e,U:d_e,V:h_e,w:p_e,W:m_e,x:null,X:null,y:g_e,Y:y_e,Z:__e,"%":fF},S={a:D,A:I,b:N,B:U,c:X,d:oF,e:oF,f:L1e,g:sF,G:aF,H:lF,I:lF,j:N1e,L:F1e,m:M1e,M:R1e,p:k,q:O1e,Q:B1e,s:U1e,S:D1e,u:E1e,U:C1e,V:k1e,w:T1e,W:P1e,x:G,X:Q,y:sF,Y:aF,Z:I1e,"%":$1e};w.x=T(r,w),w.X=T(n,w),w.c=T(e,w),A.x=T(r,A),A.X=T(n,A),A.c=T(e,A);function T(te,fe){return function(be){var L=[],We=-1,Ie=0,Ge=te.length,je,xe,bt;for(be instanceof Date||(be=new Date(+be));++We<Ge;)te.charCodeAt(We)===37&&(L.push(te.slice(Ie,We)),(xe=iF[je=te.charAt(++We)])!=null?je=te.charAt(++We):xe=je==="e"?" ":"0",(bt=fe[je])&&(je=bt(be,xe)),L.push(je),Ie=We+1);return L.push(te.slice(Ie,We)),L.join("")}}function E(te,fe){return function(be){var L=Kp(1900,void 0,1),We=P(L,te,be+="",0),Ie,Ge;if(We!=be.length)return null;if("Q"in L)return new Date(L.Q);if("s"in L)return new Date(L.s*1e3+("L"in L?L.L:0));if(fe&&!("Z"in L)&&(L.Z=0),"p"in L&&(L.H=L.H%12+L.p*12),L.m===void 0&&(L.m="q"in L?L.q:0),"V"in L){if(L.V<1||L.V>53)return null;"w"in L||(L.w=1),"Z"in L?(Ie=XA(Kp(L.y,0,1)),Ge=Ie.getUTCDay(),Ie=Ge>4||Ge===0?fw.ceil(Ie):fw(Ie),Ie=fS.offset(Ie,(L.V-1)*7),L.y=Ie.getUTCFullYear(),L.m=Ie.getUTCMonth(),L.d=Ie.getUTCDate()+(L.w+6)%7):(Ie=qA(Kp(L.y,0,1)),Ge=Ie.getDay(),Ie=Ge>4||Ge===0?uw.ceil(Ie):uw(Ie),Ie=rx.offset(Ie,(L.V-1)*7),L.y=Ie.getFullYear(),L.m=Ie.getMonth(),L.d=Ie.getDate()+(L.w+6)%7)}else("W"in L||"U"in L)&&("w"in L||(L.w="u"in L?L.u%7:"W"in L?1:0),Ge="Z"in L?XA(Kp(L.y,0,1)).getUTCDay():qA(Kp(L.y,0,1)).getDay(),L.m=0,L.d="W"in L?(L.w+6)%7+L.W*7-(Ge+5)%7:L.w+L.U*7-(Ge+6)%7);return"Z"in L?(L.H+=L.Z/100|0,L.M+=L.Z%100,XA(L)):qA(L)}}function P(te,fe,be,L){for(var We=0,Ie=fe.length,Ge=be.length,je,xe;We<Ie;){if(L>=Ge)return-1;if(je=fe.charCodeAt(We++),je===37){if(je=fe.charAt(We++),xe=S[je in iF?fe.charAt(We++):je],!xe||(L=xe(te,be,L))<0)return-1}else if(je!=be.charCodeAt(L++))return-1}return L}function k(te,fe,be){var L=c.exec(fe.slice(be));return L?(te.p=u.get(L[0].toLowerCase()),be+L[0].length):-1}function D(te,fe,be){var L=h.exec(fe.slice(be));return L?(te.w=m.get(L[0].toLowerCase()),be+L[0].length):-1}function I(te,fe,be){var L=f.exec(fe.slice(be));return L?(te.w=d.get(L[0].toLowerCase()),be+L[0].length):-1}function N(te,fe,be){var L=_.exec(fe.slice(be));return L?(te.m=b.get(L[0].toLowerCase()),be+L[0].length):-1}function U(te,fe,be){var L=p.exec(fe.slice(be));return L?(te.m=y.get(L[0].toLowerCase()),be+L[0].length):-1}function X(te,fe,be){return P(te,e,fe,be)}function G(te,fe,be){return P(te,r,fe,be)}function Q(te,fe,be){return P(te,n,fe,be)}function J(te){return s[te.getDay()]}function ee(te){return a[te.getDay()]}function V(te){return l[te.getMonth()]}function ne(te){return o[te.getMonth()]}function se(te){return i[+(te.getHours()>=12)]}function R(te){return 1+~~(te.getMonth()/3)}function W(te){return s[te.getUTCDay()]}function Y(te){return a[te.getUTCDay()]}function Z(te){return l[te.getUTCMonth()]}function oe(te){return o[te.getUTCMonth()]}function de(te){return i[+(te.getUTCHours()>=12)]}function ve(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var fe=T(te+="",w);return fe.toString=function(){return te},fe},parse:function(te){var fe=E(te+="",!1);return fe.toString=function(){return te},fe},utcFormat:function(te){var fe=T(te+="",A);return fe.toString=function(){return te},fe},utcParse:function(te){var fe=E(te+="",!0);return fe.toString=function(){return te},fe}}}var iF={"-":"",_:" ",0:"0"},Pn=/^\s*\d+/,b1e=/^%/,S1e=/[\\^$*+?|[\]().{}]/g;function Rt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function A1e(t){return t.replace(S1e,"\\$&")}function Yp(t){return new RegExp("^(?:"+t.map(A1e).join("|")+")","i")}function Jp(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function T1e(t,e,r){var n=Pn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function E1e(t,e,r){var n=Pn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function C1e(t,e,r){var n=Pn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function k1e(t,e,r){var n=Pn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function P1e(t,e,r){var n=Pn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function aF(t,e,r){var n=Pn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function sF(t,e,r){var n=Pn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function I1e(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function O1e(t,e,r){var n=Pn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function M1e(t,e,r){var n=Pn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function oF(t,e,r){var n=Pn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function N1e(t,e,r){var n=Pn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function lF(t,e,r){var n=Pn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function R1e(t,e,r){var n=Pn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function D1e(t,e,r){var n=Pn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function F1e(t,e,r){var n=Pn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function L1e(t,e,r){var n=Pn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function $1e(t,e,r){var n=b1e.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function B1e(t,e,r){var n=Pn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function U1e(t,e,r){var n=Pn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function cF(t,e){return Rt(t.getDate(),e,2)}function j1e(t,e){return Rt(t.getHours(),e,2)}function V1e(t,e){return Rt(t.getHours()%12||12,e,2)}function H1e(t,e){return Rt(1+rx.count(Il(t),t),e,3)}function dj(t,e){return Rt(t.getMilliseconds(),e,3)}function W1e(t,e){return dj(t,e)+"000"}function z1e(t,e){return Rt(t.getMonth()+1,e,2)}function G1e(t,e){return Rt(t.getMinutes(),e,2)}function q1e(t,e){return Rt(t.getSeconds(),e,2)}function X1e(t){var e=t.getDay();return e===0?7:e}function K1e(t,e){return Rt(dS.count(Il(t)-1,t),e,2)}function hj(t){var e=t.getDay();return e>=4||e===0?W0(t):W0.ceil(t)}function Y1e(t,e){return t=hj(t),Rt(W0.count(Il(t),t)+(Il(t).getDay()===4),e,2)}function J1e(t){return t.getDay()}function Z1e(t,e){return Rt(uw.count(Il(t)-1,t),e,2)}function Q1e(t,e){return Rt(t.getFullYear()%100,e,2)}function e_e(t,e){return t=hj(t),Rt(t.getFullYear()%100,e,2)}function t_e(t,e){return Rt(t.getFullYear()%1e4,e,4)}function r_e(t,e){var r=t.getDay();return t=r>=4||r===0?W0(t):W0.ceil(t),Rt(t.getFullYear()%1e4,e,4)}function n_e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Rt(e/60|0,"0",2)+Rt(e%60,"0",2)}function uF(t,e){return Rt(t.getUTCDate(),e,2)}function i_e(t,e){return Rt(t.getUTCHours(),e,2)}function a_e(t,e){return Rt(t.getUTCHours()%12||12,e,2)}function s_e(t,e){return Rt(1+fS.count(Ol(t),t),e,3)}function pj(t,e){return Rt(t.getUTCMilliseconds(),e,3)}function o_e(t,e){return pj(t,e)+"000"}function l_e(t,e){return Rt(t.getUTCMonth()+1,e,2)}function c_e(t,e){return Rt(t.getUTCMinutes(),e,2)}function u_e(t,e){return Rt(t.getUTCSeconds(),e,2)}function f_e(t){var e=t.getUTCDay();return e===0?7:e}function d_e(t,e){return Rt(hS.count(Ol(t)-1,t),e,2)}function mj(t){var e=t.getUTCDay();return e>=4||e===0?z0(t):z0.ceil(t)}function h_e(t,e){return t=mj(t),Rt(z0.count(Ol(t),t)+(Ol(t).getUTCDay()===4),e,2)}function p_e(t){return t.getUTCDay()}function m_e(t,e){return Rt(fw.count(Ol(t)-1,t),e,2)}function g_e(t,e){return Rt(t.getUTCFullYear()%100,e,2)}function v_e(t,e){return t=mj(t),Rt(t.getUTCFullYear()%100,e,2)}function y_e(t,e){return Rt(t.getUTCFullYear()%1e4,e,4)}function x_e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?z0(t):z0.ceil(t),Rt(t.getUTCFullYear()%1e4,e,4)}function __e(){return"+0000"}function fF(){return"%"}function dF(t){return+t}function hF(t){return Math.floor(+t/1e3)}var Ld,gj,vj;w_e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function w_e(t){return Ld=w1e(t),gj=Ld.format,Ld.parse,vj=Ld.utcFormat,Ld.utcParse,Ld}function b_e(t){return new Date(t)}function S_e(t){return t instanceof Date?+t:+new Date(+t)}function ZI(t,e,r,n,i,a,s,o,l,c){var u=$I(),f=u.invert,d=u.domain,h=c(".%L"),m=c(":%S"),p=c("%I:%M"),y=c("%I %p"),_=c("%a %d"),b=c("%b %d"),w=c("%B"),A=c("%Y");function S(T){return(l(T)<T?h:o(T)<T?m:s(T)<T?p:a(T)<T?y:n(T)<T?i(T)<T?_:b:r(T)<T?w:A)(T)}return u.invert=function(T){return new Date(f(T))},u.domain=function(T){return arguments.length?d(Array.from(T,S_e)):d().map(b_e)},u.ticks=function(T){var E=d();return t(E[0],E[E.length-1],T??10)},u.tickFormat=function(T,E){return E==null?S:c(E)},u.nice=function(T){var E=d();return(!T||typeof T.range!="function")&&(T=e(E[0],E[E.length-1],T??10)),T?d(nj(E,T)):u},u.copy=function(){return tx(u,ZI(t,e,r,n,i,a,s,o,l,c))},u}function A_e(){return es.apply(ZI(x1e,_1e,Il,YI,dS,rx,XI,GI,$u,gj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function T_e(){return es.apply(ZI(v1e,y1e,Ol,JI,hS,fS,KI,qI,$u,vj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function pS(){var t=0,e=1,r,n,i,a,s=xi,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(d){var h,m;return arguments.length?([h,m]=d,s=f(h,m),c):[s(0),s(1)]}}return c.range=u(Pp),c.rangeRound=u(LI),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),c}}function du(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function yj(){var t=fu(pS()(xi));return t.copy=function(){return du(t,yj())},Vl.apply(t,arguments)}function xj(){var t=jI(pS()).domain([1,10]);return t.copy=function(){return du(t,xj()).base(t.base())},Vl.apply(t,arguments)}function _j(){var t=VI(pS());return t.copy=function(){return du(t,_j()).constant(t.constant())},Vl.apply(t,arguments)}function QI(){var t=HI(pS());return t.copy=function(){return du(t,QI()).exponent(t.exponent())},Vl.apply(t,arguments)}function E_e(){return QI.apply(null,arguments).exponent(.5)}function wj(){var t=[],e=xi;function r(n){if(n!=null&&!isNaN(n=+n))return e((Qy(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Vc),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>dxe(t,a/n))},r.copy=function(){return wj(e).domain(t)},Vl.apply(r,arguments)}function mS(){var t=0,e=.5,r=1,n=1,i,a,s,o,l,c=xi,u,f=!1,d;function h(p){return isNaN(p=+p)?d:(p=.5+((p=+u(p))-a)*(n*p<n*a?o:l),c(f?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([t,e,r]=p,i=u(t=+t),a=u(e=+e),s=u(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,h):[t,e,r]},h.clamp=function(p){return arguments.length?(f=!!p,h):f},h.interpolator=function(p){return arguments.length?(c=p,h):c};function m(p){return function(y){var _,b,w;return arguments.length?([_,b,w]=y,c=$xe(p,[_,b,w]),h):[c(0),c(.5),c(1)]}}return h.range=m(Pp),h.rangeRound=m(LI),h.unknown=function(p){return arguments.length?(d=p,h):d},function(p){return u=p,i=p(t),a=p(e),s=p(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,h}}function bj(){var t=fu(mS()(xi));return t.copy=function(){return du(t,bj())},Vl.apply(t,arguments)}function Sj(){var t=jI(mS()).domain([.1,1,10]);return t.copy=function(){return du(t,Sj()).base(t.base())},Vl.apply(t,arguments)}function Aj(){var t=VI(mS());return t.copy=function(){return du(t,Aj()).constant(t.constant())},Vl.apply(t,arguments)}function eO(){var t=HI(mS());return t.copy=function(){return du(t,eO()).exponent(t.exponent())},Vl.apply(t,arguments)}function C_e(){return eO.apply(null,arguments).exponent(.5)}const pF=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Wg,scaleDiverging:bj,scaleDivergingLog:Sj,scaleDivergingPow:eO,scaleDivergingSqrt:C_e,scaleDivergingSymlog:Aj,scaleIdentity:rj,scaleImplicit:KE,scaleLinear:lw,scaleLog:ij,scaleOrdinal:RI,scalePoint:Ym,scalePow:WI,scaleQuantile:oj,scaleQuantize:lj,scaleRadial:sj,scaleSequential:yj,scaleSequentialLog:xj,scaleSequentialPow:QI,scaleSequentialQuantile:wj,scaleSequentialSqrt:E_e,scaleSequentialSymlog:_j,scaleSqrt:o1e,scaleSymlog:aj,scaleThreshold:cj,scaleTime:A_e,scaleUtc:T_e,tickFormat:tj},Symbol.toStringTag,{value:"Module"}));var k_e=_p;function P_e(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],s=e(a);if(s!=null&&(o===void 0?s===s&&!k_e(s):r(s,o)))var o=s,l=a}return l}var Tj=P_e;function I_e(t,e){return t>e}var O_e=I_e,M_e=Tj,N_e=O_e,R_e=Cp;function D_e(t){return t&&t.length?M_e(t,R_e,N_e):void 0}var F_e=D_e;const gS=Jt(F_e);function L_e(t,e){return t<e}var $_e=L_e,B_e=Tj,U_e=$_e,j_e=Cp;function V_e(t){return t&&t.length?B_e(t,j_e,U_e):void 0}var H_e=V_e;const vS=Jt(H_e);var W_e=pI,z_e=uu,G_e=MU,q_e=zi;function X_e(t,e){var r=q_e(t)?W_e:G_e;return r(t,z_e(e))}var K_e=X_e,Y_e=IU,J_e=K_e;function Z_e(t,e){return Y_e(J_e(t,e),1)}var Q_e=Z_e;const ewe=Jt(Q_e);var twe=PI;function rwe(t,e){return twe(t,e)}var nwe=rwe;const yS=Jt(nwe);var Ip=1e9,iwe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},rO,mr=!0,Ya="[DecimalError] ",zf=Ya+"Invalid argument: ",tO=Ya+"Exponent out of range: ",Op=Math.floor,Au=Math.pow,awe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fa,An=1e7,ar=7,Ej=9007199254740991,dw=Op(Ej/ar),Ue={};Ue.absoluteValue=Ue.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ue.comparedTo=Ue.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Ue.decimalPlaces=Ue.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*ar;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ue.dividedBy=Ue.div=function(t){return _l(this,new this.constructor(t))};Ue.dividedToIntegerBy=Ue.idiv=function(t){var e=this,r=e.constructor;return Yt(_l(e,new r(t),0,1),r.precision)};Ue.equals=Ue.eq=function(t){return!this.cmp(t)};Ue.exponent=function(){return Qr(this)};Ue.greaterThan=Ue.gt=function(t){return this.cmp(t)>0};Ue.greaterThanOrEqualTo=Ue.gte=function(t){return this.cmp(t)>=0};Ue.isInteger=Ue.isint=function(){return this.e>this.d.length-2};Ue.isNegative=Ue.isneg=function(){return this.s<0};Ue.isPositive=Ue.ispos=function(){return this.s>0};Ue.isZero=function(){return this.s===0};Ue.lessThan=Ue.lt=function(t){return this.cmp(t)<0};Ue.lessThanOrEqualTo=Ue.lte=function(t){return this.cmp(t)<1};Ue.logarithm=Ue.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(fa))throw Error(Ya+"NaN");if(r.s<1)throw Error(Ya+(r.s?"NaN":"-Infinity"));return r.eq(fa)?new n(0):(mr=!1,e=_l(Kg(r,a),Kg(t,a),a),mr=!0,Yt(e,i))};Ue.minus=Ue.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Pj(e,t):Cj(e,(t.s=-t.s,t))};Ue.modulo=Ue.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Ya+"NaN");return r.s?(mr=!1,e=_l(r,t,0,1).times(t),mr=!0,r.minus(e)):Yt(new n(r),i)};Ue.naturalExponential=Ue.exp=function(){return kj(this)};Ue.naturalLogarithm=Ue.ln=function(){return Kg(this)};Ue.negated=Ue.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ue.plus=Ue.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Cj(e,t):Pj(e,(t.s=-t.s,t))};Ue.precision=Ue.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(zf+t);if(e=Qr(i)+1,n=i.d.length-1,r=n*ar+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ue.squareRoot=Ue.sqrt=function(){var t,e,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ya+"NaN")}for(t=Qr(o),mr=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=po(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Op((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(_l(o,a,s+2)).times(.5),po(a.d).slice(0,s)===(e=po(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Yt(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(e!="9999")break;s+=4}return mr=!0,Yt(n,r)};Ue.times=Ue.mul=function(t){var e,r,n,i,a,s,o,l,c,u=this,f=u.constructor,d=u.d,h=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,r=u.e+t.e,l=d.length,c=h.length,l<c&&(a=d,d=h,h=a,s=l,l=c,c=s),a=[],s=l+c,n=s;n--;)a.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)o=a[i]+h[n]*d[i-n-1]+e,a[i--]=o%An|0,e=o/An|0;a[i]=(a[i]+e)%An|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,mr?Yt(t,f.precision):t};Ue.toDecimalPlaces=Ue.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(wo(t,0,Ip),e===void 0?e=n.rounding:wo(e,0,8),Yt(r,t+Qr(r)+1,e))};Ue.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=ad(n,!0):(wo(t,0,Ip),e===void 0?e=i.rounding:wo(e,0,8),n=Yt(new i(n),t+1,e),r=ad(n,!0,t+1)),r};Ue.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?ad(i):(wo(t,0,Ip),e===void 0?e=a.rounding:wo(e,0,8),n=Yt(new a(i),t+Qr(i)+1,e),r=ad(n.abs(),!1,t+Qr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ue.toInteger=Ue.toint=function(){var t=this,e=t.constructor;return Yt(new e(t),Qr(t)+1,e.rounding)};Ue.toNumber=function(){return+this};Ue.toPower=Ue.pow=function(t){var e,r,n,i,a,s,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(fa);if(o=new l(o),!o.s){if(t.s<1)throw Error(Ya+"Infinity");return o}if(o.eq(fa))return o;if(n=l.precision,t.eq(fa))return Yt(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=o.s,s){if((r=u<0?-u:u)<=Ej){for(i=new l(fa),e=Math.ceil(n/ar+4),mr=!1;r%2&&(i=i.times(o),gF(i.d,e)),r=Op(r/2),r!==0;)o=o.times(o),gF(o.d,e);return mr=!0,t.s<0?new l(fa).div(i):Yt(i,n)}}else if(a<0)throw Error(Ya+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,mr=!1,i=t.times(Kg(o,n+c)),mr=!0,i=kj(i),i.s=a,i};Ue.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Qr(i),n=ad(i,r<=a.toExpNeg||r>=a.toExpPos)):(wo(t,1,Ip),e===void 0?e=a.rounding:wo(e,0,8),i=Yt(new a(i),t,e),r=Qr(i),n=ad(i,t<=r||r<=a.toExpNeg,t)),n};Ue.toSignificantDigits=Ue.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(wo(t,1,Ip),e===void 0?e=n.rounding:wo(e,0,8)),Yt(new n(r),t,e)};Ue.toString=Ue.valueOf=Ue.val=Ue.toJSON=Ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Qr(t),r=t.constructor;return ad(t,e<=r.toExpNeg||e>=r.toExpPos)};function Cj(t,e){var r,n,i,a,s,o,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),mr?Yt(e,f):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=c.length):(n=c,i=s,o=l.length),s=Math.ceil(f/ar),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/An|0,l[a]%=An;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,mr?Yt(e,f):e}function wo(t,e,r){if(t!==~~t||t<e||t>r)throw Error(zf+t)}function po(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=ar-n.length,r&&(a+=Yl(r)),a+=n;s=t[e],n=s+"",r=ar-n.length,r&&(a+=Yl(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var _l=function(){function t(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%An|0,s=a/An|0;return s&&n.unshift(s),n}function e(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*An+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,c,u,f,d,h,m,p,y,_,b,w,A,S,T,E,P,k=n.constructor,D=n.s==i.s?1:-1,I=n.d,N=i.d;if(!n.s)return new k(n);if(!i.s)throw Error(Ya+"Division by zero");for(l=n.e-i.e,E=N.length,S=I.length,h=new k(D),m=h.d=[],c=0;N[c]==(I[c]||0);)++c;if(N[c]>(I[c]||0)&&--l,a==null?b=a=k.precision:s?b=a+(Qr(n)-Qr(i))+1:b=a,b<0)return new k(0);if(b=b/ar+2|0,c=0,E==1)for(u=0,N=N[0],b++;(c<S||u)&&b--;c++)w=u*An+(I[c]||0),m[c]=w/N|0,u=w%N|0;else{for(u=An/(N[0]+1)|0,u>1&&(N=t(N,u),I=t(I,u),E=N.length,S=I.length),A=E,p=I.slice(0,E),y=p.length;y<E;)p[y++]=0;P=N.slice(),P.unshift(0),T=N[0],N[1]>=An/2&&++T;do u=0,o=e(N,p,E,y),o<0?(_=p[0],E!=y&&(_=_*An+(p[1]||0)),u=_/T|0,u>1?(u>=An&&(u=An-1),f=t(N,u),d=f.length,y=p.length,o=e(f,p,d,y),o==1&&(u--,r(f,E<d?P:N,d))):(u==0&&(o=u=1),f=N.slice()),d=f.length,d<y&&f.unshift(0),r(p,f,y),o==-1&&(y=p.length,o=e(N,p,E,y),o<1&&(u++,r(p,E<y?P:N,y))),y=p.length):o===0&&(u++,p=[0]),m[c++]=u,o&&p[0]?p[y++]=I[A]||0:(p=[I[A]],y=1);while((A++<S||p[0]!==void 0)&&b--)}return m[0]||m.shift(),h.e=l,Yt(h,s?a+Qr(h)+1:a)}}();function kj(t,e){var r,n,i,a,s,o,l=0,c=0,u=t.constructor,f=u.precision;if(Qr(t)>16)throw Error(tO+Qr(t));if(!t.s)return new u(fa);for(mr=!1,o=f,s=new u(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(n=Math.log(Au(2,c))/Math.LN10*2+5|0,o+=n,r=i=a=new u(fa),u.precision=o;;){if(i=Yt(i.times(t),o),r=r.times(++l),s=a.plus(_l(i,r,o)),po(s.d).slice(0,o)===po(a.d).slice(0,o)){for(;c--;)a=Yt(a.times(a),o);return u.precision=f,e==null?(mr=!0,Yt(a,f)):a}a=s}}function Qr(t){for(var e=t.e*ar,r=t.d[0];r>=10;r/=10)e++;return e}function KA(t,e,r){if(e>t.LN10.sd())throw mr=!0,r&&(t.precision=r),Error(Ya+"LN10 precision limit exceeded");return Yt(new t(t.LN10),e)}function Yl(t){for(var e="";t--;)e+="0";return e}function Kg(t,e){var r,n,i,a,s,o,l,c,u,f=1,d=10,h=t,m=h.d,p=h.constructor,y=p.precision;if(h.s<1)throw Error(Ya+(h.s?"NaN":"-Infinity"));if(h.eq(fa))return new p(0);if(e==null?(mr=!1,c=y):c=e,h.eq(10))return e==null&&(mr=!0),KA(p,c);if(c+=d,p.precision=c,r=po(m),n=r.charAt(0),a=Qr(h),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(t),r=po(h.d),n=r.charAt(0),f++;a=Qr(h),n>1?(h=new p("0."+r),a++):h=new p(n+"."+r.slice(1))}else return l=KA(p,c+2,y).times(a+""),h=Kg(new p(n+"."+r.slice(1)),c-d).plus(l),p.precision=y,e==null?(mr=!0,Yt(h,y)):h;for(o=s=h=_l(h.minus(fa),h.plus(fa),c),u=Yt(h.times(h),c),i=3;;){if(s=Yt(s.times(u),c),l=o.plus(_l(s,new p(i),c)),po(l.d).slice(0,c)===po(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(KA(p,c+2,y).times(a+""))),o=_l(o,new p(f),c),p.precision=y,e==null?(mr=!0,Yt(o,y)):o;o=l,i+=2}}function mF(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Op(r/ar),t.d=[],n=(r+1)%ar,r<0&&(n+=ar),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=ar;n<i;)t.d.push(+e.slice(n,n+=ar));e=e.slice(n),n=ar-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),mr&&(t.e>dw||t.e<-dw))throw Error(tO+r)}else t.s=0,t.e=0,t.d=[0];return t}function Yt(t,e,r){var n,i,a,s,o,l,c,u,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=ar,i=e,c=f[u=0];else{if(u=Math.ceil((n+1)/ar),a=f.length,u>=a)return t;for(c=a=f[u],s=1;a>=10;a/=10)s++;n%=ar,i=n-ar+s}if(r!==void 0&&(a=Au(10,s-i-1),o=c/a%10|0,l=e<0||f[u+1]!==void 0||c%a,l=r<4?(o||l)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?c/Au(10,s-i):0:f[u-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(a=Qr(t),f.length=1,e=e-a-1,f[0]=Au(10,(ar-e%ar)%ar),t.e=Op(-e/ar)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=u,a=1,u--):(f.length=u+1,a=Au(10,ar-n),f[u]=i>0?(c/Au(10,s-i)%Au(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==An&&(f[0]=1,++t.e);break}else{if(f[u]+=a,f[u]!=An)break;f[u--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(mr&&(t.e>dw||t.e<-dw))throw Error(tO+Qr(t));return t}function Pj(t,e){var r,n,i,a,s,o,l,c,u,f,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),mr?Yt(e,h):e;if(l=t.d,f=e.d,n=e.e,c=t.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),i=Math.max(Math.ceil(h/ar),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=f.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}s=0}for(u&&(r=l,l=f,f=r,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=An-1;--l[a],l[i]+=An}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,mr?Yt(e,h):e):new d(0)}function ad(t,e,r){var n,i=Qr(t),a=po(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Yl(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Yl(-i-1)+a,r&&(n=r-s)>0&&(a+=Yl(n))):i>=s?(a+=Yl(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Yl(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Yl(n))),t.s<0?"-"+a:a}function gF(t,e){if(t.length>e)return t.length=e,!0}function Ij(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(zf+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return mF(s,a.toString())}else if(typeof a!="string")throw Error(zf+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,awe.test(a))mF(s,a);else throw Error(zf+a)}if(i.prototype=Ue,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Ij,i.config=i.set=swe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function swe(t){if(!t||typeof t!="object")throw Error(Ya+"Object expected");var e,r,n,i=["precision",1,Ip,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Op(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(zf+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(zf+r+": "+n);return this}var rO=Ij(iwe);fa=new rO(1);const Gt=rO;function owe(t){return fwe(t)||uwe(t)||cwe(t)||lwe()}function lwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cwe(t,e){if(t){if(typeof t=="string")return QE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QE(t,e)}}function uwe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function fwe(t){if(Array.isArray(t))return QE(t)}function QE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var dwe=function(e){return e},Oj={},Mj=function(e){return e===Oj},vF=function(e){return function r(){return arguments.length===0||arguments.length===1&&Mj(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},hwe=function t(e,r){return e===1?r:vF(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==Oj}).length;return s>=e?r.apply(void 0,i):t(e-s,vF(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=i.map(function(f){return Mj(f)?l.shift():f});return r.apply(void 0,owe(u).concat(l))}))})},xS=function(e){return hwe(e.length,e)},e2=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},pwe=xS(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),mwe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return dwe;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},t2=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Nj=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(o,l){return o===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function gwe(t){var e;return t===0?e=1:e=Math.floor(new Gt(t).abs().log(10).toNumber())+1,e}function vwe(t,e,r){for(var n=new Gt(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var ywe=xS(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),xwe=xS(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),_we=xS(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const _S={rangeStep:vwe,getDigitCount:gwe,interpolateNumber:ywe,uninterpolateNumber:xwe,uninterpolateTruncation:_we};function r2(t){return Swe(t)||bwe(t)||Rj(t)||wwe()}function wwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bwe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Swe(t){if(Array.isArray(t))return n2(t)}function Yg(t,e){return Ewe(t)||Twe(t,e)||Rj(t,e)||Awe()}function Awe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rj(t,e){if(t){if(typeof t=="string")return n2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n2(t,e)}}function n2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Twe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function Ewe(t){if(Array.isArray(t))return t}function Dj(t){var e=Yg(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function Fj(t,e,r){if(t.lte(0))return new Gt(0);var n=_S.getDigitCount(t.toNumber()),i=new Gt(10).pow(n),a=t.div(i),s=n!==1?.05:.1,o=new Gt(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return e?l:new Gt(Math.ceil(l))}function Cwe(t,e,r){var n=1,i=new Gt(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Gt(10).pow(_S.getDigitCount(t)-1),i=new Gt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Gt(Math.floor(t)))}else t===0?i=new Gt(Math.floor((e-1)/2)):r||(i=new Gt(Math.floor(t)));var s=Math.floor((e-1)/2),o=mwe(pwe(function(l){return i.add(new Gt(l-s).mul(n)).toNumber()}),e2);return o(0,e)}function Lj(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Gt(0),tickMin:new Gt(0),tickMax:new Gt(0)};var a=Fj(new Gt(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new Gt(0):(s=new Gt(t).add(e).div(2),s=s.sub(new Gt(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new Gt(e).sub(s).div(a).toNumber()),c=o+l+1;return c>r?Lj(t,e,r,n,i+1):(c<r&&(l=e>0?l+(r-c):l,o=e>0?o:o+(r-c)),{step:a,tickMin:s.sub(new Gt(o).mul(a)),tickMax:s.add(new Gt(l).mul(a))})}function kwe(t){var e=Yg(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=Dj([r,n]),l=Yg(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(r2(e2(0,i-1).map(function(){return 1/0}))):[].concat(r2(e2(0,i-1).map(function(){return-1/0})),[u]);return r>n?t2(f):f}if(c===u)return Cwe(c,i,a);var d=Lj(c,u,s,a),h=d.step,m=d.tickMin,p=d.tickMax,y=_S.rangeStep(m,p.add(new Gt(.1).mul(h)),h);return r>n?t2(y):y}function Pwe(t,e){var r=Yg(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Dj([n,i]),o=Yg(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var u=Math.max(e,2),f=Fj(new Gt(c).sub(l).div(u-1),a,0),d=[].concat(r2(_S.rangeStep(new Gt(l),new Gt(c).sub(new Gt(.99).mul(f)),f)),[c]);return n>i?t2(d):d}var Iwe=Nj(kwe),Owe=Nj(Pwe),Mwe="Invariant failed";function sd(t,e){throw new Error(Mwe)}var Nwe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function G0(t){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G0(t)}function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hw.apply(this,arguments)}function Rwe(t,e){return $we(t)||Lwe(t,e)||Fwe(t,e)||Dwe()}function Dwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fwe(t,e){if(t){if(typeof t=="string")return yF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yF(t,e)}}function yF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lwe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function $we(t){if(Array.isArray(t))return t}function Bwe(t,e){if(t==null)return{};var r=Uwe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Uwe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vwe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Uj(n.key),n)}}function Hwe(t,e,r){return e&&Vwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wwe(t,e,r){return e=pw(e),zwe(t,$j()?Reflect.construct(e,r||[],pw(t).constructor):e.apply(t,r))}function zwe(t,e){if(e&&(G0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gwe(t)}function Gwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $j(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($j=function(){return!!t})()}function pw(t){return pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pw(t)}function qwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i2(t,e)}function i2(t,e){return i2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},i2(t,e)}function Bj(t,e,r){return e=Uj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uj(t){var e=Xwe(t,"string");return G0(e)=="symbol"?e:e+""}function Xwe(t,e){if(G0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(G0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nx=function(t){function e(){return jwe(this,e),Wwe(this,e,arguments)}return qwe(e,t),Hwe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,d=Bwe(n,Nwe),h=Tt(d,!1);this.props.direction==="x"&&u.type!=="number"&&sd();var m=l.map(function(p){var y=c(p,o),_=y.x,b=y.y,w=y.value,A=y.errorVal;if(!A)return null;var S=[],T,E;if(Array.isArray(A)){var P=Rwe(A,2);T=P[0],E=P[1]}else T=E=A;if(a==="vertical"){var k=u.scale,D=b+i,I=D+s,N=D-s,U=k(w-T),X=k(w+E);S.push({x1:X,y1:I,x2:X,y2:N}),S.push({x1:U,y1:D,x2:X,y2:D}),S.push({x1:U,y1:I,x2:U,y2:N})}else if(a==="horizontal"){var G=f.scale,Q=_+i,J=Q-s,ee=Q+s,V=G(w-T),ne=G(w+E);S.push({x1:J,y1:ne,x2:ee,y2:ne}),S.push({x1:Q,y1:V,x2:Q,y2:ne}),S.push({x1:J,y1:V,x2:ee,y2:V})}return re.createElement(jr,hw({className:"recharts-errorBar",key:"bar-".concat(S.map(function(se){return"".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))},h),S.map(function(se){return re.createElement("line",hw({},se,{key:"line-".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))}))});return re.createElement(jr,{className:"recharts-errorBars"},m)}}])}(re.Component);Bj(nx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Bj(nx,"displayName","ErrorBar");function Jg(t){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jg(t)}function xF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xF(Object(r),!0).forEach(function(n){Kwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kwe(t,e,r){return e=Ywe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ywe(t){var e=Jwe(t,"string");return Jg(e)=="symbol"?e:e+""}function Jwe(t,e){if(Jg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jj=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=aa(r,xl);if(!s)return null;var o=xl.defaultProps,l=o!==void 0?yu(yu({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:a==="children"?c=(n||[]).reduce(function(u,f){var d=f.item,h=f.props,m=h.sectors||h.data||[];return u.concat(m.map(function(p){return{type:s.props.iconType||d.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):c=(n||[]).map(function(u){var f=u.item,d=f.type.defaultProps,h=d!==void 0?yu(yu({},d),f.props):{},m=h.dataKey,p=h.name,y=h.legendType,_=h.hide;return{inactive:_,dataKey:m,type:l.iconType||y||"square",color:nO(f),value:p||m,payload:h}}),yu(yu(yu({},l),xl.getWithHeight(s,i)),{},{payload:c,item:s})};function Zg(t){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zg(t)}function _F(t){return tbe(t)||ebe(t)||Qwe(t)||Zwe()}function Zwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qwe(t,e){if(t){if(typeof t=="string")return a2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a2(t,e)}}function ebe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tbe(t){if(Array.isArray(t))return a2(t)}function a2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wF(Object(r),!0).forEach(function(n){Ch(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ch(t,e,r){return e=rbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rbe(t){var e=nbe(t,"string");return Zg(e)=="symbol"?e:e+""}function nbe(t,e){if(Zg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function va(t,e,r){return _t(t)||_t(e)?r:pn(e)?Wa(t,e,r):mt(e)?e(t):r}function Jm(t,e,r,n){var i=ewe(t,function(o){return va(o,e)});if(r==="number"){var a=i.filter(function(o){return Pe(o)||parseFloat(o)});return a.length?[vS(a),gS(a)]:[1/0,-1/0]}var s=n?i.filter(function(o){return!_t(o)}):i;return s.map(function(o){return pn(o)||o instanceof Date?o:""})}var ibe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<o;c++){var u=c>0?i[c-1].coordinate:i[o-1].coordinate,f=i[c].coordinate,d=c>=o-1?i[0].coordinate:i[c+1].coordinate,h=void 0;if(Ps(f-u)!==Ps(d-f)){var m=[];if(Ps(d-f)===Ps(l[1]-l[0])){h=d;var p=f+l[1]-l[0];m[0]=Math.min(p,(p+u)/2),m[1]=Math.max(p,(p+u)/2)}else{h=u;var y=d+l[1]-l[0];m[0]=Math.min(f,(y+f)/2),m[1]=Math.max(f,(y+f)/2)}var _=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>_[0]&&e<=_[1]||e>=m[0]&&e<=m[1]){s=i[c].index;break}}else{var b=Math.min(u,d),w=Math.max(u,d);if(e>(b+f)/2&&e<=(w+f)/2){s=i[c].index;break}}}else for(var A=0;A<o;A++)if(A===0&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A>0&&A<o-1&&e>(n[A].coordinate+n[A-1].coordinate)/2&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A===o-1&&e>(n[A].coordinate+n[A-1].coordinate)/2){s=n[A].index;break}return s},nO=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Dr(Dr({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},abe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,c=o.length;l<c;l++)for(var u=a[o[l]].stackGroups,f=Object.keys(u),d=0,h=f.length;d<h;d++){var m=u[f[d]],p=m.items,y=m.cateAxisId,_=p.filter(function(E){return vl(E.type).indexOf("Bar")>=0});if(_&&_.length){var b=_[0].type.defaultProps,w=b!==void 0?Dr(Dr({},b),_[0].props):_[0].props,A=w.barSize,S=w[y];s[S]||(s[S]=[]);var T=_t(A)?r:A;s[S].push({item:_[0],stackList:_.slice(1),barSize:_t(T)?void 0:id(T,n,0)})}}return s},sbe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var c=id(r,i,0,!0),u,f=[];if(s[0].barSize===+s[0].barSize){var d=!1,h=i/l,m=s.reduce(function(A,S){return A+S.barSize||0},0);m+=(l-1)*c,m>=i&&(m-=(l-1)*c,c=0),m>=i&&h>0&&(d=!0,h*=.9,m=l*h);var p=(i-m)/2>>0,y={offset:p-c,size:0};u=s.reduce(function(A,S){var T={item:S.item,position:{offset:y.offset+y.size+c,size:d?h:S.barSize}},E=[].concat(_F(A),[T]);return y=E[E.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(P){E.push({item:P,position:y})}),E},f)}else{var _=id(n,i,0,!0);i-2*_-(l-1)*c<=0&&(c=0);var b=(i-2*_-(l-1)*c)/l;b>1&&(b>>=0);var w=o===+o?Math.min(b,o):b;u=s.reduce(function(A,S,T){var E=[].concat(_F(A),[{item:S.item,position:{offset:_+(b+c)*T+(b-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(P){E.push({item:P,position:E[E.length-1].position})}),E},f)}return u},obe=function(e,r,n,i){var a=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=jj({children:a,legendWidth:l});if(c){var u=i||{},f=u.width,d=u.height,h=c.align,m=c.verticalAlign,p=c.layout;if((p==="vertical"||p==="horizontal"&&m==="middle")&&h!=="center"&&Pe(e[h]))return Dr(Dr({},e),{},Ch({},h,e[h]+(f||0)));if((p==="horizontal"||p==="vertical"&&h==="center")&&m!=="middle"&&Pe(e[m]))return Dr(Dr({},e),{},Ch({},m,e[m]+(d||0)))}return e},lbe=function(e,r,n){return _t(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Vj=function(e,r,n,i,a){var s=r.props.children,o=za(s,nx).filter(function(c){return lbe(i,a,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var f=va(u,n);if(_t(f))return c;var d=Array.isArray(f)?[vS(f),gS(f)]:[f,f],h=l.reduce(function(m,p){var y=va(u,p,0),_=d[0]-Math.abs(Array.isArray(y)?y[0]:y),b=d[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(_,m[0]),Math.max(b,m[1])]},[1/0,-1/0]);return[Math.min(h[0],c[0]),Math.max(h[1],c[1])]},[1/0,-1/0])}return null},cbe=function(e,r,n,i,a){var s=r.map(function(o){return Vj(e,o,n,a,i)}).filter(function(o){return!_t(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},Hj=function(e,r,n,i,a){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&Vj(e,l,c,i)||Jm(e,c,n,a)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},Wj=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},zj=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(s=!0),l.coordinate});return a||o.push(r),s||o.push(n),o},dl=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Ps(o[0]-o[1])*2*c:c,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var d=a?a.indexOf(f):f;return{coordinate:i(d)+c,value:f,offset:c}});return u.filter(function(f){return!Yy(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,d){return{coordinate:i(f)+c,value:f,index:d,offset:c}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,d){return{coordinate:i(f)+c,value:a?a[f]:f,index:d,offset:c}})},YA=new WeakMap,Xx=function(e,r){if(typeof r!="function")return e;YA.has(e)||YA.set(e,new WeakMap);var n=YA.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},ube=function(e,r,n){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:Wg(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:lw(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Ym(),realScaleType:"point"}:a==="category"?{scale:Wg(),realScaleType:"band"}:{scale:lw(),realScaleType:"linear"};if(nd(i)){var l="scale".concat(nS(i));return{scale:(pF[l]||Ym)(),realScaleType:pF[l]?l:"point"}}return mt(i)?{scale:i}:{scale:Ym(),realScaleType:"point"}},bF=1e-4,fbe=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-bF,s=Math.max(i[0],i[1])+bF,o=e(r[0]),l=e(r[n-1]);(o<a||o>s||l<a||l>s)&&e.domain([r[0],r[n-1]])}},dbe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},hbe=function(e,r){if(!r||r.length!==2||!Pe(r[0])||!Pe(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!Pe(e[0])||e[0]<n)&&(a[0]=n),(!Pe(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},pbe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,o=0;o<r;++o){var l=Yy(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1])}},mbe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var o=Yy(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},gbe={sign:pbe,expand:Oue,none:$0,silhouette:Mue,wiggle:Nue,positive:mbe},vbe=function(e,r,n){var i=r.map(function(o){return o.props.dataKey}),a=gbe[n],s=Iue().keys(i).value(function(o,l){return+va(o,l,0)}).order(IE).offset(a);return s(e)},ybe=function(e,r,n,i,a,s){if(!e)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(f,d){var h,m=(h=d.type)!==null&&h!==void 0&&h.defaultProps?Dr(Dr({},d.type.defaultProps),d.props):d.props,p=m.stackId,y=m.hide;if(y)return f;var _=m[n],b=f[_]||{hasStack:!1,stackGroups:{}};if(pn(p)){var w=b.stackGroups[p]||{numericAxisId:n,cateAxisId:i,items:[]};w.items.push(d),b.hasStack=!0,b.stackGroups[p]=w}else b.stackGroups[Jy("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[d]};return Dr(Dr({},f),{},Ch({},_,b))},l),u={};return Object.keys(c).reduce(function(f,d){var h=c[d];if(h.hasStack){var m={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(p,y){var _=h.stackGroups[y];return Dr(Dr({},p),{},Ch({},y,{numericAxisId:n,cateAxisId:i,items:_.items,stackedData:vbe(e,_.items,a)}))},m)}return Dr(Dr({},f),{},Ch({},d,h))},u)},xbe=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=Iwe(c,a,o);return e.domain([vS(u),gS(u)]),{niceTicks:u}}if(a&&i==="number"){var f=e.domain(),d=Owe(f,a,o);return{niceTicks:d}}return null};function SF(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!_t(i[e.dataKey])){var o=B_(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=va(i,_t(s)?e.dataKey:s);return _t(l)?null:e.scale(l)}var AF=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(r.type==="category")return n[o]?n[o].coordinate+i:null;var l=va(s,r.dataKey,r.domain[o]);return _t(l)?null:r.scale(l)-a/2+i},_be=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},wbe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Dr(Dr({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(pn(a)){var s=r[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},bbe=function(e){return e.reduce(function(r,n){return[vS(n.concat([r[0]]).filter(Pe)),gS(n.concat([r[1]]).filter(Pe))]},[1/0,-1/0])},Gj=function(e,r,n){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(c,u){var f=bbe(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},TF=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,EF=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,s2=function(e,r,n){if(mt(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Pe(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(TF.test(e[0])){var a=+TF.exec(e[0])[1];i[0]=r[0]-a}else mt(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Pe(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(EF.test(e[1])){var s=+EF.exec(e[1])[1];i[1]=r[1]+s}else mt(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},mw=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=OI(r,function(f){return f.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},CF=function(e,r,n){return!e||!e.length||yS(e,Wa(n,"type.defaultProps.domain"))?r:e},qj=function(e,r){var n=e.type.defaultProps?Dr(Dr({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return Dr(Dr({},Tt(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:nO(e),value:va(r,i),type:l,payload:r,chartType:c,hide:u})};function Qg(t){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qg(t)}function kF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kF(Object(r),!0).forEach(function(n){Sbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sbe(t,e,r){return e=Abe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Abe(t){var e=Tbe(t,"string");return Qg(e)=="symbol"?e:e+""}function Tbe(t,e){if(Qg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gw=Math.PI/180,Ebe=function(e){return e*180/Math.PI},Bn=function(e,r,n,i){return{x:e+Math.cos(-gw*i)*n,y:r+Math.sin(-gw*i)*n}},Cbe=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},kbe=function(e,r){var n=e.x,i=e.y,a=r.cx,s=r.cy,o=Cbe({x:n,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(n-a)/o,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:o,angle:Ebe(c),angleInRadian:c}},Pbe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},Ibe=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},IF=function(e,r){var n=e.x,i=e.y,a=kbe({x:n,y:i},r),s=a.radius,o=a.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=Pbe(r),f=u.startAngle,d=u.endAngle,h=o,m;if(f<=d){for(;h>d;)h-=360;for(;h<f;)h+=360;m=h>=f&&h<=d}else{for(;h>f;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=f}return m?PF(PF({},r),{},{radius:s,angle:Ibe(h,r)}):null};function ev(t){"@babel/helpers - typeof";return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ev(t)}var Obe=["offset"];function Mbe(t){return Fbe(t)||Dbe(t)||Rbe(t)||Nbe()}function Nbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rbe(t,e){if(t){if(typeof t=="string")return o2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o2(t,e)}}function Dbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fbe(t){if(Array.isArray(t))return o2(t)}function o2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lbe(t,e){if(t==null)return{};var r=$be(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $be(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function OF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OF(Object(r),!0).forEach(function(n){Bbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bbe(t,e,r){return e=Ube(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ube(t){var e=jbe(t,"string");return ev(e)=="symbol"?e:e+""}function jbe(t,e){if(ev(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tv(){return tv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tv.apply(this,arguments)}var Vbe=function(e){var r=e.value,n=e.formatter,i=_t(e.children)?r:e.children;return mt(n)?n(i):i},Hbe=function(e,r){var n=Ps(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Wbe=function(e,r,n){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,c=l.cx,u=l.cy,f=l.innerRadius,d=l.outerRadius,h=l.startAngle,m=l.endAngle,p=l.clockWise,y=(f+d)/2,_=Hbe(h,m),b=_>=0?1:-1,w,A;i==="insideStart"?(w=h+b*s,A=p):i==="insideEnd"?(w=m-b*s,A=!p):i==="end"&&(w=m+b*s,A=p),A=_<=0?A:!A;var S=Bn(c,u,y,w),T=Bn(c,u,y,w+(A?1:-1)*359),E="M".concat(S.x,",").concat(S.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(A?0:1,`,
    `).concat(T.x,",").concat(T.y),P=_t(e.id)?Jy("recharts-radial-line-"):e.id;return re.createElement("text",tv({},n,{dominantBaseline:"central",className:Pt("recharts-radial-bar-label",o)}),re.createElement("defs",null,re.createElement("path",{id:P,d:E})),re.createElement("textPath",{xlinkHref:"#".concat(P)},r))},zbe=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,s=a.cx,o=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,f=a.endAngle,d=(u+f)/2;if(i==="outside"){var h=Bn(s,o,c+n,d),m=h.x,p=h.y;return{x:m,y:p,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var y=(l+c)/2,_=Bn(s,o,y,d),b=_.x,w=_.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Gbe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=r,o=s.x,l=s.y,c=s.width,u=s.height,f=u>=0?1:-1,d=f*i,h=f>0?"end":"start",m=f>0?"start":"end",p=c>=0?1:-1,y=p*i,_=p>0?"end":"start",b=p>0?"start":"end";if(a==="top"){var w={x:o+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:h};return nn(nn({},w),n?{height:Math.max(l-n.y,0),width:c}:{})}if(a==="bottom"){var A={x:o+c/2,y:l+u+d,textAnchor:"middle",verticalAnchor:m};return nn(nn({},A),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(a==="left"){var S={x:o-y,y:l+u/2,textAnchor:_,verticalAnchor:"middle"};return nn(nn({},S),n?{width:Math.max(S.x-n.x,0),height:u}:{})}if(a==="right"){var T={x:o+c+y,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return nn(nn({},T),n?{width:Math.max(n.x+n.width-T.x,0),height:u}:{})}var E=n?{width:c,height:u}:{};return a==="insideLeft"?nn({x:o+y,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},E):a==="insideRight"?nn({x:o+c-y,y:l+u/2,textAnchor:_,verticalAnchor:"middle"},E):a==="insideTop"?nn({x:o+c/2,y:l+d,textAnchor:"middle",verticalAnchor:m},E):a==="insideBottom"?nn({x:o+c/2,y:l+u-d,textAnchor:"middle",verticalAnchor:h},E):a==="insideTopLeft"?nn({x:o+y,y:l+d,textAnchor:b,verticalAnchor:m},E):a==="insideTopRight"?nn({x:o+c-y,y:l+d,textAnchor:_,verticalAnchor:m},E):a==="insideBottomLeft"?nn({x:o+y,y:l+u-d,textAnchor:b,verticalAnchor:h},E):a==="insideBottomRight"?nn({x:o+c-y,y:l+u-d,textAnchor:_,verticalAnchor:h},E):wp(a)&&(Pe(a.x)||Fu(a.x))&&(Pe(a.y)||Fu(a.y))?nn({x:o+id(a.x,c),y:l+id(a.y,u),textAnchor:"end",verticalAnchor:"end"},E):nn({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},E)},qbe=function(e){return"cx"in e&&Pe(e.cx)};function ii(t){var e=t.offset,r=e===void 0?5:e,n=Lbe(t,Obe),i=nn({offset:r},n),a=i.viewBox,s=i.position,o=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,d=i.textBreakAll;if(!a||_t(o)&&_t(l)&&!ae.isValidElement(c)&&!mt(c))return null;if(ae.isValidElement(c))return ae.cloneElement(c,i);var h;if(mt(c)){if(h=ae.createElement(c,i),ae.isValidElement(h))return h}else h=Vbe(i);var m=qbe(a),p=Tt(i,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Wbe(i,h,p);var y=m?zbe(i):Gbe(i);return re.createElement(tw,tv({className:Pt("recharts-label",f)},p,y,{breakAll:d}),h)}ii.displayName="Label";var Xj=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,f=e.x,d=e.y,h=e.top,m=e.left,p=e.width,y=e.height,_=e.clockWise,b=e.labelViewBox;if(b)return b;if(Pe(p)&&Pe(y)){if(Pe(f)&&Pe(d))return{x:f,y:d,width:p,height:y};if(Pe(h)&&Pe(m))return{x:h,y:m,width:p,height:y}}return Pe(f)&&Pe(d)?{x:f,y:d,width:0,height:0}:Pe(r)&&Pe(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:_}:e.viewBox?e.viewBox:{}},Xbe=function(e,r){return e?e===!0?re.createElement(ii,{key:"label-implicit",viewBox:r}):pn(e)?re.createElement(ii,{key:"label-implicit",viewBox:r,value:e}):ae.isValidElement(e)?e.type===ii?ae.cloneElement(e,{key:"label-implicit",viewBox:r}):re.createElement(ii,{key:"label-implicit",content:e,viewBox:r}):mt(e)?re.createElement(ii,{key:"label-implicit",content:e,viewBox:r}):wp(e)?re.createElement(ii,tv({viewBox:r},e,{key:"label-implicit"})):null:null},Kbe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=Xj(e),s=za(i,ii).map(function(l,c){return ae.cloneElement(l,{viewBox:r||a,key:"label-".concat(c)})});if(!n)return s;var o=Xbe(e.label,r||a);return[o].concat(Mbe(s))};ii.parseViewBox=Xj;ii.renderCallByParent=Kbe;function Ybe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Jbe=Ybe;const Zbe=Jt(Jbe);function rv(t){"@babel/helpers - typeof";return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rv(t)}var Qbe=["valueAccessor"],eSe=["data","dataKey","clockWise","id","textBreakAll"];function tSe(t){return aSe(t)||iSe(t)||nSe(t)||rSe()}function rSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nSe(t,e){if(t){if(typeof t=="string")return l2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l2(t,e)}}function iSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aSe(t){if(Array.isArray(t))return l2(t)}function l2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vw(){return vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vw.apply(this,arguments)}function MF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function NF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MF(Object(r),!0).forEach(function(n){sSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sSe(t,e,r){return e=oSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oSe(t){var e=lSe(t,"string");return rv(e)=="symbol"?e:e+""}function lSe(t,e){if(rv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RF(t,e){if(t==null)return{};var r=cSe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var uSe=function(e){return Array.isArray(e.value)?Zbe(e.value):e.value};function Hc(t){var e=t.valueAccessor,r=e===void 0?uSe:e,n=RF(t,Qbe),i=n.data,a=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=RF(n,eSe);return!i||!i.length?null:re.createElement(jr,{className:"recharts-label-list"},i.map(function(u,f){var d=_t(a)?r(u,f):va(u&&u.payload,a),h=_t(o)?{}:{id:"".concat(o,"-").concat(f)};return re.createElement(ii,vw({},Tt(u,!0),c,h,{parentViewBox:u.parentViewBox,value:d,textBreakAll:l,viewBox:ii.parseViewBox(_t(s)?u:NF(NF({},u),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Hc.displayName="LabelList";function fSe(t,e){return t?t===!0?re.createElement(Hc,{key:"labelList-implicit",data:e}):re.isValidElement(t)||mt(t)?re.createElement(Hc,{key:"labelList-implicit",data:e,content:t}):wp(t)?re.createElement(Hc,vw({data:e},t,{key:"labelList-implicit"})):null:null}function dSe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=za(n,Hc).map(function(s,o){return ae.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!r)return i;var a=fSe(t.label,e);return[a].concat(tSe(i))}Hc.renderCallByParent=dSe;function nv(t){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nv(t)}function c2(){return c2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c2.apply(this,arguments)}function DF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function FF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DF(Object(r),!0).forEach(function(n){hSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hSe(t,e,r){return e=pSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pSe(t){var e=mSe(t,"string");return nv(e)=="symbol"?e:e+""}function mSe(t,e){if(nv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gSe=function(e,r){var n=Ps(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Kx=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(o?1:-1)+i,f=Math.asin(l/u)/gw,d=c?a:a+s*f,h=Bn(r,n,u,d),m=Bn(r,n,i,d),p=c?a-s*f:a,y=Bn(r,n,u*Math.cos(f*gw),p);return{center:h,circleTangency:m,lineTangency:y,theta:f}},Kj=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=gSe(s,o),c=s+l,u=Bn(r,n,a,s),f=Bn(r,n,a,c),d="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var h=Bn(r,n,i,s),m=Bn(r,n,i,c);d+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(r,",").concat(n," Z");return d},vSe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,f=Ps(u-c),d=Kx({cx:r,cy:n,radius:a,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),h=d.circleTangency,m=d.lineTangency,p=d.theta,y=Kx({cx:r,cy:n,radius:a,angle:u,sign:-f,cornerRadius:s,cornerIsExternal:l}),_=y.circleTangency,b=y.lineTangency,w=y.theta,A=l?Math.abs(c-u):Math.abs(c-u)-p-w;if(A<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):Kj({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var S="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(A>180),",").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var T=Kx({cx:r,cy:n,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=T.circleTangency,P=T.lineTangency,k=T.theta,D=Kx({cx:r,cy:n,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),I=D.circleTangency,N=D.lineTangency,U=D.theta,X=l?Math.abs(c-u):Math.abs(c-u)-k-U;if(X<0&&s===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(X>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},ySe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Yj=function(e){var r=FF(FF({},ySe),e),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,d=r.className;if(s<a||u===f)return null;var h=Pt("recharts-sector",d),m=s-a,p=id(o,m,0,!0),y;return p>0&&Math.abs(u-f)<360?y=vSe({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(p,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):y=Kj({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:u,endAngle:f}),re.createElement("path",c2({},Tt(r,!0),{className:h,d:y,role:"img"}))};function iv(t){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iv(t)}function u2(){return u2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u2.apply(this,arguments)}function LF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $F(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LF(Object(r),!0).forEach(function(n){xSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xSe(t,e,r){return e=_Se(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Se(t){var e=wSe(t,"string");return iv(e)=="symbol"?e:e+""}function wSe(t,e){if(iv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BF={curveBasisClosed:xue,curveBasisOpen:_ue,curveBasis:yue,curveBumpX:iue,curveBumpY:aue,curveLinearClosed:wue,curveLinear:aS,curveMonotoneX:bue,curveMonotoneY:Sue,curveNatural:Aue,curveStep:Tue,curveStepAfter:Cue,curveStepBefore:Eue},Yx=function(e){return e.x===+e.x&&e.y===+e.y},Zp=function(e){return e.x},Qp=function(e){return e.y},bSe=function(e,r){if(mt(e))return e;var n="curve".concat(nS(e));return(n==="curveMonotone"||n==="curveBump")&&r?BF["".concat(n).concat(r==="vertical"?"Y":"X")]:BF[n]||aS},SSe=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=bSe(n,o),f=c?a.filter(function(p){return Yx(p)}):a,d;if(Array.isArray(s)){var h=c?s.filter(function(p){return Yx(p)}):s,m=f.map(function(p,y){return $F($F({},p),{},{base:h[y]})});return o==="vertical"?d=Ux().y(Qp).x1(Zp).x0(function(p){return p.base.x}):d=Ux().x(Zp).y1(Qp).y0(function(p){return p.base.y}),d.defined(Yx).curve(u),d(m)}return o==="vertical"&&Pe(s)?d=Ux().y(Qp).x1(Zp).x0(s):Pe(s)?d=Ux().x(Zp).y1(Qp).y0(s):d=KB().x(Zp).y(Qp),d.defined(Yx).curve(u),d(f)},f2=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?SSe(e):i;return ae.createElement("path",u2({},Tt(e,!1),U_(e),{className:Pt("recharts-curve",r),d:s,ref:a}))},Jj={exports:{}},ASe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",TSe=ASe,ESe=TSe;function Zj(){}function Qj(){}Qj.resetWarningCache=Zj;var CSe=function(){function t(n,i,a,s,o,l){if(l!==ESe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Qj,resetWarningCache:Zj};return r.PropTypes=r,r};Jj.exports=CSe();var kSe=Jj.exports;const Ft=Jt(kSe);var PSe=Object.getOwnPropertyNames,ISe=Object.getOwnPropertySymbols,OSe=Object.prototype.hasOwnProperty;function UF(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function Jx(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,s=a.get(r),o=a.get(n);if(s&&o)return s===n&&o===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function MSe(t){return t!=null?t[Symbol.toStringTag]:void 0}function jF(t){return PSe(t).concat(ISe(t))}var NSe=Object.hasOwn||function(t,e){return OSe.call(t,e)};function kd(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var RSe="__v",DSe="__o",FSe="_owner",VF=Object.getOwnPropertyDescriptor,HF=Object.keys;function LSe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function $Se(t,e){return kd(t.getTime(),e.getTime())}function BSe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function USe(t,e){return t===e}function WF(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),s,o,l=0;(s=a.next())&&!s.done;){for(var c=e.entries(),u=!1,f=0;(o=c.next())&&!o.done;){if(i[f]){f++;continue}var d=s.value,h=o.value;if(r.equals(d[0],h[0],l,f,t,e,r)&&r.equals(d[1],h[1],d[0],h[0],t,e,r)){u=i[f]=!0;break}f++}if(!u)return!1;l++}return!0}var jSe=kd;function VSe(t,e,r){var n=HF(t),i=n.length;if(HF(e).length!==i)return!1;for(;i-- >0;)if(!e9(t,e,r,n[i]))return!1;return!0}function em(t,e,r){var n=jF(t),i=n.length;if(jF(e).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=n[i],!e9(t,e,r,a)||(s=VF(t,a),o=VF(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function HSe(t,e){return kd(t.valueOf(),e.valueOf())}function WSe(t,e){return t.source===e.source&&t.flags===e.flags}function zF(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),s,o;(s=a.next())&&!s.done;){for(var l=e.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!i[u]&&r.equals(s.value,o.value,s.value,o.value,t,e,r)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function zSe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function GSe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function e9(t,e,r,n){return(n===FSe||n===DSe||n===RSe)&&(t.$$typeof||e.$$typeof)?!0:NSe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var qSe="[object Arguments]",XSe="[object Boolean]",KSe="[object Date]",YSe="[object Error]",JSe="[object Map]",ZSe="[object Number]",QSe="[object Object]",eAe="[object RegExp]",tAe="[object Set]",rAe="[object String]",nAe="[object URL]",iAe=Array.isArray,GF=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,qF=Object.assign,aAe=Object.prototype.toString.call.bind(Object.prototype.toString);function sAe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,u=t.areSetsEqual,f=t.areTypedArraysEqual,d=t.areUrlsEqual,h=t.unknownTagComparators;return function(p,y,_){if(p===y)return!0;if(p==null||y==null)return!1;var b=typeof p;if(b!==typeof y)return!1;if(b!=="object")return b==="number"?s(p,y,_):b==="function"?i(p,y,_):!1;var w=p.constructor;if(w!==y.constructor)return!1;if(w===Object)return o(p,y,_);if(iAe(p))return e(p,y,_);if(GF!=null&&GF(p))return f(p,y,_);if(w===Date)return r(p,y,_);if(w===RegExp)return c(p,y,_);if(w===Map)return a(p,y,_);if(w===Set)return u(p,y,_);var A=aAe(p);if(A===KSe)return r(p,y,_);if(A===eAe)return c(p,y,_);if(A===JSe)return a(p,y,_);if(A===tAe)return u(p,y,_);if(A===QSe)return typeof p.then!="function"&&typeof y.then!="function"&&o(p,y,_);if(A===nAe)return d(p,y,_);if(A===YSe)return n(p,y,_);if(A===qSe)return o(p,y,_);if(A===XSe||A===ZSe||A===rAe)return l(p,y,_);if(h){var S=h[A];if(!S){var T=MSe(p);T&&(S=h[T])}if(S)return S(p,y,_)}return!1}}function oAe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?em:LSe,areDatesEqual:$Se,areErrorsEqual:BSe,areFunctionsEqual:USe,areMapsEqual:n?UF(WF,em):WF,areNumbersEqual:jSe,areObjectsEqual:n?em:VSe,arePrimitiveWrappersEqual:HSe,areRegExpsEqual:WSe,areSetsEqual:n?UF(zF,em):zF,areTypedArraysEqual:n?em:zSe,areUrlsEqual:GSe,unknownTagComparators:void 0};if(r&&(i=qF({},i,r(i))),e){var a=Jx(i.areArraysEqual),s=Jx(i.areMapsEqual),o=Jx(i.areObjectsEqual),l=Jx(i.areSetsEqual);i=qF({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return i}function lAe(t){return function(e,r,n,i,a,s,o){return t(e,r,o)}}function cAe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,c){var u=n(),f=u.cache,d=f===void 0?e?new WeakMap:void 0:f,h=u.meta;return r(l,c,{cache:d,equals:i,meta:h,strict:a})};if(e)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return r(l,c,s)}}var uAe=hu();hu({strict:!0});hu({circular:!0});hu({circular:!0,strict:!0});hu({createInternalComparator:function(){return kd}});hu({strict:!0,createInternalComparator:function(){return kd}});hu({circular:!0,createInternalComparator:function(){return kd}});hu({circular:!0,createInternalComparator:function(){return kd},strict:!0});function hu(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,o=oAe(t),l=sAe(o),c=n?n(l):lAe(l);return cAe({circular:r,comparator:l,createState:i,equals:c,strict:s})}function fAe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function XF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):fAe(i)};requestAnimationFrame(n)}function d2(t){"@babel/helpers - typeof";return d2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d2(t)}function dAe(t){return gAe(t)||mAe(t)||pAe(t)||hAe()}function hAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pAe(t,e){if(t){if(typeof t=="string")return KF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KF(t,e)}}function KF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gAe(t){if(Array.isArray(t))return t}function vAe(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,o=dAe(s),l=o[0],c=o.slice(1);if(typeof l=="number"){XF(i.bind(null,c),l);return}i(l),XF(i.bind(null,c));return}d2(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function av(t){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},av(t)}function YF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YF(Object(r),!0).forEach(function(n){t9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t9(t,e,r){return e=yAe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yAe(t){var e=xAe(t,"string");return av(e)==="symbol"?e:String(e)}function xAe(t,e){if(av(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(av(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _Ae=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},wAe=function(e){return e},bAe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Zm=function(e,r){return Object.keys(r).reduce(function(n,i){return JF(JF({},n),{},t9({},i,e(i,r[i])))},{})},ZF=function(e,r,n){return e.map(function(i){return"".concat(bAe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function SAe(t,e){return EAe(t)||TAe(t,e)||r9(t,e)||AAe()}function AAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TAe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function EAe(t){if(Array.isArray(t))return t}function CAe(t){return IAe(t)||PAe(t)||r9(t)||kAe()}function kAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r9(t,e){if(t){if(typeof t=="string")return h2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h2(t,e)}}function PAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function IAe(t){if(Array.isArray(t))return h2(t)}function h2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var yw=1e-4,n9=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},i9=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},QF=function(e,r){return function(n){var i=n9(e,r);return i9(i,n)}},OAe=function(e,r){return function(n){var i=n9(e,r),a=[].concat(CAe(i.map(function(s,o){return s*o}).slice(1)),[0]);return i9(a,n)}},e4=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=SAe(c,4);i=u[0],a=u[1],s=u[2],o=u[3]}}}var f=QF(i,s),d=QF(a,o),h=OAe(i,s),m=function(_){return _>1?1:_<0?0:_},p=function(_){for(var b=_>1?1:_,w=b,A=0;A<8;++A){var S=f(w)-b,T=h(w);if(Math.abs(S-b)<yw||T<yw)return d(w);w=m(w-S/T)}return d(w)};return p.isStepper=!1,p},MAe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(u,f,d){var h=-(u-f)*n,m=d*a,p=d+(h-m)*o/1e3,y=d*o/1e3+u;return Math.abs(y-f)<yw&&Math.abs(p)<yw?[f,0]:[y,p]};return l.isStepper=!0,l.dt=o,l},NAe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return e4(i);case"spring":return MAe();default:if(i.split("(")[0]==="cubic-bezier")return e4(i)}return typeof i=="function"?i:null};function sv(t){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sv(t)}function t4(t){return FAe(t)||DAe(t)||a9(t)||RAe()}function RAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FAe(t){if(Array.isArray(t))return m2(t)}function r4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r4(Object(r),!0).forEach(function(n){p2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function p2(t,e,r){return e=LAe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LAe(t){var e=$Ae(t,"string");return sv(e)==="symbol"?e:String(e)}function $Ae(t,e){if(sv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BAe(t,e){return VAe(t)||jAe(t,e)||a9(t,e)||UAe()}function UAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a9(t,e){if(t){if(typeof t=="string")return m2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m2(t,e)}}function m2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jAe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function VAe(t){if(Array.isArray(t))return t}var xw=function(e,r,n){return e+(r-e)*n},g2=function(e){var r=e.from,n=e.to;return r!==n},HAe=function t(e,r,n){var i=Zm(function(a,s){if(g2(s)){var o=e(s.from,s.to,s.velocity),l=BAe(o,2),c=l[0],u=l[1];return Dn(Dn({},s),{},{from:c,velocity:u})}return s},r);return n<1?Zm(function(a,s){return g2(s)?Dn(Dn({},s),{},{velocity:xw(s.velocity,i[a].velocity,n),from:xw(s.from,i[a].from,n)}):s},r):t(e,i,n-1)};const WAe=function(t,e,r,n,i){var a=_Ae(t,e),s=a.reduce(function(y,_){return Dn(Dn({},y),{},p2({},_,[t[_],e[_]]))},{}),o=a.reduce(function(y,_){return Dn(Dn({},y),{},p2({},_,{from:t[_],velocity:0,to:e[_]}))},{}),l=-1,c,u,f=function(){return null},d=function(){return Zm(function(_,b){return b.from},o)},h=function(){return!Object.values(o).filter(g2).length},m=function(_){c||(c=_);var b=_-c,w=b/r.dt;o=HAe(r,o,w),i(Dn(Dn(Dn({},t),e),d())),c=_,h()||(l=requestAnimationFrame(f))},p=function(_){u||(u=_);var b=(_-u)/n,w=Zm(function(S,T){return xw.apply(void 0,t4(T).concat([r(b)]))},s);if(i(Dn(Dn(Dn({},t),e),w)),b<1)l=requestAnimationFrame(f);else{var A=Zm(function(S,T){return xw.apply(void 0,t4(T).concat([r(1)]))},s);i(Dn(Dn(Dn({},t),e),A))}};return f=r.isStepper?m:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function q0(t){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q0(t)}var zAe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function GAe(t,e){if(t==null)return{};var r=qAe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qAe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function JA(t){return JAe(t)||YAe(t)||KAe(t)||XAe()}function XAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KAe(t,e){if(t){if(typeof t=="string")return v2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v2(t,e)}}function YAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JAe(t){if(Array.isArray(t))return v2(t)}function v2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function n4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function is(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n4(Object(r),!0).forEach(function(n){hm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hm(t,e,r){return e=s9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s9(n.key),n)}}function eTe(t,e,r){return e&&QAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function s9(t){var e=tTe(t,"string");return q0(e)==="symbol"?e:String(e)}function tTe(t,e){if(q0(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(q0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y2(t,e)}function y2(t,e){return y2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},y2(t,e)}function nTe(t){var e=iTe();return function(){var n=_w(t),i;if(e){var a=_w(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return x2(this,i)}}function x2(t,e){if(e&&(q0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _2(t)}function _2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iTe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _w(t){return _w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_w(t)}var Ml=function(t){rTe(r,t);var e=nTe(r);function r(n,i){var a;ZAe(this,r),a=e.call(this,n,i);var s=a.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,f=s.steps,d=s.children,h=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(_2(a)),a.changeStyle=a.changeStyle.bind(_2(a)),!o||h<=0)return a.state={style:{}},typeof d=="function"&&(a.state={style:u}),x2(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof d=="function")return a.state={style:c},x2(a);a.state={style:l?hm({},l,c):c}}else a.state={style:{}};return a}return eTe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,f=a.from,d=this.state.style;if(o){if(!s){var h={style:l?hm({},l,u):u};this.state&&d&&(l&&d[l]!==u||!l&&d!==u)&&this.setState(h);return}if(!(uAe(i.to,u)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=m||c?f:i.to;if(this.state&&d){var y={style:l?hm({},l,p):p};(l&&d[l]!==p||!l&&d!==p)&&this.setState(y)}this.runAnimation(is(is({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,h=WAe(s,o,NAe(c),l,this.changeStyle),m=function(){a.stopJSAnimation=h()};this.manager.start([d,u,m,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,c=s[0],u=c.style,f=c.duration,d=f===void 0?0:f,h=function(p,y,_){if(_===0)return p;var b=y.duration,w=y.easing,A=w===void 0?"ease":w,S=y.style,T=y.properties,E=y.onAnimationEnd,P=_>0?s[_-1]:y,k=T||Object.keys(S);if(typeof A=="function"||A==="spring")return[].concat(JA(p),[a.runJSAnimation.bind(a,{from:P.style,to:S,duration:b,easing:A}),b]);var D=ZF(k,b,A),I=is(is(is({},P.style),S),{},{transition:D});return[].concat(JA(p),[I,b,E]).filter(wAe)};return this.manager.start([l].concat(JA(s.reduce(h,[u,Math.max(d,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=vAe());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,h=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof h=="function"||c==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var p=o?hm({},o,l):l,y=ZF(Object.keys(p),s,c);m.start([u,a,is(is({},p),{},{transition:y}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=GAe(i,zAe),c=ae.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!o||c===0||s<=0)return a;var f=function(h){var m=h.props,p=m.style,y=p===void 0?{}:p,_=m.className,b=ae.cloneElement(h,is(is({},l),{},{style:is(is({},y),u),className:_}));return b};return c===1?f(ae.Children.only(a)):re.createElement("div",null,ae.Children.map(a,function(d){return f(d)}))}}]),r}(ae.PureComponent);Ml.displayName="Animate";Ml.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ml.propTypes={from:Ft.oneOfType([Ft.object,Ft.string]),to:Ft.oneOfType([Ft.object,Ft.string]),attributeName:Ft.string,duration:Ft.number,begin:Ft.number,easing:Ft.oneOfType([Ft.string,Ft.func]),steps:Ft.arrayOf(Ft.shape({duration:Ft.number.isRequired,style:Ft.object.isRequired,easing:Ft.oneOfType([Ft.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ft.func]),properties:Ft.arrayOf("string"),onAnimationEnd:Ft.func})),children:Ft.oneOfType([Ft.node,Ft.func]),isActive:Ft.bool,canBegin:Ft.bool,onAnimationEnd:Ft.func,shouldReAnimate:Ft.bool,onAnimationStart:Ft.func,onAnimationReStart:Ft.func};function ov(t){"@babel/helpers - typeof";return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ov(t)}function ww(){return ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ww.apply(this,arguments)}function aTe(t,e){return cTe(t)||lTe(t,e)||oTe(t,e)||sTe()}function sTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oTe(t,e){if(t){if(typeof t=="string")return i4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i4(t,e)}}function i4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function cTe(t){if(Array.isArray(t))return t}function a4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function s4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a4(Object(r),!0).forEach(function(n){uTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uTe(t,e,r){return e=fTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fTe(t){var e=dTe(t,"string");return ov(e)=="symbol"?e:e+""}function dTe(t,e){if(ov(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o4=function(e,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,u;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],d=0,h=4;d<h;d++)f[d]=a[d]>s?s:a[d];u="M".concat(e,",").concat(r+o*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(r)),u+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(r+o*f[1])),u+="L ".concat(e+n,",").concat(r+i-o*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+n-l*f[2],",").concat(r+i)),u+="L ".concat(e+l*f[3],",").concat(r+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+i-o*f[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var m=Math.min(s,a);u="M ".concat(e,",").concat(r+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(r,`
            L `).concat(e+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+n,",").concat(r+o*m,`
            L `).concat(e+n,",").concat(r+i-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+n-l*m,",").concat(r+i,`
            L `).concat(e+l*m,",").concat(r+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(r+i-o*m," Z")}else u="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},hTe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(a,a+o),u=Math.max(a,a+o),f=Math.min(s,s+l),d=Math.max(s,s+l);return n>=c&&n<=u&&i>=f&&i<=d}return!1},pTe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iO=function(e){var r=s4(s4({},pTe),e),n=ae.useRef(),i=ae.useState(-1),a=aTe(i,2),s=a[0],o=a[1];ae.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&o(A)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,d=r.radius,h=r.className,m=r.animationEasing,p=r.animationDuration,y=r.animationBegin,_=r.isAnimationActive,b=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var w=Pt("recharts-rectangle",h);return b?re.createElement(Ml,{canBegin:s>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:p,animationEasing:m,isActive:b},function(A){var S=A.width,T=A.height,E=A.x,P=A.y;return re.createElement(Ml,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:p,isActive:_,easing:m},re.createElement("path",ww({},Tt(r,!0),{className:w,d:o4(E,P,S,T,d),ref:n})))}):re.createElement("path",ww({},Tt(r,!0),{className:w,d:o4(l,c,u,f,d)}))};function w2(){return w2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},w2.apply(this,arguments)}var aO=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,s=Pt("recharts-dot",a);return r===+r&&n===+n&&i===+i?ae.createElement("circle",w2({},Tt(e,!1),U_(e),{className:s,cx:r,cy:n,r:i})):null};function lv(t){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lv(t)}var mTe=["x","y","top","left","width","height","className"];function b2(){return b2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b2.apply(this,arguments)}function l4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gTe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l4(Object(r),!0).forEach(function(n){vTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vTe(t,e,r){return e=yTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yTe(t){var e=xTe(t,"string");return lv(e)=="symbol"?e:e+""}function xTe(t,e){if(lv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Te(t,e){if(t==null)return{};var r=wTe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var bTe=function(e,r,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},STe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,c=l===void 0?0:l,u=e.width,f=u===void 0?0:u,d=e.height,h=d===void 0?0:d,m=e.className,p=_Te(e,mTe),y=gTe({x:n,y:a,top:o,left:c,width:f,height:h},p);return!Pe(n)||!Pe(a)||!Pe(f)||!Pe(h)||!Pe(o)||!Pe(c)?null:re.createElement("path",b2({},Tt(y,!0),{className:Pt("recharts-cross",m),d:bTe(n,a,f,h,o,c)}))},ATe=xU,TTe=ATe(Object.getPrototypeOf,Object),ETe=TTe,CTe=Ul,kTe=ETe,PTe=jl,ITe="[object Object]",OTe=Function.prototype,MTe=Object.prototype,o9=OTe.toString,NTe=MTe.hasOwnProperty,RTe=o9.call(Object);function DTe(t){if(!PTe(t)||CTe(t)!=ITe)return!1;var e=kTe(t);if(e===null)return!0;var r=NTe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&o9.call(r)==RTe}var FTe=DTe;const LTe=Jt(FTe);var $Te=Ul,BTe=jl,UTe="[object Boolean]";function jTe(t){return t===!0||t===!1||BTe(t)&&$Te(t)==UTe}var VTe=jTe;const HTe=Jt(VTe);function cv(t){"@babel/helpers - typeof";return cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cv(t)}function bw(){return bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bw.apply(this,arguments)}function WTe(t,e){return XTe(t)||qTe(t,e)||GTe(t,e)||zTe()}function zTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GTe(t,e){if(t){if(typeof t=="string")return c4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c4(t,e)}}function c4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function XTe(t){if(Array.isArray(t))return t}function u4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function f4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u4(Object(r),!0).forEach(function(n){KTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KTe(t,e,r){return e=YTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YTe(t){var e=JTe(t,"string");return cv(e)=="symbol"?e:e+""}function JTe(t,e){if(cv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var d4=function(e,r,n,i,a){var s=n-i,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-s/2,",").concat(r+a),o+="L ".concat(e+n-s/2-i,",").concat(r+a),o+="L ".concat(e,",").concat(r," Z"),o},ZTe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},QTe=function(e){var r=f4(f4({},ZTe),e),n=ae.useRef(),i=ae.useState(-1),a=WTe(i,2),s=a[0],o=a[1];ae.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&o(w)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,d=r.height,h=r.className,m=r.animationEasing,p=r.animationDuration,y=r.animationBegin,_=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||d!==+d||u===0&&f===0||d===0)return null;var b=Pt("recharts-trapezoid",h);return _?re.createElement(Ml,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:d,x:l,y:c},duration:p,animationEasing:m,isActive:_},function(w){var A=w.upperWidth,S=w.lowerWidth,T=w.height,E=w.x,P=w.y;return re.createElement(Ml,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:p,easing:m},re.createElement("path",bw({},Tt(r,!0),{className:b,d:d4(E,P,A,S,T),ref:n})))}):re.createElement("g",null,re.createElement("path",bw({},Tt(r,!0),{className:b,d:d4(l,c,u,f,d)})))},eEe=["option","shapeType","propTransformer","activeClassName","isActive"];function uv(t){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uv(t)}function tEe(t,e){if(t==null)return{};var r=rEe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rEe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function h4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h4(Object(r),!0).forEach(function(n){nEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nEe(t,e,r){return e=iEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iEe(t){var e=aEe(t,"string");return uv(e)=="symbol"?e:e+""}function aEe(t,e){if(uv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sEe(t,e){return Sw(Sw({},e),t)}function oEe(t,e){return t==="symbols"}function p4(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return re.createElement(iO,r);case"trapezoid":return re.createElement(QTe,r);case"sector":return re.createElement(Yj,r);case"symbols":if(oEe(e))return re.createElement(SI,r);break;default:return null}}function lEe(t){return ae.isValidElement(t)?t.props:t}function cEe(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?sEe:n,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=tEe(t,eEe),c;if(ae.isValidElement(e))c=ae.cloneElement(e,Sw(Sw({},l),lEe(e)));else if(mt(e))c=e(l);else if(LTe(e)&&!HTe(e)){var u=i(e,l);c=re.createElement(p4,{shapeType:r,elementProps:u})}else{var f=l;c=re.createElement(p4,{shapeType:r,elementProps:f})}return o?re.createElement(jr,{className:s},c):c}function wS(t,e){return e!=null&&"trapezoids"in t.props}function bS(t,e){return e!=null&&"sectors"in t.props}function fv(t,e){return e!=null&&"points"in t.props}function uEe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function fEe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function dEe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function hEe(t,e){var r;return wS(t,e)?r=uEe:bS(t,e)?r=fEe:fv(t,e)&&(r=dEe),r}function pEe(t,e){var r;return wS(t,e)?r="trapezoids":bS(t,e)?r="sectors":fv(t,e)&&(r="points"),r}function mEe(t,e){if(wS(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(bS(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return fv(t,e)?e.payload:{}}function gEe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=pEe(r,e),a=mEe(r,e),s=n.filter(function(l,c){var u=yS(a,l),f=r.props[i].filter(function(m){var p=hEe(r,e);return p(m,e)}),d=r.props[i].indexOf(f[f.length-1]),h=c===d;return u&&h}),o=n.indexOf(s[s.length-1]);return o}var vEe=Math.ceil,yEe=Math.max;function xEe(t,e,r,n){for(var i=-1,a=yEe(vEe((e-t)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=t,t+=r;return s}var _Ee=xEe,wEe=$U,m4=1/0,bEe=17976931348623157e292;function SEe(t){if(!t)return t===0?t:0;if(t=wEe(t),t===m4||t===-m4){var e=t<0?-1:1;return e*bEe}return t===t?t:0}var l9=SEe,AEe=_Ee,TEe=cS,ZA=l9;function EEe(t){return function(e,r,n){return n&&typeof n!="number"&&TEe(e,r,n)&&(r=n=void 0),e=ZA(e),r===void 0?(r=e,e=0):r=ZA(r),n=n===void 0?e<r?1:-1:ZA(n),AEe(e,r,n,t)}}var CEe=EEe,kEe=CEe,PEe=kEe(),IEe=PEe;const Aw=Jt(IEe);function dv(t){"@babel/helpers - typeof";return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dv(t)}function g4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function v4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g4(Object(r),!0).forEach(function(n){c9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function c9(t,e,r){return e=OEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OEe(t){var e=MEe(t,"string");return dv(e)=="symbol"?e:e+""}function MEe(t,e){if(dv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NEe=["Webkit","Moz","O","ms"],REe=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=NEe.reduce(function(a,s){return v4(v4({},a),{},c9({},s+n,r))},{});return i[e]=r,i};function X0(t){"@babel/helpers - typeof";return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X0(t)}function Tw(){return Tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tw.apply(this,arguments)}function y4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y4(Object(r),!0).forEach(function(n){Xi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f9(n.key),n)}}function FEe(t,e,r){return e&&x4(t.prototype,e),r&&x4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function LEe(t,e,r){return e=Ew(e),$Ee(t,u9()?Reflect.construct(e,r||[],Ew(t).constructor):e.apply(t,r))}function $Ee(t,e){if(e&&(X0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BEe(t)}function BEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u9=function(){return!!t})()}function Ew(t){return Ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ew(t)}function UEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S2(t,e)}function S2(t,e){return S2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},S2(t,e)}function Xi(t,e,r){return e=f9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f9(t){var e=jEe(t,"string");return X0(e)=="symbol"?e:e+""}function jEe(t,e){if(X0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(X0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var VEe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Ym().domain(Aw(0,l)).range([a,a+s-o]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:u}},_4=function(e){return e.changedTouches&&!!e.changedTouches.length},K0=function(t){function e(r){var n;return DEe(this,e),n=LEe(this,e,[r]),Xi(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Xi(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Xi(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),n.detachDragEndListener()}),Xi(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Xi(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Xi(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Xi(n,"handleSlideDragStart",function(i){var a=_4(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return UEe(e,t),FEe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,f=Math.min(i,a),d=Math.max(i,a),h=e.getIndexInRange(s,f),m=e.getIndexInRange(s,d);return{startIndex:h-h%l,endIndex:m===u?u:m-m%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=va(a[n],o,n);return mt(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,d=l.startIndex,h=l.endIndex,m=l.onChange,p=n.pageX-a;p>0?p=Math.min(p,c+u-f-o,c+u-f-s):p<0&&(p=Math.max(p,c-s,c-o));var y=this.getIndex({startX:s+p,endX:o+p});(y.startIndex!==d||y.endIndex!==h)&&m&&m(y),this.setState({startX:s+p,endX:o+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=_4(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[s],u=this.props,f=u.x,d=u.width,h=u.travellerWidth,m=u.onChange,p=u.gap,y=u.data,_={startX:this.state.startX,endX:this.state.endX},b=n.pageX-a;b>0?b=Math.min(b,f+d-h-c):b<0&&(b=Math.max(b,f-c)),_[s]=c+b;var w=this.getIndex(_),A=w.startIndex,S=w.endIndex,T=function(){var P=y.length-1;return s==="startX"&&(o>l?A%p===0:S%p===0)||o<l&&S===P||s==="endX"&&(o>l?S%p===0:A%p===0)||o>l&&S===P};this.setState(Xi(Xi({},s,c+b),"brushMoveStartX",n.pageX),function(){m&&T()&&m(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[i],f=o.indexOf(u);if(f!==-1){var d=f+n;if(!(d===-1||d>=o.length)){var h=o[d];i==="startX"&&h>=c||i==="endX"&&h<=l||this.setState(Xi({},i,h),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return re.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.data,c=n.children,u=n.padding,f=ae.Children.only(c);return f?re.cloneElement(f,{x:i,y:a,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,d=l.traveller,h=l.ariaLabel,m=l.data,p=l.startIndex,y=l.endIndex,_=Math.max(n,this.props.x),b=QA(QA({},Tt(this.props,!1)),{},{x:_,y:c,width:u,height:f}),w=h||"Min value: ".concat((a=m[p])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=m[y])===null||s===void 0?void 0:s.name);return re.createElement(jr,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),o.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,b))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(n,i)+c,f=Math.max(Math.abs(i-n)-c,0);return re.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,d=u.endX,h=5,m={pointerEvents:"none",fill:c};return re.createElement(jr,{className:"recharts-brush-texts"},re.createElement(tw,Tw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-h,y:s+o/2},m),this.getTextOfTick(i)),re.createElement(tw,Tw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+l+h,y:s+o/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,o=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,d=this.state,h=d.startX,m=d.endX,p=d.isTextActive,y=d.isSlideMoving,_=d.isTravellerMoving,b=d.isTravellerFocused;if(!i||!i.length||!Pe(o)||!Pe(l)||!Pe(c)||!Pe(u)||c<=0||u<=0)return null;var w=Pt("recharts-brush",a),A=re.Children.count(s)===1,S=REe("userSelect","none");return re.createElement(jr,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(h,m),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(m,"endX"),(p||y||_||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(a+o/2)-1;return re.createElement(re.Fragment,null,re.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),re.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),re.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return re.isValidElement(n)?a=re.cloneElement(n,i):mt(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return QA({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},a&&a.length?VEe({data:a,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var d=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>i?o=l:s=l}return i>=n[o]?o:s}}])}(ae.PureComponent);Xi(K0,"displayName","Brush");Xi(K0,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var HEe=II;function WEe(t,e){var r;return HEe(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var zEe=WEe,GEe=fU,qEe=uu,XEe=zEe,KEe=zi,YEe=cS;function JEe(t,e,r){var n=KEe(t)?GEe:XEe;return r&&YEe(t,e,r)&&(e=void 0),n(t,qEe(e))}var ZEe=JEe;const QEe=Jt(ZEe);var xo=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},w4=NU;function e2e(t,e,r){e=="__proto__"&&w4?w4(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var t2e=e2e,r2e=t2e,n2e=OU,i2e=uu;function a2e(t,e){var r={};return e=i2e(e),n2e(t,function(n,i,a){r2e(r,i,e(n,i,a))}),r}var s2e=a2e;const o2e=Jt(s2e);function l2e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var c2e=l2e,u2e=II;function f2e(t,e){var r=!0;return u2e(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var d2e=f2e,h2e=c2e,p2e=d2e,m2e=uu,g2e=zi,v2e=cS;function y2e(t,e,r){var n=g2e(t)?h2e:p2e;return r&&v2e(t,e,r)&&(e=void 0),n(t,m2e(e))}var x2e=y2e;const d9=Jt(x2e);var _2e=["x","y"];function hv(t){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hv(t)}function A2(){return A2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},A2.apply(this,arguments)}function b4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b4(Object(r),!0).forEach(function(n){w2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function w2e(t,e,r){return e=b2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b2e(t){var e=S2e(t,"string");return hv(e)=="symbol"?e:e+""}function S2e(t,e){if(hv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A2e(t,e){if(t==null)return{};var r=T2e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function T2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function E2e(t,e){var r=t.x,n=t.y,i=A2e(t,_2e),a="".concat(r),s=parseInt(a,10),o="".concat(n),l=parseInt(o,10),c="".concat(e.height||i.height),u=parseInt(c,10),f="".concat(e.width||i.width),d=parseInt(f,10);return tm(tm(tm(tm(tm({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:d,name:e.name,radius:e.radius})}function S4(t){return re.createElement(cEe,A2({shapeType:"rectangle",propTransformer:E2e,activeClassName:"recharts-active-bar"},t))}var C2e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=Pe(n)||Hle(n);return a?e(n,i):(a||sd(),r)}},k2e=["value","background"],h9;function Y0(t){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y0(t)}function P2e(t,e){if(t==null)return{};var r=I2e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function I2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Cw(){return Cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cw.apply(this,arguments)}function A4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A4(Object(r),!0).forEach(function(n){Nc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function O2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m9(n.key),n)}}function M2e(t,e,r){return e&&T4(t.prototype,e),r&&T4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function N2e(t,e,r){return e=kw(e),R2e(t,p9()?Reflect.construct(e,r||[],kw(t).constructor):e.apply(t,r))}function R2e(t,e){if(e&&(Y0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D2e(t)}function D2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p9=function(){return!!t})()}function kw(t){return kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kw(t)}function F2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T2(t,e)}function T2(t,e){return T2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},T2(t,e)}function Nc(t,e,r){return e=m9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m9(t){var e=L2e(t,"string");return Y0(e)=="symbol"?e:e+""}function L2e(t,e){if(Y0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Y0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ds=function(t){function e(){var r;O2e(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=N2e(this,e,[].concat(i)),Nc(r,"state",{isAnimationFinished:!1}),Nc(r,"id",Jy("recharts-bar-")),Nc(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Nc(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return F2e(e,t),M2e(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,c=a.activeBar,u=Tt(this.props,!1);return n&&n.map(function(f,d){var h=d===l,m=h?c:s,p=Yr(Yr(Yr({},u),f),{},{isActive:h,option:m,index:d,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return re.createElement(jr,Cw({className:"recharts-bar-rectangle"},j_(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(d)}),re.createElement(S4,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,d=this.state.prevData;return re.createElement(Ml,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var m=h.t,p=a.map(function(y,_){var b=d&&d[_];if(b){var w=Ts(b.x,y.x),A=Ts(b.y,y.y),S=Ts(b.width,y.width),T=Ts(b.height,y.height);return Yr(Yr({},y),{},{x:w(m),y:A(m),width:S(m),height:T(m)})}if(s==="horizontal"){var E=Ts(0,y.height),P=E(m);return Yr(Yr({},y),{},{y:y.y+y.height-P,height:P})}var k=Ts(0,y.width),D=k(m);return Yr(Yr({},y),{},{width:D})});return re.createElement(jr,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!yS(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=Tt(this.props.background,!1);return a.map(function(c,u){c.value;var f=c.background,d=P2e(c,k2e);if(!f)return null;var h=Yr(Yr(Yr(Yr(Yr({},d),{},{fill:"#eee"},f),l),j_(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return re.createElement(S4,Cw({key:"background-bar-".concat(u),option:n.props.background,isActive:u===o},h))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=za(u,nx);if(!f)return null;var d=c==="vertical"?s[0].height/2:s[0].width/2,h=function(y,_){var b=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:b,errorVal:va(y,_)}},m={clipPath:n?"url(#clipPath-".concat(i,")"):null};return re.createElement(jr,m,f.map(function(p){return re.cloneElement(p,{key:"error-bar-".concat(i,"-").concat(p.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:d,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,d=n.height,h=n.isAnimationActive,m=n.background,p=n.id;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,_=Pt("recharts-bar",s),b=o&&o.allowDataOverflow,w=l&&l.allowDataOverflow,A=b||w,S=_t(p)?this.id:p;return re.createElement(jr,{className:_},b||w?re.createElement("defs",null,re.createElement("clipPath",{id:"clipPath-".concat(S)},re.createElement("rect",{x:b?c:c-f/2,y:w?u:u-d/2,width:b?f:f*2,height:w?d:d*2}))):null,re.createElement(jr,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(S,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,S),(!h||y)&&Hc.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(ae.PureComponent);h9=Ds;Nc(Ds,"displayName","Bar");Nc(Ds,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!kp.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Nc(Ds,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,d=t.offset,h=dbe(n,r);if(!h)return null;var m=e.layout,p=r.type.defaultProps,y=p!==void 0?Yr(Yr({},p),r.props):r.props,_=y.dataKey,b=y.children,w=y.minPointSize,A=m==="horizontal"?s:a,S=c?A.scale.domain():null,T=_be({numericAxis:A}),E=za(b,jU),P=f.map(function(k,D){var I,N,U,X,G,Q;c?I=hbe(c[u+D],S):(I=va(k,_),Array.isArray(I)||(I=[T,I]));var J=C2e(w,h9.defaultProps.minPointSize)(I[1],D);if(m==="horizontal"){var ee,V=[s.scale(I[0]),s.scale(I[1])],ne=V[0],se=V[1];N=AF({axis:a,ticks:o,bandSize:i,offset:h.offset,entry:k,index:D}),U=(ee=se??ne)!==null&&ee!==void 0?ee:void 0,X=h.size;var R=ne-se;if(G=Number.isNaN(R)?0:R,Q={x:N,y:s.y,width:X,height:s.height},Math.abs(J)>0&&Math.abs(G)<Math.abs(J)){var W=Ps(G||J)*(Math.abs(J)-Math.abs(G));U-=W,G+=W}}else{var Y=[a.scale(I[0]),a.scale(I[1])],Z=Y[0],oe=Y[1];if(N=Z,U=AF({axis:s,ticks:l,bandSize:i,offset:h.offset,entry:k,index:D}),X=oe-Z,G=h.size,Q={x:a.x,y:U,width:a.width,height:G},Math.abs(J)>0&&Math.abs(X)<Math.abs(J)){var de=Ps(X||J)*(Math.abs(J)-Math.abs(X));X+=de}}return Yr(Yr(Yr({},k),{},{x:N,y:U,width:X,height:G,value:c?I:I[1],payload:k,background:Q},E&&E[D]&&E[D].props),{},{tooltipPayload:[qj(r,k)],tooltipPosition:{x:N+X/2,y:U+G/2}})});return Yr({data:P,layout:m},d)});function pv(t){"@babel/helpers - typeof";return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pv(t)}function $2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g9(n.key),n)}}function B2e(t,e,r){return e&&E4(t.prototype,e),r&&E4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function C4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C4(Object(r),!0).forEach(function(n){SS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SS(t,e,r){return e=g9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g9(t){var e=U2e(t,"string");return pv(e)=="symbol"?e:e+""}function U2e(t,e){if(pv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v9=function(e,r,n,i,a){var s=e.width,o=e.height,l=e.layout,c=e.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},d=!!aa(c,Ds);return u.reduce(function(h,m){var p=r[m],y=p.orientation,_=p.domain,b=p.padding,w=b===void 0?{}:b,A=p.mirror,S=p.reversed,T="".concat(y).concat(A?"Mirror":""),E,P,k,D,I;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var N=_[1]-_[0],U=1/0,X=p.categoricalDomain.sort(Gle);if(X.forEach(function(Y,Z){Z>0&&(U=Math.min((Y||0)-(X[Z-1]||0),U))}),Number.isFinite(U)){var G=U/N,Q=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(E=G*Q/2),p.padding==="no-gap"){var J=id(e.barCategoryGap,G*Q),ee=G*Q/2;E=ee-J-(ee-J)/Q*J}}}i==="xAxis"?P=[n.left+(w.left||0)+(E||0),n.left+n.width-(w.right||0)-(E||0)]:i==="yAxis"?P=l==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(E||0),n.top+n.height-(w.bottom||0)-(E||0)]:P=p.range,S&&(P=[P[1],P[0]]);var V=ube(p,a,d),ne=V.scale,se=V.realScaleType;ne.domain(_).range(P),fbe(ne);var R=xbe(ne,bs(bs({},p),{},{realScaleType:se}));i==="xAxis"?(I=y==="top"&&!A||y==="bottom"&&A,k=n.left,D=f[T]-I*p.height):i==="yAxis"&&(I=y==="left"&&!A||y==="right"&&A,k=f[T]-I*p.width,D=n.top);var W=bs(bs(bs({},p),R),{},{realScaleType:se,x:k,y:D,scale:ne,width:i==="xAxis"?n.width:p.width,height:i==="yAxis"?n.height:p.height});return W.bandSize=mw(W,R),!p.hide&&i==="xAxis"?f[T]+=(I?-1:1)*W.height:p.hide||(f[T]+=(I?-1:1)*W.width),bs(bs({},h),{},SS({},m,W))},{})},y9=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},j2e=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return y9({x:r,y:n},{x:i,y:a})},x9=function(){function t(e){$2e(this,t),this.scale=e}return B2e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();SS(x9,"EPS",1e-4);var sO=function(e){var r=Object.keys(e).reduce(function(n,i){return bs(bs({},n),{},SS({},i,x9.create(e[i])))},{});return bs(bs({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return o2e(i,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return d9(i,function(a,s){return r[s].isInRange(a)})}})};function V2e(t){return(t%180+180)%180}var H2e=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=V2e(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},W2e=uu,z2e=Zy,G2e=oS;function q2e(t){return function(e,r,n){var i=Object(e);if(!z2e(e)){var a=W2e(r);e=G2e(e),r=function(o){return a(i[o],o,i)}}var s=t(e,r,n);return s>-1?i[a?e[s]:s]:void 0}}var X2e=q2e,K2e=l9;function Y2e(t){var e=K2e(t),r=e%1;return e===e?r?e-r:e:0}var J2e=Y2e,Z2e=TU,Q2e=uu,eCe=J2e,tCe=Math.max;function rCe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:eCe(r);return i<0&&(i=tCe(n+i,0)),Z2e(t,Q2e(e),i)}var nCe=rCe,iCe=X2e,aCe=nCe,sCe=iCe(aCe),oCe=sCe;const lCe=Jt(oCe);var cCe=Koe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),oO=ae.createContext(void 0),lO=ae.createContext(void 0),_9=ae.createContext(void 0),w9=ae.createContext({}),b9=ae.createContext(void 0),S9=ae.createContext(0),A9=ae.createContext(0),k4=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=e.clipPathId,o=e.children,l=e.width,c=e.height,u=cCe(a);return re.createElement(oO.Provider,{value:n},re.createElement(lO.Provider,{value:i},re.createElement(w9.Provider,{value:a},re.createElement(_9.Provider,{value:u},re.createElement(b9.Provider,{value:s},re.createElement(S9.Provider,{value:c},re.createElement(A9.Provider,{value:l},o)))))))},uCe=function(){return ae.useContext(b9)},T9=function(e){var r=ae.useContext(oO);r==null&&sd();var n=r[e];return n==null&&sd(),n},fCe=function(){var e=ae.useContext(oO);return ec(e)},dCe=function(){var e=ae.useContext(lO),r=lCe(e,function(n){return d9(n.domain,Number.isFinite)});return r||ec(e)},E9=function(e){var r=ae.useContext(lO);r==null&&sd();var n=r[e];return n==null&&sd(),n},hCe=function(){var e=ae.useContext(_9);return e},pCe=function(){return ae.useContext(w9)},cO=function(){return ae.useContext(A9)},uO=function(){return ae.useContext(S9)};function J0(t){"@babel/helpers - typeof";return J0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J0(t)}function mCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gCe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,k9(n.key),n)}}function vCe(t,e,r){return e&&gCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yCe(t,e,r){return e=Pw(e),xCe(t,C9()?Reflect.construct(e,r||[],Pw(t).constructor):e.apply(t,r))}function xCe(t,e){if(e&&(J0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Ce(t)}function _Ce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C9=function(){return!!t})()}function Pw(t){return Pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pw(t)}function wCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E2(t,e)}function E2(t,e){return E2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},E2(t,e)}function P4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function I4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P4(Object(r),!0).forEach(function(n){fO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fO(t,e,r){return e=k9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k9(t){var e=bCe(t,"string");return J0(e)=="symbol"?e:e+""}function bCe(t,e){if(J0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(J0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function SCe(t,e){return CCe(t)||ECe(t,e)||TCe(t,e)||ACe()}function ACe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TCe(t,e){if(t){if(typeof t=="string")return O4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O4(t,e)}}function O4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ECe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function CCe(t){if(Array.isArray(t))return t}function C2(){return C2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C2.apply(this,arguments)}var kCe=function(e,r){var n;return re.isValidElement(e)?n=re.cloneElement(e,r):mt(e)?n=e(r):n=re.createElement("line",C2({},r,{className:"recharts-reference-line-line"})),n},PCe=function(e,r,n,i,a,s,o,l,c){var u=a.x,f=a.y,d=a.width,h=a.height;if(n){var m=c.y,p=e.y.apply(m,{position:s});if(xo(c,"discard")&&!e.y.isInRange(p))return null;var y=[{x:u+d,y:p},{x:u,y:p}];return l==="left"?y.reverse():y}if(r){var _=c.x,b=e.x.apply(_,{position:s});if(xo(c,"discard")&&!e.x.isInRange(b))return null;var w=[{x:b,y:f+h},{x:b,y:f}];return o==="top"?w.reverse():w}if(i){var A=c.segment,S=A.map(function(T){return e.apply(T,{position:s})});return xo(c,"discard")&&QEe(S,function(T){return!e.isInRange(T)})?null:S}return null};function ICe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,c=uCe(),u=T9(i),f=E9(a),d=hCe();if(!c||!d)return null;yl(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=sO({x:u.scale,y:f.scale}),m=pn(e),p=pn(r),y=n&&n.length===2,_=PCe(h,m,p,y,d,t.position,u.orientation,f.orientation,t);if(!_)return null;var b=SCe(_,2),w=b[0],A=w.x,S=w.y,T=b[1],E=T.x,P=T.y,k=xo(t,"hidden")?"url(#".concat(c,")"):void 0,D=I4(I4({clipPath:k},Tt(t,!0)),{},{x1:A,y1:S,x2:E,y2:P});return re.createElement(jr,{className:Pt("recharts-reference-line",o)},kCe(s,D),ii.renderCallByParent(t,j2e({x1:A,y1:S,x2:E,y2:P})))}var dO=function(t){function e(){return mCe(this,e),yCe(this,e,arguments)}return wCe(e,t),vCe(e,[{key:"render",value:function(){return re.createElement(ICe,this.props)}}])}(re.Component);fO(dO,"displayName","ReferenceLine");fO(dO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function k2(){return k2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},k2.apply(this,arguments)}function Z0(t){"@babel/helpers - typeof";return Z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z0(t)}function M4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function N4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M4(Object(r),!0).forEach(function(n){AS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MCe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I9(n.key),n)}}function NCe(t,e,r){return e&&MCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RCe(t,e,r){return e=Iw(e),DCe(t,P9()?Reflect.construct(e,r||[],Iw(t).constructor):e.apply(t,r))}function DCe(t,e){if(e&&(Z0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FCe(t)}function FCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P9=function(){return!!t})()}function Iw(t){return Iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iw(t)}function LCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P2(t,e)}function P2(t,e){return P2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},P2(t,e)}function AS(t,e,r){return e=I9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I9(t){var e=$Ce(t,"string");return Z0(e)=="symbol"?e:e+""}function $Ce(t,e){if(Z0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Z0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var BCe=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=sO({x:i.scale,y:a.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return xo(e,"discard")&&!s.isInRange(o)?null:o},TS=function(t){function e(){return OCe(this,e),RCe(this,e,arguments)}return LCe(e,t),NCe(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=pn(i),u=pn(a);if(yl(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=BCe(this.props);if(!f)return null;var d=f.x,h=f.y,m=this.props,p=m.shape,y=m.className,_=xo(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=N4(N4({clipPath:_},Tt(this.props,!0)),{},{cx:d,cy:h});return re.createElement(jr,{className:Pt("recharts-reference-dot",y)},e.renderDot(p,b),ii.renderCallByParent(this.props,{x:d-s,y:h-s,width:2*s,height:2*s}))}}])}(re.Component);AS(TS,"displayName","ReferenceDot");AS(TS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});AS(TS,"renderDot",function(t,e){var r;return re.isValidElement(t)?r=re.cloneElement(t,e):mt(t)?r=t(e):r=re.createElement(aO,k2({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function I2(){return I2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},I2.apply(this,arguments)}function Q0(t){"@babel/helpers - typeof";return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q0(t)}function R4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function D4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R4(Object(r),!0).forEach(function(n){ES(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jCe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M9(n.key),n)}}function VCe(t,e,r){return e&&jCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HCe(t,e,r){return e=Ow(e),WCe(t,O9()?Reflect.construct(e,r||[],Ow(t).constructor):e.apply(t,r))}function WCe(t,e){if(e&&(Q0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zCe(t)}function zCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O9=function(){return!!t})()}function Ow(t){return Ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ow(t)}function GCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O2(t,e)}function O2(t,e){return O2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},O2(t,e)}function ES(t,e,r){return e=M9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M9(t){var e=qCe(t,"string");return Q0(e)=="symbol"?e:e+""}function qCe(t,e){if(Q0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Q0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var XCe=function(e,r,n,i,a){var s=a.x1,o=a.x2,l=a.y1,c=a.y2,u=a.xAxis,f=a.yAxis;if(!u||!f)return null;var d=sO({x:u.scale,y:f.scale}),h={x:e?d.x.apply(s,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(l,{position:"start"}):d.y.rangeMin},m={x:r?d.x.apply(o,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(c,{position:"end"}):d.y.rangeMax};return xo(a,"discard")&&(!d.isInRange(h)||!d.isInRange(m))?null:y9(h,m)},CS=function(t){function e(){return UCe(this,e),HCe(this,e,arguments)}return GCe(e,t),VCe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;yl(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=pn(i),d=pn(a),h=pn(s),m=pn(o),p=this.props.shape;if(!f&&!d&&!h&&!m&&!p)return null;var y=XCe(f,d,h,m,this.props);if(!y&&!p)return null;var _=xo(this.props,"hidden")?"url(#".concat(u,")"):void 0;return re.createElement(jr,{className:Pt("recharts-reference-area",l)},e.renderRect(p,D4(D4({clipPath:_},Tt(this.props,!0)),y)),ii.renderCallByParent(this.props,y))}}])}(re.Component);ES(CS,"displayName","ReferenceArea");ES(CS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ES(CS,"renderRect",function(t,e){var r;return re.isValidElement(t)?r=re.cloneElement(t,e):mt(t)?r=t(e):r=re.createElement(iO,I2({},e,{className:"recharts-reference-area-rect"})),r});function N9(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function KCe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return H2e(n,r)}function YCe(t,e,r){var n=r==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Mw(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function JCe(t,e){return N9(t,e+1)}function ZCe(t,e,r,n,i){for(var a=(n||[]).slice(),s=e.start,o=e.end,l=0,c=1,u=s,f=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:N9(n,c)};var p=l,y,_=function(){return y===void 0&&(y=r(m,p)),y},b=m.coordinate,w=l===0||Mw(t,b,_,u,o);w||(l=0,u=s,c+=1),w&&(u=b+t*(_()/2+i),l+=c)},d;c<=a.length;)if(d=f(),d)return d.v;return[]}function mv(t){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mv(t)}function F4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F4(Object(r),!0).forEach(function(n){QCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QCe(t,e,r){return e=eke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eke(t){var e=tke(t,"string");return mv(e)=="symbol"?e:e+""}function tke(t,e){if(mv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rke(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,o=e.start,l=e.end,c=function(d){var h=a[d],m,p=function(){return m===void 0&&(m=r(h,d)),m};if(d===s-1){var y=t*(h.coordinate+t*p()/2-l);a[d]=h=Qn(Qn({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate})}else a[d]=h=Qn(Qn({},h),{},{tickCoord:h.coordinate});var _=Mw(t,h.tickCoord,p,o,l);_&&(l=h.tickCoord-t*(p()/2+i),a[d]=Qn(Qn({},h),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return a}function nke(t,e,r,n,i,a){var s=(n||[]).slice(),o=s.length,l=e.start,c=e.end;if(a){var u=n[o-1],f=r(u,o-1),d=t*(u.coordinate+t*f/2-c);s[o-1]=u=Qn(Qn({},u),{},{tickCoord:d>0?u.coordinate-d*t:u.coordinate});var h=Mw(t,u.tickCoord,function(){return f},l,c);h&&(c=u.tickCoord-t*(f/2+i),s[o-1]=Qn(Qn({},u),{},{isShow:!0}))}for(var m=a?o-1:o,p=function(b){var w=s[b],A,S=function(){return A===void 0&&(A=r(w,b)),A};if(b===0){var T=t*(w.coordinate-t*S()/2-l);s[b]=w=Qn(Qn({},w),{},{tickCoord:T<0?w.coordinate-T*t:w.coordinate})}else s[b]=w=Qn(Qn({},w),{},{tickCoord:w.coordinate});var E=Mw(t,w.tickCoord,S,l,c);E&&(l=w.tickCoord+t*(S()/2+i),s[b]=Qn(Qn({},w),{},{isShow:!0}))},y=0;y<m;y++)p(y);return s}function hO(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(Pe(l)||kp.isSsr)return JCe(i,typeof l=="number"&&Pe(l)?l:0);var d=[],h=o==="top"||o==="bottom"?"width":"height",m=u&&h==="width"?Km(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},p=function(w,A){var S=mt(c)?c(w.value,A):w.value;return h==="width"?KCe(Km(S,{fontSize:e,letterSpacing:r}),m,f):Km(S,{fontSize:e,letterSpacing:r})[h]},y=i.length>=2?Ps(i[1].coordinate-i[0].coordinate):1,_=YCe(a,y,h);return l==="equidistantPreserveStart"?ZCe(y,_,p,i,s):(l==="preserveStart"||l==="preserveStartEnd"?d=nke(y,_,p,i,s,l==="preserveStartEnd"):d=rke(y,_,p,i,s),d.filter(function(b){return b.isShow}))}var ike=["viewBox"],ake=["viewBox"],ske=["ticks"];function ep(t){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ep(t)}function fh(){return fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fh.apply(this,arguments)}function L4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L4(Object(r),!0).forEach(function(n){pO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eT(t,e){if(t==null)return{};var r=oke(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D9(n.key),n)}}function cke(t,e,r){return e&&$4(t.prototype,e),r&&$4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function uke(t,e,r){return e=Nw(e),fke(t,R9()?Reflect.construct(e,r||[],Nw(t).constructor):e.apply(t,r))}function fke(t,e){if(e&&(ep(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dke(t)}function dke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R9=function(){return!!t})()}function Nw(t){return Nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nw(t)}function hke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M2(t,e)}function M2(t,e){return M2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},M2(t,e)}function pO(t,e,r){return e=D9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D9(t){var e=pke(t,"string");return ep(e)=="symbol"?e:e+""}function pke(t,e){if(ep(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mp=function(t){function e(r){var n;return lke(this,e),n=uke(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return hke(e,t),cke(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=eT(n,ike),o=this.props,l=o.viewBox,c=eT(o,ake);return!Th(a,l)||!Th(s,c)||!Th(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,d=i.tickMargin,h,m,p,y,_,b,w=f?-1:1,A=n.tickSize||u,S=Pe(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":h=m=n.coordinate,y=s+ +!f*l,p=y-w*A,b=p-w*d,_=S;break;case"left":p=y=n.coordinate,m=a+ +!f*o,h=m-w*A,_=h-w*d,b=S;break;case"right":p=y=n.coordinate,m=a+ +f*o,h=m+w*A,_=h+w*d,b=S;break;default:h=m=n.coordinate,y=s+ +f*l,p=y+w*A,b=p+w*d,_=S;break}return{line:{x1:h,y1:p,x2:m,y2:y},tick:{x:_,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=rn(rn(rn({},Tt(this.props,!1)),Tt(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!c||l==="bottom"&&c);f=rn(rn({},f),{},{x1:i,y1:a+d*o,x2:i+s,y2:a+d*o})}else{var h=+(l==="left"&&!c||l==="right"&&c);f=rn(rn({},f),{},{x1:i+h*s,y1:a,x2:i+h*s,y2:a+o})}return re.createElement("line",fh({},f,{className:Pt("recharts-cartesian-axis-line",Wa(u,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,f=o.tickFormatter,d=o.unit,h=hO(rn(rn({},this.props),{},{ticks:n}),i,a),m=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),y=Tt(this.props,!1),_=Tt(u,!1),b=rn(rn({},y),{},{fill:"none"},Tt(l,!1)),w=h.map(function(A,S){var T=s.getTickLineCoord(A),E=T.line,P=T.tick,k=rn(rn(rn(rn({textAnchor:m,verticalAnchor:p},y),{},{stroke:"none",fill:c},_),P),{},{index:S,payload:A,visibleTicksCount:h.length,tickFormatter:f});return re.createElement(jr,fh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},j_(s.props,A,S)),l&&re.createElement("line",fh({},b,E,{className:Pt("recharts-cartesian-axis-tick-line",Wa(l,"className"))})),u&&e.renderTickItem(u,k,"".concat(mt(f)?f(A.value,S):A.value).concat(d||"")))});return re.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,d=f.ticks,h=eT(f,ske),m=d;return mt(l)&&(m=d&&d.length>0?l(this.props):l(h)),s<=0||o<=0||!m||!m.length?null:re.createElement(jr,{className:Pt("recharts-cartesian-axis",c),ref:function(y){n.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),ii.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,o=Pt(i.className,"recharts-cartesian-axis-tick-value");return re.isValidElement(n)?s=re.cloneElement(n,rn(rn({},i),{},{className:o})):mt(n)?s=n(rn(rn({},i),{},{className:o})):s=re.createElement(tw,fh({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(ae.Component);pO(Mp,"displayName","CartesianAxis");pO(Mp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var mke=["x1","y1","x2","y2","key"],gke=["offset"];function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function B4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ai(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B4(Object(r),!0).forEach(function(n){vke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vke(t,e,r){return e=yke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yke(t){var e=xke(t,"string");return od(e)=="symbol"?e:e+""}function xke(t,e){if(od(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bu(){return Bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bu.apply(this,arguments)}function U4(t,e){if(t==null)return{};var r=_ke(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _ke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var wke=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return re.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function F9(t,e){var r;if(re.isValidElement(t))r=re.cloneElement(t,e);else if(mt(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=U4(e,mke),c=Tt(l,!1);c.offset;var u=U4(c,gke);r=re.createElement("line",Bu({},u,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:o}))}return r}function bke(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=ai(ai({},t),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(l),index:l});return F9(i,c)});return re.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Ske(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=ai(ai({},t),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(l),index:l});return F9(i,c)});return re.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Ake(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=o.map(function(d){return Math.round(d+i-i)}).sort(function(d,h){return d-h});i!==u[0]&&u.unshift(0);var f=u.map(function(d,h){var m=!u[h+1],p=m?i+s-d:u[h+1]-d;if(p<=0)return null;var y=h%e.length;return re.createElement("rect",{key:"react-".concat(h),y:d,x:n,height:p,width:a,stroke:"none",fill:e[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return re.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Tke(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(d){return Math.round(d+a-a)}).sort(function(d,h){return d-h});a!==u[0]&&u.unshift(0);var f=u.map(function(d,h){var m=!u[h+1],p=m?a+o-d:u[h+1]-d;if(p<=0)return null;var y=h%n.length;return re.createElement("rect",{key:"react-".concat(h),x:d,y:s,width:p,height:l,stroke:"none",fill:n[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return re.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Eke=function(e,r){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return zj(hO(ai(ai(ai({},Mp.defaultProps),n),{},{ticks:dl(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},Cke=function(e,r){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return zj(hO(ai(ai(ai({},Mp.defaultProps),n),{},{ticks:dl(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},$d={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Rw(t){var e,r,n,i,a,s,o=cO(),l=uO(),c=pCe(),u=ai(ai({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:$d.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:$d.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:$d.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:$d.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:$d.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:$d.verticalFill,x:Pe(t.x)?t.x:c.left,y:Pe(t.y)?t.y:c.top,width:Pe(t.width)?t.width:c.width,height:Pe(t.height)?t.height:c.height}),f=u.x,d=u.y,h=u.width,m=u.height,p=u.syncWithTicks,y=u.horizontalValues,_=u.verticalValues,b=fCe(),w=dCe();if(!Pe(h)||h<=0||!Pe(m)||m<=0||!Pe(f)||f!==+f||!Pe(d)||d!==+d)return null;var A=u.verticalCoordinatesGenerator||Eke,S=u.horizontalCoordinatesGenerator||Cke,T=u.horizontalPoints,E=u.verticalPoints;if((!T||!T.length)&&mt(S)){var P=y&&y.length,k=S({yAxis:w?ai(ai({},w),{},{ticks:P?y:w.ticks}):void 0,width:o,height:l,offset:c},P?!0:p);yl(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(od(k),"]")),Array.isArray(k)&&(T=k)}if((!E||!E.length)&&mt(A)){var D=_&&_.length,I=A({xAxis:b?ai(ai({},b),{},{ticks:D?_:b.ticks}):void 0,width:o,height:l,offset:c},D?!0:p);yl(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(od(I),"]")),Array.isArray(I)&&(E=I)}return re.createElement("g",{className:"recharts-cartesian-grid"},re.createElement(wke,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),re.createElement(bke,Bu({},u,{offset:c,horizontalPoints:T,xAxis:b,yAxis:w})),re.createElement(Ske,Bu({},u,{offset:c,verticalPoints:E,xAxis:b,yAxis:w})),re.createElement(Ake,Bu({},u,{horizontalPoints:T})),re.createElement(Tke,Bu({},u,{verticalPoints:E})))}Rw.displayName="CartesianGrid";var kke=["type","layout","connectNulls","ref"],Pke=["key"];function tp(t){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tp(t)}function j4(t,e){if(t==null)return{};var r=Ike(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ike(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Qm(){return Qm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qm.apply(this,arguments)}function V4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V4(Object(r),!0).forEach(function(n){Ss(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bd(t){return Rke(t)||Nke(t)||Mke(t)||Oke()}function Oke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mke(t,e){if(t){if(typeof t=="string")return N2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N2(t,e)}}function Nke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rke(t){if(Array.isArray(t))return N2(t)}function N2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Dke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$9(n.key),n)}}function Fke(t,e,r){return e&&H4(t.prototype,e),r&&H4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lke(t,e,r){return e=Dw(e),$ke(t,L9()?Reflect.construct(e,r||[],Dw(t).constructor):e.apply(t,r))}function $ke(t,e){if(e&&(tp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bke(t)}function Bke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L9=function(){return!!t})()}function Dw(t){return Dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dw(t)}function Uke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R2(t,e)}function R2(t,e){return R2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},R2(t,e)}function Ss(t,e,r){return e=$9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $9(t){var e=jke(t,"string");return tp(e)=="symbol"?e:e+""}function jke(t,e){if(tp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rp=function(t){function e(){var r;Dke(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Lke(this,e,[].concat(i)),Ss(r,"state",{isAnimationFinished:!0,totalLength:0}),Ss(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),Ss(r,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(_,b){return _+b});if(!c)return r.generateSimpleStrokeDasharray(o,s);for(var u=Math.floor(s/c),f=s%c,d=o-s,h=[],m=0,p=0;m<l.length;p+=l[m],++m)if(p+l[m]>f){h=[].concat(Bd(l.slice(0,m)),[f-p]);break}var y=h.length%2===0?[0,d]:[d];return[].concat(Bd(e.repeat(l,u)),Bd(h),y).map(function(_){return"".concat(_,"px")}).join(", ")}),Ss(r,"id",Jy("recharts-line-")),Ss(r,"pathRef",function(s){r.mainCurve=s}),Ss(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ss(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Uke(e,t),Fke(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=za(u,nx);if(!f)return null;var d=function(p,y){return{x:p.x,y:p.y,value:p.value,errorVal:va(p.payload,y)}},h={clipPath:n?"url(#clipPath-".concat(i,")"):null};return re.createElement(jr,h,f.map(function(m){return re.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:d})}))}},{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,u=o.dataKey,f=Tt(this.props,!1),d=Tt(l,!0),h=c.map(function(p,y){var _=qi(qi(qi({key:"dot-".concat(y),r:3},f),d),{},{index:y,cx:p.x,cy:p.y,value:p.value,dataKey:u,payload:p.payload,points:c});return e.renderDotItem(l,_)}),m={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return re.createElement(jr,Qm({className:"recharts-line-dots",key:"dots"},m),h)}},{key:"renderCurveStatically",value:function(n,i,a,s){var o=this.props,l=o.type,c=o.layout,u=o.connectNulls;o.ref;var f=j4(o,kke),d=qi(qi(qi({},Tt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},s),{},{type:l,layout:c,connectNulls:u});return re.createElement(f2,Qm({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,u=s.animationBegin,f=s.animationDuration,d=s.animationEasing,h=s.animationId,m=s.animateNewValues,p=s.width,y=s.height,_=this.state,b=_.prevPoints,w=_.totalLength;return re.createElement(Ml,{begin:u,duration:f,isActive:c,easing:d,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var S=A.t;if(b){var T=b.length/o.length,E=o.map(function(N,U){var X=Math.floor(U*T);if(b[X]){var G=b[X],Q=Ts(G.x,N.x),J=Ts(G.y,N.y);return qi(qi({},N),{},{x:Q(S),y:J(S)})}if(m){var ee=Ts(p*2,N.x),V=Ts(y/2,N.y);return qi(qi({},N),{},{x:ee(S),y:V(S)})}return qi(qi({},N),{},{x:N.x,y:N.y})});return a.renderCurveStatically(E,n,i)}var P=Ts(0,w),k=P(S),D;if(l){var I="".concat(l).split(/[,\s]+/gim).map(function(N){return parseFloat(N)});D=a.getStrokeDasharray(k,w,I)}else D=a.generateSimpleStrokeDasharray(w,k);return a.renderCurveStatically(o,n,i,{strokeDasharray:D})})}},{key:"renderCurve",value:function(n,i){var a=this.props,s=a.points,o=a.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return o&&s&&s.length&&(!c&&u>0||!yS(c,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,c=i.xAxis,u=i.yAxis,f=i.top,d=i.left,h=i.width,m=i.height,p=i.isAnimationActive,y=i.id;if(a||!o||!o.length)return null;var _=this.state.isAnimationFinished,b=o.length===1,w=Pt("recharts-line",l),A=c&&c.allowDataOverflow,S=u&&u.allowDataOverflow,T=A||S,E=_t(y)?this.id:y,P=(n=Tt(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},k=P.r,D=k===void 0?3:k,I=P.strokeWidth,N=I===void 0?2:I,U=tce(s)?s:{},X=U.clipDot,G=X===void 0?!0:X,Q=D*2+N;return re.createElement(jr,{className:w},A||S?re.createElement("defs",null,re.createElement("clipPath",{id:"clipPath-".concat(E)},re.createElement("rect",{x:A?d:d-h/2,y:S?f:f-m/2,width:A?h:h*2,height:S?m:m*2})),!G&&re.createElement("clipPath",{id:"clipPath-dots-".concat(E)},re.createElement("rect",{x:d-Q/2,y:f-Q/2,width:h+Q,height:m+Q}))):null,!b&&this.renderCurve(T,E),this.renderErrorBar(T,E),(b||s)&&this.renderDots(T,G,E),(!p||_)&&Hc.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Bd(n),[0]):n,s=[],o=0;o<i;++o)s=[].concat(Bd(s),Bd(a));return s}},{key:"renderDotItem",value:function(n,i){var a;if(re.isValidElement(n))a=re.cloneElement(n,i);else if(mt(n))a=n(i);else{var s=i.key,o=j4(i,Pke),l=Pt("recharts-line-dot",typeof n!="boolean"?n.className:"");a=re.createElement(aO,Qm({key:s},o,{className:l}))}return a}}])}(ae.PureComponent);Ss(rp,"displayName","Line");Ss(rp,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!kp.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ss(rp,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,o=t.bandSize,l=t.displayedData,c=t.offset,u=e.layout,f=l.map(function(d,h){var m=va(d,s);return u==="horizontal"?{x:SF({axis:r,ticks:i,bandSize:o,entry:d,index:h}),y:_t(m)?null:n.scale(m),value:m,payload:d}:{x:_t(m)?null:r.scale(m),y:SF({axis:n,ticks:a,bandSize:o,entry:d,index:h}),value:m,payload:d}});return qi({points:f,layout:u},c)});function np(t){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},np(t)}function Vke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j9(n.key),n)}}function Wke(t,e,r){return e&&Hke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zke(t,e,r){return e=Fw(e),Gke(t,B9()?Reflect.construct(e,r||[],Fw(t).constructor):e.apply(t,r))}function Gke(t,e){if(e&&(np(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qke(t)}function qke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B9=function(){return!!t})()}function Fw(t){return Fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fw(t)}function Xke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D2(t,e)}function D2(t,e){return D2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},D2(t,e)}function U9(t,e,r){return e=j9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j9(t){var e=Kke(t,"string");return np(e)=="symbol"?e:e+""}function Kke(t,e){if(np(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function F2(){return F2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F2.apply(this,arguments)}function Yke(t){var e=t.xAxisId,r=cO(),n=uO(),i=T9(e);return i==null?null:ae.createElement(Mp,F2({},i,{className:Pt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return dl(s,!0)}}))}var ld=function(t){function e(){return Vke(this,e),zke(this,e,arguments)}return Xke(e,t),Wke(e,[{key:"render",value:function(){return ae.createElement(Yke,this.props)}}])}(ae.Component);U9(ld,"displayName","XAxis");U9(ld,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ip(t){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ip(t)}function Jke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,W9(n.key),n)}}function Qke(t,e,r){return e&&Zke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ePe(t,e,r){return e=Lw(e),tPe(t,V9()?Reflect.construct(e,r||[],Lw(t).constructor):e.apply(t,r))}function tPe(t,e){if(e&&(ip(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rPe(t)}function rPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V9=function(){return!!t})()}function Lw(t){return Lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lw(t)}function nPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L2(t,e)}function L2(t,e){return L2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},L2(t,e)}function H9(t,e,r){return e=W9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W9(t){var e=iPe(t,"string");return ip(e)=="symbol"?e:e+""}function iPe(t,e){if(ip(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $2(){return $2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$2.apply(this,arguments)}var aPe=function(e){var r=e.yAxisId,n=cO(),i=uO(),a=E9(r);return a==null?null:ae.createElement(Mp,$2({},a,{className:Pt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return dl(o,!0)}}))},Wc=function(t){function e(){return Jke(this,e),ePe(this,e,arguments)}return nPe(e,t),Qke(e,[{key:"render",value:function(){return ae.createElement(aPe,this.props)}}])}(ae.Component);H9(Wc,"displayName","YAxis");H9(Wc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function W4(t){return cPe(t)||lPe(t)||oPe(t)||sPe()}function sPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oPe(t,e){if(t){if(typeof t=="string")return B2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B2(t,e)}}function lPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cPe(t){if(Array.isArray(t))return B2(t)}function B2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var U2=function(e,r,n,i,a){var s=za(e,dO),o=za(e,TS),l=[].concat(W4(s),W4(o)),c=za(e,CS),u="".concat(i,"Id"),f=i[0],d=r;if(l.length&&(d=l.reduce(function(p,y){if(y.props[u]===n&&xo(y.props,"extendDomain")&&Pe(y.props[f])){var _=y.props[f];return[Math.min(p[0],_),Math.max(p[1],_)]}return p},d)),c.length){var h="".concat(f,"1"),m="".concat(f,"2");d=c.reduce(function(p,y){if(y.props[u]===n&&xo(y.props,"extendDomain")&&Pe(y.props[h])&&Pe(y.props[m])){var _=y.props[h],b=y.props[m];return[Math.min(p[0],_,b),Math.max(p[1],_,b)]}return p},d)}return a&&a.length&&(d=a.reduce(function(p,y){return Pe(y)?[Math.min(p[0],y),Math.max(p[1],y)]:p},d)),d},z9={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,f||l,d),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],h]:l._events[m].push(h):(l._events[m]=h,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,m=new Array(h);d<h;d++)m[d]=f[d].fn;return m},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,d,h,m){var p=r?r+c:c;if(!this._events[p])return!1;var y=this._events[p],_=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),_){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,f),!0;case 4:return y.fn.call(y.context,u,f,d),!0;case 5:return y.fn.call(y.context,u,f,d,h),!0;case 6:return y.fn.call(y.context,u,f,d,h,m),!0}for(w=1,b=new Array(_-1);w<_;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var A=y.length,S;for(w=0;w<A;w++)switch(y[w].once&&this.removeListener(c,y[w].fn,void 0,!0),_){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,u);break;case 3:y[w].fn.call(y[w].context,u,f);break;case 4:y[w].fn.call(y[w].context,u,f,d);break;default:if(!b)for(S=1,b=new Array(_-1);S<_;S++)b[S-1]=arguments[S];y[w].fn.apply(y[w].context,b)}}return!0},o.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,d){var h=r?r+c:c;if(!this._events[h])return this;if(!u)return s(this,h),this;var m=this._events[h];if(m.fn)m.fn===u&&(!d||m.once)&&(!f||m.context===f)&&s(this,h);else{for(var p=0,y=[],_=m.length;p<_;p++)(m[p].fn!==u||d&&!m[p].once||f&&m[p].context!==f)&&y.push(m[p]);y.length?this._events[h]=y.length===1?y[0]:y:s(this,h)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(z9);var uPe=z9.exports;const fPe=Jt(uPe);var tT=new fPe,rT="recharts.syncMouseEvents";function gv(t){"@babel/helpers - typeof";return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gv(t)}function dPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hPe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,G9(n.key),n)}}function pPe(t,e,r){return e&&hPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nT(t,e,r){return e=G9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G9(t){var e=mPe(t,"string");return gv(e)=="symbol"?e:e+""}function mPe(t,e){if(gv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gPe=function(){function t(){dPe(this,t),nT(this,"activeIndex",0),nT(this,"coordinateList",[]),nT(this,"layout","horizontal")}return pPe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,d=r.mouseHandlerCallback,h=d===void 0?null:d;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+c,d=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])}();function vPe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&Pe(n)&&Pe(i))return!0}return!1}function yPe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function q9(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,s=Bn(e,r,n,i),o=Bn(e,r,n,a);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function xPe(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,f=e.angle,d=Bn(o,l,c,f),h=Bn(o,l,u,f);n=d.x,i=d.y,a=h.x,s=h.y}else return q9(e);return[{x:n,y:i},{x:a,y:s}]}function vv(t){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vv(t)}function z4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z4(Object(r),!0).forEach(function(n){_Pe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _Pe(t,e,r){return e=wPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wPe(t){var e=bPe(t,"string");return vv(e)=="symbol"?e:e+""}function bPe(t,e){if(vv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SPe(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,f=t.layout,d=t.chartName,h=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!a||!s||d!=="ScatterChart"&&i!=="axis")return null;var m,p=f2;if(d==="ScatterChart")m=s,p=STe;else if(d==="BarChart")m=yPe(f,s,l,u),p=iO;else if(f==="radial"){var y=q9(s),_=y.cx,b=y.cy,w=y.radius,A=y.startAngle,S=y.endAngle;m={cx:_,cy:b,startAngle:A,endAngle:S,innerRadius:w,outerRadius:w},p=Yj}else m={points:xPe(f,s,l)},p=f2;var T=Zx(Zx(Zx(Zx({stroke:"#ccc",pointerEvents:"none"},l),m),Tt(h,!1)),{},{payload:o,payloadIndex:c,className:Pt("recharts-tooltip-cursor",h.className)});return ae.isValidElement(h)?ae.cloneElement(h,T):ae.createElement(p,T)}var APe=["item"],TPe=["children","className","width","height","style","compact","title","desc"];function ap(t){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ap(t)}function dh(){return dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dh.apply(this,arguments)}function G4(t,e){return kPe(t)||CPe(t,e)||K9(t,e)||EPe()}function EPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CPe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function kPe(t){if(Array.isArray(t))return t}function q4(t,e){if(t==null)return{};var r=PPe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function PPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function IPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OPe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Y9(n.key),n)}}function MPe(t,e,r){return e&&OPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NPe(t,e,r){return e=$w(e),RPe(t,X9()?Reflect.construct(e,r||[],$w(t).constructor):e.apply(t,r))}function RPe(t,e){if(e&&(ap(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DPe(t)}function DPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X9=function(){return!!t})()}function $w(t){return $w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$w(t)}function FPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j2(t,e)}function j2(t,e){return j2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},j2(t,e)}function sp(t){return BPe(t)||$Pe(t)||K9(t)||LPe()}function LPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K9(t,e){if(t){if(typeof t=="string")return V2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V2(t,e)}}function $Pe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BPe(t){if(Array.isArray(t))return V2(t)}function V2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function X4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function me(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X4(Object(r),!0).forEach(function(n){Ye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ye(t,e,r){return e=Y9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y9(t){var e=UPe(t,"string");return ap(e)=="symbol"?e:e+""}function UPe(t,e){if(ap(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jPe={xAxis:["bottom","top"],yAxis:["left","right"]},VPe={width:"100%",height:"100%"},J9={x:0,y:0};function Qx(t){return t}var HPe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},WPe=function(e,r,n,i){var a=r.find(function(u){return u&&u.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return me(me(me({},i),Bn(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,c=i.angle;return me(me(me({},i),Bn(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return J9},kS=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(sp(o),sp(c)):o},[]);return s.length>0?s:e&&e.length&&Pe(i)&&Pe(a)?e.slice(i,a+1):[]};function Z9(t){return t==="number"?[0,"auto"]:void 0}var H2=function(e,r,n,i){var a=e.graphicalItems,s=e.tooltipAxis,o=kS(r,e);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(s.dataKey&&!s.allowDuplicatedCategory){var h=f===void 0?o:f;d=B_(h,s.dataKey,i)}else d=f&&f[n]||o[n];return d?[].concat(sp(l),[qj(c,d)]):l},[])},K4=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},s=HPe(a,n),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=ibe(s,o,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,d=H2(e,r,u,f),h=WPe(n,o,u,a);return{activeTooltipIndex:u,activeLabel:f,activePayload:d,activeCoordinate:h}}return null},zPe=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,d=e.stackOffset,h=Wj(u,a);return n.reduce(function(m,p){var y,_=p.type.defaultProps!==void 0?me(me({},p.type.defaultProps),p.props):p.props,b=_.type,w=_.dataKey,A=_.allowDataOverflow,S=_.allowDuplicatedCategory,T=_.scale,E=_.ticks,P=_.includeHidden,k=_[s];if(m[k])return m;var D=kS(e.data,{graphicalItems:i.filter(function(R){var W,Y=s in R.props?R.props[s]:(W=R.type.defaultProps)===null||W===void 0?void 0:W[s];return Y===k}),dataStartIndex:l,dataEndIndex:c}),I=D.length,N,U,X;vPe(_.domain,A,b)&&(N=s2(_.domain,null,A),h&&(b==="number"||T!=="auto")&&(X=Jm(D,w,"category")));var G=Z9(b);if(!N||N.length===0){var Q,J=(Q=_.domain)!==null&&Q!==void 0?Q:G;if(w){if(N=Jm(D,w,b),b==="category"&&h){var ee=zle(N);S&&ee?(U=N,N=Aw(0,I)):S||(N=CF(J,N,p).reduce(function(R,W){return R.indexOf(W)>=0?R:[].concat(sp(R),[W])},[]))}else if(b==="category")S?N=N.filter(function(R){return R!==""&&!_t(R)}):N=CF(J,N,p).reduce(function(R,W){return R.indexOf(W)>=0||W===""||_t(W)?R:[].concat(sp(R),[W])},[]);else if(b==="number"){var V=cbe(D,i.filter(function(R){var W,Y,Z=s in R.props?R.props[s]:(W=R.type.defaultProps)===null||W===void 0?void 0:W[s],oe="hide"in R.props?R.props.hide:(Y=R.type.defaultProps)===null||Y===void 0?void 0:Y.hide;return Z===k&&(P||!oe)}),w,a,u);V&&(N=V)}h&&(b==="number"||T!=="auto")&&(X=Jm(D,w,"category"))}else h?N=Aw(0,I):o&&o[k]&&o[k].hasStack&&b==="number"?N=d==="expand"?[0,1]:Gj(o[k].stackGroups,l,c):N=Hj(D,i.filter(function(R){var W=s in R.props?R.props[s]:R.type.defaultProps[s],Y="hide"in R.props?R.props.hide:R.type.defaultProps.hide;return W===k&&(P||!Y)}),b,u,!0);if(b==="number")N=U2(f,N,k,a,E),J&&(N=s2(J,N,A));else if(b==="category"&&J){var ne=J,se=N.every(function(R){return ne.indexOf(R)>=0});se&&(N=ne)}}return me(me({},m),{},Ye({},k,me(me({},_),{},{axisType:a,domain:N,categoricalDomain:X,duplicateDomain:U,originalDomain:(y=_.domain)!==null&&y!==void 0?y:G,isCategorical:h,layout:u})))},{})},GPe=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,d=kS(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),h=d.length,m=Wj(u,a),p=-1;return n.reduce(function(y,_){var b=_.type.defaultProps!==void 0?me(me({},_.type.defaultProps),_.props):_.props,w=b[s],A=Z9("number");if(!y[w]){p++;var S;return m?S=Aw(0,h):o&&o[w]&&o[w].hasStack?(S=Gj(o[w].stackGroups,l,c),S=U2(f,S,w,a)):(S=s2(A,Hj(d,n.filter(function(T){var E,P,k=s in T.props?T.props[s]:(E=T.type.defaultProps)===null||E===void 0?void 0:E[s],D="hide"in T.props?T.props.hide:(P=T.type.defaultProps)===null||P===void 0?void 0:P.hide;return k===w&&!D}),"number",u),i.defaultProps.allowDataOverflow),S=U2(f,S,w,a)),me(me({},y),{},Ye({},w,me(me({axisType:a},i.defaultProps),{},{hide:!0,orientation:Wa(jPe,"".concat(a,".").concat(p%2),null),domain:S,originalDomain:A,isCategorical:m,layout:u})))}return y},{})},qPe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.children,f="".concat(i,"Id"),d=za(u,a),h={};return d&&d.length?h=zPe(e,{axes:d,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(h=GPe(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),h},XPe=function(e){var r=ec(e),n=dl(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:OI(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:mw(r,n)}},Y4=function(e){var r=e.children,n=e.defaultShowTooltip,i=aa(r,K0),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},KPe=function(e){return!e||!e.length?!1:e.some(function(r){var n=vl(r&&r.type);return n&&n.indexOf("Bar")>=0})},J4=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},YPe=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,c=n.width,u=n.height,f=n.children,d=n.margin||{},h=aa(f,K0),m=aa(f,xl),p=Object.keys(l).reduce(function(S,T){var E=l[T],P=E.orientation;return!E.mirror&&!E.hide?me(me({},S),{},Ye({},P,S[P]+E.width)):S},{left:d.left||0,right:d.right||0}),y=Object.keys(s).reduce(function(S,T){var E=s[T],P=E.orientation;return!E.mirror&&!E.hide?me(me({},S),{},Ye({},P,Wa(S,"".concat(P))+E.height)):S},{top:d.top||0,bottom:d.bottom||0}),_=me(me({},y),p),b=_.bottom;h&&(_.bottom+=h.props.height||K0.defaultProps.height),m&&r&&(_=obe(_,i,n,r));var w=c-_.left-_.right,A=u-_.top-_.bottom;return me(me({brushBottom:b},_),{},{width:Math.max(w,0),height:Math.max(A,0)})},JPe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Q9=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,f=e.defaultProps,d=function(_,b){var w=b.graphicalItems,A=b.stackGroups,S=b.offset,T=b.updateId,E=b.dataStartIndex,P=b.dataEndIndex,k=_.barSize,D=_.layout,I=_.barGap,N=_.barCategoryGap,U=_.maxBarSize,X=J4(D),G=X.numericAxisName,Q=X.cateAxisName,J=KPe(w),ee=[];return w.forEach(function(V,ne){var se=kS(_.data,{graphicalItems:[V],dataStartIndex:E,dataEndIndex:P}),R=V.type.defaultProps!==void 0?me(me({},V.type.defaultProps),V.props):V.props,W=R.dataKey,Y=R.maxBarSize,Z=R["".concat(G,"Id")],oe=R["".concat(Q,"Id")],de={},ve=l.reduce(function(gr,Ir){var tn=b["".concat(Ir.axisType,"Map")],dr=R["".concat(Ir.axisType,"Id")];tn&&tn[dr]||Ir.axisType==="zAxis"||sd();var Or=tn[dr];return me(me({},gr),{},Ye(Ye({},Ir.axisType,Or),"".concat(Ir.axisType,"Ticks"),dl(Or)))},de),te=ve[Q],fe=ve["".concat(Q,"Ticks")],be=A&&A[Z]&&A[Z].hasStack&&wbe(V,A[Z].stackGroups),L=vl(V.type).indexOf("Bar")>=0,We=mw(te,fe),Ie=[],Ge=J&&abe({barSize:k,stackGroups:A,totalSize:JPe(ve,Q)});if(L){var je,xe,bt=_t(Y)?U:Y,Zt=(je=(xe=mw(te,fe,!0))!==null&&xe!==void 0?xe:bt)!==null&&je!==void 0?je:0;Ie=sbe({barGap:I,barCategoryGap:N,bandSize:Zt!==We?Zt:We,sizeList:Ge[oe],maxBarSize:bt}),Zt!==We&&(Ie=Ie.map(function(gr){return me(me({},gr),{},{position:me(me({},gr.position),{},{offset:gr.position.offset-Zt/2})})}))}var Pr=V&&V.type&&V.type.getComposedData;Pr&&ee.push({props:me(me({},Pr(me(me({},ve),{},{displayedData:se,props:_,dataKey:W,item:V,bandSize:We,barPosition:Ie,offset:S,stackedData:be,layout:D,dataStartIndex:E,dataEndIndex:P}))),{},Ye(Ye(Ye({key:V.key||"item-".concat(ne)},G,ve[G]),Q,ve[Q]),"animationId",T)),childIndex:ice(V,_.children),item:V})}),ee},h=function(_,b){var w=_.props,A=_.dataStartIndex,S=_.dataEndIndex,T=_.updateId;if(!_R({props:w}))return null;var E=w.children,P=w.layout,k=w.stackOffset,D=w.data,I=w.reverseStackOrder,N=J4(P),U=N.numericAxisName,X=N.cateAxisName,G=za(E,n),Q=ybe(D,G,"".concat(U,"Id"),"".concat(X,"Id"),k,I),J=l.reduce(function(R,W){var Y="".concat(W.axisType,"Map");return me(me({},R),{},Ye({},Y,qPe(w,me(me({},W),{},{graphicalItems:G,stackGroups:W.axisType===U&&Q,dataStartIndex:A,dataEndIndex:S}))))},{}),ee=YPe(me(me({},J),{},{props:w,graphicalItems:G}),b==null?void 0:b.legendBBox);Object.keys(J).forEach(function(R){J[R]=u(w,J[R],ee,R.replace("Map",""),r)});var V=J["".concat(X,"Map")],ne=XPe(V),se=d(w,me(me({},J),{},{dataStartIndex:A,dataEndIndex:S,updateId:T,graphicalItems:G,stackGroups:Q,offset:ee}));return me(me({formattedGraphicalItems:se,graphicalItems:G,offset:ee,stackGroups:Q},ne),J)},m=function(y){function _(b){var w,A,S;return IPe(this,_),S=NPe(this,_,[b]),Ye(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ye(S,"accessibilityManager",new gPe),Ye(S,"handleLegendBBoxUpdate",function(T){if(T){var E=S.state,P=E.dataStartIndex,k=E.dataEndIndex,D=E.updateId;S.setState(me({legendBBox:T},h({props:S.props,dataStartIndex:P,dataEndIndex:k,updateId:D},me(me({},S.state),{},{legendBBox:T}))))}}),Ye(S,"handleReceiveSyncEvent",function(T,E,P){if(S.props.syncId===T){if(P===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(E)}}),Ye(S,"handleBrushChange",function(T){var E=T.startIndex,P=T.endIndex;if(E!==S.state.dataStartIndex||P!==S.state.dataEndIndex){var k=S.state.updateId;S.setState(function(){return me({dataStartIndex:E,dataEndIndex:P},h({props:S.props,dataStartIndex:E,dataEndIndex:P,updateId:k},S.state))}),S.triggerSyncEvent({dataStartIndex:E,dataEndIndex:P})}}),Ye(S,"handleMouseEnter",function(T){var E=S.getMouseInfo(T);if(E){var P=me(me({},E),{},{isTooltipActive:!0});S.setState(P),S.triggerSyncEvent(P);var k=S.props.onMouseEnter;mt(k)&&k(P,T)}}),Ye(S,"triggeredAfterMouseMove",function(T){var E=S.getMouseInfo(T),P=E?me(me({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(P),S.triggerSyncEvent(P);var k=S.props.onMouseMove;mt(k)&&k(P,T)}),Ye(S,"handleItemMouseEnter",function(T){S.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),Ye(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Ye(S,"handleMouseMove",function(T){T.persist(),S.throttleTriggeredAfterMouseMove(T)}),Ye(S,"handleMouseLeave",function(T){S.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};S.setState(E),S.triggerSyncEvent(E);var P=S.props.onMouseLeave;mt(P)&&P(E,T)}),Ye(S,"handleOuterEvent",function(T){var E=nce(T),P=Wa(S.props,"".concat(E));if(E&&mt(P)){var k,D;/.*touch.*/i.test(E)?D=S.getMouseInfo(T.changedTouches[0]):D=S.getMouseInfo(T),P((k=D)!==null&&k!==void 0?k:{},T)}}),Ye(S,"handleClick",function(T){var E=S.getMouseInfo(T);if(E){var P=me(me({},E),{},{isTooltipActive:!0});S.setState(P),S.triggerSyncEvent(P);var k=S.props.onClick;mt(k)&&k(P,T)}}),Ye(S,"handleMouseDown",function(T){var E=S.props.onMouseDown;if(mt(E)){var P=S.getMouseInfo(T);E(P,T)}}),Ye(S,"handleMouseUp",function(T){var E=S.props.onMouseUp;if(mt(E)){var P=S.getMouseInfo(T);E(P,T)}}),Ye(S,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),Ye(S,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&S.handleMouseDown(T.changedTouches[0])}),Ye(S,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&S.handleMouseUp(T.changedTouches[0])}),Ye(S,"handleDoubleClick",function(T){var E=S.props.onDoubleClick;if(mt(E)){var P=S.getMouseInfo(T);E(P,T)}}),Ye(S,"handleContextMenu",function(T){var E=S.props.onContextMenu;if(mt(E)){var P=S.getMouseInfo(T);E(P,T)}}),Ye(S,"triggerSyncEvent",function(T){S.props.syncId!==void 0&&tT.emit(rT,S.props.syncId,T,S.eventEmitterSymbol)}),Ye(S,"applySyncEvent",function(T){var E=S.props,P=E.layout,k=E.syncMethod,D=S.state.updateId,I=T.dataStartIndex,N=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)S.setState(me({dataStartIndex:I,dataEndIndex:N},h({props:S.props,dataStartIndex:I,dataEndIndex:N,updateId:D},S.state)));else if(T.activeTooltipIndex!==void 0){var U=T.chartX,X=T.chartY,G=T.activeTooltipIndex,Q=S.state,J=Q.offset,ee=Q.tooltipTicks;if(!J)return;if(typeof k=="function")G=k(ee,T);else if(k==="value"){G=-1;for(var V=0;V<ee.length;V++)if(ee[V].value===T.activeLabel){G=V;break}}var ne=me(me({},J),{},{x:J.left,y:J.top}),se=Math.min(U,ne.x+ne.width),R=Math.min(X,ne.y+ne.height),W=ee[G]&&ee[G].value,Y=H2(S.state,S.props.data,G),Z=ee[G]?{x:P==="horizontal"?ee[G].coordinate:se,y:P==="horizontal"?R:ee[G].coordinate}:J9;S.setState(me(me({},T),{},{activeLabel:W,activeCoordinate:Z,activePayload:Y,activeTooltipIndex:G}))}else S.setState(T)}),Ye(S,"renderCursor",function(T){var E,P=S.state,k=P.isTooltipActive,D=P.activeCoordinate,I=P.activePayload,N=P.offset,U=P.activeTooltipIndex,X=P.tooltipAxisBandSize,G=S.getTooltipEventType(),Q=(E=T.props.active)!==null&&E!==void 0?E:k,J=S.props.layout,ee=T.key||"_recharts-cursor";return re.createElement(SPe,{key:ee,activeCoordinate:D,activePayload:I,activeTooltipIndex:U,chartName:r,element:T,isActive:Q,layout:J,offset:N,tooltipAxisBandSize:X,tooltipEventType:G})}),Ye(S,"renderPolarAxis",function(T,E,P){var k=Wa(T,"type.axisType"),D=Wa(S.state,"".concat(k,"Map")),I=T.type.defaultProps,N=I!==void 0?me(me({},I),T.props):T.props,U=D&&D[N["".concat(k,"Id")]];return ae.cloneElement(T,me(me({},U),{},{className:Pt(k,U.className),key:T.key||"".concat(E,"-").concat(P),ticks:dl(U,!0)}))}),Ye(S,"renderPolarGrid",function(T){var E=T.props,P=E.radialLines,k=E.polarAngles,D=E.polarRadius,I=S.state,N=I.radiusAxisMap,U=I.angleAxisMap,X=ec(N),G=ec(U),Q=G.cx,J=G.cy,ee=G.innerRadius,V=G.outerRadius;return ae.cloneElement(T,{polarAngles:Array.isArray(k)?k:dl(G,!0).map(function(ne){return ne.coordinate}),polarRadius:Array.isArray(D)?D:dl(X,!0).map(function(ne){return ne.coordinate}),cx:Q,cy:J,innerRadius:ee,outerRadius:V,key:T.key||"polar-grid",radialLines:P})}),Ye(S,"renderLegend",function(){var T=S.state.formattedGraphicalItems,E=S.props,P=E.children,k=E.width,D=E.height,I=S.props.margin||{},N=k-(I.left||0)-(I.right||0),U=jj({children:P,formattedGraphicalItems:T,legendWidth:N,legendContent:c});if(!U)return null;var X=U.item,G=q4(U,APe);return ae.cloneElement(X,me(me({},G),{},{chartWidth:k,chartHeight:D,margin:I,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Ye(S,"renderTooltip",function(){var T,E=S.props,P=E.children,k=E.accessibilityLayer,D=aa(P,Da);if(!D)return null;var I=S.state,N=I.isTooltipActive,U=I.activeCoordinate,X=I.activePayload,G=I.activeLabel,Q=I.offset,J=(T=D.props.active)!==null&&T!==void 0?T:N;return ae.cloneElement(D,{viewBox:me(me({},Q),{},{x:Q.left,y:Q.top}),active:J,label:G,payload:J?X:[],coordinate:U,accessibilityLayer:k})}),Ye(S,"renderBrush",function(T){var E=S.props,P=E.margin,k=E.data,D=S.state,I=D.offset,N=D.dataStartIndex,U=D.dataEndIndex,X=D.updateId;return ae.cloneElement(T,{key:T.key||"_recharts-brush",onChange:Xx(S.handleBrushChange,T.props.onChange),data:k,x:Pe(T.props.x)?T.props.x:I.left,y:Pe(T.props.y)?T.props.y:I.top+I.height+I.brushBottom-(P.bottom||0),width:Pe(T.props.width)?T.props.width:I.width,startIndex:N,endIndex:U,updateId:"brush-".concat(X)})}),Ye(S,"renderReferenceElement",function(T,E,P){if(!T)return null;var k=S,D=k.clipPathId,I=S.state,N=I.xAxisMap,U=I.yAxisMap,X=I.offset,G=T.type.defaultProps||{},Q=T.props,J=Q.xAxisId,ee=J===void 0?G.xAxisId:J,V=Q.yAxisId,ne=V===void 0?G.yAxisId:V;return ae.cloneElement(T,{key:T.key||"".concat(E,"-").concat(P),xAxis:N[ee],yAxis:U[ne],viewBox:{x:X.left,y:X.top,width:X.width,height:X.height},clipPathId:D})}),Ye(S,"renderActivePoints",function(T){var E=T.item,P=T.activePoint,k=T.basePoint,D=T.childIndex,I=T.isRange,N=[],U=E.props.key,X=E.item.type.defaultProps!==void 0?me(me({},E.item.type.defaultProps),E.item.props):E.item.props,G=X.activeDot,Q=X.dataKey,J=me(me({index:D,dataKey:Q,cx:P.x,cy:P.y,r:4,fill:nO(E.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Tt(G,!1)),U_(G));return N.push(_.renderActiveDot(G,J,"".concat(U,"-activePoint-").concat(D))),k?N.push(_.renderActiveDot(G,me(me({},J),{},{cx:k.x,cy:k.y}),"".concat(U,"-basePoint-").concat(D))):I&&N.push(null),N}),Ye(S,"renderGraphicChild",function(T,E,P){var k=S.filterFormatItem(T,E,P);if(!k)return null;var D=S.getTooltipEventType(),I=S.state,N=I.isTooltipActive,U=I.tooltipAxis,X=I.activeTooltipIndex,G=I.activeLabel,Q=S.props.children,J=aa(Q,Da),ee=k.props,V=ee.points,ne=ee.isRange,se=ee.baseLine,R=k.item.type.defaultProps!==void 0?me(me({},k.item.type.defaultProps),k.item.props):k.item.props,W=R.activeDot,Y=R.hide,Z=R.activeBar,oe=R.activeShape,de=!!(!Y&&N&&J&&(W||Z||oe)),ve={};D!=="axis"&&J&&J.props.trigger==="click"?ve={onClick:Xx(S.handleItemMouseEnter,T.props.onClick)}:D!=="axis"&&(ve={onMouseLeave:Xx(S.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:Xx(S.handleItemMouseEnter,T.props.onMouseEnter)});var te=ae.cloneElement(T,me(me({},k.props),ve));function fe(Ir){return typeof U.dataKey=="function"?U.dataKey(Ir.payload):null}if(de)if(X>=0){var be,L;if(U.dataKey&&!U.allowDuplicatedCategory){var We=typeof U.dataKey=="function"?fe:"payload.".concat(U.dataKey.toString());be=B_(V,We,G),L=ne&&se&&B_(se,We,G)}else be=V==null?void 0:V[X],L=ne&&se&&se[X];if(oe||Z){var Ie=T.props.activeIndex!==void 0?T.props.activeIndex:X;return[ae.cloneElement(T,me(me(me({},k.props),ve),{},{activeIndex:Ie})),null,null]}if(!_t(be))return[te].concat(sp(S.renderActivePoints({item:k,activePoint:be,basePoint:L,childIndex:X,isRange:ne})))}else{var Ge,je=(Ge=S.getItemByXY(S.state.activeCoordinate))!==null&&Ge!==void 0?Ge:{graphicalItem:te},xe=je.graphicalItem,bt=xe.item,Zt=bt===void 0?T:bt,Pr=xe.childIndex,gr=me(me(me({},k.props),ve),{},{activeIndex:Pr});return[ae.cloneElement(Zt,gr),null,null]}return ne?[te,null,null]:[te,null]}),Ye(S,"renderCustomized",function(T,E,P){return ae.cloneElement(T,me(me({key:"recharts-customized-".concat(P)},S.props),S.state))}),Ye(S,"renderMap",{CartesianGrid:{handler:Qx,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Qx},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Qx},YAxis:{handler:Qx},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:Jy("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=BU(S.triggeredAfterMouseMove,(A=b.throttleDelay)!==null&&A!==void 0?A:1e3/60),S.state={},S}return FPe(_,y),MPe(_,[{key:"componentDidMount",value:function(){var w,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,A=w.children,S=w.data,T=w.height,E=w.layout,P=aa(A,Da);if(P){var k=P.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,I=H2(this.state,S,k,D),N=this.state.tooltipTicks[k].coordinate,U=(this.state.offset.top+T)/2,X=E==="horizontal",G=X?{x:N,y:U}:{y:N,x:U},Q=this.state.formattedGraphicalItems.find(function(ee){var V=ee.item;return V.type.name==="Scatter"});Q&&(G=me(me({},G),Q.props.points[k].tooltipPosition),I=Q.props.points[k].tooltipPayload);var J={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:D,activePayload:I,activeCoordinate:G};this.setState(J),this.renderCursor(P),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var S,T;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(w){wE([aa(w.children,Da)],[aa(this.props.children,Da)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=aa(this.props.children,Da);if(w&&typeof w.props.shared=="boolean"){var A=w.props.shared?"axis":"item";return o.indexOf(A)>=0?A:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var A=this.container,S=A.getBoundingClientRect(),T=Iye(S),E={chartX:Math.round(w.pageX-T.left),chartY:Math.round(w.pageY-T.top)},P=S.width/A.offsetWidth||1,k=this.inRange(E.chartX,E.chartY,P);if(!k)return null;var D=this.state,I=D.xAxisMap,N=D.yAxisMap,U=this.getTooltipEventType(),X=K4(this.state,this.props.data,this.props.layout,k);if(U!=="axis"&&I&&N){var G=ec(I).scale,Q=ec(N).scale,J=G&&G.invert?G.invert(E.chartX):null,ee=Q&&Q.invert?Q.invert(E.chartY):null;return me(me({},E),{},{xValue:J,yValue:ee},X)}return X?me(me({},E),X):null}},{key:"inRange",value:function(w,A){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,E=w/S,P=A/S;if(T==="horizontal"||T==="vertical"){var k=this.state.offset,D=E>=k.left&&E<=k.left+k.width&&P>=k.top&&P<=k.top+k.height;return D?{x:E,y:P}:null}var I=this.state,N=I.angleAxisMap,U=I.radiusAxisMap;if(N&&U){var X=ec(N);return IF({x:E,y:P},X)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,A=this.getTooltipEventType(),S=aa(w,Da),T={};S&&A==="axis"&&(S.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=U_(this.props,this.handleOuterEvent);return me(me({},E),T)}},{key:"addListener",value:function(){tT.on(rT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){tT.removeListener(rT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,A,S){for(var T=this.state.formattedGraphicalItems,E=0,P=T.length;E<P;E++){var k=T[E];if(k.item===w||k.props.key===w.key||A===vl(k.item.type)&&S===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,A=this.state.offset,S=A.left,T=A.top,E=A.height,P=A.width;return re.createElement("defs",null,re.createElement("clipPath",{id:w},re.createElement("rect",{x:S,y:T,height:E,width:P})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(A,S){var T=G4(S,2),E=T[0],P=T[1];return me(me({},A),{},Ye({},E,P.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(A,S){var T=G4(S,2),E=T[0],P=T[1];return me(me({},A),{},Ye({},E,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[w])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(w){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[w])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(w){var A=this.state,S=A.formattedGraphicalItems,T=A.activeItem;if(S&&S.length)for(var E=0,P=S.length;E<P;E++){var k=S[E],D=k.props,I=k.item,N=I.type.defaultProps!==void 0?me(me({},I.type.defaultProps),I.props):I.props,U=vl(I.type);if(U==="Bar"){var X=(D.data||[]).find(function(ee){return hTe(w,ee)});if(X)return{graphicalItem:k,payload:X}}else if(U==="RadialBar"){var G=(D.data||[]).find(function(ee){return IF(w,ee)});if(G)return{graphicalItem:k,payload:G}}else if(wS(k,T)||bS(k,T)||fv(k,T)){var Q=gEe({graphicalItem:k,activeTooltipItem:T,itemData:N.data}),J=N.activeIndex===void 0?Q:N.activeIndex;return{graphicalItem:me(me({},k),{},{childIndex:J}),payload:fv(k,T)?N.data[Q]:k.props.data[Q]}}}return null}},{key:"render",value:function(){var w=this;if(!_R(this))return null;var A=this.props,S=A.children,T=A.className,E=A.width,P=A.height,k=A.style,D=A.compact,I=A.title,N=A.desc,U=q4(A,TPe),X=Tt(U,!1);if(D)return re.createElement(k4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},re.createElement(SE,dh({},X,{width:E,height:P,title:I,desc:N}),this.renderClipPath(),bR(S,this.renderMap)));if(this.props.accessibilityLayer){var G,Q;X.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,X.role=(Q=this.props.role)!==null&&Q!==void 0?Q:"application",X.onKeyDown=function(ee){w.accessibilityManager.keyboardEvent(ee)},X.onFocus=function(){w.accessibilityManager.focus()}}var J=this.parseEventsOfWrapper();return re.createElement(k4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},re.createElement("div",dh({className:Pt("recharts-wrapper",T),style:me({position:"relative",cursor:"default",width:E,height:P},k)},J,{ref:function(V){w.container=V}}),re.createElement(SE,dh({},X,{width:E,height:P,title:I,desc:N,style:VPe}),this.renderClipPath(),bR(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(ae.Component);Ye(m,"displayName",r),Ye(m,"defaultProps",me({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ye(m,"getDerivedStateFromProps",function(y,_){var b=y.dataKey,w=y.data,A=y.children,S=y.width,T=y.height,E=y.layout,P=y.stackOffset,k=y.margin,D=_.dataStartIndex,I=_.dataEndIndex;if(_.updateId===void 0){var N=Y4(y);return me(me(me({},N),{},{updateId:0},h(me(me({props:y},N),{},{updateId:0}),_)),{},{prevDataKey:b,prevData:w,prevWidth:S,prevHeight:T,prevLayout:E,prevStackOffset:P,prevMargin:k,prevChildren:A})}if(b!==_.prevDataKey||w!==_.prevData||S!==_.prevWidth||T!==_.prevHeight||E!==_.prevLayout||P!==_.prevStackOffset||!Th(k,_.prevMargin)){var U=Y4(y),X={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},G=me(me({},K4(_,w,E)),{},{updateId:_.updateId+1}),Q=me(me(me({},U),X),G);return me(me(me({},Q),h(me({props:y},Q),_)),{},{prevDataKey:b,prevData:w,prevWidth:S,prevHeight:T,prevLayout:E,prevStackOffset:P,prevMargin:k,prevChildren:A})}if(!wE(A,_.prevChildren)){var J,ee,V,ne,se=aa(A,K0),R=se&&(J=(ee=se.props)===null||ee===void 0?void 0:ee.startIndex)!==null&&J!==void 0?J:D,W=se&&(V=(ne=se.props)===null||ne===void 0?void 0:ne.endIndex)!==null&&V!==void 0?V:I,Y=R!==D||W!==I,Z=!_t(w),oe=Z&&!Y?_.updateId:_.updateId+1;return me(me({updateId:oe},h(me(me({props:y},_),{},{updateId:oe,dataStartIndex:R,dataEndIndex:W}),_)),{},{prevChildren:A,dataStartIndex:R,dataEndIndex:W})}return null}),Ye(m,"renderActiveDot",function(y,_,b){var w;return ae.isValidElement(y)?w=ae.cloneElement(y,_):mt(y)?w=y(_):w=re.createElement(aO,_),re.createElement(jr,{className:"recharts-active-dot",key:b},w)});var p=ae.forwardRef(function(_,b){return re.createElement(m,dh({},_,{ref:b}))});return p.displayName=m.displayName,p},ZPe=Q9({chartName:"LineChart",GraphicalChild:rp,axisComponents:[{axisType:"xAxis",AxisComp:ld},{axisType:"yAxis",AxisComp:Wc}],formatAxisMap:v9}),e7=Q9({chartName:"BarChart",GraphicalChild:Ds,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ld},{axisType:"yAxis",AxisComp:Wc}],formatAxisMap:v9});const QPe=({data:t})=>{const e=t.map(r=>({name:r.name,Completed:r.completed,Projected:r.canComplete,RescueNeeded:r.diff>0?r.diff:0,Surplus:r.diff<0?Math.abs(r.diff):0}));return C.jsx(UU,{width:"100%",height:"100%",children:C.jsxs(e7,{data:e,margin:{top:20,right:30,left:20,bottom:60},children:[C.jsx(Rw,{strokeDasharray:"3 3",vertical:!1,stroke:"#E5E7EB"}),C.jsx(ld,{dataKey:"name",angle:-45,textAnchor:"end",interval:0,height:80,tick:{fontSize:11,fill:"#6B7280"}}),C.jsx(Wc,{tick:{fontSize:12,fill:"#6B7280"}}),C.jsx(Da,{cursor:{fill:"#F3F4F6"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),C.jsx(xl,{wrapperStyle:{paddingTop:"20px"}}),C.jsx(Ds,{dataKey:"Completed",stackId:"a",fill:"#10B981",name:"Completed"}),C.jsx(Ds,{dataKey:"Projected",stackId:"a",fill:"#3B82F6",name:"Projected Capacity"}),C.jsx(Ds,{dataKey:"RescueNeeded",stackId:"a",fill:"#EF4444",name:"Needs Rescue"})]})})},eIe=({isOpen:t,onClose:e,onSave:r,initialGithubKey:n})=>{const[i,a]=ae.useState(""),[s,o]=ae.useState("");if(ae.useEffect(()=>{const c=localStorage.getItem("gemini_api_key");c&&a(c);const u=localStorage.getItem("github_api_token");u?o(u):n&&o(n)},[t,n]),!t)return null;const l=()=>{r(i.trim(),s.trim()),e()};return C.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm",children:C.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden animate-fade-in",children:[C.jsxs("div",{className:"bg-indigo-600 px-6 py-4 flex justify-between items-center",children:[C.jsxs("h3",{className:"text-white font-bold flex items-center",children:[C.jsx(GG,{className:"w-5 h-5 mr-2"}),"App Settings"]}),C.jsx("button",{onClick:e,className:"text-indigo-200 hover:text-white transition-colors",children:C.jsx(Bf,{className:"w-5 h-5"})})]}),C.jsxs("div",{className:"p-6 space-y-6",children:[C.jsxs("div",{children:[C.jsxs("h4",{className:"text-sm font-bold text-gray-900 flex items-center mb-2",children:[C.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"AI Features (Gemini)"]}),C.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"API Key"}),C.jsx("input",{type:"password",value:i,onChange:c=>a(c.target.value),placeholder:"AIzaSy...",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2.5 border bg-white"}),C.jsx("div",{className:"mt-1 text-xs text-gray-400 text-right",children:C.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"text-indigo-600 hover:underline",children:"Get Key"})})]}),C.jsx("hr",{className:"border-gray-100"}),C.jsxs("div",{children:[C.jsxs("h4",{className:"text-sm font-bold text-gray-900 flex items-center mb-2",children:[C.jsx(FG,{className:"w-4 h-4 text-gray-600 mr-2"}),"Cloud Sync (GitHub Gist)"]}),C.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Allows you to sync history between devices."}),C.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Personal Access Token (Classic)"}),C.jsx("input",{type:"password",value:s,onChange:c=>o(c.target.value),placeholder:"ghp_...",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2.5 border bg-white"}),C.jsxs("div",{className:"mt-1 text-xs text-gray-400",children:["Requires ",C.jsx("strong",{children:"gist"})," scope. ",C.jsx("a",{href:"https://github.com/settings/tokens/new?scopes=gist&description=RescueDashboardSync",target:"_blank",rel:"noreferrer",className:"text-indigo-600 hover:underline",children:"Generate Token"})]})]}),C.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[C.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),C.jsxs("button",{onClick:l,className:"flex items-center px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700",children:[C.jsx(xP,{className:"w-4 h-4 mr-2"}),"Save Settings"]})]})]})]})})},Hl="driver_rescue_history_v1",tIe=(t,e,r,n)=>{try{const i={};Object.values(r).forEach(d=>{d.forEach(h=>{h.rescuerName&&(i[h.rescuerName]=(i[h.rescuerName]||0)+h.stopsRemoved)})});const a=t.map(d=>{const m=(r[d.name]||[]).reduce((p,y)=>p+y.stopsRemoved,0);return{name:d.name,routeId:d.routeId,diff:d.diff,pace:d.pace,completed:d.completed,total:d.total,stopsRescuedFromDriver:m,stopsRescuedByDriver:i[d.name]||0}});if(a.length===0)return!1;let s=new Date;if(n){const[d,h,m]=n.split("-").map(Number);s=new Date(d,h-1,m),s.setHours(23,59,59,999)}const o={id:crypto.randomUUID(),date:s.toISOString(),timestamp:s.getTime(),summary:e,drivers:a,detailedRescueLogs:r},l=Eo(),c=s.toLocaleDateString(),u=l.findIndex(d=>new Date(d.date).toLocaleDateString()===c);let f;if(u>=0){const d=l[u].id;f=[...l],f[u]={...o,id:d}}else f=[o,...l];return localStorage.setItem(Hl,JSON.stringify(f)),!0}catch(i){return console.error("Failed to save history",i),!1}},rIe=()=>{const t=Eo(),e=new Date().toLocaleDateString(),r=t.find(n=>new Date(n.date).toLocaleDateString()===e);return r&&r.detailedRescueLogs?r.detailedRescueLogs:null},Eo=()=>{try{const t=localStorage.getItem(Hl);return t?JSON.parse(t):[]}catch(t){return console.error("Failed to load history",t),[]}},nIe=t=>{try{const r=Eo().filter(n=>n.id!==t);return localStorage.setItem(Hl,JSON.stringify(r)),!0}catch(e){return console.error("Failed to delete history day",e),!1}},iIe=(t,e,r,n)=>{try{const i=Eo(),a=i.findIndex(f=>new Date(f.date).toLocaleDateString()===new Date(t).toLocaleDateString());if(a===-1)return!1;const s=i[a],o=s.drivers.findIndex(f=>f.name===e);if(o===-1)return!1;const l=[...s.drivers];r==="offloaded"?l[o]={...l[o],stopsRescuedFromDriver:n}:l[o]={...l[o],stopsRescuedByDriver:n};const c={...s,drivers:l},u=[...i];return u[a]=c,localStorage.setItem(Hl,JSON.stringify(u)),!0}catch(i){return console.error("Failed to update history entry",i),!1}},aIe=(t,e,r)=>{var n;try{const i=Eo(),a=i.findIndex(p=>new Date(p.date).toLocaleDateString()===new Date(t).toLocaleDateString());if(a===-1)return!1;const s=i[a],o=(n=s.detailedRescueLogs)==null?void 0:n[e];if(!o||!o[r])return!1;const l=o[r],c=l.stopsRemoved,u=l.rescuerName,f={...s.detailedRescueLogs};f[e].splice(r,1),f[e].length===0&&delete f[e];const d=s.drivers.findIndex(p=>p.name===e);d>=0&&(s.drivers[d].stopsRescuedFromDriver=Math.max(0,(s.drivers[d].stopsRescuedFromDriver||0)-c));const h=s.drivers.findIndex(p=>p.name===u);h>=0&&(s.drivers[h].stopsRescuedByDriver=Math.max(0,(s.drivers[h].stopsRescuedByDriver||0)-c));const m={...s,detailedRescueLogs:f};return i[a]=m,localStorage.setItem(Hl,JSON.stringify(i)),!0}catch(i){return console.error("Failed to delete historical log",i),!1}},sIe=(t,e,r,n,i)=>{var a;try{const s=Eo(),o=s.findIndex(S=>new Date(S.date).toLocaleDateString()===new Date(t).toLocaleDateString());if(o===-1)return!1;const l=s[o],c=(a=l.detailedRescueLogs)==null?void 0:a[e];if(!c||!c[r])return!1;const u=c[r],f=u.stopsRemoved,d=u.rescuerName,h={...u,rescuerName:n,stopsRemoved:i},m={...l.detailedRescueLogs};m[e]=[...m[e]],m[e][r]=h;const p=[...l.drivers],y=i-f,_=p.findIndex(S=>S.name===e);if(_>=0){const S=p[_].stopsRescuedFromDriver||0;p[_]={...p[_],stopsRescuedFromDriver:Math.max(0,S+y)}}const b=p.findIndex(S=>S.name===d);if(b>=0){const S=p[b].stopsRescuedByDriver||0;p[b]={...p[b],stopsRescuedByDriver:Math.max(0,S-f)}}const w=p.findIndex(S=>S.name===n);if(w>=0){const S=p[w].stopsRescuedByDriver||0;p[w]={...p[w],stopsRescuedByDriver:S+i}}else p.push({name:n,routeId:"Unknown",diff:0,pace:0,completed:0,total:0,stopsRescuedFromDriver:0,stopsRescuedByDriver:i});const A={...l,drivers:p,detailedRescueLogs:m};return s[o]=A,localStorage.setItem(Hl,JSON.stringify(s)),!0}catch(s){return console.error("Failed to update historical log",s),!1}},oIe=(t,e,r,n)=>{try{const i=Eo(),[a,s,o]=t.split("-").map(Number),l=new Date(a,s-1,o),c=l.toLocaleDateString();let u=i.findIndex(w=>new Date(w.date).toLocaleDateString()===c),f;if(u===-1){const w=new Date(l);w.setHours(23,59,59);const A={id:crypto.randomUUID(),date:w.toISOString(),timestamp:w.getTime(),summary:{totalDrivers:0,totalRescueNeeded:0,totalStopsToRescue:0,totalStopsAvailable:0},drivers:[],detailedRescueLogs:{}};i.push(A),u=i.length-1,f=A}else f=i[u];const d={targetDriverName:e,rescuerName:r,stopsRemoved:n,timestamp:Date.now()},h={...f.detailedRescueLogs||{}},m=h[e]||[];h[e]=[...m,d];const p=w=>{f.drivers.find(A=>A.name===w)||f.drivers.push({name:w,routeId:"Unknown",diff:0,pace:0,completed:0,total:0,stopsRescuedFromDriver:0,stopsRescuedByDriver:0})};p(e),p(r);const y=f.drivers.map(w=>{let A={...w};return w.name===e&&(A.stopsRescuedFromDriver=(A.stopsRescuedFromDriver||0)+n),w.name===r&&(A.stopsRescuedByDriver=(A.stopsRescuedByDriver||0)+n),A}),_={...f,drivers:y,detailedRescueLogs:h},b=[...i];return b[u]=_,b.sort((w,A)=>new Date(A.date).getTime()-new Date(w.date).getTime()),localStorage.setItem(Hl,JSON.stringify(b)),!0}catch(i){return console.error("Failed to add retroactive rescue",i),!1}},lIe=t=>{const e={};return t.forEach(r=>{r.drivers.forEach(n=>{e[n.name]||(e[n.name]={name:n.name,daysTracked:0,totalRescuesNeeded:0,totalStopsTakenOff:0,totalStopsRescuedOthers:0,averagePace:0,averageEfficiency:0,reliabilityScore:100});const i=e[n.name];i.daysTracked++,n.pace>0&&(i.averagePace=i.averagePace===0?n.pace:(i.averagePace+n.pace)/2);const a=n.total>0?n.completed/n.total:0;i.averageEfficiency=i.averageEfficiency===0?a:(i.averageEfficiency+a)/2,n.stopsRescuedFromDriver>0&&(i.totalRescuesNeeded++,i.totalStopsTakenOff+=n.stopsRescuedFromDriver),n.stopsRescuedByDriver>0&&(i.totalStopsRescuedOthers+=n.stopsRescuedByDriver)})}),Object.values(e).forEach(r=>{const n=r.totalRescuesNeeded*15+r.totalStopsTakenOff*.5,i=r.totalStopsRescuedOthers*.2,a=100-n+i;r.reliabilityScore=Math.max(0,Math.min(100,Math.round(a)))}),e},cIe=()=>{localStorage.removeItem(Hl)},uIe=()=>{const t=Eo(),e=JSON.stringify(t,null,2),r="data:application/json;charset=utf-8,"+encodeURIComponent(e),n=`rescue_history_backup_${new Date().toISOString().split("T")[0]}.json`,i=document.createElement("a");i.setAttribute("href",r),i.setAttribute("download",n),i.click()},t7=t=>{try{const e=JSON.parse(t);if(!Array.isArray(e))return alert("Invalid backup file format. Expected an array."),!1;const n=[...Eo()];return e.forEach(i=>{if(!i.date)return;const a=n.findIndex(s=>new Date(s.date).toLocaleDateString()===new Date(i.date).toLocaleDateString());if(a>=0){const s=n[a].timestamp||0;(i.timestamp||0)>s&&(n[a]=i)}else n.push(i)}),n.sort((i,a)=>new Date(a.date).getTime()-new Date(i.date).getTime()),localStorage.setItem(Hl,JSON.stringify(n)),!0}catch(e){return console.error("Import failed",e),alert("Failed to parse JSON file."),!1}},fIe=({history:t,driverStats:e,onClearHistory:r,onUpdateEntry:n,onDeleteDay:i})=>{const[a,s]=ae.useState(""),[o,l]=ae.useState(""),[c,u]=ae.useState("ALL"),[f,d]=ae.useState({key:"totalStopsTakenOff",direction:"desc"}),[h,m]=ae.useState(null),[p,y]=ae.useState(!1),[_,b]=ae.useState(null),[w,A]=ae.useState([]),[S,T]=ae.useState(!1),[E,P]=ae.useState(null),[k,D]=ae.useState([]),[I,N]=ae.useState(!1),[U,X]=ae.useState(""),[G,Q]=ae.useState(""),[J,ee]=ae.useState(""),[V,ne]=ae.useState(""),[se,R]=ae.useState(!1),[W,Y]=ae.useState(!1),[Z,oe]=ae.useState(null),[de,ve]=ae.useState([]),te=ae.useRef(null),fe=ae.useMemo(()=>{let ie=[...t];if(a){const Te=new Date(a).getTime();ie=ie.filter(Re=>new Date(Re.date).getTime()>=Te)}if(o){const Te=new Date(o).getTime()+86399999;ie=ie.filter(Re=>new Date(Re.date).getTime()<=Te)}return ie.sort((Te,Re)=>new Date(Te.date).getTime()-new Date(Re.date).getTime())},[t,a,o]),be=ae.useMemo(()=>c==="ALL"?fe.map(ie=>{let Te=0,Re=0;return ie.detailedRescueLogs&&Object.keys(ie.detailedRescueLogs).length>0?Object.values(ie.detailedRescueLogs).forEach(et=>{et.forEach(ke=>{Te+=Number(ke.stopsRemoved),Re+=1})}):(Te=ie.drivers.reduce((et,ke)=>et+Number(ke.stopsRescuedFromDriver||0),0),Re=ie.drivers.filter(et=>Number(et.stopsRescuedFromDriver||0)>0).length),{id:ie.id,date:new Date(ie.date).toLocaleDateString(void 0,{month:"short",day:"numeric"}),events:Re,stops:Te}}):fe.map(ie=>{const Te=ie.drivers.find(Re=>Re.name===c);return{id:ie.id,date:new Date(ie.date).toLocaleDateString(void 0,{month:"short",day:"numeric"}),fullDate:ie.date,offloaded:Te?Number(Te.stopsRescuedFromDriver||0):0,pickedUp:Te?Number(Te.stopsRescuedByDriver||0):0,pace:Te?Te.pace:0}}),[fe,c]),L=ae.useMemo(()=>Object.values(e).sort((Te,Re)=>{const et=Te[f.key],ke=Re[f.key];return et<ke?f.direction==="asc"?-1:1:et>ke?f.direction==="asc"?1:-1:0}),[e,f]),We=ie=>{d(Te=>({key:ie,direction:Te.key===ie&&Te.direction==="desc"?"asc":"desc"}))},Ie=ie=>f.key!==ie?C.jsx(l6,{className:"w-3 h-3 ml-1 opacity-30"}):f.direction==="asc"?C.jsx(c6,{className:"w-3 h-3 ml-1"}):C.jsx(o6,{className:"w-3 h-3 ml-1"}),Ge=ie=>{const Te=ie.currentTarget.getBoundingClientRect();let Re=Te.left-320;Re<20&&(Re=Te.right+10),m({top:Te.top+window.scrollY+10,left:Re+window.scrollX})},je=(ie,Te)=>{Ge(Te),b(ie);const Re=[];ie.detailedRescueLogs&&Object.entries(ie.detailedRescueLogs).forEach(([et,ke])=>{ke.forEach((ut,Ot)=>{Re.push({driver:et,idx:Ot,log:ut})})}),A(Re),y(!0)},xe=(ie,Te)=>{Ge(Te),P(ie);const Re=[];t.forEach(et=>{const ke=new Date(et.date).toLocaleDateString(),ut=et.date;et.detailedRescueLogs&&et.detailedRescueLogs[ie]&&et.detailedRescueLogs[ie].forEach((Ot,rr)=>{Re.push({date:ke,dateRaw:ut,type:"Target",partner:Ot.rescuerName,stops:Ot.stopsRemoved,logIdx:rr,driverName:ie})}),et.detailedRescueLogs&&Object.entries(et.detailedRescueLogs).forEach(([Ot,rr])=>{rr.forEach((Bs,lx)=>{Bs.rescuerName===ie&&Re.push({date:ke,dateRaw:ut,type:"Rescuer",partner:Ot,stops:Bs.stopsRemoved,logIdx:lx,driverName:Ot})})})}),Re.sort((et,ke)=>new Date(ke.dateRaw).getTime()-new Date(et.dateRaw).getTime()),D(Re),T(!0)},bt=ie=>{Ge(ie),X(""),Q(""),ee(""),ne(""),Y(!1),oe(null),R(!1),N(!0)},Zt=(ie,Te,Re)=>{confirm("Delete this log? Stats will be recalculated.")&&(aIe(Re,ie,Te),window.location.reload())};ae.useEffect(()=>{if(U){const[ie,Te,Re]=U.split("-").map(Number),ke=new Date(ie,Te-1,Re).toLocaleDateString(),ut=t.find(Ot=>new Date(Ot.date).toLocaleDateString()===ke);ve(ut?ut.drivers:[])}},[U,t]);const Pr=()=>{if(!U||!G||!J||!V)return;const ie=parseInt(V,10);ie<=0||(R(!0),setTimeout(()=>{W&&Z!==null?sIe(U,G,Z,J,ie):oIe(U,G,J,ie),window.location.reload()},100))},gr=()=>{var ie;return(ie=te.current)==null?void 0:ie.click()},Ir=ie=>{var et;const Te=(et=ie.target.files)==null?void 0:et[0];if(!Te)return;const Re=new FileReader;Re.onload=ke=>{var Ot;const ut=(Ot=ke.target)==null?void 0:Ot.result;t7(ut)&&window.location.reload()},Re.readAsText(Te)},tn=()=>{prompt("Enter Admin PIN:")==="5396"&&r()},dr=ie=>{confirm("Delete day?")&&(i==null||i(ie))},Or=Object.keys(e).sort();return C.jsxs("div",{className:"space-y-8 animate-fade-in relative",children:[C.jsx("input",{type:"file",ref:te,className:"hidden",accept:".json",onChange:Ir}),(S||I||p)&&C.jsx("div",{className:"fixed inset-0 z-[90]",onClick:()=>{T(!1),N(!1),y(!1)}}),S&&E&&h&&C.jsxs("div",{style:{top:h.top,left:h.left},className:"absolute z-[100] bg-white rounded-xl w-80 shadow-2xl border border-gray-200 overflow-hidden flex flex-col max-h-[400px] animate-fade-in",children:[C.jsxs("div",{className:"bg-indigo-700 px-4 py-3 flex justify-between items-center flex-shrink-0",children:[C.jsxs("h3",{className:"font-bold text-white flex items-center text-sm",children:[C.jsx(bg,{className:"w-4 h-4 mr-2"})," History: ",E]}),C.jsx("button",{onClick:()=>T(!1),className:"text-indigo-200 hover:text-white",children:C.jsx(Bf,{className:"w-4 h-4"})})]}),C.jsx("div",{className:"p-0 flex-1 overflow-y-auto custom-scrollbar",children:k.length===0?C.jsx("div",{className:"text-center py-8 px-4 text-xs text-gray-500",children:"No logs found."}):C.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[C.jsx("thead",{className:"bg-gray-50 sticky top-0",children:C.jsxs("tr",{children:[C.jsx("th",{className:"px-3 py-2 text-left text-[10px] font-bold text-gray-500",children:"Date"}),C.jsx("th",{className:"px-3 py-2 text-left text-[10px] font-bold text-gray-500",children:"Role"}),C.jsx("th",{className:"px-3 py-2 text-right text-[10px] font-bold text-gray-500",children:"Stops"})]})}),C.jsx("tbody",{className:"divide-y divide-gray-100 bg-white",children:k.map((ie,Te)=>C.jsxs("tr",{className:"hover:bg-gray-50",children:[C.jsx("td",{className:"px-3 py-2 text-xs",children:ie.date}),C.jsx("td",{className:"px-3 py-2 text-xs",children:C.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] ${ie.type==="Target"?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:ie.type==="Target"?"Target":"Rescuer"})}),C.jsx("td",{className:"px-3 py-2 text-xs text-right font-bold",children:ie.stops})]},Te))})]})})]}),I&&h&&C.jsxs("div",{style:{top:h.top,left:h.left},className:"absolute z-[100] bg-white rounded-xl shadow-2xl border border-gray-200 w-72 overflow-hidden animate-fade-in",children:[C.jsxs("div",{className:"bg-indigo-600 px-4 py-3 flex justify-between items-center",children:[C.jsxs("h3",{className:"text-white font-bold flex items-center text-sm",children:[C.jsx(f6,{className:"w-4 h-4 mr-2"})," ",W?"Edit":"Log"," Rescue"]}),C.jsx("button",{onClick:()=>N(!1),className:"text-indigo-200 hover:text-white",children:C.jsx(Bf,{className:"w-4 h-4"})})]}),C.jsxs("div",{className:"p-4 space-y-3",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Date"}),C.jsx("input",{type:"date",value:U,onChange:ie=>X(ie.target.value),className:"w-full border rounded p-1.5 text-xs"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Target"}),C.jsxs("select",{value:G,onChange:ie=>Q(ie.target.value),className:"w-full border rounded p-1.5 text-xs",children:[C.jsx("option",{value:"",children:"Select..."}),de.map(ie=>C.jsx("option",{value:ie.name,children:ie.name},ie.name))]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Rescuer"}),C.jsxs("select",{value:J,onChange:ie=>ee(ie.target.value),className:"w-full border rounded p-1.5 text-xs",children:[C.jsx("option",{value:"",children:"Select..."}),de.map(ie=>C.jsx("option",{value:ie.name,children:ie.name},ie.name))]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Stops"}),C.jsx("input",{type:"number",value:V,onChange:ie=>ne(ie.target.value),className:"w-full border rounded p-1.5 text-xs"})]}),C.jsx("button",{onClick:Pr,disabled:se,className:"w-full py-2 bg-indigo-600 text-white rounded text-xs font-bold hover:bg-indigo-700",children:se?"Saving...":"Save"})]})]}),p&&_&&h&&C.jsxs("div",{style:{top:h.top,left:h.left},className:"absolute z-[100] bg-white rounded-xl w-80 shadow-2xl border border-gray-200 overflow-hidden flex flex-col max-h-[400px] animate-fade-in",children:[C.jsxs("div",{className:"bg-gray-900 px-4 py-3 flex justify-between items-center flex-shrink-0",children:[C.jsxs("h3",{className:"font-bold text-white flex items-center text-sm",children:[C.jsx(sE,{className:"w-4 h-4 mr-2"})," Manage Logs"]}),C.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-white",children:C.jsx(Bf,{className:"w-4 h-4"})})]}),C.jsx("div",{className:"p-0 flex-1 overflow-y-auto custom-scrollbar",children:C.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[C.jsx("thead",{className:"bg-gray-50 sticky top-0",children:C.jsxs("tr",{children:[C.jsx("th",{className:"px-3 py-2 text-left text-[10px] text-gray-500",children:"Target"}),C.jsx("th",{className:"px-3 py-2 text-left text-[10px] text-gray-500",children:"Rescuer"}),C.jsx("th",{className:"px-3 py-2 text-right text-[10px] text-gray-500",children:"Stops"}),C.jsx("th",{className:"px-3 py-2"})]})}),C.jsx("tbody",{className:"divide-y divide-gray-100 bg-white",children:w.map((ie,Te)=>C.jsxs("tr",{className:"hover:bg-gray-50",children:[C.jsx("td",{className:"px-3 py-2 text-xs",children:ie.driver}),C.jsx("td",{className:"px-3 py-2 text-xs text-gray-500",children:ie.log.rescuerName}),C.jsx("td",{className:"px-3 py-2 text-xs font-bold text-right",children:ie.log.stopsRemoved}),C.jsx("td",{className:"px-3 py-2 text-right",children:C.jsx("button",{onClick:()=>Zt(ie.driver,ie.idx,_.date),className:"text-red-400 hover:text-red-600",children:C.jsx(YM,{className:"w-3 h-3"})})})]},Te))})]})})]}),C.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:C.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-center justify-between gap-4",children:[C.jsxs("div",{className:"flex items-center space-x-2 text-gray-700 font-medium",children:[C.jsx(VG,{className:"w-5 h-5 text-indigo-600"}),C.jsx("span",{children:"Filter Data"})]}),C.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[C.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 p-2 rounded-lg border border-gray-200",children:[C.jsx(NG,{className:"w-4 h-4 text-gray-500"}),C.jsx("input",{type:"date",value:a,onChange:ie=>s(ie.target.value),className:"bg-transparent text-sm focus:outline-none text-gray-600"}),C.jsx("span",{className:"text-gray-400",children:"-"}),C.jsx("input",{type:"date",value:o,onChange:ie=>l(ie.target.value),className:"bg-transparent text-sm focus:outline-none text-gray-600"})]}),C.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 p-2 rounded-lg border border-gray-200",children:[C.jsx(p6,{className:"w-4 h-4 text-gray-500"}),C.jsxs("select",{value:c,onChange:ie=>u(ie.target.value),className:"bg-transparent text-sm focus:outline-none text-gray-600 min-w-[150px]",children:[C.jsx("option",{value:"ALL",children:"All Drivers (Aggregate)"}),Or.map(ie=>C.jsx("option",{value:ie,children:ie},ie))]})]})]}),C.jsxs("div",{className:"flex items-center gap-2 ml-auto xl:ml-0",children:[C.jsxs("button",{onClick:ie=>bt(ie),className:"flex items-center px-3 py-1.5 text-xs font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 transition-colors shadow-sm",children:[C.jsx(eq,{className:"w-3.5 h-3.5 mr-1.5"})," Log Past Rescue"]}),C.jsx("div",{className:"h-6 w-px bg-gray-200 mx-1"}),C.jsxs("button",{onClick:uIe,className:"flex items-center px-3 py-1.5 text-xs font-medium text-indigo-700 bg-indigo-50 rounded-md hover:bg-indigo-100 border border-indigo-200",children:[C.jsx(UG,{className:"w-3.5 h-3.5 mr-1.5"})," Export"]}),C.jsxs("button",{onClick:gr,className:"flex items-center px-3 py-1.5 text-xs font-medium text-indigo-700 bg-indigo-50 rounded-md hover:bg-indigo-100 border border-indigo-200",children:[C.jsx(oq,{className:"w-3.5 h-3.5 mr-1.5"})," Import"]}),C.jsxs("button",{onClick:tn,className:"flex items-center px-3 py-1.5 text-xs font-medium text-red-700 bg-red-50 rounded-md hover:bg-red-100 border border-red-200",children:[C.jsx(XG,{className:"w-3.5 h-3.5 mr-1.5"})," Clear DB"]})]})]})}),C.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:C.jsx("div",{className:"h-[350px] w-full",children:C.jsx(UU,{width:"100%",height:"100%",children:c==="ALL"?C.jsxs(ZPe,{data:be,margin:{top:5,right:20,bottom:5,left:0},children:[C.jsx(Rw,{stroke:"#eee",strokeDasharray:"5 5"}),C.jsx(ld,{dataKey:"date",tick:{fontSize:12}}),C.jsx(Wc,{yAxisId:"left",tick:{fontSize:12}}),C.jsx(Wc,{yAxisId:"right",orientation:"right",tick:{fontSize:12}}),C.jsx(Da,{contentStyle:{borderRadius:"8px"}}),C.jsx(xl,{}),C.jsx(rp,{yAxisId:"left",type:"monotone",dataKey:"events",name:"Rescue Events",stroke:"#EF4444",strokeWidth:2}),C.jsx(rp,{yAxisId:"right",type:"monotone",dataKey:"stops",name:"Stops Moved",stroke:"#6366f1",strokeDasharray:"3 3",strokeWidth:2})]}):C.jsxs(e7,{data:be,margin:{top:5,right:20,bottom:5,left:0},children:[C.jsx(Rw,{stroke:"#eee",strokeDasharray:"3 3",vertical:!1}),C.jsx(ld,{dataKey:"date",tick:{fontSize:12}}),C.jsx(Wc,{tick:{fontSize:12}}),C.jsx(Da,{cursor:{fill:"#F9FAFB"},contentStyle:{borderRadius:"8px"}}),C.jsx(xl,{}),C.jsx(Ds,{dataKey:"offloaded",name:"Stops Offloaded",fill:"#EF4444",radius:[4,4,0,0]}),C.jsx(Ds,{dataKey:"pickedUp",name:"Stops Picked Up",fill:"#10B981",radius:[4,4,0,0]})]})})})}),C.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mb-6",children:[C.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:C.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Saved Daily Records"})}),C.jsx("div",{className:"max-h-60 overflow-y-auto custom-scrollbar",children:C.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[C.jsx("thead",{className:"bg-gray-50",children:C.jsxs("tr",{children:[C.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),C.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Drivers"}),C.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Rescues"}),C.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),C.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:fe.map(ie=>C.jsxs("tr",{className:"hover:bg-gray-50",children:[C.jsx("td",{className:"px-6 py-3 text-sm text-gray-900",children:new Date(ie.date).toLocaleDateString()}),C.jsx("td",{className:"px-6 py-3 text-sm text-gray-500",children:ie.summary.totalDrivers}),C.jsx("td",{className:"px-6 py-3 text-sm text-gray-500",children:ie.summary.totalRescueNeeded}),C.jsxs("td",{className:"px-6 py-3 text-right flex justify-end space-x-2",children:[C.jsxs("button",{onClick:Te=>je(ie,Te),className:"text-indigo-600 hover:text-indigo-800 transition-colors p-1 border border-indigo-200 rounded bg-indigo-50 flex items-center text-xs px-2",children:[C.jsx(sE,{className:"w-3 h-3 mr-1"})," Manage"]}),C.jsx("button",{onClick:()=>dr(ie.id),className:"text-red-400 hover:text-red-600 transition-colors p-1",children:C.jsx(YM,{className:"w-4 h-4"})})]})]},ie.id))})]})})]}),C.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[C.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:C.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Lifetime Performance Leaderboard"})}),C.jsx("div",{className:"overflow-x-auto",children:C.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[C.jsx("thead",{className:"bg-gray-50",children:C.jsxs("tr",{children:[C.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer",onClick:()=>We("name"),children:["Driver ",Ie("name")]}),C.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer",onClick:()=>We("daysTracked"),children:["Days ",Ie("daysTracked")]}),C.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer",onClick:()=>We("reliabilityScore"),children:["Reliability ",Ie("reliabilityScore")]}),C.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase cursor-pointer text-red-600",onClick:()=>We("totalStopsTakenOff"),children:["Offloaded ",Ie("totalStopsTakenOff")]}),C.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase cursor-pointer text-green-600",onClick:()=>We("totalStopsRescuedOthers"),children:["Picked Up ",Ie("totalStopsRescuedOthers")]}),C.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),C.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:L.map(ie=>C.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${c===ie.name?"bg-indigo-50":""}`,children:[C.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:C.jsxs("div",{className:"flex items-center",children:[C.jsx("div",{className:"text-sm font-medium text-gray-900",children:ie.name}),ie.totalRescuesNeeded===0&&ie.daysTracked>2&&C.jsx(sq,{className:"w-4 h-4 text-yellow-500 ml-2"})]})}),C.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ie.daysTracked}),C.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.jsxs("div",{className:"flex items-center",children:[C.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:C.jsx("div",{className:`h-2 rounded-full ${ie.reliabilityScore>80?"bg-green-500":ie.reliabilityScore>50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${ie.reliabilityScore}%`}})}),ie.reliabilityScore,"%"]})}),C.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:C.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${ie.totalStopsTakenOff>0?"bg-red-100 text-red-800":"text-gray-400"}`,children:ie.totalStopsTakenOff})}),C.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:C.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${ie.totalStopsRescuedOthers>0?"bg-green-100 text-green-800":"text-gray-400"}`,children:ie.totalStopsRescuedOthers})}),C.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:C.jsx("button",{onClick:Te=>xe(ie.name,Te),className:"text-indigo-600 hover:text-indigo-900 p-1 hover:bg-indigo-50 rounded",children:C.jsx(HG,{className:"w-4 h-4"})})})]},ie.name))})]})})]})]})},dIe=({isOpen:t,onClose:e,targetDriver:r,potentialRescuers:n,onConfirm:i,initialRescuer:a,initialStops:s,isEditMode:o,position:l})=>{const[c,u]=ae.useState(""),[f,d]=ae.useState(""),[h,m]=ae.useState(!1),p=ae.useRef(null),y=n.filter(S=>S.isDspInitiated),_=n.filter(S=>!S.isDspInitiated);ae.useEffect(()=>{if(t&&(m(!1),r))if(o&&s!==void 0&&a)u(s.toString()),d(a);else{const S=Math.min(r.diff,r.remaining);u(S>0?S.toString():""),y.length>0?d(y[0].name):d("")}},[t,r,o,a,s]);const b=()=>{if(!l||!p.current)return{};let S=l.top,T=l.left;return T+350>window.innerWidth&&(T=window.innerWidth-360),S+400>window.innerHeight+window.scrollY&&(S=l.top-400),{top:`${S}px`,left:`${T}px`}};if(!t||!r)return null;const w=()=>{const S=parseInt(c,10);!f||isNaN(S)||S<=0||(m(!0),i(f,S),setTimeout(()=>{e(),m(!1)},100))},A=r.diff>0;return C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"fixed inset-0 z-[99]",onClick:e}),C.jsxs("div",{ref:p,style:l?{position:"absolute",...b()}:{},className:`z-[100] bg-white rounded-xl shadow-2xl border border-gray-200 w-80 overflow-hidden animate-fade-in ${!l&&"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"}`,children:[C.jsxs("div",{className:"bg-indigo-600 px-4 py-3 flex justify-between items-center",children:[C.jsxs("h3",{className:"text-white font-bold flex items-center text-sm",children:[C.jsx(bg,{className:"w-4 h-4 mr-2"}),o?"Edit Rescue":"Log Rescue"]}),C.jsx("button",{onClick:e,className:"text-indigo-200 hover:text-white",children:C.jsx(Bf,{className:"w-4 h-4"})})]}),C.jsxs("div",{className:"p-4 space-y-3",children:[C.jsx("div",{className:`border p-2 rounded-md ${A?"bg-red-50 border-red-100":"bg-green-50 border-green-100"}`,children:C.jsxs("p",{className:`text-xs ${A?"text-red-800":"text-green-800"}`,children:[C.jsx("span",{className:"font-bold",children:r.name}),": ",A?"Behind":"Ahead"," ",C.jsx("span",{className:"font-bold",children:Math.abs(r.diff)})," stops."]})}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Rescuer"}),C.jsxs("select",{value:f,onChange:S=>d(S.target.value),disabled:h,className:"block w-full rounded border-gray-300 shadow-sm text-sm p-2 border",children:[C.jsx("option",{value:"",children:"Select..."}),y.length>0&&C.jsx("optgroup",{label:"DSP / Dedicated",children:y.map(S=>C.jsx("option",{value:S.name,children:S.name},S.id))}),C.jsx("optgroup",{label:"Drivers",children:_.map(S=>C.jsx("option",{value:S.name,children:S.name},S.id))})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Stops Taken"}),C.jsx("input",{type:"number",min:"1",value:c,onChange:S=>u(S.target.value),disabled:h,className:"block w-full rounded border-gray-300 shadow-sm text-sm p-2 border"})]}),C.jsx("button",{onClick:w,disabled:!f||!c||h,className:"w-full flex items-center justify-center py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded text-sm font-medium disabled:opacity-50 mt-2",children:h?C.jsx(T_,{className:"w-4 h-4 animate-spin"}):C.jsxs(C.Fragment,{children:[C.jsx(xP,{className:"w-4 h-4 mr-2"}),o?"Update":"Confirm"]})})]})]})]})},hIe="modulepreload",pIe=function(t,e){return new URL(t,e).href},Z4={},e1=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){const s=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=pIe(c,n),c in Z4)return;Z4[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(!!n)for(let m=s.length-1;m>=0;m--){const p=s[m];if(p.href===c&&(!u||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":hIe,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((m,p)=>{h.addEventListener("load",m),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};var eg={};eg.d=(t,e)=>{for(var r in e)eg.o(e,r)&&!eg.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})};eg.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var st=globalThis.pdfjsLib={};eg.d(st,{AbortException:()=>Id,AnnotationEditorLayer:()=>ek,AnnotationEditorParamsType:()=>it,AnnotationEditorType:()=>dt,AnnotationEditorUIManager:()=>ud,AnnotationLayer:()=>dMe,AnnotationMode:()=>tc,ColorPicker:()=>Vw,DOMSVGFactory:()=>EO,DrawLayer:()=>ik,FeatureTest:()=>bi,GlobalWorkerOptions:()=>sl,ImageKind:()=>w1,InvalidPDFException:()=>n7,MissingPDFException:()=>Pd,OPS:()=>os,OutputScale:()=>X2,PDFDataRangeTransport:()=>Q7,PDFDateString:()=>xO,PDFWorker:()=>Ph,PasswordResponses:()=>yIe,PermissionFlag:()=>vIe,PixelsPerInch:()=>Zc,RenderingCancelledException:()=>vO,TextLayer:()=>yv,UnexpectedResponseException:()=>MS,Util:()=>ze,VerbosityLevel:()=>PS,XfaLayer:()=>tV,build:()=>GOe,createValidAbsoluteUrl:()=>bIe,fetchData:()=>RS,getDocument:()=>LOe,getFilenameFromUrl:()=>OIe,getPdfFilenameFromUrl:()=>MIe,getXfaPageViewport:()=>NIe,isDataScheme:()=>DS,isPdfFile:()=>yO,noContextMenu:()=>Ja,normalizeUnicode:()=>kIe,setLayerDimensions:()=>cd,shadow:()=>At,version:()=>zOe});const oi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),r7=[1,0,0,1,0,0],W2=[.001,0,0,.001,0,0],mIe=1e7,iT=1.35,na={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},tc={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},gIe="pdfjs_internal_editor_",dt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},it={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},vIe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},qn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},w1={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},an={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},rm={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},PS={ERRORS:0,WARNINGS:1,INFOS:5},os={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},yIe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let IS=PS.WARNINGS;function xIe(t){Number.isInteger(t)&&(IS=t)}function _Ie(){return IS}function OS(t){IS>=PS.INFOS&&console.log(`Info: ${t}`)}function gt(t){IS>=PS.WARNINGS&&console.log(`Warning: ${t}`)}function or(t){throw new Error(t)}function dn(t,e){t||or(e)}function wIe(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function bIe(t,e=null,r=null){if(!t)return null;try{if(r&&typeof t=="string"){if(r.addDefaultProtocol&&t.startsWith("www.")){const i=t.match(/\./g);(i==null?void 0:i.length)>=2&&(t=`http://${t}`)}if(r.tryConvertEncoding)try{t=CIe(t)}catch{}}const n=e?new URL(t,e):new URL(t);if(wIe(n))return n}catch{}return null}function At(t,e,r,n=!1){return Object.defineProperty(t,e,{value:r,enumerable:!n,configurable:!0,writable:!1}),r}const pu=function(){function e(r,n){this.message=r,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class z2 extends pu{constructor(e,r){super(e,"PasswordException"),this.code=r}}class G2 extends pu{constructor(e,r){super(e,"UnknownErrorException"),this.details=r}}class n7 extends pu{constructor(e){super(e,"InvalidPDFException")}}class Pd extends pu{constructor(e){super(e,"MissingPDFException")}}class MS extends pu{constructor(e,r){super(e,"UnexpectedResponseException"),this.status=r}}class SIe extends pu{constructor(e){super(e,"FormatError")}}class Id extends pu{constructor(e){super(e,"AbortException")}}function i7(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&or("Invalid argument for bytesToString");const e=t.length,r=8192;if(e<r)return String.fromCharCode.apply(null,t);const n=[];for(let i=0;i<e;i+=r){const a=Math.min(i+r,e),s=t.subarray(i,a);n.push(String.fromCharCode.apply(null,s))}return n.join("")}function NS(t){typeof t!="string"&&or("Invalid argument for stringToBytes");const e=t.length,r=new Uint8Array(e);for(let n=0;n<e;++n)r[n]=t.charCodeAt(n)&255;return r}function AIe(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function mO(t){const e=Object.create(null);for(const[r,n]of t)e[r]=n;return e}function TIe(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function EIe(){try{return new Function(""),!0}catch{return!1}}class bi{static get isLittleEndian(){return At(this,"isLittleEndian",TIe())}static get isEvalSupported(){return At(this,"isEvalSupported",EIe())}static get isOffscreenCanvasSupported(){return At(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?At(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):At(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,r;return At(this,"isCSSRoundSupported",(r=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:r.call(e,"width: round(1.5px, 1px)"))}}const aT=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var bl,b1,q2;class ze{static makeHexColor(e,r,n){return`#${aT[e]}${aT[r]}${aT[n]}`}static scaleMinMax(e,r){let n;e[0]?(e[0]<0&&(n=r[0],r[0]=r[2],r[2]=n),r[0]*=e[0],r[2]*=e[0],e[3]<0&&(n=r[1],r[1]=r[3],r[3]=n),r[1]*=e[3],r[3]*=e[3]):(n=r[0],r[0]=r[1],r[1]=n,n=r[2],r[2]=r[3],r[3]=n,e[1]<0&&(n=r[1],r[1]=r[3],r[3]=n),r[1]*=e[1],r[3]*=e[1],e[2]<0&&(n=r[0],r[0]=r[2],r[2]=n),r[0]*=e[2],r[2]*=e[2]),r[0]+=e[4],r[1]+=e[5],r[2]+=e[4],r[3]+=e[5]}static transform(e,r){return[e[0]*r[0]+e[2]*r[1],e[1]*r[0]+e[3]*r[1],e[0]*r[2]+e[2]*r[3],e[1]*r[2]+e[3]*r[3],e[0]*r[4]+e[2]*r[5]+e[4],e[1]*r[4]+e[3]*r[5]+e[5]]}static applyTransform(e,r){const n=e[0]*r[0]+e[1]*r[2]+r[4],i=e[0]*r[1]+e[1]*r[3]+r[5];return[n,i]}static applyInverseTransform(e,r){const n=r[0]*r[3]-r[1]*r[2],i=(e[0]*r[3]-e[1]*r[2]+r[2]*r[5]-r[4]*r[3])/n,a=(-e[0]*r[1]+e[1]*r[0]+r[4]*r[1]-r[5]*r[0])/n;return[i,a]}static getAxialAlignedBoundingBox(e,r){const n=this.applyTransform(e,r),i=this.applyTransform(e.slice(2,4),r),a=this.applyTransform([e[0],e[3]],r),s=this.applyTransform([e[2],e[1]],r);return[Math.min(n[0],i[0],a[0],s[0]),Math.min(n[1],i[1],a[1],s[1]),Math.max(n[0],i[0],a[0],s[0]),Math.max(n[1],i[1],a[1],s[1])]}static inverseTransform(e){const r=e[0]*e[3]-e[1]*e[2];return[e[3]/r,-e[1]/r,-e[2]/r,e[0]/r,(e[2]*e[5]-e[4]*e[3])/r,(e[4]*e[1]-e[5]*e[0])/r]}static singularValueDecompose2dScale(e){const r=[e[0],e[2],e[1],e[3]],n=e[0]*r[0]+e[1]*r[2],i=e[0]*r[1]+e[1]*r[3],a=e[2]*r[0]+e[3]*r[2],s=e[2]*r[1]+e[3]*r[3],o=(n+s)/2,l=Math.sqrt((n+s)**2-4*(n*s-a*i))/2,c=o+l||1,u=o-l||1;return[Math.sqrt(c),Math.sqrt(u)]}static normalizeRect(e){const r=e.slice(0);return e[0]>e[2]&&(r[0]=e[2],r[2]=e[0]),e[1]>e[3]&&(r[1]=e[3],r[3]=e[1]),r}static intersect(e,r){const n=Math.max(Math.min(e[0],e[2]),Math.min(r[0],r[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(r[0],r[2]));if(n>i)return null;const a=Math.max(Math.min(e[1],e[3]),Math.min(r[1],r[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(r[1],r[3]));return a>s?null:[n,a,i,s]}static bezierBoundingBox(e,r,n,i,a,s,o,l,c){return c?(c[0]=Math.min(c[0],e,o),c[1]=Math.min(c[1],r,l),c[2]=Math.max(c[2],e,o),c[3]=Math.max(c[3],r,l)):c=[Math.min(e,o),Math.min(r,l),Math.max(e,o),Math.max(r,l)],M(this,bl,q2).call(this,e,n,a,o,r,i,s,l,3*(-e+3*(n-a)+o),6*(e-2*n+a),3*(n-e),c),M(this,bl,q2).call(this,e,n,a,o,r,i,s,l,3*(-r+3*(i-s)+l),6*(r-2*i+s),3*(i-r),c),c}}bl=new WeakSet,b1=function(e,r,n,i,a,s,o,l,c,u){if(c<=0||c>=1)return;const f=1-c,d=c*c,h=d*c,m=f*(f*(f*e+3*c*r)+3*d*n)+h*i,p=f*(f*(f*a+3*c*s)+3*d*o)+h*l;u[0]=Math.min(u[0],m),u[1]=Math.min(u[1],p),u[2]=Math.max(u[2],m),u[3]=Math.max(u[3],p)},q2=function(e,r,n,i,a,s,o,l,c,u,f,d){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&M(this,bl,b1).call(this,e,r,n,i,a,s,o,l,-f/u,d);return}const h=u**2-4*f*c;if(h<0)return;const m=Math.sqrt(h),p=2*c;M(this,bl,b1).call(this,e,r,n,i,a,s,o,l,(-u+m)/p,d),M(this,bl,b1).call(this,e,r,n,i,a,s,o,l,(-u-m)/p,d)},B(ze,bl);function CIe(t){return decodeURIComponent(escape(t))}let sT=null,Q4=null;function kIe(t){return sT||(sT=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Q4=new Map([["","t"]])),t.replaceAll(sT,(e,r,n)=>r?r.normalize("NFKC"):Q4.get(n))}function PIe(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const t=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(t);else for(let e=0;e<32;e++)t[e]=Math.floor(Math.random()*255);return i7(t)}const gO="pdfjs_internal_id_",Po={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function IIe(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(i7(t))}const Oo="http://www.w3.org/2000/svg",Iu=class Iu{};nt(Iu,"CSS",96),nt(Iu,"PDF",72),nt(Iu,"PDF_TO_CSS_UNITS",Iu.CSS/Iu.PDF);let Zc=Iu;async function RS(t,e="text"){if(pm(t,document.baseURI)){const r=await fetch(t);if(!r.ok)throw new Error(r.statusText);switch(e){case"arraybuffer":return r.arrayBuffer();case"blob":return r.blob();case"json":return r.json()}return r.text()}return new Promise((r,n)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":r(i.response);return}r(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class ix{constructor({viewBox:e,scale:r,rotation:n,offsetX:i=0,offsetY:a=0,dontFlip:s=!1}){this.viewBox=e,this.scale=r,this.rotation=n,this.offsetX=i,this.offsetY=a;const o=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let c,u,f,d;switch(n%=360,n<0&&(n+=360),n){case 180:c=-1,u=0,f=0,d=1;break;case 90:c=0,u=1,f=1,d=0;break;case 270:c=0,u=-1,f=-1,d=0;break;case 0:c=1,u=0,f=0,d=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}s&&(f=-f,d=-d);let h,m,p,y;c===0?(h=Math.abs(l-e[1])*r+i,m=Math.abs(o-e[0])*r+a,p=(e[3]-e[1])*r,y=(e[2]-e[0])*r):(h=Math.abs(o-e[0])*r+i,m=Math.abs(l-e[1])*r+a,p=(e[2]-e[0])*r,y=(e[3]-e[1])*r),this.transform=[c*r,u*r,f*r,d*r,h-c*r*o-f*r*l,m-u*r*o-d*r*l],this.width=p,this.height=y}get rawDims(){const{viewBox:e}=this;return At(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:r=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:a=!1}={}){return new ix({viewBox:this.viewBox.slice(),scale:e,rotation:r,offsetX:n,offsetY:i,dontFlip:a})}convertToViewportPoint(e,r){return ze.applyTransform([e,r],this.transform)}convertToViewportRectangle(e){const r=ze.applyTransform([e[0],e[1]],this.transform),n=ze.applyTransform([e[2],e[3]],this.transform);return[r[0],r[1],n[0],n[1]]}convertToPdfPoint(e,r){return ze.applyInverseTransform([e,r],this.transform)}}class vO extends pu{constructor(e,r=0){super(e,"RenderingCancelledException"),this.extraDelay=r}}function DS(t){const e=t.length;let r=0;for(;r<e&&t[r].trim()==="";)r++;return t.substring(r,r+5).toLowerCase()==="data:"}function yO(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function OIe(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function MIe(t,e="document.pdf"){if(typeof t!="string")return e;if(DS(t))return gt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=r.exec(t);let a=n.exec(i[1])||n.exec(i[2])||n.exec(i[3]);if(a&&(a=a[0],a.includes("%")))try{a=n.exec(decodeURIComponent(a))[0]}catch{}return a||e}class eL{constructor(){nt(this,"started",Object.create(null));nt(this,"times",[])}time(e){e in this.started&&gt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||gt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let r=0;for(const{name:n}of this.times)r=Math.max(n.length,r);for(const{name:n,start:i,end:a}of this.times)e.push(`${n.padEnd(r)} ${a-i}ms
`);return e.join("")}}function pm(t,e){try{const{protocol:r}=e?new URL(t,e):new URL(t);return r==="http:"||r==="https:"}catch{return!1}}function Ja(t){t.preventDefault()}function tL(t){console.log("Deprecated API usage: "+t)}var wv;class xO{static toDateObject(e){if(!e||typeof e!="string")return null;g(this,wv)||O(this,wv,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const r=g(this,wv).exec(e);if(!r)return null;const n=parseInt(r[1],10);let i=parseInt(r[2],10);i=i>=1&&i<=12?i-1:0;let a=parseInt(r[3],10);a=a>=1&&a<=31?a:1;let s=parseInt(r[4],10);s=s>=0&&s<=23?s:0;let o=parseInt(r[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(r[6],10);l=l>=0&&l<=59?l:0;const c=r[7]||"Z";let u=parseInt(r[8],10);u=u>=0&&u<=23?u:0;let f=parseInt(r[9],10)||0;return f=f>=0&&f<=59?f:0,c==="-"?(s+=u,o+=f):c==="+"&&(s-=u,o-=f),new Date(Date.UTC(n,i,a,s,o,l))}}wv=new WeakMap,B(xO,wv);function NIe(t,{scale:e=1,rotation:r=0}){const{width:n,height:i}=t.attributes.style,a=[0,0,parseInt(n),parseInt(i)];return new ix({viewBox:a,scale:e,rotation:r})}function _O(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(gt(`Not a valid color format: "${t}"`),[0,0,0])}function RIe(t){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const r of t.keys()){e.style.color=r;const n=window.getComputedStyle(e).color;t.set(r,_O(n))}e.remove()}function br(t){const{a:e,b:r,c:n,d:i,e:a,f:s}=t.getTransform();return[e,r,n,i,a,s]}function Io(t){const{a:e,b:r,c:n,d:i,e:a,f:s}=t.getTransform().invertSelf();return[e,r,n,i,a,s]}function cd(t,e,r=!1,n=!0){if(e instanceof ix){const{pageWidth:i,pageHeight:a}=e.rawDims,{style:s}=t,o=bi.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,c=`var(--scale-factor) * ${a}px`,u=o?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,f=o?`round(down, ${c}, var(--scale-round-y, 1px))`:`calc(${c})`;!r||e.rotation%180===0?(s.width=u,s.height=f):(s.width=f,s.height=u)}n&&t.setAttribute("data-main-rotation",e.rotation)}class X2{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var rc,Uu,ls,ju,bv,Sv,eb,a7,Si,s7,o7,S1,l7,Y2;const No=class No{constructor(e){B(this,Si);B(this,rc,null);B(this,Uu,null);B(this,ls);B(this,ju,null);B(this,bv,null);O(this,ls,e),g(No,Sv)||O(No,Sv,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=O(this,rc,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const r=g(this,ls)._uiManager._signal;e.addEventListener("contextmenu",Ja,{signal:r}),e.addEventListener("pointerdown",M(No,eb,a7),{signal:r});const n=O(this,ju,document.createElement("div"));n.className="buttons",e.append(n);const i=g(this,ls).toolbarPosition;if(i){const{style:a}=e,s=g(this,ls)._uiManager.direction==="ltr"?1-i[0]:i[0];a.insetInlineEnd=`${100*s}%`,a.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return M(this,Si,l7).call(this),e}get div(){return g(this,rc)}hide(){var e;g(this,rc).classList.add("hidden"),(e=g(this,Uu))==null||e.hideDropdown()}show(){var e;g(this,rc).classList.remove("hidden"),(e=g(this,bv))==null||e.shown()}async addAltText(e){const r=await e.render();M(this,Si,S1).call(this,r),g(this,ju).prepend(r,g(this,Si,Y2)),O(this,bv,e)}addColorPicker(e){O(this,Uu,e);const r=e.renderButton();M(this,Si,S1).call(this,r),g(this,ju).prepend(r,g(this,Si,Y2))}remove(){var e;g(this,rc).remove(),(e=g(this,Uu))==null||e.destroy(),O(this,Uu,null)}};rc=new WeakMap,Uu=new WeakMap,ls=new WeakMap,ju=new WeakMap,bv=new WeakMap,Sv=new WeakMap,eb=new WeakSet,a7=function(e){e.stopPropagation()},Si=new WeakSet,s7=function(e){g(this,ls)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},o7=function(e){g(this,ls)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},S1=function(e){const r=g(this,ls)._uiManager._signal;e.addEventListener("focusin",M(this,Si,s7).bind(this),{capture:!0,signal:r}),e.addEventListener("focusout",M(this,Si,o7).bind(this),{capture:!0,signal:r}),e.addEventListener("contextmenu",Ja,{signal:r})},l7=function(){const{editorType:e,_uiManager:r}=g(this,ls),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",g(No,Sv)[e]),M(this,Si,S1).call(this,n),n.addEventListener("click",i=>{r.delete()},{signal:r._signal}),g(this,ju).append(n)},Y2=function(){const e=document.createElement("div");return e.className="divider",e},B(No,eb),B(No,Sv,null);let K2=No;var Av,Vu,Hu,tu,c7,u7,f7;class DIe{constructor(e){B(this,tu);B(this,Av,null);B(this,Vu,null);B(this,Hu);O(this,Hu,e)}show(e,r,n){const[i,a]=M(this,tu,u7).call(this,r,n),{style:s}=g(this,Vu)||O(this,Vu,M(this,tu,c7).call(this));e.append(g(this,Vu)),s.insetInlineEnd=`${100*i}%`,s.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){g(this,Vu).remove()}}Av=new WeakMap,Vu=new WeakMap,Hu=new WeakMap,tu=new WeakSet,c7=function(){const e=O(this,Vu,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Ja,{signal:g(this,Hu)._signal});const r=O(this,Av,document.createElement("div"));return r.className="buttons",e.append(r),M(this,tu,f7).call(this),e},u7=function(e,r){let n=0,i=0;for(const a of e){const s=a.y+a.height;if(s<n)continue;const o=a.x+(r?a.width:0);if(s>n){i=o,n=s;continue}r?o>i&&(i=o):o<i&&(i=o)}return[r?1-i:i,n]},f7=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const r=document.createElement("span");e.append(r),r.className="visuallyHidden",r.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=g(this,Hu)._signal;e.addEventListener("contextmenu",Ja,{signal:n}),e.addEventListener("click",()=>{g(this,Hu).highlightSelection("floating_button")},{signal:n}),g(this,Av).append(e)};function Bw(t,e,r){for(const n of r)e.addEventListener(n,t[n].bind(t))}function FIe(t){return Math.round(Math.min(255,Math.max(1,255*t))).toString(16).padStart(2,"0")}var tb;class LIe{constructor(){B(this,tb,0)}get id(){return`${gIe}${di(this,tb)._++}`}}tb=new WeakMap;var Ih,Tv,Kn,Oh,A1;const MO=class MO{constructor(){B(this,Oh);B(this,Ih,PIe());B(this,Tv,0);B(this,Kn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const a=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return At(this,"_isSVGFittingCanvas",a)}async getFromFile(e){const{lastModified:r,name:n,size:i,type:a}=e;return M(this,Oh,A1).call(this,`${r}_${n}_${i}_${a}`,e)}async getFromUrl(e){return M(this,Oh,A1).call(this,e,e)}async getFromBlob(e,r){const n=await r;return M(this,Oh,A1).call(this,e,n)}async getFromId(e){g(this,Kn)||O(this,Kn,new Map);const r=g(this,Kn).get(e);if(!r)return null;if(r.bitmap)return r.refCounter+=1,r;if(r.file)return this.getFromFile(r.file);if(r.blobPromise){const{blobPromise:n}=r;return delete r.blobPromise,this.getFromBlob(r.id,n)}return this.getFromUrl(r.url)}getFromCanvas(e,r){g(this,Kn)||O(this,Kn,new Map);let n=g(this,Kn).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(r.width,r.height);return i.getContext("2d").drawImage(r,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${g(this,Ih)}_${di(this,Tv)._++}`,refCounter:1,isSvg:!1},g(this,Kn).set(e,n),g(this,Kn).set(n.id,n),n}getSvgUrl(e){const r=g(this,Kn).get(e);return r!=null&&r.isSvg?r.svgUrl:null}deleteId(e){var i;g(this,Kn)||O(this,Kn,new Map);const r=g(this,Kn).get(e);if(!r||(r.refCounter-=1,r.refCounter!==0))return;const{bitmap:n}=r;if(!r.url&&!r.file){const a=new OffscreenCanvas(n.width,n.height);a.getContext("bitmaprenderer").transferFromImageBitmap(n),r.blobPromise=a.convertToBlob()}(i=n.close)==null||i.call(n),r.bitmap=null}isValidId(e){return e.startsWith(`image_${g(this,Ih)}_`)}};Ih=new WeakMap,Tv=new WeakMap,Kn=new WeakMap,Oh=new WeakSet,A1=async function(e,r){g(this,Kn)||O(this,Kn,new Map);let n=g(this,Kn).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${g(this,Ih)}_${di(this,Tv)._++}`,refCounter:0,isSvg:!1});let i;if(typeof r=="string"?(n.url=r,i=await RS(r,"blob")):r instanceof File?i=n.file=r:r instanceof Blob&&(i=r),i.type==="image/svg+xml"){const a=MO._isSVGFittingCanvas,s=new FileReader,o=new Image,l=new Promise((c,u)=>{o.onload=()=>{n.bitmap=o,n.isSvg=!0,c()},s.onload=async()=>{const f=n.svgUrl=s.result;o.src=await a?`${f}#svgView(preserveAspectRatio(none))`:f},o.onerror=s.onerror=u});s.readAsDataURL(i),await l}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){console.error(i),n=null}return g(this,Kn).set(e,n),n&&g(this,Kn).set(n.id,n),n};let J2=MO;var yn,nc,Ev,xn;class $Ie{constructor(e=128){B(this,yn,[]);B(this,nc,!1);B(this,Ev);B(this,xn,-1);O(this,Ev,e)}add({cmd:e,undo:r,post:n,mustExec:i,type:a=NaN,overwriteIfSameType:s=!1,keepUndo:o=!1}){if(i&&e(),g(this,nc))return;const l={cmd:e,undo:r,post:n,type:a};if(g(this,xn)===-1){g(this,yn).length>0&&(g(this,yn).length=0),O(this,xn,0),g(this,yn).push(l);return}if(s&&g(this,yn)[g(this,xn)].type===a){o&&(l.undo=g(this,yn)[g(this,xn)].undo),g(this,yn)[g(this,xn)]=l;return}const c=g(this,xn)+1;c===g(this,Ev)?g(this,yn).splice(0,1):(O(this,xn,c),c<g(this,yn).length&&g(this,yn).splice(c)),g(this,yn).push(l)}undo(){if(g(this,xn)===-1)return;O(this,nc,!0);const{undo:e,post:r}=g(this,yn)[g(this,xn)];e(),r==null||r(),O(this,nc,!1),O(this,xn,g(this,xn)-1)}redo(){if(g(this,xn)<g(this,yn).length-1){O(this,xn,g(this,xn)+1),O(this,nc,!0);const{cmd:e,post:r}=g(this,yn)[g(this,xn)];e(),r==null||r(),O(this,nc,!1)}}hasSomethingToUndo(){return g(this,xn)!==-1}hasSomethingToRedo(){return g(this,xn)<g(this,yn).length-1}destroy(){O(this,yn,null)}}yn=new WeakMap,nc=new WeakMap,Ev=new WeakMap,xn=new WeakMap;var rb,d7;class ax{constructor(e){B(this,rb);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:r}=bi.platform;for(const[n,i,a={}]of e)for(const s of n){const o=s.startsWith("mac+");r&&o?(this.callbacks.set(s.slice(4),{callback:i,options:a}),this.allKeys.add(s.split("+").at(-1))):!r&&!o&&(this.callbacks.set(s,{callback:i,options:a}),this.allKeys.add(s.split("+").at(-1)))}}exec(e,r){if(!this.allKeys.has(r.key))return;const n=this.callbacks.get(M(this,rb,d7).call(this,r));if(!n)return;const{callback:i,options:{bubbles:a=!1,args:s=[],checker:o=null}}=n;o&&!o(e,r)||(i.bind(e,...s,r)(),a||(r.stopPropagation(),r.preventDefault()))}}rb=new WeakSet,d7=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const r=this.buffer.join("+");return this.buffer.length=0,r};const nb=class nb{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return RIe(e),At(this,"_colors",e)}convert(e){const r=_O(e);if(!window.matchMedia("(forced-colors: active)").matches)return r;for(const[n,i]of this._colors)if(i.every((a,s)=>a===r[s]))return nb._colorsMapping.get(n);return r}getHexCode(e){const r=this._colors.get(e);return r?ze.makeHexColor(...r):e}};nt(nb,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Z2=nb;var Mh,Ki,on,Mn,Nh,Fo,Rh,cs,ic,Dh,Wu,Gs,us,zu,Cv,kv,Fh,Pv,qs,ac,Lh,sc,Xs,ib,oc,Iv,lc,Gu,Ov,Mv,_n,$t,Lo,qu,Nv,Rv,cc,Ks,$o,Dv,Pa,Ne,T1,Q2,h7,p7,E1,m7,g7,v7,eC,y7,tC,rC,x7,hi,Gl,_7,w7,nC,b7,mm,iC;const ph=class ph{constructor(e,r,n,i,a,s,o,l,c,u,f){B(this,Ne);B(this,Mh,new AbortController);B(this,Ki,null);B(this,on,new Map);B(this,Mn,new Map);B(this,Nh,null);B(this,Fo,null);B(this,Rh,null);B(this,cs,new $Ie);B(this,ic,null);B(this,Dh,0);B(this,Wu,new Set);B(this,Gs,null);B(this,us,null);B(this,zu,new Set);B(this,Cv,!1);B(this,kv,!1);B(this,Fh,!1);B(this,Pv,null);B(this,qs,null);B(this,ac,null);B(this,Lh,null);B(this,sc,!1);B(this,Xs,null);B(this,ib,new LIe);B(this,oc,!1);B(this,Iv,!1);B(this,lc,null);B(this,Gu,null);B(this,Ov,null);B(this,Mv,null);B(this,_n,dt.NONE);B(this,$t,new Set);B(this,Lo,null);B(this,qu,null);B(this,Nv,null);B(this,Rv,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});B(this,cc,[0,0]);B(this,Ks,null);B(this,$o,null);B(this,Dv,null);B(this,Pa,null);const d=this._signal=g(this,Mh).signal;O(this,$o,e),O(this,Dv,r),O(this,Nh,n),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:d}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:d}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:d}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:d}),i._on("setpreference",this.onSetPreference.bind(this),{signal:d}),i._on("switchannotationeditorparams",h=>this.updateParams(h.type,h.value),{signal:d}),M(this,Ne,m7).call(this),M(this,Ne,x7).call(this),M(this,Ne,eC).call(this),O(this,Fo,a.annotationStorage),O(this,Pv,a.filterFactory),O(this,qu,s),O(this,Lh,o||null),O(this,Cv,l),O(this,kv,c),O(this,Fh,u),O(this,Mv,f||null),this.viewParameters={realScale:Zc.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=ph.prototype,r=s=>g(s,$o).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&s.hasSomethingToControl(),n=(s,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return At(this,"_keyboardManager",new ax([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&g(s,$o).contains(o)&&!s.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&g(s,$o).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:r}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:r}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:r}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:r}]]))}destroy(){var e,r,n,i;(e=g(this,Pa))==null||e.resolve(),O(this,Pa,null),(r=g(this,Mh))==null||r.abort(),O(this,Mh,null),this._signal=null;for(const a of g(this,Mn).values())a.destroy();g(this,Mn).clear(),g(this,on).clear(),g(this,zu).clear(),O(this,Ki,null),g(this,$t).clear(),g(this,cs).destroy(),(n=g(this,Nh))==null||n.destroy(),(i=g(this,Xs))==null||i.hide(),O(this,Xs,null),g(this,qs)&&(clearTimeout(g(this,qs)),O(this,qs,null)),g(this,Ks)&&(clearTimeout(g(this,Ks)),O(this,Ks,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return g(this,Mv)}get useNewAltTextFlow(){return g(this,kv)}get useNewAltTextWhenAddingImage(){return g(this,Fh)}get hcmFilter(){return At(this,"hcmFilter",g(this,qu)?g(this,Pv).addHCMFilter(g(this,qu).foreground,g(this,qu).background):"none")}get direction(){return At(this,"direction",getComputedStyle(g(this,$o)).direction)}get highlightColors(){return At(this,"highlightColors",g(this,Lh)?new Map(g(this,Lh).split(",").map(e=>e.split("=").map(r=>r.trim()))):null)}get highlightColorNames(){return At(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){O(this,Ov,e)}editAltText(e,r=!1){var n;(n=g(this,Nh))==null||n.editAltText(this,e,r)}switchToMode(e,r){this._eventBus.on("annotationeditormodechanged",r,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,r){this._eventBus.dispatch("setpreference",{source:this,name:e,value:r})}onSetPreference({name:e,value:r}){switch(e){case"enableNewAltTextWhenAddingImage":O(this,Fh,r);break}}onPageChanging({pageNumber:e}){O(this,Dh,e-1)}focusMainContainer(){g(this,$o).focus()}findParent(e,r){for(const n of g(this,Mn).values()){const{x:i,y:a,width:s,height:o}=n.div.getBoundingClientRect();if(e>=i&&e<=i+s&&r>=a&&r<=a+o)return n}return null}disableUserSelect(e=!1){g(this,Dv).classList.toggle("noUserSelect",e)}addShouldRescale(e){g(this,zu).add(e)}removeShouldRescale(e){g(this,zu).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Zc.PDF_TO_CSS_UNITS;for(const r of g(this,zu))r.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:n,anchorOffset:i,focusNode:a,focusOffset:s}=r,o=r.toString(),c=M(this,Ne,T1).call(this,r).closest(".textLayer"),u=this.getSelectionBoxes(c);if(!u)return;r.empty();const f=M(this,Ne,Q2).call(this,c),d=g(this,_n)===dt.NONE,h=()=>{f==null||f.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:u,anchorNode:n,anchorOffset:i,focusNode:a,focusOffset:s,text:o}),d&&this.showAllEditors("highlight",!0,!0)};if(d){this.switchToMode(dt.HIGHLIGHT,h);return}h()}addToAnnotationStorage(e){!e.isEmpty()&&g(this,Fo)&&!g(this,Fo).has(e.id)&&g(this,Fo).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,g(this,sc)&&(O(this,sc,!1),M(this,Ne,E1).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const r of g(this,$t))if(r.div.contains(e)){O(this,Gu,[r,e]),r._focusEventsAllowed=!1;break}}focus(){if(!g(this,Gu))return;const[e,r]=g(this,Gu);O(this,Gu,null),r.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),r.focus()}addEditListeners(){M(this,Ne,eC).call(this),M(this,Ne,tC).call(this)}removeEditListeners(){M(this,Ne,y7).call(this),M(this,Ne,rC).call(this)}dragOver(e){for(const{type:r}of e.dataTransfer.items)for(const n of g(this,us))if(n.isHandlingMimeForPasting(r)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const r of e.dataTransfer.items)for(const n of g(this,us))if(n.isHandlingMimeForPasting(r.type)){n.paste(r,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=g(this,Ki))==null||n.commitOrRemove(),!this.hasSelection)return;const r=[];for(const i of g(this,$t)){const a=i.serialize(!0);a&&r.push(a)}r.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(r))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:r}=e;for(const a of r.items)for(const s of g(this,us))if(s.isHandlingMimeForPasting(a.type)){s.paste(a,this.currentLayer);return}let n=r.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(a){gt(`paste: "${a.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const a=[];for(const l of n){const c=await i.deserialize(l);if(!c)return;a.push(c)}const s=()=>{for(const l of a)M(this,Ne,nC).call(this,l);M(this,Ne,iC).call(this,a)},o=()=>{for(const l of a)l.remove()};this.addCommands({cmd:s,undo:o,mustExec:!0})}catch(a){gt(`paste: "${a.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),g(this,_n)!==dt.NONE&&!this.isEditorHandlingKeyboard&&ph._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,g(this,sc)&&(O(this,sc,!1),M(this,Ne,E1).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(M(this,Ne,g7).call(this),M(this,Ne,tC).call(this),M(this,Ne,hi).call(this,{isEditing:g(this,_n)!==dt.NONE,isEmpty:M(this,Ne,mm).call(this),hasSomethingToUndo:g(this,cs).hasSomethingToUndo(),hasSomethingToRedo:g(this,cs).hasSomethingToRedo(),hasSelectedEditor:!1})):(M(this,Ne,v7).call(this),M(this,Ne,rC).call(this),M(this,Ne,hi).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!g(this,us)){O(this,us,e);for(const r of g(this,us))M(this,Ne,Gl).call(this,r.defaultPropertiesToUpdate)}}getId(){return g(this,ib).id}get currentLayer(){return g(this,Mn).get(g(this,Dh))}getLayer(e){return g(this,Mn).get(e)}get currentPageIndex(){return g(this,Dh)}addLayer(e){g(this,Mn).set(e.pageIndex,e),g(this,oc)?e.enable():e.disable()}removeLayer(e){g(this,Mn).delete(e.pageIndex)}async updateMode(e,r=null,n=!1){if(g(this,_n)!==e&&!(g(this,Pa)&&(await g(this,Pa).promise,!g(this,Pa)))){if(O(this,Pa,Promise.withResolvers()),O(this,_n,e),e===dt.NONE){this.setEditingState(!1),M(this,Ne,w7).call(this),g(this,Pa).resolve();return}this.setEditingState(!0),await M(this,Ne,_7).call(this),this.unselectAll();for(const i of g(this,Mn).values())i.updateMode(e);if(!r){n&&this.addNewEditorFromKeyboard(),g(this,Pa).resolve();return}for(const i of g(this,on).values())i.annotationElementId===r?(this.setSelected(i),i.enterInEditMode()):i.unselect();g(this,Pa).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==g(this,_n)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,r){var n;if(g(this,us)){switch(e){case it.CREATE:this.currentLayer.addNewEditor();return;case it.HIGHLIGHT_DEFAULT_COLOR:(n=g(this,Ov))==null||n.updateColor(r);break;case it.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(g(this,Nv)||O(this,Nv,new Map)).set(e,r),this.showAllEditors("highlight",r);break}for(const i of g(this,$t))i.updateParams(e,r);for(const i of g(this,us))i.updateDefaultParams(e,r)}}showAllEditors(e,r,n=!1){var a;for(const s of g(this,on).values())s.editorType===e&&s.show(r);(((a=g(this,Nv))==null?void 0:a.get(it.HIGHLIGHT_SHOW_ALL))??!0)!==r&&M(this,Ne,Gl).call(this,[[it.HIGHLIGHT_SHOW_ALL,r]])}enableWaiting(e=!1){if(g(this,Iv)!==e){O(this,Iv,e);for(const r of g(this,Mn).values())e?r.disableClick():r.enableClick(),r.div.classList.toggle("waiting",e)}}getEditors(e){const r=[];for(const n of g(this,on).values())n.pageIndex===e&&r.push(n);return r}getEditor(e){return g(this,on).get(e)}addEditor(e){g(this,on).set(e.id,e)}removeEditor(e){var r;e.div.contains(document.activeElement)&&(g(this,qs)&&clearTimeout(g(this,qs)),O(this,qs,setTimeout(()=>{this.focusMainContainer(),O(this,qs,null)},0))),g(this,on).delete(e.id),this.unselect(e),(!e.annotationElementId||!g(this,Wu).has(e.annotationElementId))&&((r=g(this,Fo))==null||r.remove(e.id))}addDeletedAnnotationElement(e){g(this,Wu).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return g(this,Wu).has(e)}removeDeletedAnnotationElement(e){g(this,Wu).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){g(this,Ki)!==e&&(O(this,Ki,e),e&&M(this,Ne,Gl).call(this,e.propertiesToUpdate))}updateUI(e){g(this,Ne,b7)===e&&M(this,Ne,Gl).call(this,e.propertiesToUpdate)}toggleSelected(e){if(g(this,$t).has(e)){g(this,$t).delete(e),e.unselect(),M(this,Ne,hi).call(this,{hasSelectedEditor:this.hasSelection});return}g(this,$t).add(e),e.select(),M(this,Ne,Gl).call(this,e.propertiesToUpdate),M(this,Ne,hi).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const r of g(this,$t))r!==e&&r.unselect();g(this,$t).clear(),g(this,$t).add(e),e.select(),M(this,Ne,Gl).call(this,e.propertiesToUpdate),M(this,Ne,hi).call(this,{hasSelectedEditor:!0})}isSelected(e){return g(this,$t).has(e)}get firstSelectedEditor(){return g(this,$t).values().next().value}unselect(e){e.unselect(),g(this,$t).delete(e),M(this,Ne,hi).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return g(this,$t).size!==0}get isEnterHandled(){return g(this,$t).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){g(this,cs).undo(),M(this,Ne,hi).call(this,{hasSomethingToUndo:g(this,cs).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:M(this,Ne,mm).call(this)})}redo(){g(this,cs).redo(),M(this,Ne,hi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:g(this,cs).hasSomethingToRedo(),isEmpty:M(this,Ne,mm).call(this)})}addCommands(e){g(this,cs).add(e),M(this,Ne,hi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:M(this,Ne,mm).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...g(this,$t)],r=()=>{for(const i of e)i.remove()},n=()=>{for(const i of e)M(this,Ne,nC).call(this,i)};this.addCommands({cmd:r,undo:n,mustExec:!0})}commitOrRemove(){var e;(e=g(this,Ki))==null||e.commitOrRemove()}hasSomethingToControl(){return g(this,Ki)||this.hasSelection}selectAll(){for(const e of g(this,$t))e.commit();M(this,Ne,iC).call(this,g(this,on).values())}unselectAll(){if(!(g(this,Ki)&&(g(this,Ki).commitOrRemove(),g(this,_n)!==dt.NONE))&&this.hasSelection){for(const e of g(this,$t))e.unselect();g(this,$t).clear(),M(this,Ne,hi).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,r,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;g(this,cc)[0]+=e,g(this,cc)[1]+=r;const[i,a]=g(this,cc),s=[...g(this,$t)],o=1e3;g(this,Ks)&&clearTimeout(g(this,Ks)),O(this,Ks,setTimeout(()=>{O(this,Ks,null),g(this,cc)[0]=g(this,cc)[1]=0,this.addCommands({cmd:()=>{for(const l of s)g(this,on).has(l.id)&&l.translateInPage(i,a)},undo:()=>{for(const l of s)g(this,on).has(l.id)&&l.translateInPage(-i,-a)},mustExec:!1})},o));for(const l of s)l.translateInPage(e,r)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),O(this,Gs,new Map);for(const e of g(this,$t))g(this,Gs).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!g(this,Gs))return!1;this.disableUserSelect(!1);const e=g(this,Gs);O(this,Gs,null);let r=!1;for(const[{x:i,y:a,pageIndex:s},o]of e)o.newX=i,o.newY=a,o.newPageIndex=s,r||(r=i!==o.savedX||a!==o.savedY||s!==o.savedPageIndex);if(!r)return!1;const n=(i,a,s,o)=>{if(g(this,on).has(i.id)){const l=g(this,Mn).get(o);l?i._setParentAndPosition(l,a,s):(i.pageIndex=o,i.x=a,i.y=s)}};return this.addCommands({cmd:()=>{for(const[i,{newX:a,newY:s,newPageIndex:o}]of e)n(i,a,s,o)},undo:()=>{for(const[i,{savedX:a,savedY:s,savedPageIndex:o}]of e)n(i,a,s,o)},mustExec:!0}),!0}dragSelectedEditors(e,r){if(g(this,Gs))for(const n of g(this,Gs).keys())n.drag(e,r)}rebuild(e){if(e.parent===null){const r=this.getLayer(e.pageIndex);r?(r.changeParent(e),r.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||g(this,$t).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return g(this,Ki)===e}getActive(){return g(this,Ki)}getMode(){return g(this,_n)}get imageManager(){return At(this,"imageManager",new J2)}getSelectionBoxes(e){if(!e)return null;const r=document.getSelection();for(let c=0,u=r.rangeCount;c<u;c++)if(!e.contains(r.getRangeAt(c).commonAncestorContainer))return null;const{x:n,y:i,width:a,height:s}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(c,u,f,d)=>({x:(u-i)/s,y:1-(c+f-n)/a,width:d/s,height:f/a});break;case"180":o=(c,u,f,d)=>({x:1-(c+f-n)/a,y:1-(u+d-i)/s,width:f/a,height:d/s});break;case"270":o=(c,u,f,d)=>({x:1-(u+d-i)/s,y:(c-n)/a,width:d/s,height:f/a});break;default:o=(c,u,f,d)=>({x:(c-n)/a,y:(u-i)/s,width:f/a,height:d/s});break}const l=[];for(let c=0,u=r.rangeCount;c<u;c++){const f=r.getRangeAt(c);if(!f.collapsed)for(const{x:d,y:h,width:m,height:p}of f.getClientRects())m===0||p===0||l.push(o(d,h,m,p))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:r}){(g(this,Rh)||O(this,Rh,new Map)).set(e,r)}removeChangedExistingAnnotation({annotationElementId:e}){var r;(r=g(this,Rh))==null||r.delete(e)}renderAnnotationElement(e){var i;const r=(i=g(this,Rh))==null?void 0:i.get(e.data.id);if(!r)return;const n=g(this,Fo).getRawValue(r);n&&(g(this,_n)===dt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}};Mh=new WeakMap,Ki=new WeakMap,on=new WeakMap,Mn=new WeakMap,Nh=new WeakMap,Fo=new WeakMap,Rh=new WeakMap,cs=new WeakMap,ic=new WeakMap,Dh=new WeakMap,Wu=new WeakMap,Gs=new WeakMap,us=new WeakMap,zu=new WeakMap,Cv=new WeakMap,kv=new WeakMap,Fh=new WeakMap,Pv=new WeakMap,qs=new WeakMap,ac=new WeakMap,Lh=new WeakMap,sc=new WeakMap,Xs=new WeakMap,ib=new WeakMap,oc=new WeakMap,Iv=new WeakMap,lc=new WeakMap,Gu=new WeakMap,Ov=new WeakMap,Mv=new WeakMap,_n=new WeakMap,$t=new WeakMap,Lo=new WeakMap,qu=new WeakMap,Nv=new WeakMap,Rv=new WeakMap,cc=new WeakMap,Ks=new WeakMap,$o=new WeakMap,Dv=new WeakMap,Pa=new WeakMap,Ne=new WeakSet,T1=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Q2=function(e){const{currentLayer:r}=this;if(r.hasTextLayer(e))return r;for(const n of g(this,Mn).values())if(n.hasTextLayer(e))return n;return null},h7=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=M(this,Ne,T1).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(g(this,Xs)||O(this,Xs,new DIe(this)),g(this,Xs).show(n,i,this.direction==="ltr"))},p7=function(){var a,s,o;const e=document.getSelection();if(!e||e.isCollapsed){g(this,Lo)&&((a=g(this,Xs))==null||a.hide(),O(this,Lo,null),M(this,Ne,hi).call(this,{hasSelectedText:!1}));return}const{anchorNode:r}=e;if(r===g(this,Lo))return;const i=M(this,Ne,T1).call(this,e).closest(".textLayer");if(!i){g(this,Lo)&&((s=g(this,Xs))==null||s.hide(),O(this,Lo,null),M(this,Ne,hi).call(this,{hasSelectedText:!1}));return}if((o=g(this,Xs))==null||o.hide(),O(this,Lo,r),M(this,Ne,hi).call(this,{hasSelectedText:!0}),!(g(this,_n)!==dt.HIGHLIGHT&&g(this,_n)!==dt.NONE)&&(g(this,_n)===dt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),O(this,sc,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=g(this,_n)===dt.HIGHLIGHT?M(this,Ne,Q2).call(this,i):null;l==null||l.toggleDrawing();const c=new AbortController,u=this.combinedSignal(c),f=d=>{d.type==="pointerup"&&d.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),d.type==="pointerup"&&M(this,Ne,E1).call(this,"main_toolbar"))};window.addEventListener("pointerup",f,{signal:u}),window.addEventListener("blur",f,{signal:u})}},E1=function(e=""){g(this,_n)===dt.HIGHLIGHT?this.highlightSelection(e):g(this,Cv)&&M(this,Ne,h7).call(this)},m7=function(){document.addEventListener("selectionchange",M(this,Ne,p7).bind(this),{signal:this._signal})},g7=function(){if(g(this,ac))return;O(this,ac,new AbortController);const e=this.combinedSignal(g(this,ac));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},v7=function(){var e;(e=g(this,ac))==null||e.abort(),O(this,ac,null)},eC=function(){if(g(this,lc))return;O(this,lc,new AbortController);const e=this.combinedSignal(g(this,lc));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},y7=function(){var e;(e=g(this,lc))==null||e.abort(),O(this,lc,null)},tC=function(){if(g(this,ic))return;O(this,ic,new AbortController);const e=this.combinedSignal(g(this,ic));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},rC=function(){var e;(e=g(this,ic))==null||e.abort(),O(this,ic,null)},x7=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},hi=function(e){Object.entries(e).some(([n,i])=>g(this,Rv)[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(g(this,Rv),e)}),g(this,_n)===dt.HIGHLIGHT&&e.hasSelectedEditor===!1&&M(this,Ne,Gl).call(this,[[it.HIGHLIGHT_FREE,!0]]))},Gl=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},_7=async function(){if(!g(this,oc)){O(this,oc,!0);const e=[];for(const r of g(this,Mn).values())e.push(r.enable());await Promise.all(e);for(const r of g(this,on).values())r.enable()}},w7=function(){if(this.unselectAll(),g(this,oc)){O(this,oc,!1);for(const e of g(this,Mn).values())e.disable();for(const e of g(this,on).values())e.disable()}},nC=function(e){const r=g(this,Mn).get(e.pageIndex);r?r.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},b7=function(){let e=null;for(e of g(this,$t));return e},mm=function(){if(g(this,on).size===0)return!0;if(g(this,on).size===1)for(const e of g(this,on).values())return e.isEmpty();return!1},iC=function(e){for(const r of g(this,$t))r.unselect();g(this,$t).clear();for(const r of e)r.isEmpty()||(g(this,$t).add(r),r.select());M(this,Ne,hi).call(this,{hasSelectedEditor:this.hasSelection})},nt(ph,"TRANSLATE_SMALL",1),nt(ph,"TRANSLATE_BIG",10);let ud=ph;var wn,Ys,fs,$h,Js,Yi,Bh,Zs,Ii,Bo,Xu,Qs,uc,Is,gm,C1;const pi=class pi{constructor(e){B(this,Is);B(this,wn,null);B(this,Ys,!1);B(this,fs,null);B(this,$h,null);B(this,Js,null);B(this,Yi,null);B(this,Bh,!1);B(this,Zs,null);B(this,Ii,null);B(this,Bo,null);B(this,Xu,null);B(this,Qs,!1);O(this,Ii,e),O(this,Qs,e._uiManager.useNewAltTextFlow),g(pi,uc)||O(pi,uc,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){pi._l10n??(pi._l10n=e)}async render(){const e=O(this,fs,document.createElement("button"));e.className="altText",e.tabIndex="0";const r=O(this,$h,document.createElement("span"));e.append(r),g(this,Qs)?(e.classList.add("new"),e.setAttribute("data-l10n-id",g(pi,uc).missing),r.setAttribute("data-l10n-id",g(pi,uc)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=g(this,Ii)._uiManager._signal;e.addEventListener("contextmenu",Ja,{signal:n}),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:n});const i=a=>{a.preventDefault(),g(this,Ii)._uiManager.editAltText(g(this,Ii)),g(this,Qs)&&g(this,Ii)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:g(this,Is,gm)}})};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(O(this,Bh,!0),i(a))},{signal:n}),await M(this,Is,C1).call(this),e}finish(){g(this,fs)&&(g(this,fs).focus({focusVisible:g(this,Bh)}),O(this,Bh,!1))}isEmpty(){return g(this,Qs)?g(this,wn)===null:!g(this,wn)&&!g(this,Ys)}hasData(){return g(this,Qs)?g(this,wn)!==null||!!g(this,Bo):this.isEmpty()}get guessedText(){return g(this,Bo)}async setGuessedText(e){g(this,wn)===null&&(O(this,Bo,e),O(this,Xu,await pi._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),M(this,Is,C1).call(this))}toggleAltTextBadge(e=!1){var r;if(!g(this,Qs)||g(this,wn)){(r=g(this,Zs))==null||r.remove(),O(this,Zs,null);return}if(!g(this,Zs)){const n=O(this,Zs,document.createElement("div"));n.className="noAltTextBadge",g(this,Ii).div.append(n)}g(this,Zs).classList.toggle("hidden",!e)}serialize(e){let r=g(this,wn);return!e&&g(this,Bo)===r&&(r=g(this,Xu)),{altText:r,decorative:g(this,Ys),guessedText:g(this,Bo),textWithDisclaimer:g(this,Xu)}}get data(){return{altText:g(this,wn),decorative:g(this,Ys)}}set data({altText:e,decorative:r,guessedText:n,textWithDisclaimer:i,cancel:a=!1}){n&&(O(this,Bo,n),O(this,Xu,i)),!(g(this,wn)===e&&g(this,Ys)===r)&&(a||(O(this,wn,e),O(this,Ys,r)),M(this,Is,C1).call(this))}toggle(e=!1){g(this,fs)&&(!e&&g(this,Yi)&&(clearTimeout(g(this,Yi)),O(this,Yi,null)),g(this,fs).disabled=!e)}shown(){g(this,Ii)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:g(this,Is,gm)}})}destroy(){var e,r;(e=g(this,fs))==null||e.remove(),O(this,fs,null),O(this,$h,null),O(this,Js,null),(r=g(this,Zs))==null||r.remove(),O(this,Zs,null)}};wn=new WeakMap,Ys=new WeakMap,fs=new WeakMap,$h=new WeakMap,Js=new WeakMap,Yi=new WeakMap,Bh=new WeakMap,Zs=new WeakMap,Ii=new WeakMap,Bo=new WeakMap,Xu=new WeakMap,Qs=new WeakMap,uc=new WeakMap,Is=new WeakSet,gm=function(){return g(this,wn)&&"added"||g(this,wn)===null&&this.guessedText&&"review"||"missing"},C1=async function(){var i,a,s;const e=g(this,fs);if(!e)return;if(g(this,Qs)){if(e.classList.toggle("done",!!g(this,wn)),e.setAttribute("data-l10n-id",g(pi,uc)[g(this,Is,gm)]),(i=g(this,$h))==null||i.setAttribute("data-l10n-id",g(pi,uc)[`${g(this,Is,gm)}-label`]),!g(this,wn)){(a=g(this,Js))==null||a.remove();return}}else{if(!g(this,wn)&&!g(this,Ys)){e.classList.remove("done"),(s=g(this,Js))==null||s.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let r=g(this,Js);if(!r){O(this,Js,r=document.createElement("span")),r.className="tooltip",r.setAttribute("role","tooltip"),r.id=`alt-text-tooltip-${g(this,Ii).id}`;const o=100,l=g(this,Ii)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(g(this,Yi)),O(this,Yi,null)},{once:!0}),e.addEventListener("mouseenter",()=>{O(this,Yi,setTimeout(()=>{O(this,Yi,null),g(this,Js).classList.add("show"),g(this,Ii)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var c;g(this,Yi)&&(clearTimeout(g(this,Yi)),O(this,Yi,null)),(c=g(this,Js))==null||c.classList.remove("show")},{signal:l})}g(this,Ys)?r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(r.removeAttribute("data-l10n-id"),r.textContent=g(this,wn)),r.parentNode||e.append(r);const n=g(this,Ii).getImageForAltText();n==null||n.setAttribute("aria-describedby",r.id)},B(pi,uc,null),nt(pi,"_l10n",null);let Uw=pi;var Ku,ds,_r,Uh,Yu,Nn,Ju,fc,Fv,Zu,dc,Lv,Qu,Uo,eo,jh,Vh,Ia,$v,ab,pt,aC,Bv,sC,oC,S7,A7,lC,cC,uC,T7,fC,E7,C7,k7,dC,vm;const Lt=class Lt{constructor(e){B(this,pt);B(this,Ku,null);B(this,ds,null);B(this,_r,null);B(this,Uh,!1);B(this,Yu,!1);B(this,Nn,null);B(this,Ju,null);B(this,fc,null);B(this,Fv,"");B(this,Zu,!1);B(this,dc,null);B(this,Lv,!1);B(this,Qu,!1);B(this,Uo,!1);B(this,eo,null);B(this,jh,0);B(this,Vh,0);B(this,Ia,null);nt(this,"_editToolbar",null);nt(this,"_initialOptions",Object.create(null));nt(this,"_initialData",null);nt(this,"_isVisible",!0);nt(this,"_uiManager",null);nt(this,"_focusEventsAllowed",!0);B(this,$v,!1);B(this,ab,Lt._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:r,rawDims:{pageWidth:n,pageHeight:i,pageX:a,pageY:s}}=this.parent.viewport;this.rotation=r,this.pageRotation=(360+r-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[a,s];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Lt.prototype._resizeWithKeyboard,r=ud.TRANSLATE_SMALL,n=ud.TRANSLATE_BIG;return At(this,"_resizerKeyboardManager",new ax([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-r,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[r,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-r]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,r]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Lt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return At(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const r=new BIe({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});r.annotationElementId=e.annotationElementId,r.deleted=!0,r._uiManager.addToAnnotationStorage(r)}static initialize(e,r){if(Lt._l10n??(Lt._l10n=e),Lt._l10nResizer||(Lt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Lt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Lt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,r){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,r){or("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return g(this,$v)}set _isDraggable(e){var r;O(this,$v,e),(r=this.div)==null||r.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,r]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*r/(e*2),this.y+=this.width*e/(r*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*r/(e*2),this.y-=this.width*e/(r*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=g(this,ab)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):M(this,pt,vm).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(g(this,Zu)?O(this,Zu,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const r=e.relatedTarget;r!=null&&r.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,r,n,i){const[a,s]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/a,this.y=(r+i)/s,this.fixAndSetPosition()}translate(e,r){M(this,pt,aC).call(this,this.parentDimensions,e,r)}translateInPage(e,r){g(this,dc)||O(this,dc,[this.x,this.y]),M(this,pt,aC).call(this,this.pageDimensions,e,r),this.div.scrollIntoView({block:"nearest"})}drag(e,r){g(this,dc)||O(this,dc,[this.x,this.y]);const[n,i]=this.parentDimensions;if(this.x+=e/n,this.y+=r/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:c,y:u}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,u)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:s}=this;const[o,l]=this.getBaseTranslation();a+=o,s+=l,this.div.style.left=`${(100*a).toFixed(2)}%`,this.div.style.top=`${(100*s).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!g(this,dc)&&(g(this,dc)[0]!==this.x||g(this,dc)[1]!==this.y)}getBaseTranslation(){const[e,r]=this.parentDimensions,{_borderLineWidth:n}=Lt,i=n/e,a=n/r;switch(this.rotation){case 90:return[-i,a];case 180:return[i,a];case 270:return[i,-a];default:return[-i,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[r,n]=this.pageDimensions;let{x:i,y:a,width:s,height:o}=this;if(s*=r,o*=n,i*=r,a*=n,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(r-s,i)),a=Math.max(0,Math.min(n-o,a));break;case 90:i=Math.max(0,Math.min(r-o,i)),a=Math.min(n,Math.max(s,a));break;case 180:i=Math.min(r,Math.max(s,i)),a=Math.min(n,Math.max(o,a));break;case 270:i=Math.min(r,Math.max(o,i)),a=Math.max(0,Math.min(n-s,a));break}this.x=i/=r,this.y=a/=n;const[l,c]=this.getBaseTranslation();i+=l,a+=c;const{style:u}=this.div;u.left=`${(100*i).toFixed(2)}%`,u.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,r){var n;return M(n=Lt,Bv,sC).call(n,e,r,this.parentRotation)}pageTranslationToScreen(e,r){var n;return M(n=Lt,Bv,sC).call(n,e,r,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[r,n]}=this;return[r*e,n*e]}setDims(e,r){const[n,i]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,g(this,Yu)||(this.div.style.height=`${(100*r/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:r,width:n}=e,i=n.endsWith("%"),a=!g(this,Yu)&&r.endsWith("%");if(i&&a)return;const[s,o]=this.parentDimensions;i||(e.width=`${(100*parseFloat(n)/s).toFixed(2)}%`),!g(this,Yu)&&!a&&(e.height=`${(100*parseFloat(r)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=g(this,_r))==null||e.finish()}async addEditToolbar(){return this._editToolbar||g(this,Qu)?this._editToolbar:(this._editToolbar=new K2(this),this.div.append(this._editToolbar.render()),g(this,_r)&&await this._editToolbar.addAltText(g(this,_r)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=g(this,_r))==null||e.destroy())}addContainer(e){var n;const r=(n=this._editToolbar)==null?void 0:n.div;r?r.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){g(this,_r)||(Uw.initialize(Lt._l10n),O(this,_r,new Uw(this)),g(this,Ku)&&(g(this,_r).data=g(this,Ku),O(this,Ku,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=g(this,_r))==null?void 0:e.data}set altTextData(e){g(this,_r)&&(g(this,_r).data=e)}get guessedAltText(){var e;return(e=g(this,_r))==null?void 0:e.guessedText}async setGuessedAltText(e){var r;await((r=g(this,_r))==null?void 0:r.setGuessedText(e))}serializeAltText(e){var r;return(r=g(this,_r))==null?void 0:r.serialize(e)}hasAltText(){return!!g(this,_r)&&!g(this,_r).isEmpty()}hasAltTextData(){var e;return((e=g(this,_r))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=g(this,Uh)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),M(this,pt,fC).call(this);const[e,r]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*r/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/r).toFixed(2)}%`);const[n,i]=this.getInitialTranslation();return this.translate(n,i),Bw(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:r}=bi.platform;if(e.button!==0||e.ctrlKey&&r){e.preventDefault();return}if(O(this,Zu,!0),this._isDraggable){M(this,pt,T7).call(this,e);return}M(this,pt,uC).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){g(this,eo)&&clearTimeout(g(this,eo)),O(this,eo,setTimeout(()=>{var e;O(this,eo,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,r,n){e.changeParent(this),this.x=r,this.y=n,this.fixAndSetPosition()}getRect(e,r,n=this.rotation){const i=this.parentScale,[a,s]=this.pageDimensions,[o,l]=this.pageTranslation,c=e/i,u=r/i,f=this.x*a,d=this.y*s,h=this.width*a,m=this.height*s;switch(n){case 0:return[f+c+o,s-d-u-m+l,f+c+h+o,s-d-u+l];case 90:return[f+u+o,s-d+c+l,f+u+m+o,s-d+c+h+l];case 180:return[f-c-h+o,s-d+u+l,f-c+o,s-d+u+m+l];case 270:return[f-u-m+o,s-d-c-h+l,f-u+o,s-d-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,r){const[n,i,a,s]=e,o=a-n,l=s-i;switch(this.rotation){case 0:return[n,r-s,o,l];case 90:return[n,r-i,l,o];case 180:return[a,r-i,o,l];case 270:return[a,r-s,l,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){O(this,Qu,!0)}disableEditMode(){O(this,Qu,!1)}isInEditMode(){return g(this,Qu)}shouldGetKeyboardEvents(){return g(this,Uo)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){M(this,pt,fC).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,r=null){or("An editor must be serializable")}static async deserialize(e,r,n){const i=new this.prototype.constructor({parent:r,id:r.getNextId(),uiManager:n});i.rotation=e.rotation,O(i,Ku,e.accessibilityData);const[a,s]=i.pageDimensions,[o,l,c,u]=i.getRectInCurrentCoords(e.rect,s);return i.x=o/a,i.y=l/s,i.width=c/a,i.height=u/s,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=g(this,fc))==null||e.abort(),O(this,fc,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),g(this,eo)&&(clearTimeout(g(this,eo)),O(this,eo,null)),M(this,pt,vm).call(this),this.removeEditToolbar(),g(this,Ia)){for(const r of g(this,Ia).values())clearTimeout(r);O(this,Ia,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(M(this,pt,S7).call(this),g(this,Nn).classList.remove("hidden"),Bw(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),O(this,Ju,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const r=g(this,Nn).children;if(!g(this,ds)){O(this,ds,Array.from(r));const s=M(this,pt,E7).bind(this),o=M(this,pt,C7).bind(this),l=this._uiManager._signal;for(const c of g(this,ds)){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",s,{signal:l}),c.addEventListener("blur",o,{signal:l}),c.addEventListener("focus",M(this,pt,k7).bind(this,u),{signal:l}),c.setAttribute("data-l10n-id",Lt._l10nResizer[u])}}const n=g(this,ds)[0];let i=0;for(const s of r){if(s===n)break;i++}const a=(360-this.rotation+this.parentRotation)%360/90*(g(this,ds).length/4);if(a!==i){if(a<i)for(let o=0;o<i-a;o++)g(this,Nn).append(g(this,Nn).firstChild);else if(a>i)for(let o=0;o<a-i;o++)g(this,Nn).firstChild.before(g(this,Nn).lastChild);let s=0;for(const o of r){const c=g(this,ds)[s++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",Lt._l10nResizer[c])}}M(this,pt,dC).call(this,0),O(this,Uo,!0),g(this,Nn).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,r){g(this,Uo)&&M(this,pt,cC).call(this,g(this,Fv),{movementX:e,movementY:r})}_stopResizingWithKeyboard(){M(this,pt,vm).call(this),this.div.focus()}select(){var e,r,n;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,a;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((a=this._editToolbar)==null||a.show())});return}(r=this._editToolbar)==null||r.show(),(n=g(this,_r))==null||n.toggleAltTextBadge(!1)}unselect(){var e,r,n,i,a;(e=g(this,Nn))==null||e.classList.add("hidden"),(r=this.div)==null||r.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(a=g(this,_r))==null||a.toggleAltTextBadge(!0)}updateParams(e,r){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return g(this,Lv)}set isEditing(e){O(this,Lv,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,r){O(this,Yu,!0);const n=e/r,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,r=!1){if(r){g(this,Ia)||O(this,Ia,new Map);const{action:n}=e;let i=g(this,Ia).get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),g(this,Ia).delete(n),g(this,Ia).size===0&&O(this,Ia,null)},Lt._telemetryTimeout),g(this,Ia).set(n,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),O(this,Uh,!1)}disable(){this.div&&(this.div.tabIndex=-1),O(this,Uh,!0)}renderAnnotationElement(e){let r=e.container.querySelector(".annotationContent");if(!r)r=document.createElement("div"),r.classList.add("annotationContent",this.editorType),e.container.prepend(r);else if(r.nodeName==="CANVAS"){const n=r;r=document.createElement("div"),r.classList.add("annotationContent",this.editorType),n.before(r)}return r}resetAnnotationElement(e){const{firstChild:r}=e.container;(r==null?void 0:r.nodeName)==="DIV"&&r.classList.contains("annotationContent")&&r.remove()}};Ku=new WeakMap,ds=new WeakMap,_r=new WeakMap,Uh=new WeakMap,Yu=new WeakMap,Nn=new WeakMap,Ju=new WeakMap,fc=new WeakMap,Fv=new WeakMap,Zu=new WeakMap,dc=new WeakMap,Lv=new WeakMap,Qu=new WeakMap,Uo=new WeakMap,eo=new WeakMap,jh=new WeakMap,Vh=new WeakMap,Ia=new WeakMap,$v=new WeakMap,ab=new WeakMap,pt=new WeakSet,aC=function([e,r],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/e,this.y+=i/r,this.fixAndSetPosition()},Bv=new WeakSet,sC=function(e,r,n){switch(n){case 90:return[r,-e];case 180:return[-e,-r];case 270:return[-r,e];default:return[e,r]}},oC=function(e){switch(e){case 90:{const[r,n]=this.pageDimensions;return[0,-r/n,n/r,0]}case 180:return[-1,0,0,-1];case 270:{const[r,n]=this.pageDimensions;return[0,r/n,-n/r,0]}default:return[1,0,0,1]}},S7=function(){if(g(this,Nn))return;O(this,Nn,document.createElement("div")),g(this,Nn).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],r=this._uiManager._signal;for(const n of e){const i=document.createElement("div");g(this,Nn).append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",M(this,pt,A7).bind(this,n),{signal:r}),i.addEventListener("contextmenu",Ja,{signal:r}),i.tabIndex=-1}this.div.prepend(g(this,Nn))},A7=function(e,r){var m;r.preventDefault();const{isMac:n}=bi.platform;if(r.button!==0||r.ctrlKey&&n)return;(m=g(this,_r))==null||m.toggle(!1);const i=this._isDraggable;this._isDraggable=!1;const a=new AbortController,s=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",M(this,pt,cC).bind(this,e),{passive:!0,capture:!0,signal:s}),window.addEventListener("contextmenu",Ja,{signal:s});const o=this.x,l=this.y,c=this.width,u=this.height,f=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(r.target).cursor;const h=()=>{var p;a.abort(),this.parent.togglePointerEvents(!0),(p=g(this,_r))==null||p.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=f,this.div.style.cursor=d,M(this,pt,lC).call(this,o,l,c,u)};window.addEventListener("pointerup",h,{signal:s}),window.addEventListener("blur",h,{signal:s})},lC=function(e,r,n,i){const a=this.x,s=this.y,o=this.width,l=this.height;a===e&&s===r&&o===n&&l===i||this.addCommands({cmd:()=>{this.width=o,this.height=l,this.x=a,this.y=s;const[c,u]=this.parentDimensions;this.setDims(c*o,u*l),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=i,this.x=e,this.y=r;const[c,u]=this.parentDimensions;this.setDims(c*n,u*i),this.fixAndSetPosition()},mustExec:!0})},cC=function(e,r){const[n,i]=this.parentDimensions,a=this.x,s=this.y,o=this.width,l=this.height,c=Lt.MIN_SIZE/n,u=Lt.MIN_SIZE/i,f=J=>Math.round(J*1e4)/1e4,d=M(this,pt,oC).call(this,this.rotation),h=(J,ee)=>[d[0]*J+d[2]*ee,d[1]*J+d[3]*ee],m=M(this,pt,oC).call(this,360-this.rotation),p=(J,ee)=>[m[0]*J+m[2]*ee,m[1]*J+m[3]*ee];let y,_,b=!1,w=!1;switch(e){case"topLeft":b=!0,y=(J,ee)=>[0,0],_=(J,ee)=>[J,ee];break;case"topMiddle":y=(J,ee)=>[J/2,0],_=(J,ee)=>[J/2,ee];break;case"topRight":b=!0,y=(J,ee)=>[J,0],_=(J,ee)=>[0,ee];break;case"middleRight":w=!0,y=(J,ee)=>[J,ee/2],_=(J,ee)=>[0,ee/2];break;case"bottomRight":b=!0,y=(J,ee)=>[J,ee],_=(J,ee)=>[0,0];break;case"bottomMiddle":y=(J,ee)=>[J/2,ee],_=(J,ee)=>[J/2,0];break;case"bottomLeft":b=!0,y=(J,ee)=>[0,ee],_=(J,ee)=>[J,0];break;case"middleLeft":w=!0,y=(J,ee)=>[0,ee/2],_=(J,ee)=>[J,ee/2];break}const A=y(o,l),S=_(o,l);let T=h(...S);const E=f(a+T[0]),P=f(s+T[1]);let k=1,D=1,[I,N]=this.screenToPageTranslation(r.movementX,r.movementY);if([I,N]=p(I/n,N/i),b){const J=Math.hypot(o,l);k=D=Math.max(Math.min(Math.hypot(S[0]-A[0]-I,S[1]-A[1]-N)/J,1/o,1/l),c/o,u/l)}else w?k=Math.max(c,Math.min(1,Math.abs(S[0]-A[0]-I)))/o:D=Math.max(u,Math.min(1,Math.abs(S[1]-A[1]-N)))/l;const U=f(o*k),X=f(l*D);T=h(..._(U,X));const G=E-T[0],Q=P-T[1];this.width=U,this.height=X,this.x=G,this.y=Q,this.setDims(n*U,i*X),this.fixAndSetPosition()},uC=function(e){const{isMac:r}=bi.platform;e.ctrlKey&&!r||e.shiftKey||e.metaKey&&r?this.parent.toggleSelected(this):this.parent.setSelected(this)},T7=function(e){const{isSelected:r}=this;this._uiManager.setUpDragSession();const n=new AbortController,i=this._uiManager.combinedSignal(n);if(r){this.div.classList.add("moving"),O(this,jh,e.clientX),O(this,Vh,e.clientY);const s=o=>{const{clientX:l,clientY:c}=o,[u,f]=this.screenToPageTranslation(l-g(this,jh),c-g(this,Vh));O(this,jh,l),O(this,Vh,c),this._uiManager.dragSelectedEditors(u,f)};window.addEventListener("pointermove",s,{passive:!0,capture:!0,signal:i})}const a=()=>{n.abort(),r&&this.div.classList.remove("moving"),O(this,Zu,!1),this._uiManager.endDragSession()||M(this,pt,uC).call(this,e)};window.addEventListener("pointerup",a,{signal:i}),window.addEventListener("blur",a,{signal:i})},fC=function(){if(g(this,fc)||!this.div)return;O(this,fc,new AbortController);const e=this._uiManager.combinedSignal(g(this,fc));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},E7=function(e){Lt._resizerKeyboardManager.exec(this,e)},C7=function(e){var r;g(this,Uo)&&((r=e.relatedTarget)==null?void 0:r.parentNode)!==g(this,Nn)&&M(this,pt,vm).call(this)},k7=function(e){O(this,Fv,g(this,Uo)?e:"")},dC=function(e){if(g(this,ds))for(const r of g(this,ds))r.tabIndex=e},vm=function(){if(O(this,Uo,!1),M(this,pt,dC).call(this,-1),g(this,Ju)){const{savedX:e,savedY:r,savedWidth:n,savedHeight:i}=g(this,Ju);M(this,pt,lC).call(this,e,r,n,i),O(this,Ju,null)}},B(Lt,Bv),nt(Lt,"_l10n",null),nt(Lt,"_l10nResizer",null),nt(Lt,"_borderLineWidth",-1),nt(Lt,"_colorManager",new Z2),nt(Lt,"_zIndex",1),nt(Lt,"_telemetryTimeout",1e3);let Vt=Lt;class BIe extends Vt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const rL=3285377520,Aa=4294901760,Vs=65535;class P7{constructor(e){this.h1=e?e&4294967295:rL,this.h2=e?e&4294967295:rL}update(e){let r,n;if(typeof e=="string"){r=new Uint8Array(e.length*2),n=0;for(let p=0,y=e.length;p<y;p++){const _=e.charCodeAt(p);_<=255?r[n++]=_:(r[n++]=_>>>8,r[n++]=_&255)}}else if(ArrayBuffer.isView(e))r=e.slice(),n=r.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,a=n-i*4,s=new Uint32Array(r.buffer,0,i);let o=0,l=0,c=this.h1,u=this.h2;const f=3432918353,d=461845907,h=f&Vs,m=d&Vs;for(let p=0;p<i;p++)p&1?(o=s[p],o=o*f&Aa|o*h&Vs,o=o<<15|o>>>17,o=o*d&Aa|o*m&Vs,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(l=s[p],l=l*f&Aa|l*h&Vs,l=l<<15|l>>>17,l=l*d&Aa|l*m&Vs,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(o=0,a){case 3:o^=r[i*4+2]<<16;case 2:o^=r[i*4+1]<<8;case 1:o^=r[i*4],o=o*f&Aa|o*h&Vs,o=o<<15|o>>>17,o=o*d&Aa|o*m&Vs,i&1?c^=o:u^=o}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,r=this.h2;return e^=r>>>1,e=e*3981806797&Aa|e*36045&Vs,r=r*4283543511&Aa|((r<<16|e>>>16)*2950163797&Aa)>>>16,e^=r>>>1,e=e*444984403&Aa|e*60499&Vs,r=r*3301882366&Aa|((r<<16|e>>>16)*3120437893&Aa)>>>16,e^=r>>>1,(e>>>0).toString(16).padStart(8,"0")+(r>>>0).toString(16).padStart(8,"0")}}const hC=Object.freeze({map:null,hash:"",transfer:void 0});var ef,tf,bn,sb,I7;class wO{constructor(){B(this,sb);B(this,ef,!1);B(this,tf,null);B(this,bn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,r){const n=g(this,bn).get(e);return n===void 0?r:Object.assign(r,n)}getRawValue(e){return g(this,bn).get(e)}remove(e){if(g(this,bn).delete(e),g(this,bn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const r of g(this,bn).values())if(r instanceof Vt)return;this.onAnnotationEditor(null)}}setValue(e,r){const n=g(this,bn).get(e);let i=!1;if(n!==void 0)for(const[a,s]of Object.entries(r))n[a]!==s&&(i=!0,n[a]=s);else i=!0,g(this,bn).set(e,r);i&&M(this,sb,I7).call(this),r instanceof Vt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(r.constructor._type)}has(e){return g(this,bn).has(e)}getAll(){return g(this,bn).size>0?mO(g(this,bn)):null}setAll(e){for(const[r,n]of Object.entries(e))this.setValue(r,n)}get size(){return g(this,bn).size}resetModified(){g(this,ef)&&(O(this,ef,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new O7(this)}get serializable(){if(g(this,bn).size===0)return hC;const e=new Map,r=new P7,n=[],i=Object.create(null);let a=!1;for(const[s,o]of g(this,bn)){const l=o instanceof Vt?o.serialize(!1,i):o;l&&(e.set(s,l),r.update(`${s}:${JSON.stringify(l)}`),a||(a=!!l.bitmap))}if(a)for(const s of e.values())s.bitmap&&n.push(s.bitmap);return e.size>0?{map:e,hash:r.hexdigest(),transfer:n}:hC}get editorStats(){let e=null;const r=new Map;for(const n of g(this,bn).values()){if(!(n instanceof Vt))continue;const i=n.telemetryFinalData;if(!i)continue;const{type:a}=i;r.has(a)||r.set(a,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const s=e[a]||(e[a]=new Map);for(const[o,l]of Object.entries(i)){if(o==="type")continue;let c=s.get(o);c||(c=new Map,s.set(o,c));const u=c.get(l)??0;c.set(l,u+1)}}for(const[n,i]of r)e[n]=i.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){O(this,tf,null)}get modifiedIds(){if(g(this,tf))return g(this,tf);const e=[];for(const r of g(this,bn).values())!(r instanceof Vt)||!r.annotationElementId||!r.serialize()||e.push(r.annotationElementId);return O(this,tf,{ids:new Set(e),hash:e.join(",")})}}ef=new WeakMap,tf=new WeakMap,bn=new WeakMap,sb=new WeakSet,I7=function(){g(this,ef)||(O(this,ef,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Uv;class O7 extends wO{constructor(r){super();B(this,Uv);const{map:n,hash:i,transfer:a}=r.serializable,s=structuredClone(n,a?{transfer:a}:null);O(this,Uv,{map:s,hash:i,transfer:a})}get print(){or("Should not call PrintAnnotationStorage.print")}get serializable(){return g(this,Uv)}get modifiedIds(){return At(this,"modifiedIds",{ids:new Set,hash:""})}}Uv=new WeakMap;var Hh;class UIe{constructor({ownerDocument:e=globalThis.document,styleElement:r=null}){B(this,Hh,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const r=this.styleElement.sheet;r.insertRule(e,r.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),g(this,Hh).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:r}){if(!(!e||g(this,Hh).has(e.loadedName))){if(dn(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:i,style:a}=e,s=new FontFace(n,i,a);this.addNativeFontFace(s);try{await s.load(),g(this,Hh).add(n),r==null||r(e)}catch{gt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(s)}return}or("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw gt(`Failed to load font '${n.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const r=e.createFontFaceRule();if(r){if(this.insertRule(r),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var r;const e=!!((r=this._document)!=null&&r.fonts);return At(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(oi||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),At(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function r(){for(dn(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const a=n.shift();setTimeout(a.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:r,callback:e};return n.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return At(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,r){function n(A,S){return A.charCodeAt(S)<<24|A.charCodeAt(S+1)<<16|A.charCodeAt(S+2)<<8|A.charCodeAt(S+3)&255}function i(A,S,T,E){const P=A.substring(0,S),k=A.substring(S+T);return P+E+k}let a,s;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;function u(A,S){if(++c>30){gt("Load test font never loaded."),S();return}if(l.font="30px "+A,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){S();return}setTimeout(u.bind(null,A,S))}const f=`lt${Date.now()}${this.loadTestFontId++}`;let d=this._loadTestFont;d=i(d,976,f.length,f);const m=16,p=1482184792;let y=n(d,m);for(a=0,s=f.length-3;a<s;a+=4)y=y-p+n(f,a)|0;a<f.length&&(y=y-p+n(f+"XXX",a)|0),d=i(d,m,4,AIe(y));const _=`url(data:font/opentype;base64,${btoa(d)});`,b=`@font-face {font-family:"${f}";src:${_}}`;this.insertRule(b);const w=this._document.createElement("div");w.style.visibility="hidden",w.style.width=w.style.height="10px",w.style.position="absolute",w.style.top=w.style.left="0px";for(const A of[e.loadedName,f]){const S=this._document.createElement("span");S.textContent="Hi",S.style.fontFamily=A,w.append(S)}this._document.body.append(w),u(f,()=>{w.remove(),r.complete()})}}Hh=new WeakMap;class jIe{constructor(e,{disableFontFace:r=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=r===!0,this._inspectFont=n}createNativeFontFace(){var r;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(r=this._inspectFont)==null||r.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${IIe(this.data)});`;let r;if(!this.cssFontInfo)r=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),r}getPathGenerator(e,r){if(this.compiledGlyphs[r]!==void 0)return this.compiledGlyphs[r];let n;try{n=e.get(this.loadedName+"_path_"+r)}catch(a){gt(`getPathGenerator - ignoring character: "${a}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[r]=function(a,s){};const i=[];for(let a=0,s=n.length;a<s;)switch(n[a++]){case Po.BEZIER_CURVE_TO:{const[o,l,c,u,f,d]=n.slice(a,a+6);i.push(h=>h.bezierCurveTo(o,l,c,u,f,d)),a+=6}break;case Po.MOVE_TO:{const[o,l]=n.slice(a,a+2);i.push(c=>c.moveTo(o,l)),a+=2}break;case Po.LINE_TO:{const[o,l]=n.slice(a,a+2);i.push(c=>c.lineTo(o,l)),a+=2}break;case Po.QUADRATIC_CURVE_TO:{const[o,l,c,u]=n.slice(a,a+4);i.push(f=>f.quadraticCurveTo(o,l,c,u)),a+=4}break;case Po.RESTORE:i.push(o=>o.restore());break;case Po.SAVE:i.push(o=>o.save());break;case Po.SCALE:dn(i.length===2,"Scale command is only valid at the third position.");break;case Po.TRANSFORM:{const[o,l,c,u,f,d]=n.slice(a,a+6);i.push(h=>h.transform(o,l,c,u,f,d)),a+=6}break;case Po.TRANSLATE:{const[o,l]=n.slice(a,a+2);i.push(c=>c.translate(o,l)),a+=2}break}return this.compiledGlyphs[r]=function(s,o){i[0](s),i[1](s),s.scale(o,-o);for(let l=2,c=i.length;l<c;l++)i[l](s)}}}var jv;class M7{constructor({enableHWA:e=!1}){B(this,jv,!1);O(this,jv,e)}create(e,r){if(e<=0||r<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,r);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!g(this,jv)})}}reset(e,r,n){if(!e.canvas)throw new Error("Canvas is not specified");if(r<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=r,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,r){or("Abstract method `_createCanvas` called.")}}jv=new WeakMap;class VIe extends M7{constructor({ownerDocument:e=globalThis.document,enableHWA:r=!1}){super({enableHWA:r}),this._document=e}_createCanvas(e,r){const n=this._document.createElement("canvas");return n.width=e,n.height=r,n}}class N7{constructor({baseUrl:e=null,isCompressed:r=!0}){this.baseUrl=e,this.isCompressed=r}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const r=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(r).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${r}`)})}async _fetch(e){or("Abstract method `_fetch` called.")}}class R7 extends N7{async _fetch(e){const r=await RS(e,this.isCompressed?"arraybuffer":"text");return r instanceof ArrayBuffer?new Uint8Array(r):NS(r)}}class D7{addFilter(e){return"none"}addHCMFilter(e,r){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,r,n,i,a){return"none"}destroy(e=!1){}}var rf,nf,to,jo,Yn,ob,af,Le,Xn,Vd,Hd,k1,Wd,F7,pC,zd,ym,xm,mC,_m;class HIe extends D7{constructor({docId:r,ownerDocument:n=globalThis.document}){super();B(this,Le);B(this,rf);B(this,nf);B(this,to);B(this,jo);B(this,Yn);B(this,ob);B(this,af,0);O(this,jo,r),O(this,Yn,n)}addFilter(r){if(!r)return"none";let n=g(this,Le,Xn).get(r);if(n)return n;const[i,a,s]=M(this,Le,k1).call(this,r),o=r.length===1?i:`${i}${a}${s}`;if(n=g(this,Le,Xn).get(o),n)return g(this,Le,Xn).set(r,n),n;const l=`g_${g(this,jo)}_transfer_map_${di(this,af)._++}`,c=M(this,Le,Wd).call(this,l);g(this,Le,Xn).set(r,c),g(this,Le,Xn).set(o,c);const u=M(this,Le,zd).call(this,l);return M(this,Le,xm).call(this,i,a,s,u),c}addHCMFilter(r,n){var m;const i=`${r}-${n}`,a="base";let s=g(this,Le,Vd).get(a);if((s==null?void 0:s.key)===i||(s?((m=s.filter)==null||m.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},g(this,Le,Vd).set(a,s)),!r||!n))return s.url;const o=M(this,Le,_m).call(this,r);r=ze.makeHexColor(...o);const l=M(this,Le,_m).call(this,n);if(n=ze.makeHexColor(...l),g(this,Le,Hd).style.color="",r==="#000000"&&n==="#ffffff"||r===n)return s.url;const c=new Array(256);for(let p=0;p<=255;p++){const y=p/255;c[p]=y<=.03928?y/12.92:((y+.055)/1.055)**2.4}const u=c.join(","),f=`g_${g(this,jo)}_hcm_filter`,d=s.filter=M(this,Le,zd).call(this,f);M(this,Le,xm).call(this,u,u,u,d),M(this,Le,pC).call(this,d);const h=(p,y)=>{const _=o[p]/255,b=l[p]/255,w=new Array(y+1);for(let A=0;A<=y;A++)w[A]=_+A/y*(b-_);return w.join(",")};return M(this,Le,xm).call(this,h(0,5),h(1,5),h(2,5),d),s.url=M(this,Le,Wd).call(this,f),s.url}addAlphaFilter(r){let n=g(this,Le,Xn).get(r);if(n)return n;const[i]=M(this,Le,k1).call(this,[r]),a=`alpha_${i}`;if(n=g(this,Le,Xn).get(a),n)return g(this,Le,Xn).set(r,n),n;const s=`g_${g(this,jo)}_alpha_map_${di(this,af)._++}`,o=M(this,Le,Wd).call(this,s);g(this,Le,Xn).set(r,o),g(this,Le,Xn).set(a,o);const l=M(this,Le,zd).call(this,s);return M(this,Le,mC).call(this,i,l),o}addLuminosityFilter(r){let n=g(this,Le,Xn).get(r||"luminosity");if(n)return n;let i,a;if(r?([i]=M(this,Le,k1).call(this,[r]),a=`luminosity_${i}`):a="luminosity",n=g(this,Le,Xn).get(a),n)return g(this,Le,Xn).set(r,n),n;const s=`g_${g(this,jo)}_luminosity_map_${di(this,af)._++}`,o=M(this,Le,Wd).call(this,s);g(this,Le,Xn).set(r,o),g(this,Le,Xn).set(a,o);const l=M(this,Le,zd).call(this,s);return M(this,Le,F7).call(this,l),r&&M(this,Le,mC).call(this,i,l),o}addHighlightHCMFilter(r,n,i,a,s){var b;const o=`${n}-${i}-${a}-${s}`;let l=g(this,Le,Vd).get(r);if((l==null?void 0:l.key)===o||(l?((b=l.filter)==null||b.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},g(this,Le,Vd).set(r,l)),!n||!i))return l.url;const[c,u]=[n,i].map(M(this,Le,_m).bind(this));let f=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),d=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[h,m]=[a,s].map(M(this,Le,_m).bind(this));d<f&&([f,d,h,m]=[d,f,m,h]),g(this,Le,Hd).style.color="";const p=(w,A,S)=>{const T=new Array(256),E=(d-f)/S,P=w/255,k=(A-w)/(255*S);let D=0;for(let I=0;I<=S;I++){const N=Math.round(f+I*E),U=P+I*k;for(let X=D;X<=N;X++)T[X]=U;D=N+1}for(let I=D;I<256;I++)T[I]=T[D-1];return T.join(",")},y=`g_${g(this,jo)}_hcm_${r}_filter`,_=l.filter=M(this,Le,zd).call(this,y);return M(this,Le,pC).call(this,_),M(this,Le,xm).call(this,p(h[0],m[0],5),p(h[1],m[1],5),p(h[2],m[2],5),_),l.url=M(this,Le,Wd).call(this,y),l.url}destroy(r=!1){r&&g(this,Le,Vd).size!==0||(g(this,to)&&(g(this,to).parentNode.parentNode.remove(),O(this,to,null)),g(this,nf)&&(g(this,nf).clear(),O(this,nf,null)),O(this,af,0))}}rf=new WeakMap,nf=new WeakMap,to=new WeakMap,jo=new WeakMap,Yn=new WeakMap,ob=new WeakMap,af=new WeakMap,Le=new WeakSet,Xn=function(){return g(this,nf)||O(this,nf,new Map)},Vd=function(){return g(this,ob)||O(this,ob,new Map)},Hd=function(){if(!g(this,to)){const r=g(this,Yn).createElement("div"),{style:n}=r;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=g(this,Yn).createElementNS(Oo,"svg");i.setAttribute("width",0),i.setAttribute("height",0),O(this,to,g(this,Yn).createElementNS(Oo,"defs")),r.append(i),i.append(g(this,to)),g(this,Yn).body.append(r)}return g(this,to)},k1=function(r){if(r.length===1){const c=r[0],u=new Array(256);for(let d=0;d<256;d++)u[d]=c[d]/255;const f=u.join(",");return[f,f,f]}const[n,i,a]=r,s=new Array(256),o=new Array(256),l=new Array(256);for(let c=0;c<256;c++)s[c]=n[c]/255,o[c]=i[c]/255,l[c]=a[c]/255;return[s.join(","),o.join(","),l.join(",")]},Wd=function(r){if(g(this,rf)===void 0){O(this,rf,"");const n=g(this,Yn).URL;n!==g(this,Yn).baseURI&&(DS(n)?gt('#createUrl: ignore "data:"-URL for performance reasons.'):O(this,rf,n.split("#",1)[0]))}return`url(${g(this,rf)}#${r})`},F7=function(r){const n=g(this,Yn).createElementNS(Oo,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),r.append(n)},pC=function(r){const n=g(this,Yn).createElementNS(Oo,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),r.append(n)},zd=function(r){const n=g(this,Yn).createElementNS(Oo,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",r),g(this,Le,Hd).append(n),n},ym=function(r,n,i){const a=g(this,Yn).createElementNS(Oo,n);a.setAttribute("type","discrete"),a.setAttribute("tableValues",i),r.append(a)},xm=function(r,n,i,a){const s=g(this,Yn).createElementNS(Oo,"feComponentTransfer");a.append(s),M(this,Le,ym).call(this,s,"feFuncR",r),M(this,Le,ym).call(this,s,"feFuncG",n),M(this,Le,ym).call(this,s,"feFuncB",i)},mC=function(r,n){const i=g(this,Yn).createElementNS(Oo,"feComponentTransfer");n.append(i),M(this,Le,ym).call(this,i,"feFuncA",r)},_m=function(r){return g(this,Le,Hd).style.color=r,_O(getComputedStyle(g(this,Le,Hd)).getPropertyValue("color"))};class L7{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const r=`${this.baseUrl}${e}`;return this._fetch(r).catch(n=>{throw new Error(`Unable to load font data at: ${r}`)})}async _fetch(e){or("Abstract method `_fetch` called.")}}class $7 extends L7{async _fetch(e){const r=await RS(e,"arraybuffer");return new Uint8Array(r)}}if(oi){var gC=Promise.withResolvers(),tg=null;(async()=>{const e=await e1(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url),r=await e1(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url),n=await e1(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url),i=await e1(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url);let a,s;return new Map(Object.entries({fs:e,http:r,https:n,url:i,canvas:a,path2d:s}))})().then(e=>{tg=e,gC.resolve()},e=>{gt(`loadPackages: ${e}`),tg=new Map,gC.resolve()})}class Qc{static get promise(){return gC.promise}static get(e){return tg==null?void 0:tg.get(e)}}async function B7(t){const r=await Qc.get("fs").promises.readFile(t);return new Uint8Array(r)}class WIe extends D7{}class zIe extends M7{_createCanvas(e,r){return Qc.get("canvas").createCanvas(e,r)}}class GIe extends N7{async _fetch(e){return B7(e)}}class qIe extends L7{async _fetch(e){return B7(e)}}const yi={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function vC(t,e){if(!e)return;const r=e[2]-e[0],n=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],r,n),t.clip(i)}class bO{getPattern(){or("Abstract method `getPattern` called.")}}class XIe extends bO{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let r;this._type==="axial"?r=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(r=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)r.addColorStop(n[0],n[1]);return r}getPattern(e,r,n,i){let a;if(i===yi.STROKE||i===yi.FILL){const s=r.current.getClippedPathBoundingBox(i,br(e))||[0,0,0,0],o=Math.ceil(s[2]-s[0])||1,l=Math.ceil(s[3]-s[1])||1,c=r.cachedCanvases.getCanvas("pattern",o,l),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-s[0],-s[1]),n=ze.transform(n,[1,0,0,1,s[0],s[1]]),u.transform(...r.baseTransform),this.matrix&&u.transform(...this.matrix),vC(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),a=e.createPattern(c.canvas,"no-repeat");const f=new DOMMatrix(n);a.setTransform(f)}else vC(e,this._bbox),a=this._createGradient(e);return a}}function oT(t,e,r,n,i,a,s,o){const l=e.coords,c=e.colors,u=t.data,f=t.width*4;let d;l[r+1]>l[n+1]&&(d=r,r=n,n=d,d=a,a=s,s=d),l[n+1]>l[i+1]&&(d=n,n=i,i=d,d=s,s=o,o=d),l[r+1]>l[n+1]&&(d=r,r=n,n=d,d=a,a=s,s=d);const h=(l[r]+e.offsetX)*e.scaleX,m=(l[r+1]+e.offsetY)*e.scaleY,p=(l[n]+e.offsetX)*e.scaleX,y=(l[n+1]+e.offsetY)*e.scaleY,_=(l[i]+e.offsetX)*e.scaleX,b=(l[i+1]+e.offsetY)*e.scaleY;if(m>=b)return;const w=c[a],A=c[a+1],S=c[a+2],T=c[s],E=c[s+1],P=c[s+2],k=c[o],D=c[o+1],I=c[o+2],N=Math.round(m),U=Math.round(b);let X,G,Q,J,ee,V,ne,se;for(let R=N;R<=U;R++){if(R<y){const de=R<m?0:(m-R)/(m-y);X=h-(h-p)*de,G=w-(w-T)*de,Q=A-(A-E)*de,J=S-(S-P)*de}else{let de;R>b?de=1:y===b?de=0:de=(y-R)/(y-b),X=p-(p-_)*de,G=T-(T-k)*de,Q=E-(E-D)*de,J=P-(P-I)*de}let W;R<m?W=0:R>b?W=1:W=(m-R)/(m-b),ee=h-(h-_)*W,V=w-(w-k)*W,ne=A-(A-D)*W,se=S-(S-I)*W;const Y=Math.round(Math.min(X,ee)),Z=Math.round(Math.max(X,ee));let oe=f*R+Y*4;for(let de=Y;de<=Z;de++)W=(X-de)/(X-ee),W<0?W=0:W>1&&(W=1),u[oe++]=G-(G-V)*W|0,u[oe++]=Q-(Q-ne)*W|0,u[oe++]=J-(J-se)*W|0,u[oe++]=255}}function KIe(t,e,r){const n=e.coords,i=e.colors;let a,s;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(n.length/o)-1,c=o-1;for(a=0;a<l;a++){let u=a*o;for(let f=0;f<c;f++,u++)oT(t,r,n[u],n[u+1],n[u+o],i[u],i[u+1],i[u+o]),oT(t,r,n[u+o+1],n[u+1],n[u+o],i[u+o+1],i[u+1],i[u+o])}break;case"triangles":for(a=0,s=n.length;a<s;a+=3)oT(t,r,n[a],n[a+1],n[a+2],i[a],i[a+1],i[a+2]);break;default:throw new Error("illegal figure")}}class YIe extends bO{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,r,n){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,u=Math.ceil(this._bounds[3])-l,f=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),d=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),h=c/f,m=u/d,p={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/h,scaleY:1/m},y=f+2*2,_=d+2*2,b=n.getCanvas("mesh",y,_),w=b.context,A=w.createImageData(f,d);if(r){const T=A.data;for(let E=0,P=T.length;E<P;E+=4)T[E]=r[0],T[E+1]=r[1],T[E+2]=r[2],T[E+3]=255}for(const T of this._figures)KIe(A,T,p);return w.putImageData(A,2,2),{canvas:b.canvas,offsetX:o-2*h,offsetY:l-2*m,scaleX:h,scaleY:m}}getPattern(e,r,n,i){vC(e,this._bbox);let a;if(i===yi.SHADING)a=ze.singularValueDecompose2dScale(br(e));else if(a=ze.singularValueDecompose2dScale(r.baseTransform),this.matrix){const o=ze.singularValueDecompose2dScale(this.matrix);a=[a[0]*o[0],a[1]*o[1]]}const s=this._createMeshCanvas(a,i===yi.SHADING?null:this._background,r.cachedCanvases);return i!==yi.SHADING&&(e.setTransform(...r.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}}class JIe extends bO{getPattern(){return"hotpink"}}function ZIe(t){switch(t[0]){case"RadialAxial":return new XIe(t);case"Mesh":return new YIe(t);case"Dummy":return new JIe}throw new Error(`Unknown IR type: ${t[0]}`)}const nL={COLORED:1,UNCOLORED:2},lb=class lb{constructor(e,r,n,i,a){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=r,this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=a}createPatternCanvas(e){const{bbox:r,operatorList:n,paintType:i,tilingType:a,color:s,canvasGraphicsFactory:o}=this;let{xstep:l,ystep:c}=this;l=Math.abs(l),c=Math.abs(c),OS("TilingType: "+a);const u=r[0],f=r[1],d=r[2],h=r[3],m=d-u,p=h-f,y=ze.singularValueDecompose2dScale(this.matrix),_=ze.singularValueDecompose2dScale(this.baseTransform),b=y[0]*_[0],w=y[1]*_[1];let A=m,S=p,T=!1,E=!1;const P=Math.ceil(l*b),k=Math.ceil(c*w),D=Math.ceil(m*b),I=Math.ceil(p*w);P>=D?A=l:T=!0,k>=I?S=c:E=!0;const N=this.getSizeAndScale(A,this.ctx.canvas.width,b),U=this.getSizeAndScale(S,this.ctx.canvas.height,w),X=e.cachedCanvases.getCanvas("pattern",N.size,U.size),G=X.context,Q=o.createCanvasGraphics(G);if(Q.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(Q,i,s),G.translate(-N.scale*u,-U.scale*f),Q.transform(N.scale,0,0,U.scale,0,0),G.save(),this.clipBbox(Q,u,f,d,h),Q.baseTransform=br(Q.ctx),Q.executeOperatorList(n),Q.endDrawing(),G.restore(),T||E){const J=X.canvas;T&&(A=l),E&&(S=c);const ee=this.getSizeAndScale(A,this.ctx.canvas.width,b),V=this.getSizeAndScale(S,this.ctx.canvas.height,w),ne=ee.size,se=V.size,R=e.cachedCanvases.getCanvas("pattern-workaround",ne,se),W=R.context,Y=T?Math.floor(m/l):0,Z=E?Math.floor(p/c):0;for(let oe=0;oe<=Y;oe++)for(let de=0;de<=Z;de++)W.drawImage(J,ne*oe,se*de,ne,se,0,0,ne,se);return{canvas:R.canvas,scaleX:ee.scale,scaleY:V.scale,offsetX:u,offsetY:f}}return{canvas:X.canvas,scaleX:N.scale,scaleY:U.scale,offsetX:u,offsetY:f}}getSizeAndScale(e,r,n){const i=Math.max(lb.MAX_PATTERN_SIZE,r);let a=Math.ceil(e*n);return a>=i?a=i:n=a/e,{scale:n,size:a}}clipBbox(e,r,n,i,a){const s=i-r,o=a-n;e.ctx.rect(r,n,s,o),e.current.updateRectMinMax(br(e.ctx),[r,n,i,a]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,r,n){const i=e.ctx,a=e.current;switch(r){case nL.COLORED:const s=this.ctx;i.fillStyle=s.fillStyle,i.strokeStyle=s.strokeStyle,a.fillColor=s.fillStyle,a.strokeColor=s.strokeStyle;break;case nL.UNCOLORED:const o=ze.makeHexColor(n[0],n[1],n[2]);i.fillStyle=o,i.strokeStyle=o,a.fillColor=o,a.strokeColor=o;break;default:throw new SIe(`Unsupported paint type: ${r}`)}}getPattern(e,r,n,i){let a=n;i!==yi.SHADING&&(a=ze.transform(a,r.baseTransform),this.matrix&&(a=ze.transform(a,this.matrix)));const s=this.createPatternCanvas(r);let o=new DOMMatrix(a);o=o.translate(s.offsetX,s.offsetY),o=o.scale(1/s.scaleX,1/s.scaleY);const l=e.createPattern(s.canvas,"repeat");return l.setTransform(o),l}};nt(lb,"MAX_PATTERN_SIZE",3e3);let yC=lb;function QIe({src:t,srcPos:e=0,dest:r,width:n,height:i,nonBlackColor:a=4294967295,inverseDecode:s=!1}){const o=bi.isLittleEndian?4278190080:255,[l,c]=s?[a,o]:[o,a],u=n>>3,f=n&7,d=t.length;r=new Uint32Array(r.buffer);let h=0;for(let m=0;m<i;m++){for(const y=e+u;e<y;e++){const _=e<d?t[e]:255;r[h++]=_&128?c:l,r[h++]=_&64?c:l,r[h++]=_&32?c:l,r[h++]=_&16?c:l,r[h++]=_&8?c:l,r[h++]=_&4?c:l,r[h++]=_&2?c:l,r[h++]=_&1?c:l}if(f===0)continue;const p=e<d?t[e++]:255;for(let y=0;y<f;y++)r[h++]=p&1<<7-y?c:l}return{srcPos:e,destPos:h}}const iL=16,aL=100,eOe=15,sL=10,oL=1e3,Ri=16;function tOe(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(n,i){e.translate(n,i),this.__originalTranslate(n,i)},t.scale=function(n,i){e.scale(n,i),this.__originalScale(n,i)},t.transform=function(n,i,a,s,o,l){e.transform(n,i,a,s,o,l),this.__originalTransform(n,i,a,s,o,l)},t.setTransform=function(n,i,a,s,o,l){e.setTransform(n,i,a,s,o,l),this.__originalSetTransform(n,i,a,s,o,l)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(n){e.rotate(n),this.__originalRotate(n)},t.clip=function(n){e.clip(n),this.__originalClip(n)},t.moveTo=function(r,n){e.moveTo(r,n),this.__originalMoveTo(r,n)},t.lineTo=function(r,n){e.lineTo(r,n),this.__originalLineTo(r,n)},t.bezierCurveTo=function(r,n,i,a,s,o){e.bezierCurveTo(r,n,i,a,s,o),this.__originalBezierCurveTo(r,n,i,a,s,o)},t.rect=function(r,n,i,a){e.rect(r,n,i,a),this.__originalRect(r,n,i,a)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class rOe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,r,n){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,r,n)):(i=this.canvasFactory.create(r,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const r=this.cache[e];this.canvasFactory.destroy(r),delete this.cache[e]}}}function t1(t,e,r,n,i,a,s,o,l,c){const[u,f,d,h,m,p]=br(t);if(f===0&&d===0){const b=s*u+m,w=Math.round(b),A=o*h+p,S=Math.round(A),T=(s+l)*u+m,E=Math.abs(Math.round(T)-w)||1,P=(o+c)*h+p,k=Math.abs(Math.round(P)-S)||1;return t.setTransform(Math.sign(u),0,0,Math.sign(h),w,S),t.drawImage(e,r,n,i,a,0,0,E,k),t.setTransform(u,f,d,h,m,p),[E,k]}if(u===0&&h===0){const b=o*d+m,w=Math.round(b),A=s*f+p,S=Math.round(A),T=(o+c)*d+m,E=Math.abs(Math.round(T)-w)||1,P=(s+l)*f+p,k=Math.abs(Math.round(P)-S)||1;return t.setTransform(0,Math.sign(f),Math.sign(d),0,w,S),t.drawImage(e,r,n,i,a,0,0,k,E),t.setTransform(u,f,d,h,m,p),[k,E]}t.drawImage(e,r,n,i,a,s,o,l,c);const y=Math.hypot(u,f),_=Math.hypot(d,h);return[y*l,_*c]}function nOe(t){const{width:e,height:r}=t;if(e>oL||r>oL)return null;const n=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),a=e+1;let s=new Uint8Array(a*(r+1)),o,l,c;const u=e+7&-8;let f=new Uint8Array(u*r),d=0;for(const _ of t.data){let b=128;for(;b>0;)f[d++]=_&b?0:255,b>>=1}let h=0;for(d=0,f[d]!==0&&(s[0]=1,++h),l=1;l<e;l++)f[d]!==f[d+1]&&(s[l]=f[d]?2:1,++h),d++;for(f[d]!==0&&(s[l]=2,++h),o=1;o<r;o++){d=o*u,c=o*a,f[d-u]!==f[d]&&(s[c]=f[d]?1:8,++h);let _=(f[d]?4:0)+(f[d-u]?8:0);for(l=1;l<e;l++)_=(_>>2)+(f[d+1]?4:0)+(f[d-u+1]?8:0),i[_]&&(s[c+l]=i[_],++h),d++;if(f[d-u]!==f[d]&&(s[c+l]=f[d]?2:4,++h),h>n)return null}for(d=u*(r-1),c=o*a,f[d]!==0&&(s[c]=8,++h),l=1;l<e;l++)f[d]!==f[d+1]&&(s[c+l]=f[d]?4:8,++h),d++;if(f[d]!==0&&(s[c+l]=4,++h),h>n)return null;const m=new Int32Array([0,a,-1,0,-a,0,0,0,1]),p=new Path2D;for(o=0;h&&o<=r;o++){let _=o*a;const b=_+e;for(;_<b&&!s[_];)_++;if(_===b)continue;p.moveTo(_%a,o);const w=_;let A=s[_];do{const S=m[A];do _+=S;while(!s[_]);const T=s[_];T!==5&&T!==10?(A=T,s[_]=0):(A=T&51*A>>4,s[_]&=A>>2|A<<2),p.lineTo(_%a,_/a|0),s[_]||--h}while(w!==_);--o}return f=null,s=null,function(_){_.save(),_.scale(1/e,-1/r),_.translate(0,-r),_.fill(p),_.beginPath(),_.restore()}}class lL{constructor(e,r){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r7,this.textMatrixScale=1,this.fontMatrix=W2,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=qn.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,r])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,r){this.x=e,this.y=r}updatePathMinMax(e,r,n){[r,n]=ze.applyTransform([r,n],e),this.minX=Math.min(this.minX,r),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,r),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,r){const n=ze.applyTransform(r,e),i=ze.applyTransform(r.slice(2),e),a=ze.applyTransform([r[0],r[3]],e),s=ze.applyTransform([r[2],r[1]],e);this.minX=Math.min(this.minX,n[0],i[0],a[0],s[0]),this.minY=Math.min(this.minY,n[1],i[1],a[1],s[1]),this.maxX=Math.max(this.maxX,n[0],i[0],a[0],s[0]),this.maxY=Math.max(this.maxY,n[1],i[1],a[1],s[1])}updateScalingPathMinMax(e,r){ze.scaleMinMax(e,r),this.minX=Math.min(this.minX,r[0]),this.minY=Math.min(this.minY,r[1]),this.maxX=Math.max(this.maxX,r[2]),this.maxY=Math.max(this.maxY,r[3])}updateCurvePathMinMax(e,r,n,i,a,s,o,l,c,u){const f=ze.bezierBoundingBox(r,n,i,a,s,o,l,c,u);u||this.updateRectMinMax(e,f)}getPathBoundingBox(e=yi.FILL,r=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===yi.STROKE){r||or("Stroke bounding box must include transform.");const i=ze.singularValueDecompose2dScale(r),a=i[0]*this.lineWidth/2,s=i[1]*this.lineWidth/2;n[0]-=a,n[1]-=s,n[2]+=a,n[3]+=s}return n}updateClipFromPath(){const e=ze.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=yi.FILL,r=null){return ze.intersect(this.clipBox,this.getPathBoundingBox(e,r))}}function cL(t,e){if(typeof ImageData<"u"&&e instanceof ImageData){t.putImageData(e,0,0);return}const r=e.height,n=e.width,i=r%Ri,a=(r-i)/Ri,s=i===0?a:a+1,o=t.createImageData(n,Ri);let l=0,c;const u=e.data,f=o.data;let d,h,m,p;if(e.kind===w1.GRAYSCALE_1BPP){const y=u.byteLength,_=new Uint32Array(f.buffer,0,f.byteLength>>2),b=_.length,w=n+7>>3,A=4294967295,S=bi.isLittleEndian?4278190080:255;for(d=0;d<s;d++){for(m=d<a?Ri:i,c=0,h=0;h<m;h++){const T=y-l;let E=0;const P=T>w?n:T*8-7,k=P&-8;let D=0,I=0;for(;E<k;E+=8)I=u[l++],_[c++]=I&128?A:S,_[c++]=I&64?A:S,_[c++]=I&32?A:S,_[c++]=I&16?A:S,_[c++]=I&8?A:S,_[c++]=I&4?A:S,_[c++]=I&2?A:S,_[c++]=I&1?A:S;for(;E<P;E++)D===0&&(I=u[l++],D=128),_[c++]=I&D?A:S,D>>=1}for(;c<b;)_[c++]=0;t.putImageData(o,0,d*Ri)}}else if(e.kind===w1.RGBA_32BPP){for(h=0,p=n*Ri*4,d=0;d<a;d++)f.set(u.subarray(l,l+p)),l+=p,t.putImageData(o,0,h),h+=Ri;d<s&&(p=n*i*4,f.set(u.subarray(l,l+p)),t.putImageData(o,0,h))}else if(e.kind===w1.RGB_24BPP)for(m=Ri,p=n*m,d=0;d<s;d++){for(d>=a&&(m=i,p=n*m),c=0,h=p;h--;)f[c++]=u[l++],f[c++]=u[l++],f[c++]=u[l++],f[c++]=255;t.putImageData(o,0,d*Ri)}else throw new Error(`bad image kind: ${e.kind}`)}function uL(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const r=e.height,n=e.width,i=r%Ri,a=(r-i)/Ri,s=i===0?a:a+1,o=t.createImageData(n,Ri);let l=0;const c=e.data,u=o.data;for(let f=0;f<s;f++){const d=f<a?Ri:i;({srcPos:l}=QIe({src:c,srcPos:l,dest:u,width:n,height:d,nonBlackColor:0})),t.putImageData(o,0,f*Ri)}}function nm(t,e){const r=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of r)t[n]!==void 0&&(e[n]=t[n]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function r1(t){if(t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0),!oi){const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}}function fL(t,e){if(e)return!0;const r=ze.singularValueDecompose2dScale(t);r[0]=Math.fround(r[0]),r[1]=Math.fround(r[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*Zc.PDF_TO_CSS_UNITS);return r[0]<=n&&r[1]<=n}const iOe=["butt","round","square"],aOe=["miter","round","bevel"],sOe={},dL={};var ru,xC,_C;const NO=class NO{constructor(e,r,n,i,a,{optionalContentConfig:s,markedContentStack:o=null},l,c){B(this,ru);this.ctx=e,this.current=new lL(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=r,this.objs=n,this.canvasFactory=i,this.filterFactory=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=s,this.cachedCanvases=new rOe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,r=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):r}beginDrawing({transform:e,viewport:r,transparency:n=!1,background:i=null}){const a=this.ctx.canvas.width,s=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,a,s),this.ctx.fillStyle=o,n){const l=this.cachedCanvases.getCanvas("transparent",a,s);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...br(this.compositeCtx))}this.ctx.save(),r1(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...r.transform),this.viewportScale=r.scale,this.baseTransform=br(this.ctx)}executeOperatorList(e,r,n,i){const a=e.argsArray,s=e.fnArray;let o=r||0;const l=a.length;if(l===o)return o;const c=l-o>sL&&typeof n=="function",u=c?Date.now()+eOe:0;let f=0;const d=this.commonObjs,h=this.objs;let m;for(;;){if(i!==void 0&&o===i.nextBreakPoint)return i.breakIt(o,n),o;if(m=s[o],m!==os.dependency)this[m].apply(this,a[o]);else for(const p of a[o]){const y=p.startsWith("g_")?d:h;if(!y.has(p))return y.get(p,n),o}if(o++,o===l)return o;if(c&&++f>sL){if(Date.now()>u)return n(),o;f=0}}}endDrawing(){M(this,ru,xC).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const r of e.values())typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement&&(r.width=r.height=0);e.clear()}this._cachedBitmapsMap.clear(),M(this,ru,_C).call(this)}_scaleImage(e,r){const n=e.width??e.displayWidth,i=e.height??e.displayHeight;let a=Math.max(Math.hypot(r[0],r[1]),1),s=Math.max(Math.hypot(r[2],r[3]),1),o=n,l=i,c="prescale1",u,f;for(;a>2&&o>1||s>2&&l>1;){let d=o,h=l;a>2&&o>1&&(d=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),a/=o/d),s>2&&l>1&&(h=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,s/=l/h),u=this.cachedCanvases.getCanvas(c,d,h),f=u.context,f.clearRect(0,0,d,h),f.drawImage(e,0,0,o,l,0,0,d,h),e=u.canvas,o=d,l=h,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e){const r=this.ctx,{width:n,height:i}=e,a=this.current.fillColor,s=this.current.patternFill,o=br(r);let l,c,u,f;if((e.bitmap||e.data)&&e.count>1){const P=e.bitmap||e.data.buffer;c=JSON.stringify(s?o:[o.slice(0,4),a]),l=this._cachedBitmapsMap.get(P),l||(l=new Map,this._cachedBitmapsMap.set(P,l));const k=l.get(c);if(k&&!s){const D=Math.round(Math.min(o[0],o[2])+o[4]),I=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:k,offsetX:D,offsetY:I}}u=k}u||(f=this.cachedCanvases.getCanvas("maskCanvas",n,i),uL(f.context,e));let d=ze.transform(o,[1/n,0,0,-1/i,0,0]);d=ze.transform(d,[1,0,0,1,0,-i]);const[h,m,p,y]=ze.getAxialAlignedBoundingBox([0,0,n,i],d),_=Math.round(p-h)||1,b=Math.round(y-m)||1,w=this.cachedCanvases.getCanvas("fillCanvas",_,b),A=w.context,S=h,T=m;A.translate(-S,-T),A.transform(...d),u||(u=this._scaleImage(f.canvas,Io(A)),u=u.img,l&&s&&l.set(c,u)),A.imageSmoothingEnabled=fL(br(A),e.interpolate),t1(A,u,0,0,u.width,u.height,0,0,n,i),A.globalCompositeOperation="source-in";const E=ze.transform(Io(A),[1,0,0,1,-S,-T]);return A.fillStyle=s?a.getPattern(r,this,E,yi.FILL):a,A.fillRect(0,0,n,i),l&&!s&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,w.canvas)),{canvas:w.canvas,offsetX:Math.round(S),offsetY:Math.round(T)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=iOe[e]}setLineJoin(e){this.ctx.lineJoin=aOe[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,r){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=r)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[r,n]of e)switch(r){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,r=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,e,r);this.suspendedCtx=this.ctx,this.ctx=i.context;const a=this.ctx;a.setTransform(...br(this.suspendedCtx)),nm(this.suspendedCtx,a),tOe(a,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),nm(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const r=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,r,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,r,n,i){const a=i[0],s=i[1],o=i[2]-a,l=i[3]-s;o===0||l===0||(this.genericComposeSMask(r.context,n,o,l,r.subtype,r.backdrop,r.transferMap,a,s,r.offsetX,r.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,r,n,i,a,s,o,l,c,u,f){let d=e.canvas,h=l-u,m=c-f;if(s){const y=ze.makeHexColor(...s);if(h<0||m<0||h+n>d.width||m+i>d.height){const _=this.cachedCanvases.getCanvas("maskExtension",n,i),b=_.context;b.drawImage(d,-h,-m),b.globalCompositeOperation="destination-atop",b.fillStyle=y,b.fillRect(0,0,n,i),b.globalCompositeOperation="source-over",d=_.canvas,h=m=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const _=new Path2D;_.rect(h,m,n,i),e.clip(_),e.globalCompositeOperation="destination-atop",e.fillStyle=y,e.fillRect(h,m,n,i),e.restore()}}r.save(),r.globalAlpha=1,r.setTransform(1,0,0,1,0,0),a==="Alpha"&&o?r.filter=this.filterFactory.addAlphaFilter(o):a==="Luminosity"&&(r.filter=this.filterFactory.addLuminosityFilter(o));const p=new Path2D;p.rect(l,c,n,i),r.clip(p),r.globalCompositeOperation="destination-in",r.drawImage(d,h,m,n,i,l,c,n,i),r.restore()}save(){this.inSMaskMode?(nm(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),nm(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,r,n,i,a,s){this.ctx.transform(e,r,n,i,a,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,r,n){const i=this.ctx,a=this.current;let s=a.x,o=a.y,l,c;const u=br(i),f=u[0]===0&&u[3]===0||u[1]===0&&u[2]===0,d=f?n.slice(0):null;for(let h=0,m=0,p=e.length;h<p;h++)switch(e[h]|0){case os.rectangle:s=r[m++],o=r[m++];const y=r[m++],_=r[m++],b=s+y,w=o+_;i.moveTo(s,o),y===0||_===0?i.lineTo(b,w):(i.lineTo(b,o),i.lineTo(b,w),i.lineTo(s,w)),f||a.updateRectMinMax(u,[s,o,b,w]),i.closePath();break;case os.moveTo:s=r[m++],o=r[m++],i.moveTo(s,o),f||a.updatePathMinMax(u,s,o);break;case os.lineTo:s=r[m++],o=r[m++],i.lineTo(s,o),f||a.updatePathMinMax(u,s,o);break;case os.curveTo:l=s,c=o,s=r[m+4],o=r[m+5],i.bezierCurveTo(r[m],r[m+1],r[m+2],r[m+3],s,o),a.updateCurvePathMinMax(u,l,c,r[m],r[m+1],r[m+2],r[m+3],s,o,d),m+=6;break;case os.curveTo2:l=s,c=o,i.bezierCurveTo(s,o,r[m],r[m+1],r[m+2],r[m+3]),a.updateCurvePathMinMax(u,l,c,s,o,r[m],r[m+1],r[m+2],r[m+3],d),s=r[m+2],o=r[m+3],m+=4;break;case os.curveTo3:l=s,c=o,s=r[m+2],o=r[m+3],i.bezierCurveTo(r[m],r[m+1],s,o,s,o),a.updateCurvePathMinMax(u,l,c,r[m],r[m+1],s,o,s,o,d),m+=4;break;case os.closePath:i.closePath();break}f&&a.updateScalingPathMinMax(u,d),a.setCurrentPoint(s,o)}closePath(){this.ctx.closePath()}stroke(e=!0){const r=this.ctx,n=this.current.strokeColor;r.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(r.save(),r.strokeStyle=n.getPattern(r,this,Io(r),yi.STROKE),this.rescaleAndStroke(!1),r.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),r.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const r=this.ctx,n=this.current.fillColor,i=this.current.patternFill;let a=!1;i&&(r.save(),r.fillStyle=n.getPattern(r,this,Io(r),yi.FILL),a=!0);const s=this.current.getClippedPathBoundingBox();this.contentVisible&&s!==null&&(this.pendingEOFill?(r.fill("evenodd"),this.pendingEOFill=!1):r.fill()),a&&r.restore(),e&&this.consumePath(s)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=sOe}eoClip(){this.pendingClip=dL}beginText(){this.current.textMatrix=r7,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,r=this.ctx;if(e===void 0){r.beginPath();return}r.save(),r.beginPath();for(const n of e)r.setTransform(...n.transform),r.translate(n.x,n.y),n.addToPath(r,n.fontSize);r.restore(),r.clip(),r.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,r){var u;const n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=n.fontMatrix||W2,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&gt("Invalid font matrix for font "+e),r<0?(r=-r,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=r,n.isType3Font)return;const a=n.loadedName||"sans-serif",s=((u=n.systemFontInfo)==null?void 0:u.css)||`"${a}", ${n.fallbackName}`;let o="normal";n.black?o="900":n.bold&&(o="bold");const l=n.italic?"italic":"normal";let c=r;r<iL?c=iL:r>aL&&(c=aL),this.current.fontSizeScale=r/c,this.ctx.font=`${l} ${o} ${c}px ${s}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,r){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,r){this.setLeading(-r),this.moveText(e,r)}setTextMatrix(e,r,n,i,a,s){this.current.textMatrix=[e,r,n,i,a,s],this.current.textMatrixScale=Math.hypot(e,r),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,r,n,i){const a=this.ctx,s=this.current,o=s.font,l=s.textRenderingMode,c=s.fontSize/s.fontSizeScale,u=l&qn.FILL_STROKE_MASK,f=!!(l&qn.ADD_TO_PATH_FLAG),d=s.patternFill&&!o.missingFile;let h;(o.disableFontFace||f||d)&&(h=o.getPathGenerator(this.commonObjs,e)),o.disableFontFace||d?(a.save(),a.translate(r,n),a.beginPath(),h(a,c),i&&a.setTransform(...i),(u===qn.FILL||u===qn.FILL_STROKE)&&a.fill(),(u===qn.STROKE||u===qn.FILL_STROKE)&&a.stroke(),a.restore()):((u===qn.FILL||u===qn.FILL_STROKE)&&a.fillText(e,r,n),(u===qn.STROKE||u===qn.FILL_STROKE)&&a.strokeText(e,r,n)),f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:br(a),x:r,y:n,fontSize:c,addToPath:h})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const r=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<r.length;i+=4)if(r[i]>0&&r[i]<255){n=!0;break}return At(this,"isFontSubpixelAAEnabled",n)}showText(e){const r=this.current,n=r.font;if(n.isType3Font)return this.showType3Text(e);const i=r.fontSize;if(i===0)return;const a=this.ctx,s=r.fontSizeScale,o=r.charSpacing,l=r.wordSpacing,c=r.fontDirection,u=r.textHScale*c,f=e.length,d=n.vertical,h=d?1:-1,m=n.defaultVMetrics,p=i*r.fontMatrix[0],y=r.textRenderingMode===qn.FILL&&!n.disableFontFace&&!r.patternFill;a.save(),a.transform(...r.textMatrix),a.translate(r.x,r.y+r.textRise),c>0?a.scale(u,-1):a.scale(u,1);let _;if(r.patternFill){a.save();const T=r.fillColor.getPattern(a,this,Io(a),yi.FILL);_=br(a),a.restore(),a.fillStyle=T}let b=r.lineWidth;const w=r.textMatrixScale;if(w===0||b===0){const T=r.textRenderingMode&qn.FILL_STROKE_MASK;(T===qn.STROKE||T===qn.FILL_STROKE)&&(b=this.getSinglePixelWidth())}else b/=w;if(s!==1&&(a.scale(s,s),b/=s),a.lineWidth=b,n.isInvalidPDFjsFont){const T=[];let E=0;for(const P of e)T.push(P.unicode),E+=P.width;a.fillText(T.join(""),0,0),r.x+=E*p*u,a.restore(),this.compose();return}let A=0,S;for(S=0;S<f;++S){const T=e[S];if(typeof T=="number"){A+=h*T*i/1e3;continue}let E=!1;const P=(T.isSpace?l:0)+o,k=T.fontChar,D=T.accent;let I,N,U=T.width;if(d){const G=T.vmetric||m,Q=-(T.vmetric?G[1]:U*.5)*p,J=G[2]*p;U=G?-G[0]:U,I=Q/s,N=(A+J)/s}else I=A/s,N=0;if(n.remeasure&&U>0){const G=a.measureText(k).width*1e3/i*s;if(U<G&&this.isFontSubpixelAAEnabled){const Q=U/G;E=!0,a.save(),a.scale(Q,1),I/=Q}else U!==G&&(I+=(U-G)/2e3*i/s)}if(this.contentVisible&&(T.isInFont||n.missingFile)){if(y&&!D)a.fillText(k,I,N);else if(this.paintChar(k,I,N,_),D){const G=I+i*D.offset.x/s,Q=N-i*D.offset.y/s;this.paintChar(D.fontChar,G,Q,_)}}const X=d?U*p-P*c:U*p+P*c;A+=X,E&&a.restore()}d?r.y-=A:r.x+=A*u,a.restore(),this.compose()}showType3Text(e){const r=this.ctx,n=this.current,i=n.font,a=n.fontSize,s=n.fontDirection,o=i.vertical?1:-1,l=n.charSpacing,c=n.wordSpacing,u=n.textHScale*s,f=n.fontMatrix||W2,d=e.length,h=n.textRenderingMode===qn.INVISIBLE;let m,p,y,_;if(!(h||a===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),r.transform(...n.textMatrix),r.translate(n.x,n.y),r.scale(u,s),m=0;m<d;++m){if(p=e[m],typeof p=="number"){_=o*p*a/1e3,this.ctx.translate(_,0),n.x+=_*u;continue}const b=(p.isSpace?c:0)+l,w=i.charProcOperatorList[p.operatorListId];if(!w){gt(`Type3 character "${p.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=p,this.save(),r.scale(a,a),r.transform(...f),this.executeOperatorList(w),this.restore()),y=ze.applyTransform([p.width,0],f)[0]*a+b,r.translate(y,0),n.x+=y*u}r.restore(),this.processingType3=null}}setCharWidth(e,r){}setCharWidthAndBounds(e,r,n,i,a,s){this.ctx.rect(n,i,a-n,s-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let r;if(e[0]==="TilingPattern"){const n=e[1],i=this.baseTransform||br(this.ctx),a={createCanvasGraphics:s=>new NO(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};r=new yC(e,n,this.ctx,a,i)}else r=this._getPattern(e[1],e[2]);return r}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,r,n){this.ctx.strokeStyle=this.current.strokeColor=ze.makeHexColor(e,r,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,r,n){this.ctx.fillStyle=this.current.fillColor=ze.makeHexColor(e,r,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,r=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=ZIe(this.getObject(e)),this.cachedPatterns.set(e,n)),r&&(n.matrix=r),n}shadingFill(e){if(!this.contentVisible)return;const r=this.ctx;this.save();const n=this._getPattern(e);r.fillStyle=n.getPattern(r,this,Io(r),yi.SHADING);const i=Io(r);if(i){const{width:a,height:s}=r.canvas,[o,l,c,u]=ze.getAxialAlignedBoundingBox([0,0,a,s],i);this.ctx.fillRect(o,l,c-o,u-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){or("Should not call beginInlineImage")}beginImageData(){or("Should not call beginImageData")}paintFormXObjectBegin(e,r){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=br(this.ctx),r)){const n=r[2]-r[0],i=r[3]-r[1];this.ctx.rect(r[0],r[1],n,i),this.current.updateRectMinMax(br(this.ctx),r),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;e.isolated||OS("TODO: Support non-isolated groups."),e.knockout&&gt("Knockout groups not supported.");const n=br(r);if(e.matrix&&r.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=ze.getAxialAlignedBoundingBox(e.bbox,br(r));const a=[0,0,r.canvas.width,r.canvas.height];i=ze.intersect(i,a)||[0,0,0,0];const s=Math.floor(i[0]),o=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-s,1),c=Math.max(Math.ceil(i[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,c]);let u="groupAt"+this.groupLevel;e.smask&&(u+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(u,l,c),d=f.context;d.translate(-s,-o),d.transform(...n),e.smask?this.smaskStack.push({canvas:f.canvas,context:d,offsetX:s,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(r.setTransform(1,0,0,1,0,0),r.translate(s,o),r.save()),nm(r,d),this.ctx=d,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=br(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const a=ze.getAxialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],i);this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(e,r,n,i,a){if(M(this,ru,xC).call(this),r1(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const s=r[2]-r[0],o=r[3]-r[1];if(a&&this.annotationCanvasMap){n=n.slice(),n[4]-=r[0],n[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=s,r[3]=o;const[l,c]=ze.singularValueDecompose2dScale(br(this.ctx)),{viewportScale:u}=this,f=Math.ceil(s*this.outputScaleX*u),d=Math.ceil(o*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(f,d);const{canvas:h,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(e,h),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,o*c),r1(this.ctx)}else r1(this.ctx),this.endPath(),this.ctx.rect(r[0],r[1],s,o),this.ctx.clip(),this.ctx.beginPath()}this.current=new lL(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),M(this,ru,_C).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const r=e.count;e=this.getObject(e.data,e),e.count=r;const n=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=nOe(e)),i.compiled)){i.compiled(n);return}const a=this._createMaskCanvas(e),s=a.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(s,a.offsetX,a.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,r,n=0,i=0,a,s){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const l=br(o);o.transform(r,n,i,a,0,0);const c=this._createMaskCanvas(e);o.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let u=0,f=s.length;u<f;u+=2){const d=ze.transform(l,[r,n,i,a,s[u],s[u+1]]),[h,m]=ze.applyTransform([0,0],d);o.drawImage(c.canvas,h,m)}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const r=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const a of e){const{data:s,width:o,height:l,transform:c}=a,u=this.cachedCanvases.getCanvas("maskCanvas",o,l),f=u.context;f.save();const d=this.getObject(s,a);uL(f,d),f.globalCompositeOperation="source-in",f.fillStyle=i?n.getPattern(f,this,Io(r),yi.FILL):n,f.fillRect(0,0,o,l),f.restore(),r.save(),r.transform(...c),r.scale(1,-1),t1(r,u.canvas,0,0,o,l,0,-1,1,1),r.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const r=this.getObject(e);if(!r){gt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(r)}paintImageXObjectRepeat(e,r,n,i){if(!this.contentVisible)return;const a=this.getObject(e);if(!a){gt("Dependent image isn't ready yet");return}const s=a.width,o=a.height,l=[];for(let c=0,u=i.length;c<u;c+=2)l.push({transform:[r,0,0,n,i[c],i[c+1]],x:0,y:0,w:s,h:o});this.paintInlineImageXObjectGroup(a,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:r,width:n,height:i}=e,a=this.cachedCanvases.getCanvas("inlineImage",n,i),s=a.context;return s.filter=this.current.transferMaps,s.drawImage(r,0,0),s.filter="none",a.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const r=e.width,n=e.height,i=this.ctx;if(this.save(),!oi){const{filter:o}=i;o!=="none"&&o!==""&&(i.filter="none")}i.scale(1/r,-1/n);let a;if(e.bitmap)a=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)a=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",r,n).context;cL(l,e),a=this.applyTransferMapsToCanvas(l)}const s=this._scaleImage(a,Io(i));i.imageSmoothingEnabled=fL(br(i),e.interpolate),t1(i,s.img,0,0,s.paintWidth,s.paintHeight,0,-n,r,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,r){if(!this.contentVisible)return;const n=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const a=e.width,s=e.height,l=this.cachedCanvases.getCanvas("inlineImage",a,s).context;cL(l,e),i=this.applyTransferMapsToCanvas(l)}for(const a of r)n.save(),n.transform(...a.transform),n.scale(1,-1),t1(n,i,a.x,a.y,a.w,a.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,r){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,r){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(r||(this.pendingClip===dL?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=br(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const r=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/r}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:r,b:n,c:i,d:a}=this.ctx.getTransform();let s,o;if(n===0&&i===0){const l=Math.abs(r),c=Math.abs(a);if(l===c)if(e===0)s=o=1/l;else{const u=l*e;s=o=u<1?1/u:1}else if(e===0)s=1/l,o=1/c;else{const u=l*e,f=c*e;s=u<1?1/u:1,o=f<1?1/f:1}}else{const l=Math.abs(r*a-n*i),c=Math.hypot(r,n),u=Math.hypot(i,a);if(e===0)s=u/l,o=c/l;else{const f=e*l;s=u>f?u/f:1,o=c>f?c/f:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:r}=this,{lineWidth:n}=this.current,[i,a]=this.getScaleForStroking();if(r.lineWidth=n||1,i===1&&a===1){r.stroke();return}const s=r.getLineDash();if(e&&r.save(),r.scale(i,a),s.length>0){const o=Math.max(i,a);r.setLineDash(s.map(l=>l/o)),r.lineDashOffset/=o}r.stroke(),e&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};ru=new WeakSet,xC=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},_C=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const r=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=r}}};let kh=NO;for(const t in os)kh.prototype[t]!==void 0&&(kh.prototype[os[t]]=kh.prototype[t]);var Vv,Hv;class sl{static get workerPort(){return g(this,Vv)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");O(this,Vv,e)}static get workerSrc(){return g(this,Hv)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");O(this,Hv,e)}}Vv=new WeakMap,Hv=new WeakMap,B(sl,Vv,null),B(sl,Hv,"");const n1={DATA:1,ERROR:2},Gr={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Gi(t){switch(t instanceof Error||typeof t=="object"&&t!==null||or('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new Id(t.message);case"MissingPDFException":return new Pd(t.message);case"PasswordException":return new z2(t.message,t.code);case"UnexpectedResponseException":return new MS(t.message,t.status);case"UnknownErrorException":return new G2(t.message,t.details);default:return new G2(t.message,t.toString())}}var Wh,Ga,U7,j7,V7,P1;class wm{constructor(e,r,n){B(this,Ga);B(this,Wh,new AbortController);this.sourceName=e,this.targetName=r,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",M(this,Ga,U7).bind(this),{signal:g(this,Wh).signal})}on(e,r){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=r}send(e,r,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:r},n)}sendWithPromise(e,r,n){const i=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[i]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:r},n)}catch(s){a.reject(s)}return a.promise}sendWithStream(e,r,n,i){const a=this.streamId++,s=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[a]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:s,targetName:o,action:e,streamId:a,data:r,desiredSize:c.desiredSize},i),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[a].pullCall=u,l.postMessage({sourceName:s,targetName:o,stream:Gr.PULL,streamId:a,desiredSize:c.desiredSize}),u.promise},cancel:c=>{dn(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[a].cancelCall=u,this.streamControllers[a].isClosed=!0,l.postMessage({sourceName:s,targetName:o,stream:Gr.CANCEL,streamId:a,reason:Gi(c)}),u.promise}},n)}destroy(){var e;(e=g(this,Wh))==null||e.abort(),O(this,Wh,null)}}Wh=new WeakMap,Ga=new WeakSet,U7=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){M(this,Ga,V7).call(this,e);return}if(e.callback){const n=e.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===n1.DATA)i.resolve(e.data);else if(e.callback===n1.ERROR)i.reject(Gi(e.reason));else throw new Error("Unexpected callback case");return}const r=this.actionHandler[e.action];if(!r)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,i=e.sourceName,a=this.comObj;new Promise(function(s){s(r(e.data))}).then(function(s){a.postMessage({sourceName:n,targetName:i,callback:n1.DATA,callbackId:e.callbackId,data:s})},function(s){a.postMessage({sourceName:n,targetName:i,callback:n1.ERROR,callbackId:e.callbackId,reason:Gi(s)})});return}if(e.streamId){M(this,Ga,j7).call(this,e);return}r(e.data)},j7=function(e){const r=e.streamId,n=this.sourceName,i=e.sourceName,a=this.comObj,s=this,o=this.actionHandler[e.action],l={enqueue(c,u=1,f){if(this.isCancelled)return;const d=this.desiredSize;this.desiredSize-=u,d>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:n,targetName:i,stream:Gr.ENQUEUE,streamId:r,chunk:c},f)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:i,stream:Gr.CLOSE,streamId:r}),delete s.streamSinks[r])},error(c){dn(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:i,stream:Gr.ERROR,streamId:r,reason:Gi(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[r]=l,new Promise(function(c){c(o(e.data,l))}).then(function(){a.postMessage({sourceName:n,targetName:i,stream:Gr.START_COMPLETE,streamId:r,success:!0})},function(c){a.postMessage({sourceName:n,targetName:i,stream:Gr.START_COMPLETE,streamId:r,reason:Gi(c)})})},V7=function(e){const r=e.streamId,n=this.sourceName,i=e.sourceName,a=this.comObj,s=this.streamControllers[r],o=this.streamSinks[r];switch(e.stream){case Gr.START_COMPLETE:e.success?s.startCall.resolve():s.startCall.reject(Gi(e.reason));break;case Gr.PULL_COMPLETE:e.success?s.pullCall.resolve():s.pullCall.reject(Gi(e.reason));break;case Gr.PULL:if(!o){a.postMessage({sourceName:n,targetName:i,stream:Gr.PULL_COMPLETE,streamId:r,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,new Promise(function(l){var c;l((c=o.onPull)==null?void 0:c.call(o))}).then(function(){a.postMessage({sourceName:n,targetName:i,stream:Gr.PULL_COMPLETE,streamId:r,success:!0})},function(l){a.postMessage({sourceName:n,targetName:i,stream:Gr.PULL_COMPLETE,streamId:r,reason:Gi(l)})});break;case Gr.ENQUEUE:if(dn(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case Gr.CLOSE:if(dn(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),M(this,Ga,P1).call(this,s,r);break;case Gr.ERROR:dn(s,"error should have stream controller"),s.controller.error(Gi(e.reason)),M(this,Ga,P1).call(this,s,r);break;case Gr.CANCEL_COMPLETE:e.success?s.cancelCall.resolve():s.cancelCall.reject(Gi(e.reason)),M(this,Ga,P1).call(this,s,r);break;case Gr.CANCEL:if(!o)break;new Promise(function(l){var c;l((c=o.onCancel)==null?void 0:c.call(o,Gi(e.reason)))}).then(function(){a.postMessage({sourceName:n,targetName:i,stream:Gr.CANCEL_COMPLETE,streamId:r,success:!0})},function(l){a.postMessage({sourceName:n,targetName:i,stream:Gr.CANCEL_COMPLETE,streamId:r,reason:Gi(l)})}),o.sinkCapability.reject(Gi(e.reason)),o.isCancelled=!0,delete this.streamSinks[r];break;default:throw new Error("Unexpected stream case")}},P1=async function(e,r){var n,i,a;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(i=e.pullCall)==null?void 0:i.promise,(a=e.cancelCall)==null?void 0:a.promise]),delete this.streamControllers[r]};var sf,Wv;class oOe{constructor({parsedData:e,rawData:r}){B(this,sf);B(this,Wv);O(this,sf,e),O(this,Wv,r)}getRaw(){return g(this,Wv)}get(e){return g(this,sf).get(e)??null}getAll(){return mO(g(this,sf))}has(e){return g(this,sf).has(e)}}sf=new WeakMap,Wv=new WeakMap;const Gd=Symbol("INTERNAL");var zv,Gv,qv,zh;class lOe{constructor(e,{name:r,intent:n,usage:i,rbGroups:a}){B(this,zv,!1);B(this,Gv,!1);B(this,qv,!1);B(this,zh,!0);O(this,zv,!!(e&na.DISPLAY)),O(this,Gv,!!(e&na.PRINT)),this.name=r,this.intent=n,this.usage=i,this.rbGroups=a}get visible(){if(g(this,qv))return g(this,zh);if(!g(this,zh))return!1;const{print:e,view:r}=this.usage;return g(this,zv)?(r==null?void 0:r.viewState)!=="OFF":g(this,Gv)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,r,n=!1){e!==Gd&&or("Internal method `_setVisible` called."),O(this,qv,n),O(this,zh,r)}}zv=new WeakMap,Gv=new WeakMap,qv=new WeakMap,zh=new WeakMap;var hc,Bt,Gh,qh,Xv,wC;class cOe{constructor(e,r=na.DISPLAY){B(this,Xv);B(this,hc,null);B(this,Bt,new Map);B(this,Gh,null);B(this,qh,null);if(this.renderingIntent=r,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,O(this,qh,e.order);for(const n of e.groups)g(this,Bt).set(n.id,new lOe(r,n));if(e.baseState==="OFF")for(const n of g(this,Bt).values())n._setVisible(Gd,!1);for(const n of e.on)g(this,Bt).get(n)._setVisible(Gd,!0);for(const n of e.off)g(this,Bt).get(n)._setVisible(Gd,!1);O(this,Gh,this.getHash())}}isVisible(e){if(g(this,Bt).size===0)return!0;if(!e)return OS("Optional content group not defined."),!0;if(e.type==="OCG")return g(this,Bt).has(e.id)?g(this,Bt).get(e.id).visible:(gt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return M(this,Xv,wC).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const r of e.ids){if(!g(this,Bt).has(r))return gt(`Optional content group not found: ${r}`),!0;if(g(this,Bt).get(r).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const r of e.ids){if(!g(this,Bt).has(r))return gt(`Optional content group not found: ${r}`),!0;if(!g(this,Bt).get(r).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const r of e.ids){if(!g(this,Bt).has(r))return gt(`Optional content group not found: ${r}`),!0;if(!g(this,Bt).get(r).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const r of e.ids){if(!g(this,Bt).has(r))return gt(`Optional content group not found: ${r}`),!0;if(g(this,Bt).get(r).visible)return!1}return!0}return gt(`Unknown optional content policy ${e.policy}.`),!0}return gt(`Unknown group type ${e.type}.`),!0}setVisibility(e,r=!0,n=!0){var a;const i=g(this,Bt).get(e);if(!i){gt(`Optional content group not found: ${e}`);return}if(n&&r&&i.rbGroups.length)for(const s of i.rbGroups)for(const o of s)o!==e&&((a=g(this,Bt).get(o))==null||a._setVisible(Gd,!1,!0));i._setVisible(Gd,!!r,!0),O(this,hc,null)}setOCGState({state:e,preserveRB:r}){let n;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const a=g(this,Bt).get(i);if(a)switch(n){case"ON":this.setVisibility(i,!0,r);break;case"OFF":this.setVisibility(i,!1,r);break;case"Toggle":this.setVisibility(i,!a.visible,r);break}}O(this,hc,null)}get hasInitialVisibility(){return g(this,Gh)===null||this.getHash()===g(this,Gh)}getOrder(){return g(this,Bt).size?g(this,qh)?g(this,qh).slice():[...g(this,Bt).keys()]:null}getGroups(){return g(this,Bt).size>0?mO(g(this,Bt)):null}getGroup(e){return g(this,Bt).get(e)||null}getHash(){if(g(this,hc)!==null)return g(this,hc);const e=new P7;for(const[r,n]of g(this,Bt))e.update(`${r}:${n.visible}`);return O(this,hc,e.hexdigest())}}hc=new WeakMap,Bt=new WeakMap,Gh=new WeakMap,qh=new WeakMap,Xv=new WeakSet,wC=function(e){const r=e.length;if(r<2)return!0;const n=e[0];for(let i=1;i<r;i++){const a=e[i];let s;if(Array.isArray(a))s=M(this,Xv,wC).call(this,a);else if(g(this,Bt).has(a))s=g(this,Bt).get(a).visible;else return gt(`Optional content group not found: ${a}`),!0;switch(n){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return n==="And"};class uOe{constructor(e,{disableRange:r=!1,disableStream:n=!1}){dn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:a,progressiveDone:s,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=o,(a==null?void 0:a.length)>0){const l=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!r,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:r}){const n=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(a){return a._begin!==e?!1:(a._enqueue(n),!0)});dn(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var r,n,i,a;e.total===void 0?(n=(r=this._rangeReaders[0])==null?void 0:r.onProgress)==null||n.call(r,{loaded:e.loaded}):(a=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||a.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const r=this._rangeReaders.indexOf(e);r>=0&&this._rangeReaders.splice(r,1)}getFullReader(){dn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new fOe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,r){if(r<=this._progressiveDataLength)return null;const n=new dOe(this,e,r);return this._pdfDataRangeTransport.requestDataRange(e,r),this._rangeReaders.push(n),n}cancelAllRequests(e){var r;(r=this._fullRequestReader)==null||r.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class fOe{constructor(e,r,n=!1,i=null){this._stream=e,this._done=n||!1,this._filename=yO(i)?i:null,this._queuedChunks=r||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class dOe{constructor(e,r,n){this._stream=e,this._begin=r,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const r=this._queuedChunk;return this._queuedChunk=null,{value:r,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function hOe(t){let e=!0,r=n("filename\\*","i").exec(t);if(r){r=r[1];let u=o(r);return u=unescape(u),u=l(u),u=c(u),a(u)}if(r=s(t),r){const u=c(r);return a(u)}if(r=n("filename","i").exec(t),r){r=r[1];let u=o(r);return u=c(u),a(u)}function n(u,f){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',f)}function i(u,f){if(u){if(!/^[\x00-\xFF]+$/.test(f))return f;try{const d=new TextDecoder(u,{fatal:!0}),h=NS(f);f=d.decode(h),e=!1}catch{}}return f}function a(u){return e&&/[\x80-\xff]/.test(u)&&(u=i("utf-8",u),e&&(u=i("iso-8859-1",u))),u}function s(u){const f=[];let d;const h=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(d=h.exec(u))!==null;){let[,p,y,_]=d;if(p=parseInt(p,10),p in f){if(p===0)break;continue}f[p]=[y,_]}const m=[];for(let p=0;p<f.length&&p in f;++p){let[y,_]=f[p];_=o(_),y&&(_=unescape(_),p===0&&(_=l(_))),m.push(_)}return m.join("")}function o(u){if(u.startsWith('"')){const f=u.slice(1).split('\\"');for(let d=0;d<f.length;++d){const h=f[d].indexOf('"');h!==-1&&(f[d]=f[d].slice(0,h),f.length=d+1),f[d]=f[d].replaceAll(/\\(.)/g,"$1")}u=f.join('"')}return u}function l(u){const f=u.indexOf("'");if(f===-1)return u;const d=u.slice(0,f),m=u.slice(f+1).replace(/^[^']*'/,"");return i(d,m)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(f,d,h,m){if(h==="q"||h==="Q")return m=m.replaceAll("_"," "),m=m.replaceAll(/=([0-9a-fA-F]{2})/g,function(p,y){return String.fromCharCode(parseInt(y,16))}),i(d,m);try{m=atob(m)}catch{}return i(d,m)})}return""}function SO(t,e){const r=new Headers;if(!t||!e||typeof e!="object")return r;for(const n in e){const i=e[n];i!==void 0&&r.append(n,i)}return r}function AO({responseHeaders:t,isHttp:e,rangeChunkSize:r,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(t.get("Content-Length"),10);return!Number.isInteger(a)||(i.suggestedLength=a,a<=2*r)||n||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function TO(t){const e=t.get("Content-Disposition");if(e){let r=hOe(e);if(r.includes("%"))try{r=decodeURIComponent(r)}catch{}if(yO(r))return r}return null}function FS(t,e){return t===404||t===0&&e.startsWith("file:")?new Pd('Missing PDF "'+e+'".'):new MS(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t)}function H7(t){return t===200||t===206}function W7(t,e,r){return{method:"GET",headers:t,signal:r.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function z7(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(gt(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class hL{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=SO(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return dn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new pOe(this),this._fullRequestReader}getRangeReader(e,r){if(r<=this._progressiveDataLength)return null;const n=new mOe(this,e,r);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var r;(r=this._fullRequestReader)==null||r.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class pOe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const r=e.source;this._withCredentials=r.withCredentials||!1,this._contentLength=r.length,this._headersCapability=Promise.withResolvers(),this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange;const n=new Headers(e.headers),i=r.url;fetch(i,W7(n,this._withCredentials,this._abortController)).then(a=>{if(!H7(a.status))throw FS(a.status,i);this._reader=a.body.getReader(),this._headersCapability.resolve();const s=a.headers,{allowRangeRequests:o,suggestedLength:l}=AO({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=TO(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Id("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:r}=await this._reader.read();return r?{value:e,done:r}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:z7(e),done:!1})}cancel(e){var r;(r=this._reader)==null||r.cancel(e),this._abortController.abort()}}class mOe{constructor(e,r,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const a=new Headers(e.headers);a.append("Range",`bytes=${r}-${n-1}`);const s=i.url;fetch(s,W7(a,this._withCredentials,this._abortController)).then(o=>{if(!H7(o.status))throw FS(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:r}=await this._reader.read();return r?{value:e,done:r}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:z7(e),done:!1})}cancel(e){var r;(r=this._reader)==null||r.cancel(e),this._abortController.abort()}}const lT=200,cT=206;function gOe(t){const e=t.response;return typeof e!="string"?e:NS(e).buffer}class vOe{constructor({url:e,httpHeaders:r,withCredentials:n}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=SO(this.isHttp,r),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,r,n){const i={begin:e,end:r};for(const a in n)i[a]=n[a];return this.request(i)}requestFull(e){return this.request(e)}request(e){const r=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:r};r.open("GET",this.url),r.withCredentials=this.withCredentials;for(const[a,s]of this.headers)r.setRequestHeader(a,s);return this.isHttp&&"begin"in e&&"end"in e?(r.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=cT):i.expectedStatus=lT,r.responseType="arraybuffer",e.onError&&(r.onerror=function(a){e.onError(r.status)}),r.onreadystatechange=this.onStateChange.bind(this,n),r.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,r.send(null),n}onProgress(e,r){var i;const n=this.pendingRequests[e];n&&((i=n.onProgress)==null||i.call(n,r))}onStateChange(e,r){var l,c,u;const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(l=n.onError)==null||l.call(n,i.status);return}const a=i.status||lT;if(!(a===lT&&n.expectedStatus===cT)&&a!==n.expectedStatus){(c=n.onError)==null||c.call(n,i.status);return}const o=gOe(i);if(a===cT){const f=i.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(f);n.onDone({begin:parseInt(d[1],10),chunk:o})}else o?n.onDone({begin:0,chunk:o}):(u=n.onError)==null||u.call(n,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const r=this.pendingRequests[e].xhr;delete this.pendingRequests[e],r.abort()}}class yOe{constructor(e){this._source=e,this._manager=new vOe(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const r=this._rangeRequestReaders.indexOf(e);r>=0&&this._rangeRequestReaders.splice(r,1)}getFullReader(){return dn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new xOe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,r){const n=new _Oe(this._manager,e,r);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var r;(r=this._fullRequestReader)==null||r.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class xOe{constructor(e,r){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=r.url,this._fullRequestId=e.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=r.disableRange||!1,this._contentLength=r.length,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,r=this._manager.getRequestXhr(e),n=new Headers(r.getAllResponseHeaders().trim().split(/[\r\n]+/).map(s=>{const[o,...l]=s.split(": ");return[o,l.join(": ")]})),{allowRangeRequests:i,suggestedLength:a}=AO({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=TO(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=FS(e,this._url),this._headersCapability.reject(this._storedError);for(const r of this._requests)r.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var r;(r=this.onProgress)==null||r.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class _Oe{constructor(e,r,n){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(r,n,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const r=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:r,done:!1}):this._queuedChunk=r,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=FS(e,this._url);for(const r of this._requests)r.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var r;this.isStreamingSupported||(r=this.onProgress)==null||r.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const r=this._queuedChunk;return this._queuedChunk=null,{value:r,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const wOe=/^[a-z][a-z0-9\-+.]+:/i;function bOe(t){if(wOe.test(t))return new URL(t);const e=Qc.get("url");return new URL(e.pathToFileURL(t))}function G7(t,e,r){return t.protocol==="http:"?Qc.get("http").request(t,{headers:e},r):Qc.get("https").request(t,{headers:e},r)}class SOe{constructor(e){this.source=e,this.url=bOe(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=SO(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return dn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new EOe(this):new AOe(this),this._fullRequestReader}getRangeReader(e,r){if(r<=this._progressiveDataLength)return null;const n=this.isFsUrl?new COe(this,e,r):new TOe(this,e,r);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var r;(r=this._fullRequestReader)==null||r.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class q7{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const r=e.source;this._contentLength=r.length,this._loaded=0,this._filename=null,this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",r=>{this._error(r)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Id("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class X7{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",r=>{this._error(r)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class AOe extends q7{constructor(e){super(e);const r=Object.fromEntries(e.headers),n=i=>{if(i.statusCode===404){const l=new Pd(`Missing PDF "${this._url}".`);this._storedError=l,this._headersCapability.reject(l);return}this._headersCapability.resolve(),this._setReadableStream(i);const a=new Headers(this._readableStream.headers),{allowRangeRequests:s,suggestedLength:o}=AO({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=o||this._contentLength,this._filename=TO(a)};this._request=G7(this._url,r,n),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class TOe extends X7{constructor(e,r,n){super(e);const i=Object.fromEntries(e.headers);i.Range=`bytes=${r}-${n-1}`;const a=s=>{if(s.statusCode===404){const o=new Pd(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(s)};this._request=G7(this._url,i,a),this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class EOe extends q7{constructor(e){super(e);const r=Qc.get("fs");r.promises.lstat(this._url).then(n=>{this._contentLength=n.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},n=>{n.code==="ENOENT"&&(n=new Pd(`Missing PDF "${this._url}".`)),this._storedError=n,this._headersCapability.reject(n)})}}class COe extends X7{constructor(e,r,n){super(e);const i=Qc.get("fs");this._setReadableStream(i.createReadStream(this._url,{start:r,end:n-1}))}}const kOe=1e5,ki=30,POe=.8;var X3,pc,Oi,Kv,Yv,of,Vo,Jv,Zv,lf,Xh,Kh,mc,Yh,Qv,Jh,cf,ey,ty,uf,ff,ry,gc,Zh,Rl,K7,Y7,bC,pa,I1,SC,J7,Z7;const sn=class sn{constructor({textContentSource:e,container:r,viewport:n}){B(this,Rl);B(this,pc,Promise.withResolvers());B(this,Oi,null);B(this,Kv,!1);B(this,Yv,!!((X3=globalThis.FontInspector)!=null&&X3.enabled));B(this,of,null);B(this,Vo,null);B(this,Jv,0);B(this,Zv,0);B(this,lf,null);B(this,Xh,null);B(this,Kh,0);B(this,mc,0);B(this,Yh,Object.create(null));B(this,Qv,[]);B(this,Jh,null);B(this,cf,[]);B(this,ey,new WeakMap);B(this,ty,null);var l;if(e instanceof ReadableStream)O(this,Jh,e);else if(typeof e=="object")O(this,Jh,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');O(this,Oi,O(this,Xh,r)),O(this,mc,n.scale*(globalThis.devicePixelRatio||1)),O(this,Kh,n.rotation),O(this,Vo,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:a,pageX:s,pageY:o}=n.rawDims;O(this,ty,[1,0,0,-1,-s,o+a]),O(this,Zv,i),O(this,Jv,a),M(l=sn,pa,J7).call(l),cd(r,n),g(this,pc).promise.finally(()=>{g(sn,Zh).delete(this),O(this,Vo,null),O(this,Yh,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:r}=bi.platform;return At(this,"fontFamilyMap",new Map([["sans-serif",`${e&&r?"Calibri, ":""}sans-serif`],["monospace",`${e&&r?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{g(this,lf).read().then(({value:r,done:n})=>{if(n){g(this,pc).resolve();return}g(this,of)??O(this,of,r.lang),Object.assign(g(this,Yh),r.styles),M(this,Rl,K7).call(this,r.items),e()},g(this,pc).reject)};return O(this,lf,g(this,Jh).getReader()),g(sn,Zh).add(this),e(),g(this,pc).promise}update({viewport:e,onBefore:r=null}){var a;const n=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==g(this,Kh)&&(r==null||r(),O(this,Kh,i),cd(g(this,Xh),{rotation:i})),n!==g(this,mc)){r==null||r(),O(this,mc,n);const s={div:null,properties:null,ctx:M(a=sn,pa,I1).call(a,g(this,of))};for(const o of g(this,cf))s.properties=g(this,ey).get(o),s.div=o,M(this,Rl,bC).call(this,s)}}cancel(){var r;const e=new Id("TextLayer task cancelled.");(r=g(this,lf))==null||r.cancel(e).catch(()=>{}),O(this,lf,null),g(this,pc).reject(e)}get textDivs(){return g(this,cf)}get textContentItemsStr(){return g(this,Qv)}static cleanup(){if(!(g(this,Zh).size>0)){g(this,uf).clear();for(const{canvas:e}of g(this,ff).values())e.remove();g(this,ff).clear()}}};pc=new WeakMap,Oi=new WeakMap,Kv=new WeakMap,Yv=new WeakMap,of=new WeakMap,Vo=new WeakMap,Jv=new WeakMap,Zv=new WeakMap,lf=new WeakMap,Xh=new WeakMap,Kh=new WeakMap,mc=new WeakMap,Yh=new WeakMap,Qv=new WeakMap,Jh=new WeakMap,cf=new WeakMap,ey=new WeakMap,ty=new WeakMap,uf=new WeakMap,ff=new WeakMap,ry=new WeakMap,gc=new WeakMap,Zh=new WeakMap,Rl=new WeakSet,K7=function(e){var i,a;if(g(this,Kv))return;(a=g(this,Vo)).ctx??(a.ctx=M(i=sn,pa,I1).call(i,g(this,of)));const r=g(this,cf),n=g(this,Qv);for(const s of e){if(r.length>kOe){gt("Ignoring additional textDivs for performance reasons."),O(this,Kv,!0);return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){const o=g(this,Oi);O(this,Oi,document.createElement("span")),g(this,Oi).classList.add("markedContent"),s.id!==null&&g(this,Oi).setAttribute("id",`${s.id}`),o.append(g(this,Oi))}else s.type==="endMarkedContent"&&O(this,Oi,g(this,Oi).parentNode);continue}n.push(s.str),M(this,Rl,Y7).call(this,s)}},Y7=function(e){var p;const r=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};g(this,cf).push(r);const i=ze.transform(g(this,ty),e.transform);let a=Math.atan2(i[1],i[0]);const s=g(this,Yh)[e.fontName];s.vertical&&(a+=Math.PI/2);let o=g(this,Yv)&&s.fontSubstitution||s.fontFamily;o=sn.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),c=l*M(p=sn,pa,Z7).call(p,o,g(this,of));let u,f;a===0?(u=i[4],f=i[5]-c):(u=i[4]+c*Math.sin(a),f=i[5]-c*Math.cos(a));const d="calc(var(--scale-factor)*",h=r.style;g(this,Oi)===g(this,Xh)?(h.left=`${(100*u/g(this,Zv)).toFixed(2)}%`,h.top=`${(100*f/g(this,Jv)).toFixed(2)}%`):(h.left=`${d}${u.toFixed(2)}px)`,h.top=`${d}${f.toFixed(2)}px)`),h.fontSize=`${d}${(g(sn,gc)*l).toFixed(2)}px)`,h.fontFamily=o,n.fontSize=l,r.setAttribute("role","presentation"),r.textContent=e.str,r.dir=e.dir,g(this,Yv)&&(r.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),a!==0&&(n.angle=a*(180/Math.PI));let m=!1;if(e.str.length>1)m=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const y=Math.abs(e.transform[0]),_=Math.abs(e.transform[3]);y!==_&&Math.max(y,_)/Math.min(y,_)>1.5&&(m=!0)}if(m&&(n.canvasWidth=s.vertical?e.height:e.width),g(this,ey).set(r,n),g(this,Vo).div=r,g(this,Vo).properties=n,M(this,Rl,bC).call(this,g(this,Vo)),n.hasText&&g(this,Oi).append(r),n.hasEOL){const y=document.createElement("br");y.setAttribute("role","presentation"),g(this,Oi).append(y)}},bC=function(e){var o;const{div:r,properties:n,ctx:i}=e,{style:a}=r;let s="";if(g(sn,gc)>1&&(s=`scale(${1/g(sn,gc)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:l}=a,{canvasWidth:c,fontSize:u}=n;M(o=sn,pa,SC).call(o,i,u*g(this,mc),l);const{width:f}=i.measureText(r.textContent);f>0&&(s=`scaleX(${c*g(this,mc)/f}) ${s}`)}n.angle!==0&&(s=`rotate(${n.angle}deg) ${s}`),s.length>0&&(a.transform=s)},pa=new WeakSet,I1=function(e=null){let r=g(this,ff).get(e||(e=""));if(!r){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),r=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),g(this,ff).set(e,r),g(this,ry).set(r,{size:0,family:""})}return r},SC=function(e,r,n){const i=g(this,ry).get(e);r===i.size&&n===i.family||(e.font=`${r}px ${n}`,i.size=r,i.family=n)},J7=function(){if(g(this,gc)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),O(this,gc,e.getBoundingClientRect().height),e.remove()},Z7=function(e,r){const n=g(this,uf).get(e);if(n)return n;const i=M(this,pa,I1).call(this,r);i.canvas.width=i.canvas.height=ki,M(this,pa,SC).call(this,i,ki,e);const a=i.measureText("");let s=a.fontBoundingBoxAscent,o=Math.abs(a.fontBoundingBoxDescent);if(s){const u=s/(s+o);return g(this,uf).set(e,u),i.canvas.width=i.canvas.height=0,u}i.strokeStyle="red",i.clearRect(0,0,ki,ki),i.strokeText("g",0,0);let l=i.getImageData(0,0,ki,ki).data;o=0;for(let u=l.length-1-3;u>=0;u-=4)if(l[u]>0){o=Math.ceil(u/4/ki);break}i.clearRect(0,0,ki,ki),i.strokeText("A",0,ki),l=i.getImageData(0,0,ki,ki).data,s=0;for(let u=0,f=l.length;u<f;u+=4)if(l[u]>0){s=ki-Math.floor(u/4/ki);break}i.canvas.width=i.canvas.height=0;const c=s?s/(s+o):POe;return g(this,uf).set(e,c),c},B(sn,pa),B(sn,uf,new Map),B(sn,ff,new Map),B(sn,ry,new WeakMap),B(sn,gc,null),B(sn,Zh,new Set);let yv=sn;class xv{static textContent(e){const r=[],n={items:r,styles:Object.create(null)};function i(a){var l;if(!a)return;let s=null;const o=a.name;if(o==="#text")s=a.value;else if(xv.shouldBuildText(o))(l=a==null?void 0:a.attributes)!=null&&l.textContent?s=a.attributes.textContent:a.value&&(s=a.value);else return;if(s!==null&&r.push({str:s}),!!a.children)for(const c of a.children)i(c)}return i(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const IOe=65536,OOe=100,MOe=5e3,NOe=oi?zIe:VIe,ROe=oi?GIe:R7,DOe=oi?WIe:HIe,FOe=oi?qIe:$7;function LOe(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new AC,{docId:r}=e,n=t.url?$Oe(t.url):null,i=t.data?BOe(t.data):null,a=t.httpHeaders||null,s=t.withCredentials===!0,o=t.password??null,l=t.range instanceof Q7?t.range:null,c=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:IOe;let u=t.worker instanceof Ph?t.worker:null;const f=t.verbosity,d=typeof t.docBaseUrl=="string"&&!DS(t.docBaseUrl)?t.docBaseUrl:null,h=typeof t.cMapUrl=="string"?t.cMapUrl:null,m=t.cMapPacked!==!1,p=t.CMapReaderFactory||ROe,y=typeof t.standardFontDataUrl=="string"?t.standardFontDataUrl:null,_=t.StandardFontDataFactory||FOe,b=t.stopAtErrors!==!0,w=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,A=t.isEvalSupported!==!1,S=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!oi,T=typeof t.isChrome=="boolean"?t.isChrome:!bi.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),E=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,P=typeof t.disableFontFace=="boolean"?t.disableFontFace:oi,k=t.fontExtraProperties===!0,D=t.enableXfa===!0,I=t.ownerDocument||globalThis.document,N=t.disableRange===!0,U=t.disableStream===!0,X=t.disableAutoFetch===!0,G=t.pdfBug===!0,Q=t.CanvasFactory||NOe,J=t.FilterFactory||DOe,ee=t.enableHWA===!0,V=l?l.length:t.length??NaN,ne=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!oi&&!P,se=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:p===R7&&_===$7&&h&&y&&pm(h,document.baseURI)&&pm(y,document.baseURI);t.canvasFactory&&tL("`canvasFactory`-instance option, please use `CanvasFactory` instead."),t.filterFactory&&tL("`filterFactory`-instance option, please use `FilterFactory` instead.");const R=null;xIe(f);const W={canvasFactory:new Q({ownerDocument:I,enableHWA:ee}),filterFactory:new J({docId:r,ownerDocument:I}),cMapReaderFactory:se?null:new p({baseUrl:h,isCompressed:m}),standardFontDataFactory:se?null:new _({baseUrl:y})};if(!u){const oe={verbosity:f,port:sl.workerPort};u=oe.port?Ph.fromPort(oe):new Ph(oe),e._worker=u}const Y={docId:r,apiVersion:"4.8.69",data:i,password:o,disableAutoFetch:X,rangeChunkSize:c,length:V,docBaseUrl:d,enableXfa:D,evaluatorOptions:{maxImageSize:w,disableFontFace:P,ignoreErrors:b,isEvalSupported:A,isOffscreenCanvasSupported:S,isChrome:T,canvasMaxAreaInBytes:E,fontExtraProperties:k,useSystemFonts:ne,cMapUrl:se?h:null,standardFontDataUrl:se?y:null}},Z={disableFontFace:P,fontExtraProperties:k,ownerDocument:I,pdfBug:G,styleElement:R,loadingParams:{disableAutoFetch:X,enableXfa:D}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const oe=u.messageHandler.sendWithPromise("GetDocRequest",Y,i?[i.buffer]:null);let de;if(l)de=new uOe(l,{disableRange:N,disableStream:U});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");let ve;oi?ve=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&pm(n)?hL:SOe:ve=pm(n)?hL:yOe,de=new ve({url:n,length:V,httpHeaders:a,withCredentials:s,rangeChunkSize:c,disableRange:N,disableStream:U})}return oe.then(ve=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const te=new wm(r,ve,u.port),fe=new HOe(te,e,de,Z,W);e._transport=fe,te.send("Ready",null)})}).catch(e._capability.reject),e}function $Oe(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(oi&&typeof t=="string")return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function BOe(t){if(oi&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return NS(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function pL(t){return typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0}var cb;const ub=class ub{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${di(ub,cb)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,r,n;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((r=this._transport)==null?void 0:r.destroy())}catch(i){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};cb=new WeakMap,B(ub,cb,0);let AC=ub;class Q7{constructor(e,r,n=!1,i=null){this.length=e,this.initialData=r,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,r){for(const n of this._rangeListeners)n(e,r)}onDataProgress(e,r){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(e,r)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const r of this._progressiveReadListeners)r(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,r){or("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class UOe{constructor(e,r){this._pdfInfo=e,this._transport=r}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return At(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:r}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(r)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var vc,Ho,$a,qd,O1;class jOe{constructor(e,r,n,i=!1){B(this,$a);B(this,vc,null);B(this,Ho,!1);this._pageIndex=e,this._pageInfo=r,this._transport=n,this._stats=i?new eL:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new eV,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:r=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:a=!1}={}){return new ix({viewBox:this.view,scale:e,rotation:r,offsetX:n,offsetY:i,dontFlip:a})}getAnnotations({intent:e="display"}={}){const{renderingIntent:r}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,r)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return At(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:r,intent:n="display",annotationMode:i=tc.ENABLE,transform:a=null,background:s=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:u=null,isEditing:f=!1}){var A,S;(A=this._stats)==null||A.time("Overall");const d=this._transport.getRenderingIntent(n,i,u,f),{renderingIntent:h,cacheKey:m}=d;O(this,Ho,!1),M(this,$a,O1).call(this),o||(o=this._transport.getOptionalContentConfig(h));let p=this._intentStates.get(m);p||(p=Object.create(null),this._intentStates.set(m,p)),p.streamReaderCancelTimeout&&(clearTimeout(p.streamReaderCancelTimeout),p.streamReaderCancelTimeout=null);const y=!!(h&na.PRINT);p.displayReadyCapability||(p.displayReadyCapability=Promise.withResolvers(),p.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(S=this._stats)==null||S.time("Page Request"),this._pumpOperatorList(d));const _=T=>{var E;p.renderTasks.delete(b),(this._maybeCleanupAfterRender||y)&&O(this,Ho,!0),M(this,$a,qd).call(this,!y),T?(b.capability.reject(T),this._abortOperatorList({intentState:p,reason:T instanceof Error?T:new Error(T)})):b.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(E=globalThis.Stats)!=null&&E.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},b=new EC({callback:_,params:{canvasContext:e,viewport:r,transform:a,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:p.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:c});(p.renderTasks||(p.renderTasks=new Set)).add(b);const w=b.task;return Promise.all([p.displayReadyCapability.promise,o]).then(([T,E])=>{var P;if(this.destroyed){_();return}if((P=this._stats)==null||P.time("Rendering"),!(E.renderingIntent&h))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");b.initializeGraphics({transparency:T,optionalContentConfig:E}),b.operatorListChanged()}).catch(_),w}getOperatorList({intent:e="display",annotationMode:r=tc.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){var c;function a(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const s=this._transport.getRenderingIntent(e,r,n,i,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=a,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:r=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:r===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>xv.textContent(n));const r=this.streamTextContent(e);return new Promise(function(n,i){function a(){s.read().then(function({value:l,done:c}){if(c){n(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),a()},i)}const s=r.getReader(),o={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const r of this._intentStates.values())if(this._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),!r.opListReadCapability)for(const n of r.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),O(this,Ho,!1),M(this,$a,O1).call(this),Promise.all(e)}cleanup(e=!1){O(this,Ho,!0);const r=M(this,$a,qd).call(this,!1);return e&&r&&this._stats&&(this._stats=new eL),r}_startRenderPage(e,r){var i,a;const n=this._intentStates.get(r);n&&((i=this._stats)==null||i.timeEnd("Page Request"),(a=n.displayReadyCapability)==null||a.resolve(e))}_renderPageChunk(e,r){for(let n=0,i=e.length;n<i;n++)r.operatorList.fnArray.push(e.fnArray[n]),r.operatorList.argsArray.push(e.argsArray[n]);r.operatorList.lastChunk=e.lastChunk,r.operatorList.separateAnnots=e.separateAnnots;for(const n of r.renderTasks)n.operatorListChanged();e.lastChunk&&M(this,$a,qd).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:r,annotationStorageSerializable:n,modifiedIds:i}){const{map:a,transfer:s}=n,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:r,annotationStorage:a,modifiedIds:i},s).getReader(),c=this._intentStates.get(r);c.streamReader=l;const u=()=>{l.read().then(({value:f,done:d})=>{if(d){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(f,c),u())},f=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const d of c.renderTasks)d.operatorListChanged();M(this,$a,qd).call(this,!0)}if(c.displayReadyCapability)c.displayReadyCapability.reject(f);else if(c.opListReadCapability)c.opListReadCapability.reject(f);else throw f}})};u()}_abortOperatorList({intentState:e,reason:r,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(r instanceof vO){let i=OOe;r.extraDelay>0&&r.extraDelay<1e3&&(i+=r.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:r,force:!0})},i);return}}if(e.streamReader.cancel(new Id(r.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,a]of this._intentStates)if(a===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}vc=new WeakMap,Ho=new WeakMap,$a=new WeakSet,qd=function(e=!1){if(M(this,$a,O1).call(this),!g(this,Ho)||this.destroyed)return!1;if(e)return O(this,vc,setTimeout(()=>{O(this,vc,null),M(this,$a,qd).call(this,!1)},MOe)),!1;for(const{renderTasks:r,operatorList:n}of this._intentStates.values())if(r.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),O(this,Ho,!1),!0},O1=function(){g(this,vc)&&(clearTimeout(g(this,vc)),O(this,vc,null))};var Wo,fb;class VOe{constructor(){B(this,Wo,new Map);B(this,fb,Promise.resolve())}postMessage(e,r){const n={data:structuredClone(e,r?{transfer:r}:null)};g(this,fb).then(()=>{for(const[i]of g(this,Wo))i.call(this,n)})}addEventListener(e,r,n=null){let i=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:a}=n;if(a.aborted){gt("LoopbackPort - cannot use an `aborted` signal.");return}const s=()=>this.removeEventListener(e,r);i=()=>a.removeEventListener("abort",s),a.addEventListener("abort",s)}g(this,Wo).set(r,i)}removeEventListener(e,r){const n=g(this,Wo).get(r);n==null||n(),g(this,Wo).delete(r)}terminate(){for(const[,e]of g(this,Wo))e==null||e();g(this,Wo).clear()}}Wo=new WeakMap,fb=new WeakMap;var db,df,hf,Qh,M1,e0,N1;const hr=class hr{constructor({name:e=null,port:r=null,verbosity:n=_Ie()}={}){B(this,Qh);var i;if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,r){if((i=g(hr,hf))!=null&&i.has(r))throw new Error("Cannot use more than one PDFWorker per port.");(g(hr,hf)||O(hr,hf,new WeakMap)).set(r,this),this._initializeFromPort(r);return}this._initialize()}get promise(){return oi?Promise.all([Qc.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new wm("main","worker",e),this._messageHandler.on("ready",function(){}),M(this,Qh,M1).call(this)}_initialize(){if(g(hr,df)||g(hr,e0,N1)){this._setupFakeWorker();return}let{workerSrc:e}=hr;try{hr._isSameOrigin(window.location.href,e)||(e=hr._createCDNWrapper(new URL(e,window.location).href));const r=new Worker(e,{type:"module"}),n=new wm("main","worker",r),i=()=>{a.abort(),n.destroy(),r.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},a=new AbortController;r.addEventListener("error",()=>{this._webWorker||i()},{signal:a.signal}),n.on("test",o=>{if(a.abort(),this.destroyed||!o){i();return}this._messageHandler=n,this._port=r,this._webWorker=r,M(this,Qh,M1).call(this)}),n.on("ready",o=>{if(a.abort(),this.destroyed){i();return}try{s()}catch{this._setupFakeWorker()}});const s=()=>{const o=new Uint8Array;n.send("test",o,[o.buffer])};s();return}catch{OS("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){g(hr,df)||(gt("Setting up fake worker."),O(hr,df,!0)),hr._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const r=new VOe;this._port=r;const n=`fake${di(hr,db)._++}`,i=new wm(n+"_worker",n,r);e.setup(i,r),this._messageHandler=new wm(n,n+"_worker",r),M(this,Qh,M1).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=g(hr,hf))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var n;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const r=(n=g(this,hf))==null?void 0:n.get(e.port);if(r){if(r._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return r}return new hr(e)}static get workerSrc(){if(sl.workerSrc)return sl.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return At(this,"_setupFakeWorkerGlobal",(async()=>g(this,e0,N1)?g(this,e0,N1):(await import(this.workerSrc)).WorkerMessageHandler)())}};db=new WeakMap,df=new WeakMap,hf=new WeakMap,Qh=new WeakSet,M1=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},e0=new WeakSet,N1=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},B(hr,e0),B(hr,db,0),B(hr,df,!1),B(hr,hf),oi&&(O(hr,df,!0),sl.workerSrc||(sl.workerSrc="./pdf.worker.mjs")),hr._isSameOrigin=(e,r)=>{let n;try{if(n=new URL(e),!n.origin||n.origin==="null")return!1}catch{return!1}const i=new URL(r,n);return n.origin===i.origin},hr._createCDNWrapper=e=>{const r=`await import("${e}");`;return URL.createObjectURL(new Blob([r],{type:"text/javascript"}))};let Ph=hr;var zo,ro,t0,r0,no,pf,bm;class HOe{constructor(e,r,n,i,a){B(this,pf);B(this,zo,new Map);B(this,ro,new Map);B(this,t0,new Map);B(this,r0,new Map);B(this,no,null);this.messageHandler=e,this.loadingTask=r,this.commonObjs=new eV,this.fontLoader=new UIe({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return At(this,"annotationStorage",new wO)}getRenderingIntent(e,r=tc.ENABLE,n=null,i=!1,a=!1){let s=na.DISPLAY,o=hC;switch(e){case"any":s=na.ANY;break;case"display":break;case"print":s=na.PRINT;break;default:gt(`getRenderingIntent - invalid intent: ${e}`)}const l=s&na.PRINT&&n instanceof O7?n:this.annotationStorage;switch(r){case tc.DISABLE:s+=na.ANNOTATIONS_DISABLE;break;case tc.ENABLE:break;case tc.ENABLE_FORMS:s+=na.ANNOTATIONS_FORMS;break;case tc.ENABLE_STORAGE:s+=na.ANNOTATIONS_STORAGE,o=l.serializable;break;default:gt(`getRenderingIntent - invalid annotationMode: ${r}`)}i&&(s+=na.IS_EDITING),a&&(s+=na.OPLIST);const{ids:c,hash:u}=l.modifiedIds,f=[s,o.hash,u];return{renderingIntent:s,cacheKey:f.join("_"),annotationStorageSerializable:o,modifiedIds:c}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=g(this,no))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of g(this,ro).values())e.push(i._destroy());g(this,ro).clear(),g(this,t0).clear(),g(this,r0).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const r=this.messageHandler.sendWithPromise("Terminate",null);return e.push(r),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),g(this,zo).clear(),this.filterFactory.destroy(),yv.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Id("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:r}=this;e.on("GetReader",(n,i)=>{dn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},i.onPull=()=>{this._fullReader.read().then(function({value:a,done:s}){if(s){i.close();return}dn(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{this._fullReader.cancel(a),i.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("ReaderHeadersReady",async n=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:a,contentLength:s}=this._fullReader;return(!i||!a)&&(this._lastProgress&&((o=r.onProgress)==null||o.call(r,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=r.onProgress)==null||c.call(r,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:a,contentLength:s}}),e.on("GetRangeReader",(n,i)=>{dn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(n.begin,n.end);if(!a){i.close();return}i.onPull=()=>{a.read().then(function({value:s,done:o}){if(o){i.close();return}dn(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{a.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,r._capability.resolve(new UOe(n,this))}),e.on("DocException",function(n){let i;switch(n.name){case"PasswordException":i=new z2(n.message,n.code);break;case"InvalidPDFException":i=new n7(n.message);break;case"MissingPDFException":i=new Pd(n.message);break;case"UnexpectedResponseException":i=new MS(n.message,n.status);break;case"UnknownErrorException":i=new G2(n.message,n.details);break;default:or("DocException - expected a valid Error.")}r._capability.reject(i)}),e.on("PasswordRequest",n=>{if(O(this,no,Promise.withResolvers()),r.onPassword){const i=a=>{a instanceof Error?g(this,no).reject(a):g(this,no).resolve({password:a})};try{r.onPassword(i,n.code)}catch(a){g(this,no).reject(a)}}else g(this,no).reject(new z2(n.message,n.code));return g(this,no).promise}),e.on("DataLoaded",n=>{var i;(i=r.onProgress)==null||i.call(r,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;g(this,ro).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,i,a])=>{var s;if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":const{disableFontFace:o,fontExtraProperties:l,pdfBug:c}=this._params;if("error"in a){const h=a.error;gt(`Error during font loading: ${h}`),this.commonObjs.resolve(n,h);break}const u=c&&((s=globalThis.FontInspector)!=null&&s.enabled)?(h,m)=>globalThis.FontInspector.fontAdded(h,m):null,f=new jIe(a,{disableFontFace:o,inspectFont:u});this.fontLoader.bind(f).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!l&&f.data&&(f.data=null),this.commonObjs.resolve(n,f)});break;case"CopyLocalImage":const{imageRef:d}=a;dn(d,"The imageRef must be defined.");for(const h of g(this,ro).values())for(const[,m]of h.objs)if((m==null?void 0:m.ref)===d)return m.dataLen?(this.commonObjs.resolve(n,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,a);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([n,i,a,s])=>{var l;if(this.destroyed)return;const o=g(this,ro).get(i);if(!o.objs.has(n)){if(o._intentStates.size===0){(l=s==null?void 0:s.bitmap)==null||l.close();return}switch(a){case"Image":o.objs.resolve(n,s),(s==null?void 0:s.dataLen)>mIe&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(n,s);break;default:throw new Error(`Got unknown object type ${a}`)}}}),e.on("DocProgress",n=>{var i;this.destroyed||(i=r.onProgress)==null||i.call(r,{loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),e.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&gt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:r}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},r).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const r=e-1,n=g(this,t0).get(r);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:r}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&g(this,r0).set(a.refStr,e);const s=new jOe(r,a,this,this._params.pdfBug);return g(this,ro).set(r,s),s});return g(this,t0).set(r,i),i}getPageIndex(e){return pL(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:r})}getFieldObjects(){return M(this,pf,bm).call(this,"GetFieldObjects")}hasJSActions(){return M(this,pf,bm).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return M(this,pf,bm).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return M(this,pf,bm).call(this,"GetOptionalContentConfig").then(r=>new cOe(r,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",r=g(this,zo).get(e);if(r)return r;const n=this.messageHandler.sendWithPromise(e,null).then(i=>{var a,s;return{info:i[0],metadata:i[1]?new oOe(i[1]):null,contentDispositionFilename:((a=this._fullReader)==null?void 0:a.filename)??null,contentLength:((s=this._fullReader)==null?void 0:s.contentLength)??null}});return g(this,zo).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const r of g(this,ro).values())if(!r.cleanup())throw new Error(`startCleanup: Page ${r.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),g(this,zo).clear(),this.filterFactory.destroy(!0),yv.cleanup()}}cachedPageNumber(e){if(!pL(e))return null;const r=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return g(this,r0).get(r)??null}}zo=new WeakMap,ro=new WeakMap,t0=new WeakMap,r0=new WeakMap,no=new WeakMap,pf=new WeakSet,bm=function(e,r=null){const n=g(this,zo).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,r);return g(this,zo).set(e,i),i};const i1=Symbol("INITIAL_DATA");var hs,ny,TC;class eV{constructor(){B(this,ny);B(this,hs,Object.create(null))}get(e,r=null){if(r){const i=M(this,ny,TC).call(this,e);return i.promise.then(()=>r(i.data)),null}const n=g(this,hs)[e];if(!n||n.data===i1)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const r=g(this,hs)[e];return!!r&&r.data!==i1}resolve(e,r=null){const n=M(this,ny,TC).call(this,e);n.data=r,n.resolve()}clear(){var e;for(const r in g(this,hs)){const{data:n}=g(this,hs)[r];(e=n==null?void 0:n.bitmap)==null||e.close()}O(this,hs,Object.create(null))}*[Symbol.iterator](){for(const e in g(this,hs)){const{data:r}=g(this,hs)[e];r!==i1&&(yield[e,r])}}}hs=new WeakMap,ny=new WeakSet,TC=function(e){var r;return(r=g(this,hs))[e]||(r[e]={...Promise.withResolvers(),data:i1})};var yc;class WOe{constructor(e){B(this,yc,null);O(this,yc,e),this.onContinue=null}get promise(){return g(this,yc).capability.promise}cancel(e=0){g(this,yc).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=g(this,yc).operatorList;if(!e)return!1;const{annotationCanvasMap:r}=g(this,yc);return e.form||e.canvas&&(r==null?void 0:r.size)>0}}yc=new WeakMap;var xc,mf;const Ou=class Ou{constructor({callback:e,params:r,objs:n,commonObjs:i,annotationCanvasMap:a,operatorList:s,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:f=!1,pageColors:d=null}){B(this,xc,null);this.callback=e,this.params=r,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=f,this.pageColors=d,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new WOe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:r}){var o,l;if(this.cancelled)return;if(this._canvas){if(g(Ou,mf).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");g(Ou,mf).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:i,transform:a,background:s}=this.params;this.gfx=new kh(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:r},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:i,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,r=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),g(this,xc)&&(window.cancelAnimationFrame(g(this,xc)),O(this,xc,null)),g(Ou,mf).delete(this._canvas),this.callback(e||new vO(`Rendering cancelled, page ${this._pageIndex+1}`,r))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?O(this,xc,window.requestAnimationFrame(()=>{O(this,xc,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),g(Ou,mf).delete(this._canvas),this.callback())))}};xc=new WeakMap,mf=new WeakMap,B(Ou,mf,new WeakSet);let EC=Ou;const zOe="4.8.69",GOe="3634dab10";function mL(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function im(t){return Math.max(0,Math.min(255,255*t))}class gL{static CMYK_G([e,r,n,i]){return["G",1-Math.min(1,.3*e+.59*n+.11*r+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=im(e),[e,e,e]}static G_HTML([e]){const r=mL(e);return`#${r}${r}${r}`}static RGB_G([e,r,n]){return["G",.3*e+.59*r+.11*n]}static RGB_rgb(e){return e.map(im)}static RGB_HTML(e){return`#${e.map(mL).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,r,n,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,n+i),1-Math.min(1,r+i)]}static CMYK_rgb([e,r,n,i]){return[im(1-Math.min(1,e+i)),im(1-Math.min(1,n+i)),im(1-Math.min(1,r+i))]}static CMYK_HTML(e){const r=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(r)}static RGB_CMYK([e,r,n]){const i=1-e,a=1-r,s=1-n,o=Math.min(i,a,s);return["CMYK",i,a,s,o]}}class qOe{create(e,r,n=!1){if(e<=0||r<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${r}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${r}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){or("Abstract method `_createSVG` called.")}}class EO extends qOe{_createSVG(e){return document.createElementNS(Oo,e)}}class tV{static setupStorage(e,r,n,i,a){const s=i.getValue(r,{value:null});switch(n.name){case"textarea":if(s.value!==null&&(e.textContent=s.value),a==="print")break;e.addEventListener("input",o=>{i.setValue(r,{value:o.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(s.value===n.attributes.xfaOn?e.setAttribute("checked",!0):s.value===n.attributes.xfaOff&&e.removeAttribute("checked"),a==="print")break;e.addEventListener("change",o=>{i.setValue(r,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&e.setAttribute("value",s.value),a==="print")break;e.addEventListener("input",o=>{i.setValue(r,{value:o.target.value})})}break;case"select":if(s.value!==null){e.setAttribute("value",s.value);for(const o of n.children)o.attributes.value===s.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(r,{value:c})});break}}static setAttributes({html:e,element:r,storage:n=null,intent:i,linkService:a}){const{attributes:s}=r,o=e instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${i}`);for(const[l,c]of Object.entries(s))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}o&&a.addLinkAttributes(e,s.href,s.newWindow),n&&s.dataId&&this.setupStorage(e,s.dataId,r,n)}static render(e){var f,d;const r=e.annotationStorage,n=e.linkService,i=e.xfaHtml,a=e.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:a,linkService:n});const o=a!=="richText",l=e.div;if(l.append(s),e.viewport){const h=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=h}o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const h=document.createTextNode(i.value);s.append(h),o&&xv.shouldBuildText(i.name)&&c.push(h)}return{textDivs:c}}const u=[[i,-1,s]];for(;u.length>0;){const[h,m,p]=u.at(-1);if(m+1===h.children.length){u.pop();continue}const y=h.children[++u.at(-1)[1]];if(y===null)continue;const{name:_}=y;if(_==="#text"){const w=document.createTextNode(y.value);c.push(w),p.append(w);continue}const b=(f=y==null?void 0:y.attributes)!=null&&f.xmlns?document.createElementNS(y.attributes.xmlns,_):document.createElement(_);if(p.append(b),y.attributes&&this.setAttributes({html:b,element:y,storage:r,intent:a,linkService:n}),((d=y.children)==null?void 0:d.length)>0)u.push([y,-1,b]);else if(y.value){const w=document.createTextNode(y.value);o&&xv.shouldBuildText(_)&&c.push(w),b.append(w)}}for(const h of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))h.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const r=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=r,e.div.hidden=!1}}const sx=1e3,XOe=9,fd=new WeakSet;function wl(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class KOe{static create(e){switch(e.data.annotationType){case an.LINK:return new rV(e);case an.TEXT:return new YOe(e);case an.WIDGET:switch(e.data.fieldType){case"Tx":return new JOe(e);case"Btn":return e.data.radioButton?new aV(e):e.data.checkBox?new QOe(e):new eMe(e);case"Ch":return new tMe(e);case"Sig":return new ZOe(e)}return new Od(e);case an.POPUP:return new kC(e);case an.FREETEXT:return new uV(e);case an.LINE:return new nMe(e);case an.SQUARE:return new iMe(e);case an.CIRCLE:return new aMe(e);case an.POLYLINE:return new fV(e);case an.CARET:return new oMe(e);case an.INK:return new CO(e);case an.POLYGON:return new sMe(e);case an.HIGHLIGHT:return new dV(e);case an.UNDERLINE:return new lMe(e);case an.SQUIGGLY:return new cMe(e);case an.STRIKEOUT:return new uMe(e);case an.STAMP:return new hV(e);case an.FILEATTACHMENT:return new fMe(e);default:return new Hr(e)}}}var gf,n0,i0,iy,CC;const RO=class RO{constructor(e,{isRenderable:r=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){B(this,iy);B(this,gf,null);B(this,n0,!1);B(this,i0,null);this.isRenderable=r,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,r&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:r,richText:n}){return!!(e!=null&&e.str||r!=null&&r.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return RO._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;g(this,gf)||O(this,gf,{rect:this.data.rect.slice(0)});const{rect:r}=e;r&&M(this,iy,CC).call(this,r),(n=g(this,i0))==null||n.popup.updateEdited(e)}resetEdited(){var e;g(this,gf)&&(M(this,iy,CC).call(this,g(this,gf).rect),(e=g(this,i0))==null||e.popup.resetEdited(),O(this,gf,null))}_createContainer(e){const{data:r,parent:{page:n,viewport:i}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",r.id),this instanceof Od||(a.tabIndex=sx);const{style:s}=a;if(s.zIndex=this.parent.zIndex++,r.alternativeText&&(a.title=r.alternativeText),r.noRotate&&a.classList.add("norotate"),!r.rect||this instanceof kC){const{rotation:p}=r;return!r.hasOwnCanvas&&p!==0&&this.setRotation(p,a),a}const{width:o,height:l}=wl(r.rect);if(!e&&r.borderStyle.width>0){s.borderWidth=`${r.borderStyle.width}px`;const p=r.borderStyle.horizontalCornerRadius,y=r.borderStyle.verticalCornerRadius;if(p>0||y>0){const b=`calc(${p}px * var(--scale-factor)) / calc(${y}px * var(--scale-factor))`;s.borderRadius=b}else if(this instanceof aV){const b=`calc(${o}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;s.borderRadius=b}switch(r.borderStyle.style){case rm.SOLID:s.borderStyle="solid";break;case rm.DASHED:s.borderStyle="dashed";break;case rm.BEVELED:gt("Unimplemented border style: beveled");break;case rm.INSET:gt("Unimplemented border style: inset");break;case rm.UNDERLINE:s.borderBottomStyle="solid";break}const _=r.borderColor||null;_?(O(this,n0,!0),s.borderColor=ze.makeHexColor(_[0]|0,_[1]|0,_[2]|0)):s.borderWidth=0}const c=ze.normalizeRect([r.rect[0],n.view[3]-r.rect[1]+n.view[1],r.rect[2],n.view[3]-r.rect[3]+n.view[1]]),{pageWidth:u,pageHeight:f,pageX:d,pageY:h}=i.rawDims;s.left=`${100*(c[0]-d)/u}%`,s.top=`${100*(c[1]-h)/f}%`;const{rotation:m}=r;return r.hasOwnCanvas||m===0?(s.width=`${100*o/u}%`,s.height=`${100*l/f}%`):this.setRotation(m,a),a}setRotation(e,r=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims,{width:a,height:s}=wl(this.data.rect);let o,l;e%180===0?(o=100*a/n,l=100*s/i):(o=100*s/n,l=100*a/i),r.style.width=`${o}%`,r.style.height=`${l}%`,r.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(r,n,i)=>{const a=i.detail[r],s=a[0],o=a.slice(1);i.target.style[n]=gL[`${s}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[n]:gL[`${s}_rgb`](o)})};return At(this,"_commonActions",{display:r=>{const{display:n}=r.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:r=>{this.annotationStorage.setValue(this.data.id,{noPrint:!r.detail.print})},hidden:r=>{const{hidden:n}=r.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:r=>{setTimeout(()=>r.target.focus({preventScroll:!1}),0)},userName:r=>{r.target.title=r.detail.userName},readonly:r=>{r.target.disabled=r.detail.readonly},required:r=>{this._setRequired(r.target,r.detail.required)},bgColor:r=>{e("bgColor","backgroundColor",r)},fillColor:r=>{e("fillColor","backgroundColor",r)},fgColor:r=>{e("fgColor","color",r)},textColor:r=>{e("textColor","color",r)},borderColor:r=>{e("borderColor","borderColor",r)},strokeColor:r=>{e("strokeColor","borderColor",r)},rotation:r=>{const n=r.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,r){const n=this._commonActions;for(const i of Object.keys(r.detail)){const a=e[i]||n[i];a==null||a(r)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const r=this.annotationStorage.getRawValue(this.data.id);if(!r)return;const n=this._commonActions;for(const[i,a]of Object.entries(r)){const s=n[i];if(s){const o={detail:{[i]:a},target:e};s(o),delete r[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[r,n,i,a]=this.data.rect.map(p=>Math.fround(p));if(e.length===8){const[p,y,_,b]=e.subarray(2,6);if(i===p&&a===y&&r===_&&n===b)return}const{style:s}=this.container;let o;if(g(this,n0)){const{borderColor:p,borderWidth:y}=s;s.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${p}" stroke-width="${y}">`],this.container.classList.add("hasBorder")}const l=i-r,c=a-n,{svgFactory:u}=this,f=u.createElement("svg");f.classList.add("quadrilateralsContainer"),f.setAttribute("width",0),f.setAttribute("height",0);const d=u.createElement("defs");f.append(d);const h=u.createElement("clipPath"),m=`clippath_${this.data.id}`;h.setAttribute("id",m),h.setAttribute("clipPathUnits","objectBoundingBox"),d.append(h);for(let p=2,y=e.length;p<y;p+=8){const _=e[p],b=e[p+1],w=e[p+2],A=e[p+3],S=u.createElement("rect"),T=(w-r)/l,E=(a-b)/c,P=(_-w)/l,k=(b-A)/c;S.setAttribute("x",T),S.setAttribute("y",E),S.setAttribute("width",P),S.setAttribute("height",k),h.append(S),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${T}" y="${E}" width="${P}" height="${k}"/>`)}g(this,n0)&&(o.push("</g></svg>')"),s.backgroundImage=o.join("")),this.container.append(f),this.container.style.clipPath=`url(#${m})`}_createPopup(){const{data:e}=this,r=O(this,i0,new kC({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(r.render())}render(){or("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,r=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:a,id:s,exportValues:o}of i){if(a===-1||s===r)continue;const l=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${s}"]`);if(c&&!fd.has(c)){gt(`_getElementsByName - element not allowed: ${s}`);continue}n.push({id:s,exportValue:l,domElement:c})}return n}for(const i of document.getElementsByName(e)){const{exportValue:a}=i,s=i.getAttribute("data-element-id");s!==r&&fd.has(i)&&n.push({id:s,exportValue:a,domElement:i})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const r of e)r.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:r}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:r})})}};gf=new WeakMap,n0=new WeakMap,i0=new WeakMap,iy=new WeakSet,CC=function(e){const{container:{style:r},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:s,pageX:o,pageY:l}}}}=this;n==null||n.splice(0,4,...e);const{width:c,height:u}=wl(e);r.left=`${100*(e[0]-o)/a}%`,r.top=`${100*(s-e[3]+l)/s}%`,i===0?(r.width=`${100*c/a}%`,r.height=`${100*u/s}%`):this.setRotation(i)};let Hr=RO;var la,Tu,nV,iV;class rV extends Hr{constructor(r,n=null){super(r,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});B(this,la);this.isTooltipOnly=r.data.isTooltipOnly}render(){const{data:r,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",r.id);let a=!1;return r.url?(n.addLinkAttributes(i,r.url,r.newWindow),a=!0):r.action?(this._bindNamedAction(i,r.action),a=!0):r.attachment?(M(this,la,nV).call(this,i,r.attachment,r.attachmentDest),a=!0):r.setOCGState?(M(this,la,iV).call(this,i,r.setOCGState),a=!0):r.dest?(this._bindLink(i,r.dest),a=!0):(r.actions&&(r.actions.Action||r.actions["Mouse Up"]||r.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,r),a=!0),r.resetForm?(this._bindResetFormAction(i,r.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(i,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(i),this.container}_bindLink(r,n){r.href=this.linkService.getDestinationHash(n),r.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&M(this,la,Tu).call(this)}_bindNamedAction(r,n){r.href=this.linkService.getAnchorUrl(""),r.onclick=()=>(this.linkService.executeNamedAction(n),!1),M(this,la,Tu).call(this)}_bindJSAction(r,n){r.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(n.actions)){const s=i.get(a);s&&(r[s]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:a}}),!1})}r.onclick||(r.onclick=()=>!1),M(this,la,Tu).call(this)}_bindResetFormAction(r,n){const i=r.onclick;if(i||(r.href=this.linkService.getAnchorUrl("")),M(this,la,Tu).call(this),!this._fieldObjects){gt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(r.onclick=()=>!1);return}r.onclick=()=>{var f;i==null||i();const{fields:a,refs:s,include:o}=n,l=[];if(a.length!==0||s.length!==0){const d=new Set(s);for(const h of a){const m=this._fieldObjects[h]||[];for(const{id:p}of m)d.add(p)}for(const h of Object.values(this._fieldObjects))for(const m of h)d.has(m.id)===o&&l.push(m)}else for(const d of Object.values(this._fieldObjects))l.push(...d);const c=this.annotationStorage,u=[];for(const d of l){const{id:h}=d;switch(u.push(h),d.type){case"text":{const p=d.defaultValue||"";c.setValue(h,{value:p});break}case"checkbox":case"radiobutton":{const p=d.defaultValue===d.exportValues;c.setValue(h,{value:p});break}case"combobox":case"listbox":{const p=d.defaultValue||"";c.setValue(h,{value:p});break}default:continue}const m=document.querySelector(`[data-element-id="${h}"]`);if(m){if(!fd.has(m)){gt(`_bindResetFormAction - element not allowed: ${h}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}la=new WeakSet,Tu=function(){this.container.setAttribute("data-internal-link","")},nV=function(r,n,i=null){r.href=this.linkService.getAnchorUrl(""),n.description&&(r.title=n.description),r.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(n.content,n.filename,i),!1},M(this,la,Tu).call(this)},iV=function(r,n){r.href=this.linkService.getAnchorUrl(""),r.onclick=()=>(this.linkService.executeSetOCGState(n),!1),M(this,la,Tu).call(this)};class YOe extends Hr{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Od extends Hr{render(){return this.container}showElementAndHideCanvas(e){var r;this.data.hasOwnCanvas&&(((r=e.previousSibling)==null?void 0:r.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return bi.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,r,n,i,a){n.includes("mouse")?e.addEventListener(n,s=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):e.addEventListener(n,s=>{var o;if(n==="blur"){if(!r.focused||!s.relatedTarget)return;r.focused=!1}else if(n==="focus"){if(r.focused)return;r.focused=!0}a&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(s)}}))})}_setEventListeners(e,r,n,i){var a,s,o;for(const[l,c]of n)(c==="Action"||(a=this.data.actions)!=null&&a[c])&&((c==="Focus"||c==="Blur")&&(r||(r={focused:!1})),this._setEventListener(e,r,l,c,i),c==="Focus"&&!((s=this.data.actions)!=null&&s.Blur)?this._setEventListener(e,r,"blur","Blur",null):c==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,r,"focus","Focus",null))}_setBackgroundColor(e){const r=this.data.backgroundColor||null;e.style.backgroundColor=r===null?"transparent":ze.makeHexColor(r[0],r[1],r[2])}_setTextStyle(e){const r=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||XOe,a=e.style;let s;const o=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),u=Math.round(c/(iT*i))||1,f=c/u;s=Math.min(i,l(f/iT))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);s=Math.min(i,l(c/iT))}a.fontSize=`calc(${s}px * var(--scale-factor))`,a.color=ze.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(a.textAlign=r[this.data.textAlignment])}_setRequired(e,r){r?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",r)}}class JOe extends Od{constructor(e){const r=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:r})}setPropertyOnSiblings(e,r,n,i){const a=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[r]=n),a.setValue(s.id,{[i]:n})}render(){var i,a;const e=this.annotationStorage,r=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const s=e.getValue(r,{value:this.data.fieldValue});let o=s.value||"";const l=e.getValue(r,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let c=s.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=c??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",c??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),fd.add(n),n.setAttribute("data-element-id",r),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=sx,this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",d=>{e.setValue(r,{value:d.target.value}),this.setPropertyOnSiblings(n,"value",d.target.value,"value"),u.formattedValue=null}),n.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue??"";n.value=u.userValue=h,u.formattedValue=null});let f=d=>{const{formattedValue:h}=u;h!=null&&(d.target.value=h),d.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",h=>{var p;if(u.focused)return;const{target:m}=h;u.userValue&&(m.value=u.userValue),u.lastCommittedValue=m.value,u.commitKey=1,(p=this.data.actions)!=null&&p.Focus||(u.focused=!0)}),n.addEventListener("updatefromsandbox",h=>{this.showElementAndHideCanvas(h.target);const m={value(p){u.userValue=p.detail.value??"",e.setValue(r,{value:u.userValue.toString()}),p.target.value=u.userValue},formattedValue(p){const{formattedValue:y}=p.detail;u.formattedValue=y,y!=null&&p.target!==document.activeElement&&(p.target.value=y),e.setValue(r,{formattedValue:y})},selRange(p){p.target.setSelectionRange(...p.detail.selRange)},charLimit:p=>{var w;const{charLimit:y}=p.detail,{target:_}=p;if(y===0){_.removeAttribute("maxLength");return}_.setAttribute("maxLength",y);let b=u.userValue;!b||b.length<=y||(b=b.slice(0,y),_.value=u.userValue=b,e.setValue(r,{value:b}),(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:b,willCommit:!0,commitKey:1,selStart:_.selectionStart,selEnd:_.selectionEnd}}))}};this._dispatchEventFromSandbox(m,h)}),n.addEventListener("keydown",h=>{var y;u.commitKey=1;let m=-1;if(h.key==="Escape"?m=0:h.key==="Enter"&&!this.data.multiLine?m=2:h.key==="Tab"&&(u.commitKey=3),m===-1)return;const{value:p}=h.target;u.lastCommittedValue!==p&&(u.lastCommittedValue=p,u.userValue=p,(y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:p,willCommit:!0,commitKey:m,selStart:h.target.selectionStart,selEnd:h.target.selectionEnd}}))});const d=f;f=null,n.addEventListener("blur",h=>{var p,y;if(!u.focused||!h.relatedTarget)return;(p=this.data.actions)!=null&&p.Blur||(u.focused=!1);const{value:m}=h.target;u.userValue=m,u.lastCommittedValue!==m&&((y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:m,willCommit:!0,commitKey:u.commitKey,selStart:h.target.selectionStart,selEnd:h.target.selectionEnd}})),d(h)}),(a=this.data.actions)!=null&&a.Keystroke&&n.addEventListener("beforeinput",h=>{var S;u.lastCommittedValue=null;const{data:m,target:p}=h,{value:y,selectionStart:_,selectionEnd:b}=p;let w=_,A=b;switch(h.inputType){case"deleteWordBackward":{const T=y.substring(0,_).match(/\w*[^\w]*$/);T&&(w-=T[0].length);break}case"deleteWordForward":{const T=y.substring(_).match(/^[^\w]*\w*/);T&&(A+=T[0].length);break}case"deleteContentBackward":_===b&&(w-=1);break;case"deleteContentForward":_===b&&(A+=1);break}h.preventDefault(),(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:y,change:m||"",willCommit:!1,selStart:w,selEnd:A}})}),this._setEventListeners(n,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.value)}if(f&&n.addEventListener("blur",f),this.data.comb){const h=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${h}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class ZOe extends Od{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class QOe extends Od{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,r=this.data,n=r.id;let i=e.getValue(n,{value:r.exportValue===r.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return fd.add(a),a.setAttribute("data-element-id",n),a.disabled=r.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=r.fieldName,i&&a.setAttribute("checked",!0),a.setAttribute("exportValue",r.exportValue),a.tabIndex=sx,a.addEventListener("change",s=>{const{name:o,checked:l}=s.target;for(const c of this._getElementsByName(o,n)){const u=l&&c.exportValue===r.exportValue;c.domElement&&(c.domElement.checked=u),e.setValue(c.id,{value:u})}e.setValue(n,{value:l})}),a.addEventListener("resetform",s=>{const o=r.defaultFieldValue||"Off";s.target.checked=o===r.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",s=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(n,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,s)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class aV extends Od{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,r=this.data,n=r.id;let i=e.getValue(n,{value:r.fieldValue===r.buttonValue}).value;if(typeof i=="string"&&(i=i!==r.buttonValue,e.setValue(n,{value:i})),i)for(const s of this._getElementsByName(r.fieldName,n))e.setValue(s.id,{value:!1});const a=document.createElement("input");if(fd.add(a),a.setAttribute("data-element-id",n),a.disabled=r.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=r.fieldName,i&&a.setAttribute("checked",!0),a.tabIndex=sx,a.addEventListener("change",s=>{const{name:o,checked:l}=s.target;for(const c of this._getElementsByName(o,n))e.setValue(c.id,{value:!1});e.setValue(n,{value:l})}),a.addEventListener("resetform",s=>{const o=r.defaultFieldValue;s.target.checked=o!=null&&o===r.buttonValue}),this.enableScripting&&this.hasJSActions){const s=r.buttonValue;a.addEventListener("updatefromsandbox",o=>{const l={value:c=>{const u=s===c.detail.value;for(const f of this._getElementsByName(c.target.name)){const d=u&&f.id===n;f.domElement&&(f.domElement.checked=d),e.setValue(f.id,{value:d})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class eMe extends rV{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const r=e.lastChild;return this.enableScripting&&this.hasJSActions&&r&&(this._setDefaultPropertiesFromJS(r),r.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class tMe extends Od{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,r=this.data.id,n=e.getValue(r,{value:this.data.fieldValue}),i=document.createElement("select");fd.add(i),i.setAttribute("data-element-id",r),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=sx;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",u=>{const f=this.data.defaultFieldValue;for(const d of i.options)d.selected=d.value===f});for(const u of this.data.options){const f=document.createElement("option");f.textContent=u.displayValue,f.value=u.exportValue,n.value.includes(u.exportValue)&&(f.setAttribute("selected",!0),a=!1),i.append(f)}let s=null;if(a){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),i.prepend(u),s=()=>{u.remove(),i.removeEventListener("input",s),s=null},i.addEventListener("input",s)}const o=u=>{const f=u?"value":"textContent",{options:d,multiple:h}=i;return h?Array.prototype.filter.call(d,m=>m.selected).map(m=>m[f]):d.selectedIndex===-1?null:d[d.selectedIndex][f]};let l=o(!1);const c=u=>{const f=u.target.options;return Array.prototype.map.call(f,d=>({displayValue:d.textContent,exportValue:d.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",u=>{const f={value(d){s==null||s();const h=d.detail.value,m=new Set(Array.isArray(h)?h:[h]);for(const p of i.options)p.selected=m.has(p.value);e.setValue(r,{value:o(!0)}),l=o(!1)},multipleSelection(d){i.multiple=!0},remove(d){const h=i.options,m=d.detail.remove;h[m].selected=!1,i.remove(m),h.length>0&&Array.prototype.findIndex.call(h,y=>y.selected)===-1&&(h[0].selected=!0),e.setValue(r,{value:o(!0),items:c(d)}),l=o(!1)},clear(d){for(;i.length!==0;)i.remove(0);e.setValue(r,{value:null,items:[]}),l=o(!1)},insert(d){const{index:h,displayValue:m,exportValue:p}=d.detail.insert,y=i.children[h],_=document.createElement("option");_.textContent=m,_.value=p,y?y.before(_):i.append(_),e.setValue(r,{value:o(!0),items:c(d)}),l=o(!1)},items(d){const{items:h}=d.detail;for(;i.length!==0;)i.remove(0);for(const m of h){const{displayValue:p,exportValue:y}=m,_=document.createElement("option");_.textContent=p,_.value=y,i.append(_)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(r,{value:o(!0),items:c(d)}),l=o(!1)},indices(d){const h=new Set(d.detail.indices);for(const m of d.target.options)m.selected=h.has(m.index);e.setValue(r,{value:o(!0)}),l=o(!1)},editable(d){d.target.disabled=!d.detail.editable}};this._dispatchEventFromSandbox(f,u)}),i.addEventListener("input",u=>{var h;const f=o(!0),d=o(!1);e.setValue(r,{value:f}),u.preventDefault(),(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:l,change:d,changeEx:f,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):i.addEventListener("input",function(u){e.setValue(r,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class kC extends Hr{constructor(e){const{data:r,elements:n}=e;super(e,{isRenderable:Hr._hasPopupData(r)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new rMe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),r=[];for(const n of this.elements)n.popup=e,n.container.ariaHasPopup="dialog",r.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(n=>`${gO}${n}`).join(",")),this.container}}var a0,hb,pb,s0,vf,Mr,Go,o0,ay,sy,l0,qo,ps,Xo,oy,Ko,ly,yf,xf,Kt,R1,PC,sV,oV,lV,cV,D1,F1,IC;class rMe{constructor({container:e,color:r,elements:n,titleObj:i,modificationDate:a,contentsObj:s,richText:o,parent:l,rect:c,parentRect:u,open:f}){B(this,Kt);B(this,a0,M(this,Kt,lV).bind(this));B(this,hb,M(this,Kt,IC).bind(this));B(this,pb,M(this,Kt,F1).bind(this));B(this,s0,M(this,Kt,D1).bind(this));B(this,vf,null);B(this,Mr,null);B(this,Go,null);B(this,o0,null);B(this,ay,null);B(this,sy,null);B(this,l0,null);B(this,qo,!1);B(this,ps,null);B(this,Xo,null);B(this,oy,null);B(this,Ko,null);B(this,ly,null);B(this,yf,null);B(this,xf,!1);var d;O(this,Mr,e),O(this,ly,i),O(this,Go,s),O(this,Ko,o),O(this,sy,l),O(this,vf,r),O(this,oy,c),O(this,l0,u),O(this,ay,n),O(this,o0,xO.toDateObject(a)),this.trigger=n.flatMap(h=>h.getElementsToTriggerPopup());for(const h of this.trigger)h.addEventListener("click",g(this,s0)),h.addEventListener("mouseenter",g(this,pb)),h.addEventListener("mouseleave",g(this,hb)),h.classList.add("popupTriggerArea");for(const h of n)(d=h.container)==null||d.addEventListener("keydown",g(this,a0));g(this,Mr).hidden=!0,f&&M(this,Kt,D1).call(this)}render(){if(g(this,ps))return;const e=O(this,ps,document.createElement("div"));if(e.className="popup",g(this,vf)){const a=e.style.outlineColor=ze.makeHexColor(...g(this,vf));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`:e.style.backgroundColor=ze.makeHexColor(...g(this,vf).map(o=>Math.floor(.7*(255-o)+o)))}const r=document.createElement("span");r.className="header";const n=document.createElement("h1");if(r.append(n),{dir:n.dir,str:n.textContent}=g(this,ly),e.append(r),g(this,o0)){const a=document.createElement("span");a.classList.add("popupDate"),a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:g(this,o0).valueOf()})),r.append(a)}const i=g(this,Kt,R1);if(i)tV.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const a=this._formatContents(g(this,Go));e.append(a)}g(this,Mr).append(e)}_formatContents({str:e,dir:r}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=r;const i=e.split(/(?:\r\n?|\n)/);for(let a=0,s=i.length;a<s;++a){const o=i[a];n.append(document.createTextNode(o)),a<s-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:r}){var n;g(this,yf)||O(this,yf,{contentsObj:g(this,Go),richText:g(this,Ko)}),e&&O(this,Xo,null),r&&(O(this,Ko,M(this,Kt,oV).call(this,r)),O(this,Go,null)),(n=g(this,ps))==null||n.remove(),O(this,ps,null)}resetEdited(){var e;g(this,yf)&&({contentsObj:di(this,Go)._,richText:di(this,Ko)._}=g(this,yf),O(this,yf,null),(e=g(this,ps))==null||e.remove(),O(this,ps,null),O(this,Xo,null))}forceHide(){O(this,xf,this.isVisible),g(this,xf)&&(g(this,Mr).hidden=!0)}maybeShow(){g(this,xf)&&(g(this,ps)||M(this,Kt,F1).call(this),O(this,xf,!1),g(this,Mr).hidden=!1)}get isVisible(){return g(this,Mr).hidden===!1}}a0=new WeakMap,hb=new WeakMap,pb=new WeakMap,s0=new WeakMap,vf=new WeakMap,Mr=new WeakMap,Go=new WeakMap,o0=new WeakMap,ay=new WeakMap,sy=new WeakMap,l0=new WeakMap,qo=new WeakMap,ps=new WeakMap,Xo=new WeakMap,oy=new WeakMap,Ko=new WeakMap,ly=new WeakMap,yf=new WeakMap,xf=new WeakMap,Kt=new WeakSet,R1=function(){const e=g(this,Ko),r=g(this,Go);return e!=null&&e.str&&(!(r!=null&&r.str)||r.str===e.str)&&g(this,Ko).html||null},PC=function(){var e,r,n;return((n=(r=(e=g(this,Kt,R1))==null?void 0:e.attributes)==null?void 0:r.style)==null?void 0:n.fontSize)||0},sV=function(){var e,r,n;return((n=(r=(e=g(this,Kt,R1))==null?void 0:e.attributes)==null?void 0:r.style)==null?void 0:n.color)||null},oV=function(e){const r=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:r}]}},i={style:{color:g(this,Kt,sV),fontSize:g(this,Kt,PC)?`calc(${g(this,Kt,PC)}px * var(--scale-factor))`:""}};for(const a of e.split(`
`))r.push({name:"span",value:a,attributes:i});return n},lV=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&g(this,qo))&&M(this,Kt,D1).call(this)},cV=function(){if(g(this,Xo)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:r,pageHeight:n,pageX:i,pageY:a}}}=g(this,sy);let s=!!g(this,l0),o=s?g(this,l0):g(this,oy);for(const m of g(this,ay))if(!o||ze.intersect(m.data.rect,o)!==null){o=m.data.rect,s=!0;break}const l=ze.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),u=s?o[2]-o[0]+5:0,f=l[0]+u,d=l[1];O(this,Xo,[100*(f-i)/r,100*(d-a)/n]);const{style:h}=g(this,Mr);h.left=`${g(this,Xo)[0]}%`,h.top=`${g(this,Xo)[1]}%`},D1=function(){O(this,qo,!g(this,qo)),g(this,qo)?(M(this,Kt,F1).call(this),g(this,Mr).addEventListener("click",g(this,s0)),g(this,Mr).addEventListener("keydown",g(this,a0))):(M(this,Kt,IC).call(this),g(this,Mr).removeEventListener("click",g(this,s0)),g(this,Mr).removeEventListener("keydown",g(this,a0)))},F1=function(){g(this,ps)||this.render(),this.isVisible?g(this,qo)&&g(this,Mr).classList.add("focused"):(M(this,Kt,cV).call(this),g(this,Mr).hidden=!1,g(this,Mr).style.zIndex=parseInt(g(this,Mr).style.zIndex)+1e3)},IC=function(){g(this,Mr).classList.remove("focused"),!(g(this,qo)||!this.isVisible)&&(g(this,Mr).hidden=!0,g(this,Mr).style.zIndex=parseInt(g(this,Mr).style.zIndex)-1e3)};class uV extends Hr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=dt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const r of this.textContent){const n=document.createElement("span");n.textContent=r,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var cy;class nMe extends Hr{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});B(this,cy,null)}render(){this.container.classList.add("lineAnnotation");const r=this.data,{width:n,height:i}=wl(r.rect),a=this.svgFactory.create(n,i,!0),s=O(this,cy,this.svgFactory.createElement("svg:line"));return s.setAttribute("x1",r.rect[2]-r.lineCoordinates[0]),s.setAttribute("y1",r.rect[3]-r.lineCoordinates[1]),s.setAttribute("x2",r.rect[2]-r.lineCoordinates[2]),s.setAttribute("y2",r.rect[3]-r.lineCoordinates[3]),s.setAttribute("stroke-width",r.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),a.append(s),this.container.append(a),!r.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,cy)}addHighlightArea(){this.container.classList.add("highlightArea")}}cy=new WeakMap;var uy;class iMe extends Hr{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});B(this,uy,null)}render(){this.container.classList.add("squareAnnotation");const r=this.data,{width:n,height:i}=wl(r.rect),a=this.svgFactory.create(n,i,!0),s=r.borderStyle.width,o=O(this,uy,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",s/2),o.setAttribute("y",s/2),o.setAttribute("width",n-s),o.setAttribute("height",i-s),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!r.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,uy)}addHighlightArea(){this.container.classList.add("highlightArea")}}uy=new WeakMap;var fy;class aMe extends Hr{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});B(this,fy,null)}render(){this.container.classList.add("circleAnnotation");const r=this.data,{width:n,height:i}=wl(r.rect),a=this.svgFactory.create(n,i,!0),s=r.borderStyle.width,o=O(this,fy,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",n/2),o.setAttribute("cy",i/2),o.setAttribute("rx",n/2-s/2),o.setAttribute("ry",i/2-s/2),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!r.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,fy)}addHighlightArea(){this.container.classList.add("highlightArea")}}fy=new WeakMap;var dy;class fV extends Hr{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});B(this,dy,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:r,vertices:n,borderStyle:i,popupRef:a}}=this;if(!n)return this.container;const{width:s,height:o}=wl(r),l=this.svgFactory.create(s,o,!0);let c=[];for(let f=0,d=n.length;f<d;f+=2){const h=n[f]-r[0],m=r[3]-n[f+1];c.push(`${h},${m}`)}c=c.join(" ");const u=O(this,dy,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",c),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,dy)}addHighlightArea(){this.container.classList.add("highlightArea")}}dy=new WeakMap;class sMe extends fV{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class oMe extends Hr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var hy;class CO extends Hr{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});B(this,hy,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?dt.HIGHLIGHT:dt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:r,inkLists:n,borderStyle:i,popupRef:a}}=this,{width:s,height:o}=wl(r),l=this.svgFactory.create(s,o,!0);for(const c of n){let u=[];for(let d=0,h=c.length;d<h;d+=2){const m=c[d]-r[0],p=r[3]-c[d+1];u.push(`${m},${p}`)}u=u.join(" ");const f=this.svgFactory.createElement(this.svgElementName);g(this,hy).push(f),f.setAttribute("points",u),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),l.append(f)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(l),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return g(this,hy)}addHighlightArea(){this.container.classList.add("highlightArea")}}hy=new WeakMap;class dV extends Hr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=dt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class lMe extends Hr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class cMe extends Hr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class uMe extends Hr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class hV extends Hr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=dt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var py,my,OC;class fMe extends Hr{constructor(r){var i;super(r,{isRenderable:!0});B(this,my);B(this,py,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:r,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",M(this,my,OC).bind(this)),O(this,py,i);const{isMac:a}=bi.platform;return r.addEventListener("keydown",s=>{s.key==="Enter"&&(a?s.metaKey:s.ctrlKey)&&M(this,my,OC).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),r.append(i),r}getElementsToTriggerPopup(){return g(this,py)}addHighlightArea(){this.container.classList.add("highlightArea")}}py=new WeakMap,my=new WeakSet,OC=function(){var r;(r=this.downloadManager)==null||r.openOrDownloadData(this.content,this.filename)};var gy,_f,wf,vy,md,pV,MC;class dMe{constructor({div:e,accessibilityManager:r,annotationCanvasMap:n,annotationEditorUIManager:i,page:a,viewport:s,structTreeLayer:o}){B(this,md);B(this,gy,null);B(this,_f,null);B(this,wf,new Map);B(this,vy,null);this.div=e,O(this,gy,r),O(this,_f,n),O(this,vy,o||null),this.page=a,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return g(this,wf).size>0}async render(e){var s;const{annotations:r}=e,n=this.div;cd(n,this.viewport);const i=new Map,a={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new EO,annotationStorage:e.annotationStorage||new wO,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of r){if(o.noHTML)continue;const l=o.annotationType===an.POPUP;if(l){const f=i.get(o.id);if(!f)continue;a.elements=f}else{const{width:f,height:d}=wl(o.rect);if(f<=0||d<=0)continue}a.data=o;const c=KOe.create(a);if(!c.isRenderable)continue;if(!l&&o.popupRef){const f=i.get(o.popupRef);f?f.push(c):i.set(o.popupRef,[c])}const u=c.render();o.hidden&&(u.style.visibility="hidden"),await M(this,md,pV).call(this,u,o.id),c._isEditable&&(g(this,wf).set(c.data.id,c),(s=this._annotationEditorUIManager)==null||s.renderAnnotationElement(c))}M(this,md,MC).call(this)}update({viewport:e}){const r=this.div;this.viewport=e,cd(r,{rotation:e.rotation}),M(this,md,MC).call(this),r.hidden=!1}getEditableAnnotations(){return Array.from(g(this,wf).values())}getEditableAnnotation(e){return g(this,wf).get(e)}}gy=new WeakMap,_f=new WeakMap,wf=new WeakMap,vy=new WeakMap,md=new WeakSet,pV=async function(e,r){var s,o;const n=e.firstChild||e,i=n.id=`${gO}${r}`,a=await((s=g(this,vy))==null?void 0:s.getAriaAttributes(i));if(a)for(const[l,c]of a)n.setAttribute(l,c);this.div.append(e),(o=g(this,gy))==null||o.moveElementInDOM(this.div,e,n,!1)},MC=function(){if(!g(this,_f))return;const e=this.div;for(const[r,n]of g(this,_f)){const i=e.querySelector(`[data-annotation-id="${r}"]`);if(!i)continue;n.className="annotationContent";const{firstChild:a}=i;a?a.nodeName==="CANVAS"?a.replaceWith(n):a.classList.contains("annotationContent")?a.after(n):a.before(n):i.append(n)}g(this,_f).clear()};const a1=/\r\n?|\n/g;var ms,Ji,yy,bf,Zi,en,mV,gV,vV,L1,Sl,$1,B1,yV,RC,xV;const Qt=class Qt extends Vt{constructor(r){super({...r,name:"freeTextEditor"});B(this,en);B(this,ms);B(this,Ji,"");B(this,yy,`${this.id}-editor`);B(this,bf,null);B(this,Zi);O(this,ms,r.color||Qt._defaultColor||Vt._defaultLineColor),O(this,Zi,r.fontSize||Qt._defaultFontSize)}static get _keyboardManager(){const r=Qt.prototype,n=s=>s.isEmpty(),i=ud.TRANSLATE_SMALL,a=ud.TRANSLATE_BIG;return At(this,"_keyboardManager",new ax([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],r.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],r.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],r._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],r._translateEmpty,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],r._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],r._translateEmpty,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],r._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],r._translateEmpty,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],r._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],r._translateEmpty,{args:[0,a],checker:n}]]))}static initialize(r,n){Vt.initialize(r,n);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(r,n){switch(r){case it.FREETEXT_SIZE:Qt._defaultFontSize=n;break;case it.FREETEXT_COLOR:Qt._defaultColor=n;break}}updateParams(r,n){switch(r){case it.FREETEXT_SIZE:M(this,en,mV).call(this,n);break;case it.FREETEXT_COLOR:M(this,en,gV).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[it.FREETEXT_SIZE,Qt._defaultFontSize],[it.FREETEXT_COLOR,Qt._defaultColor||Vt._defaultLineColor]]}get propertiesToUpdate(){return[[it.FREETEXT_SIZE,g(this,Zi)],[it.FREETEXT_COLOR,g(this,ms)]]}_translateEmpty(r,n){this._uiManager.translateSelectedEditors(r,n,!0)}getInitialTranslation(){const r=this.parentScale;return[-Qt._internalPadding*r,-(Qt._internalPadding+g(this,Zi))*r]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(dt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),O(this,bf,new AbortController);const r=this._uiManager.combinedSignal(g(this,bf));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:r}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:r}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:r}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:r}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:r})}disableEditMode(){var r;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",g(this,yy)),this._isDraggable=!0,(r=g(this,bf))==null||r.abort(),O(this,bf,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(r){this._focusEventsAllowed&&(super.focusin(r),r.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var r;this.width||(this.enableEditMode(),this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const r=g(this,Ji),n=O(this,Ji,M(this,en,vV).call(this).trimEnd());if(r===n)return;const i=a=>{if(O(this,Ji,a),!a){this.remove();return}M(this,en,B1).call(this),this._uiManager.rebuild(this),M(this,en,L1).call(this)};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(r)},mustExec:!1}),M(this,en,L1).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(r){this.enterInEditMode()}keydown(r){r.target===this.div&&r.key==="Enter"&&(this.enterInEditMode(),r.preventDefault())}editorDivKeydown(r){Qt._keyboardManager.exec(this,r)}editorDivFocus(r){this.isEditing=!0}editorDivBlur(r){this.isEditing=!1}editorDivInput(r){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let r,n;this.width&&(r=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",g(this,yy)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${g(this,Zi)}px * var(--scale-factor))`,i.color=g(this,ms),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Bw(this,this.div,["dblclick","keydown"]),this.width){const[a,s]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[u,f]=this.pageDimensions,[d,h]=this.pageTranslation;let m,p;switch(this.rotation){case 0:m=r+(o[0]-d)/u,p=n+this.height-(o[1]-h)/f;break;case 90:m=r+(o[0]-d)/u,p=n-(o[1]-h)/f,[l,c]=[c,-l];break;case 180:m=r-this.width+(o[0]-d)/u,p=n-(o[1]-h)/f,[l,c]=[-l,-c];break;case 270:m=r+(o[0]-d-this.height*f)/u,p=n+(o[1]-h-this.width*u)/f,[l,c]=[-c,l];break}this.setAt(m*a,p*s,l,c)}else this.setAt(r*a,n*s,this.width*a,this.height*s);M(this,en,B1).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(r){var m,p,y;const n=r.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;r.preventDefault();const a=M(m=Qt,Sl,RC).call(m,n.getData("text")||"").replaceAll(a1,`
`);if(!a)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const o=s.getRangeAt(0);if(!a.includes(`
`)){o.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:l,startOffset:c}=o,u=[],f=[];if(l.nodeType===Node.TEXT_NODE){const _=l.parentElement;if(f.push(l.nodeValue.slice(c).replaceAll(a1,"")),_!==this.editorDiv){let b=u;for(const w of this.editorDiv.childNodes){if(w===_){b=f;continue}b.push(M(p=Qt,Sl,$1).call(p,w))}}u.push(l.nodeValue.slice(0,c).replaceAll(a1,""))}else if(l===this.editorDiv){let _=u,b=0;for(const w of this.editorDiv.childNodes)b++===c&&(_=f),_.push(M(y=Qt,Sl,$1).call(y,w))}O(this,Ji,`${u.join(`
`)}${a}${f.join(`
`)}`),M(this,en,B1).call(this);const d=new Range;let h=u.reduce((_,b)=>_+b.length,0);for(const{firstChild:_}of this.editorDiv.childNodes)if(_.nodeType===Node.TEXT_NODE){const b=_.nodeValue.length;if(h<=b){d.setStart(_,h),d.setEnd(_,h);break}h-=b}s.removeAllRanges(),s.addRange(d)}get contentDiv(){return this.editorDiv}static async deserialize(r,n,i){var o;let a=null;if(r instanceof uV){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:u,rotation:f,id:d,popupRef:h},textContent:m,textPosition:p,parent:{page:{pageNumber:y}}}=r;if(!m||m.length===0)return null;a=r={annotationType:dt.FREETEXT,color:Array.from(c),fontSize:l,value:m.join(`
`),position:p,pageIndex:y-1,rect:u.slice(0),rotation:f,id:d,deleted:!1,popupRef:h}}const s=await super.deserialize(r,n,i);return O(s,Zi,r.fontSize),O(s,ms,ze.makeHexColor(...r.color)),O(s,Ji,M(o=Qt,Sl,RC).call(o,r.value)),s.annotationElementId=r.id||null,s._initialData=a,s}serialize(r=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Qt._internalPadding*this.parentScale,i=this.getRect(n,n),a=Vt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:g(this,ms)),s={annotationType:dt.FREETEXT,color:a,fontSize:g(this,Zi),value:M(this,en,yV).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return r?s:this.annotationElementId&&!M(this,en,xV).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(r){const n=super.renderAnnotationElement(r);if(this.deleted)return n;const{style:i}=n;i.fontSize=`calc(${g(this,Zi)}px * var(--scale-factor))`,i.color=g(this,ms),n.replaceChildren();for(const s of g(this,Ji).split(`
`)){const o=document.createElement("div");o.append(s?document.createTextNode(s):document.createElement("br")),n.append(o)}const a=Qt._internalPadding*this.parentScale;return r.updateEdited({rect:this.getRect(a,a),popupContent:g(this,Ji)}),n}resetAnnotationElement(r){super.resetAnnotationElement(r),r.resetEdited()}};ms=new WeakMap,Ji=new WeakMap,yy=new WeakMap,bf=new WeakMap,Zi=new WeakMap,en=new WeakSet,mV=function(r){const n=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--scale-factor))`,this.translate(0,-(a-g(this,Zi))*this.parentScale),O(this,Zi,a),M(this,en,L1).call(this)},i=g(this,Zi);this.addCommands({cmd:n.bind(this,r),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:it.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},gV=function(r){const n=a=>{O(this,ms,this.editorDiv.style.color=a)},i=g(this,ms);this.addCommands({cmd:n.bind(this,r),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:it.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},vV=function(){var i;const r=[];this.editorDiv.normalize();let n=null;for(const a of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&a.nodeName==="BR"||(r.push(M(i=Qt,Sl,$1).call(i,a)),n=a);return r.join(`
`)},L1=function(){const[r,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:a,div:s}=this,o=s.style.display,l=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",a.div.append(this.div),i=s.getBoundingClientRect(),s.remove(),s.style.display=o,s.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/r,this.height=i.height/n):(this.width=i.height/r,this.height=i.width/n),this.fixAndSetPosition()},Sl=new WeakSet,$1=function(r){return(r.nodeType===Node.TEXT_NODE?r.nodeValue:r.innerText).replaceAll(a1,"")},B1=function(){if(this.editorDiv.replaceChildren(),!!g(this,Ji))for(const r of g(this,Ji).split(`
`)){const n=document.createElement("div");n.append(r?document.createTextNode(r):document.createElement("br")),this.editorDiv.append(n)}},yV=function(){return g(this,Ji).replaceAll(""," ")},RC=function(r){return r.replaceAll(" ","")},xV=function(r){const{value:n,fontSize:i,color:a,pageIndex:s}=this._initialData;return this._hasBeenMoved||r.value!==n||r.fontSize!==i||r.color.some((o,l)=>o!==a[l])||r.pageIndex!==s},B(Qt,Sl),nt(Qt,"_freeTextDefaultContent",""),nt(Qt,"_internalPadding",0),nt(Qt,"_defaultColor",null),nt(Qt,"_defaultFontSize",10),nt(Qt,"_type","freetext"),nt(Qt,"_editorType",dt.FREETEXT);let NC=Qt;class _V{toSVGPath(){or("Abstract method `toSVGPath` must be implemented.")}get box(){or("Abstract getter `box` must be implemented.")}serialize(e,r){or("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){or("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){or("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Qi,gs,c0,u0,io,yt,Sf,Af,xy,_y,f0,d0,_c,wy,mb,gb,mn,Sm,wV,bV,SV,AV,TV,EV;const Ro=class Ro{constructor({x:e,y:r},n,i,a,s,o=0){B(this,mn);B(this,Qi);B(this,gs,[]);B(this,c0);B(this,u0);B(this,io,[]);B(this,yt,new Float64Array(18));B(this,Sf);B(this,Af);B(this,xy);B(this,_y);B(this,f0);B(this,d0);B(this,_c,[]);O(this,Qi,n),O(this,d0,a*i),O(this,u0,s),g(this,yt).set([NaN,NaN,NaN,NaN,e,r],6),O(this,c0,o),O(this,_y,g(Ro,wy)*i),O(this,xy,g(Ro,gb)*i),O(this,f0,i),g(this,_c).push(e,r)}isEmpty(){return isNaN(g(this,yt)[8])}add({x:e,y:r}){var k;O(this,Sf,e),O(this,Af,r);const[n,i,a,s]=g(this,Qi);let[o,l,c,u]=g(this,yt).subarray(8,12);const f=e-c,d=r-u,h=Math.hypot(f,d);if(h<g(this,xy))return!1;const m=h-g(this,_y),p=m/h,y=p*f,_=p*d;let b=o,w=l;o=c,l=u,c+=y,u+=_,(k=g(this,_c))==null||k.push(e,r);const A=-_/m,S=y/m,T=A*g(this,d0),E=S*g(this,d0);return g(this,yt).set(g(this,yt).subarray(2,8),0),g(this,yt).set([c+T,u+E],4),g(this,yt).set(g(this,yt).subarray(14,18),12),g(this,yt).set([c-T,u-E],16),isNaN(g(this,yt)[6])?(g(this,io).length===0&&(g(this,yt).set([o+T,l+E],2),g(this,io).push(NaN,NaN,NaN,NaN,(o+T-n)/a,(l+E-i)/s),g(this,yt).set([o-T,l-E],14),g(this,gs).push(NaN,NaN,NaN,NaN,(o-T-n)/a,(l-E-i)/s)),g(this,yt).set([b,w,o,l,c,u],6),!this.isEmpty()):(g(this,yt).set([b,w,o,l,c,u],6),Math.abs(Math.atan2(w-l,b-o)-Math.atan2(_,y))<Math.PI/2?([o,l,c,u]=g(this,yt).subarray(2,6),g(this,io).push(NaN,NaN,NaN,NaN,((o+c)/2-n)/a,((l+u)/2-i)/s),[o,l,b,w]=g(this,yt).subarray(14,18),g(this,gs).push(NaN,NaN,NaN,NaN,((b+o)/2-n)/a,((w+l)/2-i)/s),!0):([b,w,o,l,c,u]=g(this,yt).subarray(0,6),g(this,io).push(((b+5*o)/6-n)/a,((w+5*l)/6-i)/s,((5*o+c)/6-n)/a,((5*l+u)/6-i)/s,((o+c)/2-n)/a,((l+u)/2-i)/s),[c,u,o,l,b,w]=g(this,yt).subarray(12,18),g(this,gs).push(((b+5*o)/6-n)/a,((w+5*l)/6-i)/s,((5*o+c)/6-n)/a,((5*l+u)/6-i)/s,((o+c)/2-n)/a,((l+u)/2-i)/s),!0))}toSVGPath(){if(this.isEmpty())return"";const e=g(this,io),r=g(this,gs);if(isNaN(g(this,yt)[6])&&!this.isEmpty())return M(this,mn,wV).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);M(this,mn,SV).call(this,n);for(let i=r.length-6;i>=6;i-=6)isNaN(r[i])?n.push(`L${r[i+4]} ${r[i+5]}`):n.push(`C${r[i]} ${r[i+1]} ${r[i+2]} ${r[i+3]} ${r[i+4]} ${r[i+5]}`);return M(this,mn,bV).call(this,n),n.join(" ")}newFreeDrawOutline(e,r,n,i,a,s){return new CV(e,r,n,i,a,s)}getOutlines(){var f;const e=g(this,io),r=g(this,gs),n=g(this,yt),[i,a,s,o]=g(this,Qi),l=new Float64Array((((f=g(this,_c))==null?void 0:f.length)??0)+2);for(let d=0,h=l.length-2;d<h;d+=2)l[d]=(g(this,_c)[d]-i)/s,l[d+1]=(g(this,_c)[d+1]-a)/o;if(l[l.length-2]=(g(this,Sf)-i)/s,l[l.length-1]=(g(this,Af)-a)/o,isNaN(n[6])&&!this.isEmpty())return M(this,mn,AV).call(this,l);const c=new Float64Array(g(this,io).length+24+g(this,gs).length);let u=e.length;for(let d=0;d<u;d+=2){if(isNaN(e[d])){c[d]=c[d+1]=NaN;continue}c[d]=e[d],c[d+1]=e[d+1]}u=M(this,mn,EV).call(this,c,u);for(let d=r.length-6;d>=6;d-=6)for(let h=0;h<6;h+=2){if(isNaN(r[d+h])){c[u]=c[u+1]=NaN,u+=2;continue}c[u]=r[d+h],c[u+1]=r[d+h+1],u+=2}return M(this,mn,TV).call(this,c,u),this.newFreeDrawOutline(c,l,g(this,Qi),g(this,f0),g(this,c0),g(this,u0))}};Qi=new WeakMap,gs=new WeakMap,c0=new WeakMap,u0=new WeakMap,io=new WeakMap,yt=new WeakMap,Sf=new WeakMap,Af=new WeakMap,xy=new WeakMap,_y=new WeakMap,f0=new WeakMap,d0=new WeakMap,_c=new WeakMap,wy=new WeakMap,mb=new WeakMap,gb=new WeakMap,mn=new WeakSet,Sm=function(){const e=g(this,yt).subarray(4,6),r=g(this,yt).subarray(16,18),[n,i,a,s]=g(this,Qi);return[(g(this,Sf)+(e[0]-r[0])/2-n)/a,(g(this,Af)+(e[1]-r[1])/2-i)/s,(g(this,Sf)+(r[0]-e[0])/2-n)/a,(g(this,Af)+(r[1]-e[1])/2-i)/s]},wV=function(){const[e,r,n,i]=g(this,Qi),[a,s,o,l]=M(this,mn,Sm).call(this);return`M${(g(this,yt)[2]-e)/n} ${(g(this,yt)[3]-r)/i} L${(g(this,yt)[4]-e)/n} ${(g(this,yt)[5]-r)/i} L${a} ${s} L${o} ${l} L${(g(this,yt)[16]-e)/n} ${(g(this,yt)[17]-r)/i} L${(g(this,yt)[14]-e)/n} ${(g(this,yt)[15]-r)/i} Z`},bV=function(e){const r=g(this,gs);e.push(`L${r[4]} ${r[5]} Z`)},SV=function(e){const[r,n,i,a]=g(this,Qi),s=g(this,yt).subarray(4,6),o=g(this,yt).subarray(16,18),[l,c,u,f]=M(this,mn,Sm).call(this);e.push(`L${(s[0]-r)/i} ${(s[1]-n)/a} L${l} ${c} L${u} ${f} L${(o[0]-r)/i} ${(o[1]-n)/a}`)},AV=function(e){const r=g(this,yt),[n,i,a,s]=g(this,Qi),[o,l,c,u]=M(this,mn,Sm).call(this),f=new Float64Array(36);return f.set([NaN,NaN,NaN,NaN,(r[2]-n)/a,(r[3]-i)/s,NaN,NaN,NaN,NaN,(r[4]-n)/a,(r[5]-i)/s,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,(r[16]-n)/a,(r[17]-i)/s,NaN,NaN,NaN,NaN,(r[14]-n)/a,(r[15]-i)/s],0),this.newFreeDrawOutline(f,e,g(this,Qi),g(this,f0),g(this,c0),g(this,u0))},TV=function(e,r){const n=g(this,gs);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],r),r+=6},EV=function(e,r){const n=g(this,yt).subarray(4,6),i=g(this,yt).subarray(16,18),[a,s,o,l]=g(this,Qi),[c,u,f,d]=M(this,mn,Sm).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-a)/o,(n[1]-s)/l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,f,d,NaN,NaN,NaN,NaN,(i[0]-a)/o,(i[1]-s)/l],r),r+=24},B(Ro,wy,8),B(Ro,mb,2),B(Ro,gb,g(Ro,wy)+g(Ro,mb));let jw=Ro;var h0,Tf,Yo,by,ea,Sy,Br,Bi,Am,Tm,kV;class CV extends _V{constructor(r,n,i,a,s,o){super();B(this,Bi);B(this,h0);B(this,Tf,null);B(this,Yo);B(this,by);B(this,ea);B(this,Sy);B(this,Br);O(this,Br,r),O(this,ea,n),O(this,h0,i),O(this,Sy,a),O(this,Yo,s),O(this,by,o),M(this,Bi,kV).call(this,o);const{x:l,y:c,width:u,height:f}=g(this,Tf);for(let d=0,h=r.length;d<h;d+=2)r[d]=(r[d]-l)/u,r[d+1]=(r[d+1]-c)/f;for(let d=0,h=n.length;d<h;d+=2)n[d]=(n[d]-l)/u,n[d+1]=(n[d+1]-c)/f}toSVGPath(){const r=[`M${g(this,Br)[4]} ${g(this,Br)[5]}`];for(let n=6,i=g(this,Br).length;n<i;n+=6){if(isNaN(g(this,Br)[n])){r.push(`L${g(this,Br)[n+4]} ${g(this,Br)[n+5]}`);continue}r.push(`C${g(this,Br)[n]} ${g(this,Br)[n+1]} ${g(this,Br)[n+2]} ${g(this,Br)[n+3]} ${g(this,Br)[n+4]} ${g(this,Br)[n+5]}`)}return r.push("Z"),r.join(" ")}serialize([r,n,i,a],s){const o=i-r,l=a-n;let c,u;switch(s){case 0:c=M(this,Bi,Am).call(this,g(this,Br),r,a,o,-l),u=M(this,Bi,Am).call(this,g(this,ea),r,a,o,-l);break;case 90:c=M(this,Bi,Tm).call(this,g(this,Br),r,n,o,l),u=M(this,Bi,Tm).call(this,g(this,ea),r,n,o,l);break;case 180:c=M(this,Bi,Am).call(this,g(this,Br),i,n,-o,l),u=M(this,Bi,Am).call(this,g(this,ea),i,n,-o,l);break;case 270:c=M(this,Bi,Tm).call(this,g(this,Br),i,a,-o,-l),u=M(this,Bi,Tm).call(this,g(this,ea),i,a,-o,-l);break}return{outline:Array.from(c),points:[Array.from(u)]}}get box(){return g(this,Tf)}newOutliner(r,n,i,a,s,o=0){return new jw(r,n,i,a,s,o)}getNewOutline(r,n){const{x:i,y:a,width:s,height:o}=g(this,Tf),[l,c,u,f]=g(this,h0),d=s*u,h=o*f,m=i*u+l,p=a*f+c,y=this.newOutliner({x:g(this,ea)[0]*d+m,y:g(this,ea)[1]*h+p},g(this,h0),g(this,Sy),r,g(this,by),n??g(this,Yo));for(let _=2;_<g(this,ea).length;_+=2)y.add({x:g(this,ea)[_]*d+m,y:g(this,ea)[_+1]*h+p});return y.getOutlines()}get mustRemoveSelfIntersections(){return!0}}h0=new WeakMap,Tf=new WeakMap,Yo=new WeakMap,by=new WeakMap,ea=new WeakMap,Sy=new WeakMap,Br=new WeakMap,Bi=new WeakSet,Am=function(r,n,i,a,s){const o=new Float64Array(r.length);for(let l=0,c=r.length;l<c;l+=2)o[l]=n+r[l]*a,o[l+1]=i+r[l+1]*s;return o},Tm=function(r,n,i,a,s){const o=new Float64Array(r.length);for(let l=0,c=r.length;l<c;l+=2)o[l]=n+r[l+1]*a,o[l+1]=i+r[l]*s;return o},kV=function(r){const n=g(this,Br);let i=n[4],a=n[5],s=i,o=a,l=i,c=a,u=i,f=a;const d=r?Math.max:Math.min;for(let _=6,b=n.length;_<b;_+=6){if(isNaN(n[_]))s=Math.min(s,n[_+4]),o=Math.min(o,n[_+5]),l=Math.max(l,n[_+4]),c=Math.max(c,n[_+5]),f<n[_+5]?(u=n[_+4],f=n[_+5]):f===n[_+5]&&(u=d(u,n[_+4]));else{const w=ze.bezierBoundingBox(i,a,...n.slice(_,_+6));s=Math.min(s,w[0]),o=Math.min(o,w[1]),l=Math.max(l,w[2]),c=Math.max(c,w[3]),f<w[3]?(u=w[2],f=w[3]):f===w[3]&&(u=d(u,w[2]))}i=n[_+4],a=n[_+5]}const h=s-g(this,Yo),m=o-g(this,Yo),p=l-s+2*g(this,Yo),y=c-o+2*g(this,Yo);O(this,Tf,{x:h,y:m,width:p,height:y,lastPoint:[u,f]})};var Ay,wc,vs,Ai,PV,U1,IV,OV,DC;class vL{constructor(e,r=0,n=0,i=!0){B(this,Ai);B(this,Ay);B(this,wc,[]);B(this,vs,[]);let a=1/0,s=-1/0,o=1/0,l=-1/0;const c=10**-4;for(const{x:y,y:_,width:b,height:w}of e){const A=Math.floor((y-r)/c)*c,S=Math.ceil((y+b+r)/c)*c,T=Math.floor((_-r)/c)*c,E=Math.ceil((_+w+r)/c)*c,P=[A,T,E,!0],k=[S,T,E,!1];g(this,wc).push(P,k),a=Math.min(a,A),s=Math.max(s,S),o=Math.min(o,T),l=Math.max(l,E)}const u=s-a+2*n,f=l-o+2*n,d=a-n,h=o-n,m=g(this,wc).at(i?-1:-2),p=[m[0],m[2]];for(const y of g(this,wc)){const[_,b,w]=y;y[0]=(_-d)/u,y[1]=(b-h)/f,y[2]=(w-h)/f}O(this,Ay,{x:d,y:h,width:u,height:f,lastPoint:p})}getOutlines(){g(this,wc).sort((r,n)=>r[0]-n[0]||r[1]-n[1]||r[2]-n[2]);const e=[];for(const r of g(this,wc))r[3]?(e.push(...M(this,Ai,DC).call(this,r)),M(this,Ai,IV).call(this,r)):(M(this,Ai,OV).call(this,r),e.push(...M(this,Ai,DC).call(this,r)));return M(this,Ai,PV).call(this,e)}}Ay=new WeakMap,wc=new WeakMap,vs=new WeakMap,Ai=new WeakSet,PV=function(e){const r=[],n=new Set;for(const s of e){const[o,l,c]=s;r.push([o,l,s],[o,c,s])}r.sort((s,o)=>s[1]-o[1]||s[0]-o[0]);for(let s=0,o=r.length;s<o;s+=2){const l=r[s][2],c=r[s+1][2];l.push(c),c.push(l),n.add(l),n.add(c)}const i=[];let a;for(;n.size>0;){const s=n.values().next().value;let[o,l,c,u,f]=s;n.delete(s);let d=o,h=l;for(a=[o,c],i.push(a);;){let m;if(n.has(u))m=u;else if(n.has(f))m=f;else break;n.delete(m),[o,l,c,u,f]=m,d!==o&&(a.push(d,h,o,h===l?l:c),d=o),h=h===l?c:l}a.push(d,h)}return new hMe(i,g(this,Ay))},U1=function(e){const r=g(this,vs);let n=0,i=r.length-1;for(;n<=i;){const a=n+i>>1,s=r[a][0];if(s===e)return a;s<e?n=a+1:i=a-1}return i+1},IV=function([,e,r]){const n=M(this,Ai,U1).call(this,e);g(this,vs).splice(n,0,[e,r])},OV=function([,e,r]){const n=M(this,Ai,U1).call(this,e);for(let i=n;i<g(this,vs).length;i++){const[a,s]=g(this,vs)[i];if(a!==e)break;if(a===e&&s===r){g(this,vs).splice(i,1);return}}for(let i=n-1;i>=0;i--){const[a,s]=g(this,vs)[i];if(a!==e)break;if(a===e&&s===r){g(this,vs).splice(i,1);return}}},DC=function(e){const[r,n,i]=e,a=[[r,n,i]],s=M(this,Ai,U1).call(this,i);for(let o=0;o<s;o++){const[l,c]=g(this,vs)[o];for(let u=0,f=a.length;u<f;u++){const[,d,h]=a[u];if(!(c<=d||h<=l)){if(d>=l){if(h>c)a[u][1]=c;else{if(f===1)return[];a.splice(u,1),u--,f--}continue}a[u][2]=l,h>c&&a.push([r,c,h])}}}return a};var Ty,p0;class hMe extends _V{constructor(r,n){super();B(this,Ty);B(this,p0);O(this,p0,r),O(this,Ty,n)}toSVGPath(){const r=[];for(const n of g(this,p0)){let[i,a]=n;r.push(`M${i} ${a}`);for(let s=2;s<n.length;s+=2){const o=n[s],l=n[s+1];o===i?(r.push(`V${l}`),a=l):l===a&&(r.push(`H${o}`),i=o)}r.push("Z")}return r.join(" ")}serialize([r,n,i,a],s){const o=[],l=i-r,c=a-n;for(const u of g(this,p0)){const f=new Array(u.length);for(let d=0;d<u.length;d+=2)f[d]=r+u[d]*l,f[d+1]=a-u[d+1]*c;o.push(f)}return o}get box(){return g(this,Ty)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Ty=new WeakMap,p0=new WeakMap;class FC extends jw{newFreeDrawOutline(e,r,n,i,a,s){return new pMe(e,r,n,i,a,s)}get classNamesForDrawing(){return["highlight","free"]}}class pMe extends CV{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,r,n,i,a,s=0){return new FC(e,r,n,i,a,s)}}var ys,Ef,m0,ln,Ey,g0,Cy,ky,bc,xs,v0,Py,qt,LC,$C,BC,Eu,MV,ql;const Pi=class Pi{constructor({editor:e=null,uiManager:r=null}){B(this,qt);B(this,ys,null);B(this,Ef,null);B(this,m0);B(this,ln,null);B(this,Ey,!1);B(this,g0,!1);B(this,Cy,null);B(this,ky);B(this,bc,null);B(this,xs,null);B(this,v0);var n;e?(O(this,g0,!1),O(this,v0,it.HIGHLIGHT_COLOR),O(this,Cy,e)):(O(this,g0,!0),O(this,v0,it.HIGHLIGHT_DEFAULT_COLOR)),O(this,xs,(e==null?void 0:e._uiManager)||r),O(this,ky,g(this,xs)._eventBus),O(this,m0,(e==null?void 0:e.color)||((n=g(this,xs))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),g(Pi,Py)||O(Pi,Py,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return At(this,"_keyboardManager",new ax([[["Escape","mac+Escape"],Pi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Pi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Pi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Pi.prototype._moveToPrevious],[["Home","mac+Home"],Pi.prototype._moveToBeginning],[["End","mac+End"],Pi.prototype._moveToEnd]]))}renderButton(){const e=O(this,ys,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const r=g(this,xs)._signal;e.addEventListener("click",M(this,qt,Eu).bind(this),{signal:r}),e.addEventListener("keydown",M(this,qt,BC).bind(this),{signal:r});const n=O(this,Ef,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=g(this,m0),e.append(n),e}renderMainDropdown(){const e=O(this,ln,M(this,qt,LC).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===g(this,ys)){M(this,qt,Eu).call(this,e);return}const r=e.target.getAttribute("data-color");r&&M(this,qt,$C).call(this,r,e)}_moveToNext(e){var r,n;if(!g(this,qt,ql)){M(this,qt,Eu).call(this,e);return}if(e.target===g(this,ys)){(r=g(this,ln).firstChild)==null||r.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var r,n;if(e.target===((r=g(this,ln))==null?void 0:r.firstChild)||e.target===g(this,ys)){g(this,qt,ql)&&this._hideDropdownFromKeyboard();return}g(this,qt,ql)||M(this,qt,Eu).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var r;if(!g(this,qt,ql)){M(this,qt,Eu).call(this,e);return}(r=g(this,ln).firstChild)==null||r.focus()}_moveToEnd(e){var r;if(!g(this,qt,ql)){M(this,qt,Eu).call(this,e);return}(r=g(this,ln).lastChild)==null||r.focus()}hideDropdown(){var e,r;(e=g(this,ln))==null||e.classList.add("hidden"),(r=g(this,bc))==null||r.abort(),O(this,bc,null)}_hideDropdownFromKeyboard(){var e;if(!g(this,g0)){if(!g(this,qt,ql)){(e=g(this,Cy))==null||e.unselect();return}this.hideDropdown(),g(this,ys).focus({preventScroll:!0,focusVisible:g(this,Ey)})}}updateColor(e){if(g(this,Ef)&&(g(this,Ef).style.backgroundColor=e),!g(this,ln))return;const r=g(this,xs).highlightColors.values();for(const n of g(this,ln).children)n.setAttribute("aria-selected",r.next().value===e)}destroy(){var e,r;(e=g(this,ys))==null||e.remove(),O(this,ys,null),O(this,Ef,null),(r=g(this,ln))==null||r.remove(),O(this,ln,null)}};ys=new WeakMap,Ef=new WeakMap,m0=new WeakMap,ln=new WeakMap,Ey=new WeakMap,g0=new WeakMap,Cy=new WeakMap,ky=new WeakMap,bc=new WeakMap,xs=new WeakMap,v0=new WeakMap,Py=new WeakMap,qt=new WeakSet,LC=function(){const e=document.createElement("div"),r=g(this,xs)._signal;e.addEventListener("contextmenu",Ja,{signal:r}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,i]of g(this,xs).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",i),a.title=n,a.setAttribute("data-l10n-id",g(Pi,Py)[n]);const s=document.createElement("span");a.append(s),s.className="swatch",s.style.backgroundColor=i,a.setAttribute("aria-selected",i===g(this,m0)),a.addEventListener("click",M(this,qt,$C).bind(this,i),{signal:r}),e.append(a)}return e.addEventListener("keydown",M(this,qt,BC).bind(this),{signal:r}),e},$C=function(e,r){r.stopPropagation(),g(this,ky).dispatch("switchannotationeditorparams",{source:this,type:g(this,v0),value:e})},BC=function(e){Pi._keyboardManager.exec(this,e)},Eu=function(e){if(g(this,qt,ql)){this.hideDropdown();return}if(O(this,Ey,e.detail===0),g(this,bc)||(O(this,bc,new AbortController),window.addEventListener("pointerdown",M(this,qt,MV).bind(this),{signal:g(this,xs).combinedSignal(g(this,bc))})),g(this,ln)){g(this,ln).classList.remove("hidden");return}const r=O(this,ln,M(this,qt,LC).call(this));g(this,ys).append(r)},MV=function(e){var r;(r=g(this,ln))!=null&&r.contains(e.target)||this.hideDropdown()},ql=function(){return g(this,ln)&&!g(this,ln).classList.contains("hidden")},B(Pi,Py,null);let Vw=Pi;var y0,Iy,Jo,Cf,x0,Oa,Oy,My,kf,_s,Jn,Mi,_0,Zo,cn,w0,Ma,Ny,lt,UC,j1,NV,RV,DV,jC,Cu,Ba,Xd,FV,V1,Em,LV,$V,BV,UV,jV;const Dt=class Dt extends Vt{constructor(r){super({...r,name:"highlightEditor"});B(this,lt);B(this,y0,null);B(this,Iy,0);B(this,Jo);B(this,Cf,null);B(this,x0,null);B(this,Oa,null);B(this,Oy,null);B(this,My,0);B(this,kf,null);B(this,_s,null);B(this,Jn,null);B(this,Mi,!1);B(this,_0,null);B(this,Zo);B(this,cn,null);B(this,w0,"");B(this,Ma);B(this,Ny,"");this.color=r.color||Dt._defaultColor,O(this,Ma,r.thickness||Dt._defaultThickness),O(this,Zo,r.opacity||Dt._defaultOpacity),O(this,Jo,r.boxes||null),O(this,Ny,r.methodOfCreation||""),O(this,w0,r.text||""),this._isDraggable=!1,r.highlightId>-1?(O(this,Mi,!0),M(this,lt,j1).call(this,r),M(this,lt,Cu).call(this)):g(this,Jo)&&(O(this,y0,r.anchorNode),O(this,Iy,r.anchorOffset),O(this,Oy,r.focusNode),O(this,My,r.focusOffset),M(this,lt,UC).call(this),M(this,lt,Cu).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const r=Dt.prototype;return At(this,"_keyboardManager",new ax([[["ArrowLeft","mac+ArrowLeft"],r._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],r._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],r._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],r._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:g(this,Mi)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:g(this,Ma),methodOfCreation:g(this,Ny)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(r){return{numberOfColors:r.get("color").size}}static initialize(r,n){var i;Vt.initialize(r,n),Dt._defaultColor||(Dt._defaultColor=((i=n.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(r,n){switch(r){case it.HIGHLIGHT_DEFAULT_COLOR:Dt._defaultColor=n;break;case it.HIGHLIGHT_THICKNESS:Dt._defaultThickness=n;break}}translateInPage(r,n){}get toolbarPosition(){return g(this,_0)}updateParams(r,n){switch(r){case it.HIGHLIGHT_COLOR:M(this,lt,NV).call(this,n);break;case it.HIGHLIGHT_THICKNESS:M(this,lt,RV).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[it.HIGHLIGHT_DEFAULT_COLOR,Dt._defaultColor],[it.HIGHLIGHT_THICKNESS,Dt._defaultThickness]]}get propertiesToUpdate(){return[[it.HIGHLIGHT_COLOR,this.color||Dt._defaultColor],[it.HIGHLIGHT_THICKNESS,g(this,Ma)||Dt._defaultThickness],[it.HIGHLIGHT_FREE,g(this,Mi)]]}async addEditToolbar(){const r=await super.addEditToolbar();return r?(this._uiManager.highlightColors&&(O(this,x0,new Vw({editor:this})),r.addColorPicker(g(this,x0))),r):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(M(this,lt,Em).call(this))}getBaseTranslation(){return[0,0]}getRect(r,n){return super.getRect(r,n,M(this,lt,Em).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){M(this,lt,jC).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(M(this,lt,Cu).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(r){var i;let n=!1;this.parent&&!r?M(this,lt,jC).call(this):r&&(M(this,lt,Cu).call(this,r),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(r),this.show(this._isVisible),n&&this.select()}rotate(r){var a,s,o;const{drawLayer:n}=this.parent;let i;g(this,Mi)?(r=(r-this.rotation+360)%360,i=M(a=Dt,Ba,Xd).call(a,g(this,_s).box,r)):i=M(s=Dt,Ba,Xd).call(s,this,r),n.rotate(g(this,Jn),r),n.rotate(g(this,cn),r),n.updateBox(g(this,Jn),i),n.updateBox(g(this,cn),M(o=Dt,Ba,Xd).call(o,g(this,Oa).box,r))}render(){if(this.div)return this.div;const r=super.render();g(this,w0)&&(r.setAttribute("aria-label",g(this,w0)),r.setAttribute("role","mark")),g(this,Mi)?r.classList.add("free"):this.div.addEventListener("keydown",M(this,lt,FV).bind(this),{signal:this._uiManager._signal});const n=O(this,kf,document.createElement("div"));r.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=g(this,Cf);const[i,a]=this.parentDimensions;return this.setDims(this.width*i,this.height*a),Bw(this,g(this,kf),["pointerover","pointerleave"]),this.enableEditing(),r}pointerover(){this.isSelected||this.parent.drawLayer.addClass(g(this,cn),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(g(this,cn),"hovered")}_moveCaret(r){switch(this.parent.unselect(this),r){case 0:case 2:M(this,lt,V1).call(this,!0);break;case 1:case 3:M(this,lt,V1).call(this,!1);break}}select(){var r,n;super.select(),g(this,cn)&&((r=this.parent)==null||r.drawLayer.removeClass(g(this,cn),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(g(this,cn),"selected"))}unselect(){var r;super.unselect(),g(this,cn)&&((r=this.parent)==null||r.drawLayer.removeClass(g(this,cn),"selected"),g(this,Mi)||M(this,lt,V1).call(this,!1))}get _mustFixPosition(){return!g(this,Mi)}show(r=this._isVisible){super.show(r),this.parent&&(this.parent.drawLayer.show(g(this,Jn),r),this.parent.drawLayer.show(g(this,cn),r))}static startHighlighting(r,n,{target:i,x:a,y:s}){const{x:o,y:l,width:c,height:u}=i.getBoundingClientRect(),f=new AbortController,d=r.combinedSignal(f),h=p=>{p.preventDefault(),p.stopPropagation()},m=p=>{f.abort(),M(this,Ba,UV).call(this,r,p)};window.addEventListener("blur",m,{signal:d}),window.addEventListener("pointerup",m,{signal:d}),window.addEventListener("pointerdown",h,{capture:!0,passive:!1,signal:d}),window.addEventListener("contextmenu",Ja,{signal:d}),i.addEventListener("pointermove",M(this,Ba,BV).bind(this,r),{signal:d}),this._freeHighlight=new FC({x:a,y:s},[o,l,c,u],r.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=r.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(r,n,i){var p,y,_,b;let a=null;if(r instanceof dV){const{data:{quadPoints:w,rect:A,rotation:S,id:T,color:E,opacity:P,popupRef:k},parent:{page:{pageNumber:D}}}=r;a=r={annotationType:dt.HIGHLIGHT,color:Array.from(E),opacity:P,quadPoints:w,boxes:null,pageIndex:D-1,rect:A.slice(0),rotation:S,id:T,deleted:!1,popupRef:k}}else if(r instanceof CO){const{data:{inkLists:w,rect:A,rotation:S,id:T,color:E,borderStyle:{rawWidth:P},popupRef:k},parent:{page:{pageNumber:D}}}=r;a=r={annotationType:dt.HIGHLIGHT,color:Array.from(E),thickness:P,inkLists:w,boxes:null,pageIndex:D-1,rect:A.slice(0),rotation:S,id:T,deleted:!1,popupRef:k}}const{color:s,quadPoints:o,inkLists:l,opacity:c}=r,u=await super.deserialize(r,n,i);u.color=ze.makeHexColor(...s),O(u,Zo,c||1),l&&O(u,Ma,r.thickness),u.annotationElementId=r.id||null,u._initialData=a;const[f,d]=u.pageDimensions,[h,m]=u.pageTranslation;if(o){const w=O(u,Jo,[]);for(let A=0;A<o.length;A+=8)w.push({x:(o[A]-h)/f,y:1-(o[A+1]-m)/d,width:(o[A+2]-o[A])/f,height:(o[A+1]-o[A+5])/d});M(p=u,lt,UC).call(p),M(y=u,lt,Cu).call(y),u.rotate(u.rotation)}else if(l){O(u,Mi,!0);const w=l[0],A={x:w[0]-h,y:d-(w[1]-m)},S=new FC(A,[0,0,f,d],1,g(u,Ma)/2,!0,.001);for(let P=0,k=w.length;P<k;P+=2)A.x=w[P]-h,A.y=d-(w[P+1]-m),S.add(A);const{id:T,clipPathId:E}=n.drawLayer.draw(S,u.color,u._defaultOpacity,!0);M(_=u,lt,j1).call(_,{highlightOutlines:S.getOutlines(),highlightId:T,clipPathId:E}),M(b=u,lt,Cu).call(b)}return u}serialize(r=!1){if(this.isEmpty()||r)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),i=Vt._colorManager.convert(this.color),a={annotationType:dt.HIGHLIGHT,color:i,opacity:g(this,Zo),thickness:g(this,Ma),quadPoints:M(this,lt,LV).call(this),outlines:M(this,lt,$V).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:M(this,lt,Em).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!M(this,lt,jV).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(r){return r.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};y0=new WeakMap,Iy=new WeakMap,Jo=new WeakMap,Cf=new WeakMap,x0=new WeakMap,Oa=new WeakMap,Oy=new WeakMap,My=new WeakMap,kf=new WeakMap,_s=new WeakMap,Jn=new WeakMap,Mi=new WeakMap,_0=new WeakMap,Zo=new WeakMap,cn=new WeakMap,w0=new WeakMap,Ma=new WeakMap,Ny=new WeakMap,lt=new WeakSet,UC=function(){const r=new vL(g(this,Jo),.001);O(this,_s,r.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=g(this,_s).box;const n=new vL(g(this,Jo),.0025,.001,this._uiManager.direction==="ltr");O(this,Oa,n.getOutlines());const{lastPoint:i}=g(this,Oa).box;O(this,_0,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},j1=function({highlightOutlines:r,highlightId:n,clipPathId:i}){var f,d;if(O(this,_s,r),O(this,Oa,r.getNewOutline(g(this,Ma)/2+1.5,.0025)),n>=0)O(this,Jn,n),O(this,Cf,i),this.parent.drawLayer.finalizeLine(n,r),O(this,cn,this.parent.drawLayer.drawOutline(g(this,Oa)));else if(this.parent){const h=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(g(this,Jn),r),this.parent.drawLayer.updateBox(g(this,Jn),M(f=Dt,Ba,Xd).call(f,g(this,_s).box,(h-this.rotation+360)%360)),this.parent.drawLayer.updateLine(g(this,cn),g(this,Oa)),this.parent.drawLayer.updateBox(g(this,cn),M(d=Dt,Ba,Xd).call(d,g(this,Oa).box,h))}const{x:s,y:o,width:l,height:c}=r.box;switch(this.rotation){case 0:this.x=s,this.y=o,this.width=l,this.height=c;break;case 90:{const[h,m]=this.parentDimensions;this.x=o,this.y=1-s,this.width=l*m/h,this.height=c*h/m;break}case 180:this.x=1-s,this.y=1-o,this.width=l,this.height=c;break;case 270:{const[h,m]=this.parentDimensions;this.x=1-o,this.y=s,this.width=l*m/h,this.height=c*h/m;break}}const{lastPoint:u}=g(this,Oa).box;O(this,_0,[(u[0]-s)/l,(u[1]-o)/c])},NV=function(r){const n=(s,o)=>{var l,c,u;this.color=s,(l=this.parent)==null||l.drawLayer.changeColor(g(this,Jn),s),(c=g(this,x0))==null||c.updateColor(s),O(this,Zo,o),(u=this.parent)==null||u.drawLayer.changeOpacity(g(this,Jn),o)},i=this.color,a=g(this,Zo);this.addCommands({cmd:n.bind(this,r,Dt._defaultOpacity),undo:n.bind(this,i,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:it.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(r)},!0)},RV=function(r){const n=g(this,Ma),i=a=>{O(this,Ma,a),M(this,lt,DV).call(this,a)};this.addCommands({cmd:i.bind(this,r),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:it.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:r},!0)},DV=function(r){if(!g(this,Mi))return;M(this,lt,j1).call(this,{highlightOutlines:g(this,_s).getNewOutline(r/2)}),this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)},jC=function(){g(this,Jn)===null||!this.parent||(this.parent.drawLayer.remove(g(this,Jn)),O(this,Jn,null),this.parent.drawLayer.remove(g(this,cn)),O(this,cn,null))},Cu=function(r=this.parent){g(this,Jn)===null&&({id:di(this,Jn)._,clipPathId:di(this,Cf)._}=r.drawLayer.draw(g(this,_s),this.color,g(this,Zo)),O(this,cn,r.drawLayer.drawOutline(g(this,Oa))),g(this,kf)&&(g(this,kf).style.clipPath=g(this,Cf)))},Ba=new WeakSet,Xd=function({x:r,y:n,width:i,height:a},s){switch(s){case 90:return{x:1-n-a,y:r,width:a,height:i};case 180:return{x:1-r-i,y:1-n-a,width:i,height:a};case 270:return{x:n,y:1-r-i,width:a,height:i}}return{x:r,y:n,width:i,height:a}},FV=function(r){Dt._keyboardManager.exec(this,r)},V1=function(r){if(!g(this,y0))return;const n=window.getSelection();r?n.setPosition(g(this,y0),g(this,Iy)):n.setPosition(g(this,Oy),g(this,My))},Em=function(){return g(this,Mi)?this.rotation:0},LV=function(){if(g(this,Mi))return null;const[r,n]=this.pageDimensions,[i,a]=this.pageTranslation,s=g(this,Jo),o=new Float32Array(s.length*8);let l=0;for(const{x:c,y:u,width:f,height:d}of s){const h=c*r+i,m=(1-u-d)*n+a;o[l]=o[l+4]=h,o[l+1]=o[l+3]=m,o[l+2]=o[l+6]=h+f*r,o[l+5]=o[l+7]=m+d*n,l+=8}return o},$V=function(r){return g(this,_s).serialize(r,M(this,lt,Em).call(this))},BV=function(r,n){this._freeHighlight.add(n)&&r.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},UV=function(r,n){this._freeHighlight.isEmpty()?r.drawLayer.remove(this._freeHighlightId):r.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},jV=function(r){const{color:n}=this._initialData;return r.color.some((i,a)=>i!==n[a])},B(Dt,Ba),nt(Dt,"_defaultColor",null),nt(Dt,"_defaultOpacity",1),nt(Dt,"_defaultThickness",12),nt(Dt,"_type","highlight"),nt(Dt,"_editorType",dt.HIGHLIGHT),nt(Dt,"_freeHighlightId",-1),nt(Dt,"_freeHighlight",null),nt(Dt,"_freeHighlightClipId","");let Hw=Dt;var Pf,If,ao,Qo,Na,Of,Mf,Nf,el,b0,Rf,Df,Sc,Oe,VV,HV,WV,zV,HC,GV,WC,qV,XV,KV,YV,JV,ku,zC,GC,qC,H1,W1,Kd,XC,z1,Dl,ZV,KC,QV,eH,YC,G1,Cm;const xr=class xr extends Vt{constructor(r){super({...r,name:"inkEditor"});B(this,Oe);B(this,Pf,0);B(this,If,0);B(this,ao,null);B(this,Qo,new Path2D);B(this,Na,!1);B(this,Of,null);B(this,Mf,!1);B(this,Nf,!1);B(this,el,null);B(this,b0,null);B(this,Rf,0);B(this,Df,0);B(this,Sc,null);this.color=r.color||null,this.thickness=r.thickness||null,this.opacity=r.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(r,n){Vt.initialize(r,n)}static updateDefaultParams(r,n){switch(r){case it.INK_THICKNESS:xr._defaultThickness=n;break;case it.INK_COLOR:xr._defaultColor=n;break;case it.INK_OPACITY:xr._defaultOpacity=n/100;break}}updateParams(r,n){switch(r){case it.INK_THICKNESS:M(this,Oe,VV).call(this,n);break;case it.INK_COLOR:M(this,Oe,HV).call(this,n);break;case it.INK_OPACITY:M(this,Oe,WV).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[it.INK_THICKNESS,xr._defaultThickness],[it.INK_COLOR,xr._defaultColor||Vt._defaultLineColor],[it.INK_OPACITY,Math.round(xr._defaultOpacity*100)]]}get propertiesToUpdate(){return[[it.INK_THICKNESS,this.thickness||xr._defaultThickness],[it.INK_COLOR,this.color||xr._defaultColor||Vt._defaultLineColor],[it.INK_OPACITY,Math.round(100*(this.opacity??xr._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(M(this,Oe,H1).call(this),M(this,Oe,W1).call(this)),this.isAttachedToDOM||(this.parent.add(this),M(this,Oe,Kd).call(this)),M(this,Oe,Cm).call(this)))}remove(){var r;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,g(this,ao)&&(clearTimeout(g(this,ao)),O(this,ao,null)),(r=g(this,el))==null||r.disconnect(),O(this,el,null),super.remove())}setParent(r){!this.parent&&r?this._uiManager.removeShouldRescale(this):this.parent&&r===null&&this._uiManager.addShouldRescale(this),super.setParent(r)}onScaleChanging(){const[r,n]=this.parentDimensions,i=this.width*r,a=this.height*n;this.setDimensions(i,a)}enableEditMode(){g(this,Na)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,M(this,Oe,zC).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),M(this,Oe,GC).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){g(this,Na)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),O(this,Na,!0),this.div.classList.add("disabled"),M(this,Oe,Cm).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(r){this._focusEventsAllowed&&(super.focusin(r),this.enableEditMode())}canvasPointerdown(r){r.button!==0||!this.isInEditMode()||g(this,Na)||(this.setInForeground(),r.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),M(this,Oe,GV).call(this,r.offsetX,r.offsetY))}canvasPointermove(r){r.preventDefault(),M(this,Oe,WC).call(this,r.offsetX,r.offsetY)}canvasPointerup(r){r.preventDefault(),M(this,Oe,qC).call(this,r)}canvasPointerleave(r){M(this,Oe,qC).call(this,r)}get isResizable(){return!this.isEmpty()&&g(this,Na)}render(){if(this.div)return this.div;let r,n;this.width&&(r=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,a,s,o]=M(this,Oe,zV).call(this);if(this.setAt(i,a,0,0),this.setDims(s,o),M(this,Oe,H1).call(this),this.width){const[l,c]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*c),this.setAt(r*l,n*c,this.width*l,this.height*c),O(this,Nf,!0),M(this,Oe,Kd).call(this),this.setDims(this.width*l,this.height*c),M(this,Oe,ku).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return M(this,Oe,W1).call(this),this.div}setDimensions(r,n){const i=Math.round(r),a=Math.round(n);if(g(this,Rf)===i&&g(this,Df)===a)return;O(this,Rf,i),O(this,Df,a),this.canvas.style.visibility="hidden";const[s,o]=this.parentDimensions;this.width=r/s,this.height=n/o,this.fixAndSetPosition(),g(this,Na)&&M(this,Oe,XC).call(this,r,n),M(this,Oe,Kd).call(this),M(this,Oe,ku).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(r,n,i){var y,_,b;if(r instanceof CO)return null;const a=await super.deserialize(r,n,i);a.thickness=r.thickness,a.color=ze.makeHexColor(...r.color),a.opacity=r.opacity;const[s,o]=a.pageDimensions,l=a.width*s,c=a.height*o,u=a.parentScale,f=r.thickness/2;O(a,Na,!0),O(a,Rf,Math.round(l)),O(a,Df,Math.round(c));const{paths:d,rect:h,rotation:m}=r;for(let{bezier:w}of d){w=M(y=xr,Dl,QV).call(y,w,h,m);const A=[];a.paths.push(A);let S=u*(w[0]-f),T=u*(w[1]-f);for(let P=2,k=w.length;P<k;P+=6){const D=u*(w[P]-f),I=u*(w[P+1]-f),N=u*(w[P+2]-f),U=u*(w[P+3]-f),X=u*(w[P+4]-f),G=u*(w[P+5]-f);A.push([[S,T],[D,I],[N,U],[X,G]]),S=X,T=G}const E=M(this,Dl,ZV).call(this,A);a.bezierPath2D.push(E)}const p=M(_=a,Oe,YC).call(_);return O(a,If,Math.max(Vt.MIN_SIZE,p[2]-p[0])),O(a,Pf,Math.max(Vt.MIN_SIZE,p[3]-p[1])),M(b=a,Oe,XC).call(b,l,c),a}serialize(){if(this.isEmpty())return null;const r=this.getRect(0,0),n=Vt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:dt.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:M(this,Oe,eH).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,r),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Pf=new WeakMap,If=new WeakMap,ao=new WeakMap,Qo=new WeakMap,Na=new WeakMap,Of=new WeakMap,Mf=new WeakMap,Nf=new WeakMap,el=new WeakMap,b0=new WeakMap,Rf=new WeakMap,Df=new WeakMap,Sc=new WeakMap,Oe=new WeakSet,VV=function(r){const n=a=>{this.thickness=a,M(this,Oe,Cm).call(this)},i=this.thickness;this.addCommands({cmd:n.bind(this,r),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:it.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},HV=function(r){const n=a=>{this.color=a,M(this,Oe,ku).call(this)},i=this.color;this.addCommands({cmd:n.bind(this,r),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:it.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},WV=function(r){const n=a=>{this.opacity=a,M(this,Oe,ku).call(this)};r/=100;const i=this.opacity;this.addCommands({cmd:n.bind(this,r),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:it.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},zV=function(){const{parentRotation:r,parentDimensions:[n,i]}=this;switch(r){case 90:return[0,i,i,n];case 180:return[n,i,n,i];case 270:return[n,0,i,n];default:return[0,0,n,i]}},HC=function(){const{ctx:r,color:n,opacity:i,thickness:a,parentScale:s,scaleFactor:o}=this;r.lineWidth=a*s/o,r.lineCap="round",r.lineJoin="round",r.miterLimit=10,r.strokeStyle=`${n}${FIe(i)}`},GV=function(r,n){this.canvas.addEventListener("contextmenu",Ja,{signal:this._uiManager._signal}),M(this,Oe,GC).call(this),O(this,Of,new AbortController);const i=this._uiManager.combinedSignal(g(this,Of));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:i}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:i}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:i}),this.isEditing=!0,g(this,Nf)||(O(this,Nf,!0),M(this,Oe,Kd).call(this),this.thickness||(this.thickness=xr._defaultThickness),this.color||(this.color=xr._defaultColor||Vt._defaultLineColor),this.opacity??(this.opacity=xr._defaultOpacity)),this.currentPath.push([r,n]),O(this,Mf,!1),M(this,Oe,HC).call(this),O(this,Sc,()=>{M(this,Oe,KV).call(this),g(this,Sc)&&window.requestAnimationFrame(g(this,Sc))}),window.requestAnimationFrame(g(this,Sc))},WC=function(r,n){const[i,a]=this.currentPath.at(-1);if(this.currentPath.length>1&&r===i&&n===a)return;const s=this.currentPath;let o=g(this,Qo);if(s.push([r,n]),O(this,Mf,!0),s.length<=2){o.moveTo(...s[0]),o.lineTo(r,n);return}s.length===3&&(O(this,Qo,o=new Path2D),o.moveTo(...s[0])),M(this,Oe,YV).call(this,o,...s.at(-3),...s.at(-2),r,n)},qV=function(){if(this.currentPath.length===0)return;const r=this.currentPath.at(-1);g(this,Qo).lineTo(...r)},XV=function(r,n){O(this,Sc,null),r=Math.min(Math.max(r,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),M(this,Oe,WC).call(this,r,n),M(this,Oe,qV).call(this);let i;if(this.currentPath.length!==1)i=M(this,Oe,JV).call(this);else{const c=[r,n];i=[[c,c.slice(),c.slice(),c]]}const a=g(this,Qo),s=this.currentPath;this.currentPath=[],O(this,Qo,new Path2D);const o=()=>{this.allRawPaths.push(s),this.paths.push(i),this.bezierPath2D.push(a),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(M(this,Oe,H1).call(this),M(this,Oe,W1).call(this)),M(this,Oe,Cm).call(this))};this.addCommands({cmd:o,undo:l,mustExec:!0})},KV=function(){if(!g(this,Mf))return;O(this,Mf,!1);const r=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),i=n.map(o=>o[0]),a=n.map(o=>o[1]);Math.min(...i)-r,Math.max(...i)+r,Math.min(...a)-r,Math.max(...a)+r;const{ctx:s}=this;s.save(),s.clearRect(0,0,this.canvas.width,this.canvas.height);for(const o of this.bezierPath2D)s.stroke(o);s.stroke(g(this,Qo)),s.restore()},YV=function(r,n,i,a,s,o,l){const c=(n+a)/2,u=(i+s)/2,f=(a+o)/2,d=(s+l)/2;r.bezierCurveTo(c+2*(a-c)/3,u+2*(s-u)/3,f+2*(a-f)/3,d+2*(s-d)/3,f,d)},JV=function(){const r=this.currentPath;if(r.length<=2)return[[r[0],r[0],r.at(-1),r.at(-1)]];const n=[];let i,[a,s]=r[0];for(i=1;i<r.length-2;i++){const[h,m]=r[i],[p,y]=r[i+1],_=(h+p)/2,b=(m+y)/2,w=[a+2*(h-a)/3,s+2*(m-s)/3],A=[_+2*(h-_)/3,b+2*(m-b)/3];n.push([[a,s],w,A,[_,b]]),[a,s]=[_,b]}const[o,l]=r[i],[c,u]=r[i+1],f=[a+2*(o-a)/3,s+2*(l-s)/3],d=[c+2*(o-c)/3,u+2*(l-u)/3];return n.push([[a,s],f,d,[c,u]]),n},ku=function(){if(this.isEmpty()){M(this,Oe,z1).call(this);return}M(this,Oe,HC).call(this);const{canvas:r,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,r.width,r.height),M(this,Oe,z1).call(this);for(const i of this.bezierPath2D)n.stroke(i)},zC=function(){if(g(this,b0))return;O(this,b0,new AbortController);const r=this._uiManager.combinedSignal(g(this,b0));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:r})},GC=function(){var r;(r=this.pointerdownAC)==null||r.abort(),this.pointerdownAC=null},qC=function(r){var n;(n=g(this,Of))==null||n.abort(),O(this,Of,null),M(this,Oe,zC).call(this),g(this,ao)&&clearTimeout(g(this,ao)),O(this,ao,setTimeout(()=>{O(this,ao,null),this.canvas.removeEventListener("contextmenu",Ja)},10)),M(this,Oe,XV).call(this,r.offsetX,r.offsetY),this.addToAnnotationStorage(),this.setInBackground()},H1=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},W1=function(){O(this,el,new ResizeObserver(r=>{const n=r[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),g(this,el).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var r;(r=g(this,el))==null||r.disconnect(),O(this,el,null)},{once:!0})},Kd=function(){if(!g(this,Nf))return;const[r,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*r),this.canvas.height=Math.ceil(this.height*n),M(this,Oe,z1).call(this)},XC=function(r,n){const i=M(this,Oe,G1).call(this),a=(r-i)/g(this,If),s=(n-i)/g(this,Pf);this.scaleFactor=Math.min(a,s)},z1=function(){const r=M(this,Oe,G1).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+r,this.translationY*this.scaleFactor+r)},Dl=new WeakSet,ZV=function(r){const n=new Path2D;for(let i=0,a=r.length;i<a;i++){const[s,o,l,c]=r[i];i===0&&n.moveTo(...s),n.bezierCurveTo(o[0],o[1],l[0],l[1],c[0],c[1])}return n},KC=function(r,n,i){const[a,s,o,l]=n;switch(i){case 0:for(let c=0,u=r.length;c<u;c+=2)r[c]+=a,r[c+1]=l-r[c+1];break;case 90:for(let c=0,u=r.length;c<u;c+=2){const f=r[c];r[c]=r[c+1]+a,r[c+1]=f+s}break;case 180:for(let c=0,u=r.length;c<u;c+=2)r[c]=o-r[c],r[c+1]+=s;break;case 270:for(let c=0,u=r.length;c<u;c+=2){const f=r[c];r[c]=o-r[c+1],r[c+1]=l-f}break;default:throw new Error("Invalid rotation")}return r},QV=function(r,n,i){const[a,s,o,l]=n;switch(i){case 0:for(let c=0,u=r.length;c<u;c+=2)r[c]-=a,r[c+1]=l-r[c+1];break;case 90:for(let c=0,u=r.length;c<u;c+=2){const f=r[c];r[c]=r[c+1]-s,r[c+1]=f-a}break;case 180:for(let c=0,u=r.length;c<u;c+=2)r[c]=o-r[c],r[c+1]-=s;break;case 270:for(let c=0,u=r.length;c<u;c+=2){const f=r[c];r[c]=l-r[c+1],r[c+1]=o-f}break;default:throw new Error("Invalid rotation")}return r},eH=function(r,n,i,a){var u,f;const s=[],o=this.thickness/2,l=r*n+o,c=r*i+o;for(const d of this.paths){const h=[],m=[];for(let p=0,y=d.length;p<y;p++){const[_,b,w,A]=d[p];if(_[0]===A[0]&&_[1]===A[1]&&y===1){const U=r*_[0]+l,X=r*_[1]+c;h.push(U,X),m.push(U,X);break}const S=r*_[0]+l,T=r*_[1]+c,E=r*b[0]+l,P=r*b[1]+c,k=r*w[0]+l,D=r*w[1]+c,I=r*A[0]+l,N=r*A[1]+c;p===0&&(h.push(S,T),m.push(S,T)),h.push(E,P,k,D,I,N),m.push(E,P),p===y-1&&m.push(I,N)}s.push({bezier:M(u=xr,Dl,KC).call(u,h,a,this.rotation),points:M(f=xr,Dl,KC).call(f,m,a,this.rotation)})}return s},YC=function(){let r=1/0,n=-1/0,i=1/0,a=-1/0;for(const s of this.paths)for(const[o,l,c,u]of s){const f=ze.bezierBoundingBox(...o,...l,...c,...u);r=Math.min(r,f[0]),i=Math.min(i,f[1]),n=Math.max(n,f[2]),a=Math.max(a,f[3])}return[r,i,n,a]},G1=function(){return g(this,Na)?Math.ceil(this.thickness*this.parentScale):0},Cm=function(r=!1){if(this.isEmpty())return;if(!g(this,Na)){M(this,Oe,ku).call(this);return}const n=M(this,Oe,YC).call(this),i=M(this,Oe,G1).call(this);O(this,If,Math.max(Vt.MIN_SIZE,n[2]-n[0])),O(this,Pf,Math.max(Vt.MIN_SIZE,n[3]-n[1]));const a=Math.ceil(i+g(this,If)*this.scaleFactor),s=Math.ceil(i+g(this,Pf)*this.scaleFactor),[o,l]=this.parentDimensions;this.width=a/o,this.height=s/l,this.setAspectRatio(a,s);const c=this.translationX,u=this.translationY;this.translationX=-n[0],this.translationY=-n[1],M(this,Oe,Kd).call(this),M(this,Oe,ku).call(this),O(this,Rf,a),O(this,Df,s),this.setDims(a,s);const f=r?i/this.scaleFactor/2:0;this.translate(c-this.translationX-f,u-this.translationY-f)},B(xr,Dl),nt(xr,"_defaultColor",null),nt(xr,"_defaultOpacity",1),nt(xr,"_defaultThickness",1),nt(xr,"_type","ink"),nt(xr,"_editorType",dt.INK);let VC=xr;var wr,Rn,Ac,tl,Tc,S0,so,rl,oo,ta,A0,St,km,Pm,q1,ZC,tH,X1,QC,K1,rH,nH;const ig=class ig extends Vt{constructor(r){super({...r,name:"stampEditor"});B(this,St);B(this,wr,null);B(this,Rn,null);B(this,Ac,null);B(this,tl,null);B(this,Tc,null);B(this,S0,"");B(this,so,null);B(this,rl,null);B(this,oo,null);B(this,ta,!1);B(this,A0,!1);O(this,tl,r.bitmapUrl),O(this,Tc,r.bitmapFile)}static initialize(r,n){Vt.initialize(r,n)}static get supportedTypes(){return At(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return At(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(r){return this.supportedTypes.includes(r)}static paste(r,n){n.pasteEditor(dt.STAMP,{bitmapFile:r.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var r;return{type:"stamp",hasAltText:!!((r=this.altTextData)!=null&&r.altText)}}static computeTelemetryFinalData(r){const n=r.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(r=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:s,height:o}=r||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:a,width:s,height:o,channels:a.length/(s*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),n&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var r,n;g(this,Rn)&&(O(this,wr,null),this._uiManager.imageManager.deleteId(g(this,Rn)),(r=g(this,so))==null||r.remove(),O(this,so,null),(n=g(this,rl))==null||n.disconnect(),O(this,rl,null),g(this,oo)&&(clearTimeout(g(this,oo)),O(this,oo,null))),super.remove()}rebuild(){if(!this.parent){g(this,Rn)&&M(this,St,q1).call(this);return}super.rebuild(),this.div!==null&&(g(this,Rn)&&g(this,so)===null&&M(this,St,q1).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(g(this,Ac)||g(this,wr)||g(this,tl)||g(this,Tc)||g(this,Rn))}get isResizable(){return!0}render(){if(this.div)return this.div;let r,n;if(this.width&&(r=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),g(this,wr)?M(this,St,ZC).call(this):M(this,St,q1).call(this),this.width&&!this.annotationElementId){const[i,a]=this.parentDimensions;this.setAt(r*i,n*a,this.width*i,this.height*a)}return this.div}copyCanvas(r,n,i=!1){var h;r||(r=224);const{width:a,height:s}=g(this,wr),o=new X2;let l=g(this,wr),c=a,u=s,f=null;if(n){if(a>n||s>n){const P=Math.min(n/a,n/s);c=Math.floor(a*P),u=Math.floor(s*P)}f=document.createElement("canvas");const m=f.width=Math.ceil(c*o.sx),p=f.height=Math.ceil(u*o.sy);g(this,ta)||(l=M(this,St,X1).call(this,m,p));const y=f.getContext("2d");y.filter=this._uiManager.hcmFilter;let _="white",b="#cfcfd8";this._uiManager.hcmFilter!=="none"?b="black":(h=window.matchMedia)!=null&&h.call(window,"(prefers-color-scheme: dark)").matches&&(_="#8f8f9d",b="#42414d");const w=15,A=w*o.sx,S=w*o.sy,T=new OffscreenCanvas(A*2,S*2),E=T.getContext("2d");E.fillStyle=_,E.fillRect(0,0,A*2,S*2),E.fillStyle=b,E.fillRect(0,0,A,S),E.fillRect(A,S,A,S),y.fillStyle=y.createPattern(T,"repeat"),y.fillRect(0,0,m,p),y.drawImage(l,0,0,l.width,l.height,0,0,m,p)}let d=null;if(i){let m,p;if(o.symmetric&&l.width<r&&l.height<r)m=l.width,p=l.height;else if(l=g(this,wr),a>r||s>r){const b=Math.min(r/a,r/s);m=Math.floor(a*b),p=Math.floor(s*b),g(this,ta)||(l=M(this,St,X1).call(this,m,p))}const _=new OffscreenCanvas(m,p).getContext("2d",{willReadFrequently:!0});_.drawImage(l,0,0,l.width,l.height,0,0,m,p),d={width:m,height:p,data:_.getImageData(0,0,m,p).data}}return{canvas:f,width:c,height:u,imageData:d}}getImageForAltText(){return g(this,so)}static async deserialize(r,n,i){var p;let a=null;if(r instanceof hV){const{data:{rect:y,rotation:_,id:b,structParent:w,popupRef:A},container:S,parent:{page:{pageNumber:T}}}=r,E=S.querySelector("canvas"),P=i.imageManager.getFromCanvas(S.id,E);E.remove();const k=((p=await n._structTree.getAriaAttributes(`${gO}${b}`))==null?void 0:p.get("aria-label"))||"";a=r={annotationType:dt.STAMP,bitmapId:P.id,bitmap:P.bitmap,pageIndex:T-1,rect:y.slice(0),rotation:_,id:b,deleted:!1,accessibilityData:{decorative:!1,altText:k},isSvg:!1,structParent:w,popupRef:A}}const s=await super.deserialize(r,n,i),{rect:o,bitmap:l,bitmapUrl:c,bitmapId:u,isSvg:f,accessibilityData:d}=r;u&&i.imageManager.isValidId(u)?(O(s,Rn,u),l&&O(s,wr,l)):O(s,tl,c),O(s,ta,f);const[h,m]=s.pageDimensions;return s.width=(o[2]-o[0])/h,s.height=(o[3]-o[1])/m,s.annotationElementId=r.id||null,d&&(s.altTextData=d),s._initialData=a,O(s,A0,!!a),s}serialize(r=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:dt.STAMP,bitmapId:g(this,Rn),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:g(this,ta),structTreeParentId:this._structTreeParentId};if(r)return i.bitmapUrl=M(this,St,K1).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i;const{decorative:a,altText:s}=this.serializeAltText(!1);if(!a&&s&&(i.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const l=M(this,St,nH).call(this,i);if(l.isSame)return null;l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,n===null)return i;n.stamps||(n.stamps=new Map);const o=g(this,ta)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(g(this,Rn)))n.stamps.set(g(this,Rn),{area:o,serialized:i}),i.bitmap=M(this,St,K1).call(this,!1);else if(g(this,ta)){const l=n.stamps.get(g(this,Rn));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=M(this,St,K1).call(this,!1))}return i}renderAnnotationElement(r){return r.updateEdited({rect:this.getRect(0,0)}),null}};wr=new WeakMap,Rn=new WeakMap,Ac=new WeakMap,tl=new WeakMap,Tc=new WeakMap,S0=new WeakMap,so=new WeakMap,rl=new WeakMap,oo=new WeakMap,ta=new WeakMap,A0=new WeakMap,St=new WeakSet,km=function(r,n=!1){if(!r){this.remove();return}O(this,wr,r.bitmap),n||(O(this,Rn,r.id),O(this,ta,r.isSvg)),r.file&&O(this,S0,r.file.name),M(this,St,ZC).call(this)},Pm=function(){if(O(this,Ac,null),this._uiManager.enableWaiting(!1),!!g(this,so)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&g(this,wr)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&g(this,wr)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},q1=function(){if(g(this,Rn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(g(this,Rn)).then(i=>M(this,St,km).call(this,i,!0)).finally(()=>M(this,St,Pm).call(this));return}if(g(this,tl)){const i=g(this,tl);O(this,tl,null),this._uiManager.enableWaiting(!0),O(this,Ac,this._uiManager.imageManager.getFromUrl(i).then(a=>M(this,St,km).call(this,a)).finally(()=>M(this,St,Pm).call(this)));return}if(g(this,Tc)){const i=g(this,Tc);O(this,Tc,null),this._uiManager.enableWaiting(!0),O(this,Ac,this._uiManager.imageManager.getFromFile(i).then(a=>M(this,St,km).call(this,a)).finally(()=>M(this,St,Pm).call(this)));return}const r=document.createElement("input");r.type="file",r.accept=ig.supportedTypesStr;const n=this._uiManager._signal;O(this,Ac,new Promise(i=>{r.addEventListener("change",async()=>{if(!r.files||r.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(r.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),M(this,St,km).call(this,a)}i()},{signal:n}),r.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>M(this,St,Pm).call(this))),r.click()},ZC=function(){const{div:r}=this;let{width:n,height:i}=g(this,wr);const[a,s]=this.pageDimensions,o=.75;if(this.width)n=this.width*a,i=this.height*s;else if(n>o*a||i>o*s){const f=Math.min(o*a/n,o*s/i);n*=f,i*=f}const[l,c]=this.parentDimensions;this.setDims(n*l/a,i*c/s),this._uiManager.enableWaiting(!1);const u=O(this,so,document.createElement("canvas"));u.setAttribute("role","img"),this.addContainer(u),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(r.hidden=!1),M(this,St,QC).call(this,n,i),M(this,St,rH).call(this),g(this,A0)||(this.parent.addUndoableEditor(this),O(this,A0,!0)),this._reportTelemetry({action:"inserted_image"}),g(this,S0)&&u.setAttribute("aria-label",g(this,S0))},tH=function(r,n){var o;const[i,a]=this.parentDimensions;this.width=r/i,this.height=n/a,(o=this._initialOptions)!=null&&o.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,g(this,oo)!==null&&clearTimeout(g(this,oo)),O(this,oo,setTimeout(()=>{O(this,oo,null),M(this,St,QC).call(this,r,n)},200))},X1=function(r,n){const{width:i,height:a}=g(this,wr);let s=i,o=a,l=g(this,wr);for(;s>2*r||o>2*n;){const c=s,u=o;s>2*r&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const f=new OffscreenCanvas(s,o);f.getContext("2d").drawImage(l,0,0,c,u,0,0,s,o),l=f.transferToImageBitmap()}return l},QC=function(r,n){const i=new X2,a=Math.ceil(r*i.sx),s=Math.ceil(n*i.sy),o=g(this,so);if(!o||o.width===a&&o.height===s)return;o.width=a,o.height=s;const l=g(this,ta)?g(this,wr):M(this,St,X1).call(this,a,s),c=o.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(l,0,0,l.width,l.height,0,0,a,s)},K1=function(r){if(r){if(g(this,ta)){const a=this._uiManager.imageManager.getSvgUrl(g(this,Rn));if(a)return a}const n=document.createElement("canvas");return{width:n.width,height:n.height}=g(this,wr),n.getContext("2d").drawImage(g(this,wr),0,0),n.toDataURL()}if(g(this,ta)){const[n,i]=this.pageDimensions,a=Math.round(this.width*n*Zc.PDF_TO_CSS_UNITS),s=Math.round(this.height*i*Zc.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(a,s);return o.getContext("2d").drawImage(g(this,wr),0,0,g(this,wr).width,g(this,wr).height,0,0,a,s),o.transferToImageBitmap()}return structuredClone(g(this,wr))},rH=function(){this._uiManager._signal&&(O(this,rl,new ResizeObserver(r=>{const n=r[0].contentRect;n.width&&n.height&&M(this,St,tH).call(this,n.width,n.height)})),g(this,rl).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var r;(r=g(this,rl))==null||r.disconnect(),O(this,rl,null)},{once:!0}))},nH=function(r){var c;const{rect:n,pageIndex:i,accessibilityData:{altText:a}}=this._initialData,s=r.rect.every((u,f)=>Math.abs(u-n[f])<1),o=r.pageIndex===i,l=(((c=r.accessibilityData)==null?void 0:c.alt)||"")===a;return{isSame:s&&o&&l,isSameAltText:l}},nt(ig,"_type","stamp"),nt(ig,"_editorType",dt.STAMP);let JC=ig;var Ff,T0,lo,Ec,nl,ra,Cc,E0,C0,Zn,il,Xe,kc,jn,iH,tk,rk,nk,Y1;const as=class as{constructor({uiManager:e,pageIndex:r,div:n,structTreeLayer:i,accessibilityManager:a,annotationLayer:s,drawLayer:o,textLayer:l,viewport:c,l10n:u}){B(this,jn);B(this,Ff);B(this,T0,!1);B(this,lo,null);B(this,Ec,null);B(this,nl,null);B(this,ra,new Map);B(this,Cc,!1);B(this,E0,!1);B(this,C0,!1);B(this,Zn,null);B(this,il,null);B(this,Xe);const f=[...g(as,kc).values()];if(!as._initialized){as._initialized=!0;for(const d of f)d.initialize(u,e)}e.registerEditorTypes(f),O(this,Xe,e),this.pageIndex=r,this.div=n,O(this,Ff,a),O(this,lo,s),this.viewport=c,O(this,Zn,l),this.drawLayer=o,this._structTree=i,g(this,Xe).addLayer(this)}get isEmpty(){return g(this,ra).size===0}get isInvisible(){return this.isEmpty&&g(this,Xe).getMode()===dt.NONE}updateToolbar(e){g(this,Xe).updateToolbar(e)}updateMode(e=g(this,Xe).getMode()){switch(M(this,jn,Y1).call(this),e){case dt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case dt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case dt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:r}=this.div;for(const n of g(as,kc).values())r.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var r;return e===((r=g(this,Zn))==null?void 0:r.div)}addInkEditorIfNeeded(e){if(g(this,Xe).getMode()!==dt.INK)return;if(!e){for(const n of g(this,ra).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){g(this,Xe).setEditingState(e)}addCommands(e){g(this,Xe).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var r;(r=g(this,lo))==null||r.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of g(this,ra).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(g(this,Xe).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!g(this,lo))return;const r=g(this,lo).getEditableAnnotations();for(const n of r){if(n.hide(),g(this,Xe).isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const i=await this.deserialize(n);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;O(this,C0,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,r=new Map;for(const a of g(this,ra).values())if(a.disableEditing(),!!a.annotationElementId){if(a.serialize()!==null){e.set(a.annotationElementId,a);continue}else r.set(a.annotationElementId,a);(i=this.getEditableAnnotation(a.annotationElementId))==null||i.show(),a.remove()}if(g(this,lo)){const a=g(this,lo).getEditableAnnotations();for(const s of a){const{id:o}=s.data;if(g(this,Xe).isDeletedAnnotationElement(o))continue;let l=r.get(o);if(l){l.resetAnnotationElement(s),l.show(!1),s.show();continue}l=e.get(o),l&&(g(this,Xe).addChangedExistingAnnotation(l),l.renderAnnotationElement(s)&&l.show(!1)),s.show()}}M(this,jn,Y1).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const a of g(as,kc).values())n.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),O(this,C0,!1)}getEditableAnnotation(e){var r;return((r=g(this,lo))==null?void 0:r.getEditableAnnotation(e))||null}setActiveEditor(e){g(this,Xe).getActive()!==e&&g(this,Xe).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=g(this,Zn))!=null&&e.div&&!g(this,il)){O(this,il,new AbortController);const r=g(this,Xe).combinedSignal(g(this,il));g(this,Zn).div.addEventListener("pointerdown",M(this,jn,iH).bind(this),{signal:r}),g(this,Zn).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=g(this,Zn))!=null&&e.div&&g(this,il)&&(g(this,il).abort(),O(this,il,null),g(this,Zn).div.classList.remove("highlighting"))}enableClick(){if(g(this,Ec))return;O(this,Ec,new AbortController);const e=g(this,Xe).combinedSignal(g(this,Ec));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=g(this,Ec))==null||e.abort(),O(this,Ec,null)}attach(e){g(this,ra).set(e.id,e);const{annotationElementId:r}=e;r&&g(this,Xe).isDeletedAnnotationElement(r)&&g(this,Xe).removeDeletedAnnotationElement(e)}detach(e){var r;g(this,ra).delete(e.id),(r=g(this,Ff))==null||r.removePointerInTextLayer(e.contentDiv),!g(this,C0)&&e.annotationElementId&&g(this,Xe).addDeletedAnnotationElement(e)}remove(e){this.detach(e),g(this,Xe).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,g(this,E0)||this.addInkEditorIfNeeded(!1)}changeParent(e){var r;e.parent!==this&&(e.parent&&e.annotationElementId&&(g(this,Xe).addDeletedAnnotationElement(e.annotationElementId),Vt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(r=e.parent)==null||r.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),g(this,Xe).addEditor(e),this.attach(e),!e.isAttachedToDOM){const r=e.render();this.div.append(r),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),g(this,Xe).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:r}=document;e.div.contains(r)&&!g(this,nl)&&(e._focusEventsAllowed=!1,O(this,nl,setTimeout(()=>{O(this,nl,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:g(this,Xe)._signal}),r.focus())},0))),e._structTreeParentId=(n=g(this,Ff))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const r=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:r,undo:n,mustExec:!1})}getNextId(){return g(this,Xe).getId()}combinedSignal(e){return g(this,Xe).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=g(this,jn,tk))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,r){g(this,Xe).updateToolbar(e),g(this,Xe).updateMode(e);const{offsetX:n,offsetY:i}=M(this,jn,nk).call(this),a=this.getNextId(),s=M(this,jn,rk).call(this,{parent:this,id:a,x:n,y:i,uiManager:g(this,Xe),isCentered:!0,...r});s&&this.add(s)}async deserialize(e){var r;return await((r=g(as,kc).get(e.annotationType??e.annotationEditorType))==null?void 0:r.deserialize(e,this,g(this,Xe)))||null}createAndAddNewEditor(e,r,n={}){const i=this.getNextId(),a=M(this,jn,rk).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:g(this,Xe),isCentered:r,...n});return a&&this.add(a),a}addNewEditor(){this.createAndAddNewEditor(M(this,jn,nk).call(this),!0)}setSelected(e){g(this,Xe).setSelected(e)}toggleSelected(e){g(this,Xe).toggleSelected(e)}unselect(e){g(this,Xe).unselect(e)}pointerup(e){const{isMac:r}=bi.platform;if(!(e.button!==0||e.ctrlKey&&r)&&e.target===this.div&&g(this,Cc)){if(O(this,Cc,!1),!g(this,T0)){O(this,T0,!0);return}if(g(this,Xe).getMode()===dt.STAMP){g(this,Xe).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(g(this,Xe).getMode()===dt.HIGHLIGHT&&this.enableTextSelection(),g(this,Cc)){O(this,Cc,!1);return}const{isMac:r}=bi.platform;if(e.button!==0||e.ctrlKey&&r||e.target!==this.div)return;O(this,Cc,!0);const n=g(this,Xe).getActive();O(this,T0,!n||n.isEmpty())}findNewParent(e,r,n){const i=g(this,Xe).findParent(r,n);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,r;((e=g(this,Xe).getActive())==null?void 0:e.parent)===this&&(g(this,Xe).commitOrRemove(),g(this,Xe).setActiveEditor(null)),g(this,nl)&&(clearTimeout(g(this,nl)),O(this,nl,null));for(const n of g(this,ra).values())(r=g(this,Ff))==null||r.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,g(this,ra).clear(),g(this,Xe).removeLayer(this)}render({viewport:e}){this.viewport=e,cd(this.div,e);for(const r of g(this,Xe).getEditors(this.pageIndex))this.add(r),r.rebuild();this.updateMode()}update({viewport:e}){g(this,Xe).commitOrRemove(),M(this,jn,Y1).call(this);const r=this.viewport.rotation,n=e.rotation;if(this.viewport=e,cd(this.div,{rotation:n}),r!==n)for(const i of g(this,ra).values())i.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:r}=this.viewport.rawDims;return[e,r]}get scale(){return g(this,Xe).viewParameters.realScale}};Ff=new WeakMap,T0=new WeakMap,lo=new WeakMap,Ec=new WeakMap,nl=new WeakMap,ra=new WeakMap,Cc=new WeakMap,E0=new WeakMap,C0=new WeakMap,Zn=new WeakMap,il=new WeakMap,Xe=new WeakMap,kc=new WeakMap,jn=new WeakSet,iH=function(e){g(this,Xe).unselectAll();const{target:r}=e;if(r===g(this,Zn).div||(r.getAttribute("role")==="img"||r.classList.contains("endOfContent"))&&g(this,Zn).div.contains(r)){const{isMac:n}=bi.platform;if(e.button!==0||e.ctrlKey&&n)return;g(this,Xe).showAllEditors("highlight",!0,!0),g(this,Zn).div.classList.add("free"),this.toggleDrawing(),Hw.startHighlighting(this,g(this,Xe).direction==="ltr",{target:g(this,Zn).div,x:e.x,y:e.y}),g(this,Zn).div.addEventListener("pointerup",()=>{g(this,Zn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:g(this,Xe)._signal}),e.preventDefault()}},tk=function(){return g(as,kc).get(g(this,Xe).getMode())},rk=function(e){const r=g(this,jn,tk);return r?new r.prototype.constructor(e):null},nk=function(){const{x:e,y:r,width:n,height:i}=this.div.getBoundingClientRect(),a=Math.max(0,e),s=Math.max(0,r),o=Math.min(window.innerWidth,e+n),l=Math.min(window.innerHeight,r+i),c=(a+o)/2-e,u=(s+l)/2-r,[f,d]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:f,offsetY:d}},Y1=function(){O(this,E0,!0);for(const e of g(this,ra).values())e.isEmpty()&&e.remove();O(this,E0,!1)},nt(as,"_initialized",!1),B(as,kc,new Map([NC,VC,JC,Hw].map(e=>[e._editorType,e])));let ek=as;var co,Ry,qr,al,Dy,ak,gd,sk,aH;const On=class On{constructor({pageIndex:e}){B(this,gd);B(this,co,null);B(this,Ry,0);B(this,qr,new Map);B(this,al,new Map);this.pageIndex=e}setParent(e){if(!g(this,co)){O(this,co,e);return}if(g(this,co)!==e){if(g(this,qr).size>0)for(const r of g(this,qr).values())r.remove(),e.append(r);O(this,co,e)}}static get _svgFactory(){return At(this,"_svgFactory",new EO)}draw(e,r,n,i=!1){const a=di(this,Ry)._++,s=M(this,gd,sk).call(this,e.box);s.classList.add(...e.classNamesForDrawing);const o=On._svgFactory.createElement("defs");s.append(o);const l=On._svgFactory.createElement("path");o.append(l);const c=`path_p${this.pageIndex}_${a}`;l.setAttribute("id",c),l.setAttribute("d",e.toSVGPath()),i&&g(this,al).set(a,l);const u=M(this,gd,aH).call(this,o,c),f=On._svgFactory.createElement("use");return s.append(f),s.setAttribute("fill",r),s.setAttribute("fill-opacity",n),f.setAttribute("href",`#${c}`),g(this,qr).set(a,s),{id:a,clipPathId:`url(#${u})`}}drawOutline(e){const r=di(this,Ry)._++,n=M(this,gd,sk).call(this,e.box);n.classList.add(...e.classNamesForOutlining);const i=On._svgFactory.createElement("defs");n.append(i);const a=On._svgFactory.createElement("path");i.append(a);const s=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",s),a.setAttribute("d",e.toSVGPath()),a.setAttribute("vector-effect","non-scaling-stroke");let o;if(e.mustRemoveSelfIntersections){const u=On._svgFactory.createElement("mask");i.append(u),o=`mask_p${this.pageIndex}_${r}`,u.setAttribute("id",o),u.setAttribute("maskUnits","objectBoundingBox");const f=On._svgFactory.createElement("rect");u.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const d=On._svgFactory.createElement("use");u.append(d),d.setAttribute("href",`#${s}`),d.setAttribute("stroke","none"),d.setAttribute("fill","black"),d.setAttribute("fill-rule","nonzero"),d.classList.add("mask")}const l=On._svgFactory.createElement("use");n.append(l),l.setAttribute("href",`#${s}`),o&&l.setAttribute("mask",`url(#${o})`);const c=l.cloneNode();return n.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),g(this,qr).set(r,n),r}finalizeLine(e,r){const n=g(this,al).get(e);g(this,al).delete(e),this.updateBox(e,r.box),n.setAttribute("d",r.toSVGPath())}updateLine(e,r){g(this,qr).get(e).firstChild.firstChild.setAttribute("d",r.toSVGPath())}updatePath(e,r){g(this,al).get(e).setAttribute("d",r.toSVGPath())}updateBox(e,r){var n;M(n=On,Dy,ak).call(n,g(this,qr).get(e),r)}show(e,r){g(this,qr).get(e).classList.toggle("hidden",!r)}rotate(e,r){g(this,qr).get(e).setAttribute("data-main-rotation",r)}changeColor(e,r){g(this,qr).get(e).setAttribute("fill",r)}changeOpacity(e,r){g(this,qr).get(e).setAttribute("fill-opacity",r)}addClass(e,r){g(this,qr).get(e).classList.add(r)}removeClass(e,r){g(this,qr).get(e).classList.remove(r)}getSVGRoot(e){return g(this,qr).get(e)}remove(e){g(this,al).delete(e),g(this,co)!==null&&(g(this,qr).get(e).remove(),g(this,qr).delete(e))}destroy(){O(this,co,null);for(const e of g(this,qr).values())e.remove();g(this,qr).clear(),g(this,al).clear()}};co=new WeakMap,Ry=new WeakMap,qr=new WeakMap,al=new WeakMap,Dy=new WeakSet,ak=function(e,{x:r=0,y:n=0,width:i=1,height:a=1}={}){const{style:s}=e;s.top=`${100*n}%`,s.left=`${100*r}%`,s.width=`${100*i}%`,s.height=`${100*a}%`},gd=new WeakSet,sk=function(e){var n;const r=On._svgFactory.create(1,1,!0);return g(this,co).append(r),r.setAttribute("aria-hidden",!0),M(n=On,Dy,ak).call(n,r,e),r},aH=function(e,r){const n=On._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${r}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const a=On._svgFactory.createElement("use");return n.append(a),a.setAttribute("href",`#${r}`),a.classList.add("clip"),i},B(On,Dy);let ik=On;st.AbortException;st.AnnotationEditorLayer;st.AnnotationEditorParamsType;st.AnnotationEditorType;st.AnnotationEditorUIManager;st.AnnotationLayer;st.AnnotationMode;st.ColorPicker;st.DOMSVGFactory;st.DrawLayer;st.FeatureTest;var mMe=st.GlobalWorkerOptions;st.ImageKind;st.InvalidPDFException;st.MissingPDFException;st.OPS;st.OutputScale;st.PDFDataRangeTransport;st.PDFDateString;st.PDFWorker;st.PasswordResponses;st.PermissionFlag;st.PixelsPerInch;st.RenderingCancelledException;st.TextLayer;st.UnexpectedResponseException;st.Util;st.VerbosityLevel;st.XfaLayer;st.build;st.createValidAbsoluteUrl;st.fetchData;var gMe=st.getDocument;st.getFilenameFromUrl;st.getPdfFilenameFromUrl;st.getXfaPageViewport;st.isDataScheme;st.isPdfFile;st.noContextMenu;st.normalizeUnicode;st.setLayerDimensions;st.shadow;var vMe=st.version;mMe.workerSrc=`https://unpkg.com/pdfjs-dist@${vMe}/build/pdf.worker.min.mjs`;const yMe=t=>{let e=0,r=0,n=0;if(e+=(t.speedingEventRate||0)*11,e+=(t.seatbeltOffRate||0)*11,e+=(t.signSignalRate||0)*11,e+=(t.distractionsRate||0)*7.1,e+=(t.followingDistanceRate||0)*4.7,t.dcr!==void 0){const i=Math.max(0,100-t.dcr);r+=i*12}if(t.dsb!==void 0&&(r+=t.dsb/500*12),t.pod!==void 0){const i=Math.max(0,100-t.pod);r+=i*3}return t.cdfDpmo!==void 0&&(n+=t.cdfDpmo/1e3*6),t.ced!==void 0&&(n+=t.ced*50),{score:parseFloat((e+r+n).toFixed(2)),breakdown:{safety:parseFloat(e.toFixed(2)),quality:parseFloat(r.toFixed(2)),customer:parseFloat(n.toFixed(2)),total:parseFloat((e+r+n).toFixed(2))}}},xMe=async t=>{const e=await t.arrayBuffer(),r=await gMe({data:e}).promise;let n="";for(let _=1;_<=r.numPages;_++){const A=(await(await r.getPage(_)).getTextContent()).items.map(S=>S.str).join(" ");n+=" "+A}const i=n.split(/\s+/).filter(_=>_.length>0),a=[];let s="Unknown",o="Unknown",l="Unknown",c="Unknown",u=[];const f=n.match(/Week\s+(\d+)/i);f&&(s=f[1]);const d=n.match(/GVIA\s+at\s+([A-Z0-9]+)/i);d&&(o=d[1]);const h=/Overall Standing[:\s]*([\d.]+)\s*[|/]\s*([A-Za-z\s]+?)(?=\s*(?:Safety|Poor|Fair|Great|Fantastic|See details))/i,m=n.match(h);if(m)l=m[1],c=m[2].trim();else{const _=n.match(/Overall Standing[:\s]*([\d.]+)/i);_&&(l=_[1]);const b=n.match(/(?:Overall Standing|Performance).*?(Fantastic Plus|Fantastic|Great|Fair|Poor)/i);b&&(c=b[1])}const p=/Key Focus Areas.*?1\.\s*(.+?)(?:2\.|\n).*?2\.\s*(.+?)(?:3\.|\n).*?3\.\s*(.+?)(?=\s*(?:Announcements|$|Page))/i,y=n.match(p);y?u=[y[1].trim(),y[2].trim(),y[3].trim()]:n.split(/1\.|2\.|3\./).length>3&&n.includes("Key Focus Areas");for(let _=0;_<i.length;_++){const b=i[_];if(/^[A-Z0-9]{8,}$/.test(b)&&/[A-Z]/.test(b)&&/[0-9]/.test(b)){let A=-1;for(let S=1;S<=6;S++){const T=i[_-S];if(/^\d+$/.test(T)){A=_-S;break}}if(A!==-1){const T=i.slice(A+1,_).join(" "),E=parseInt(i[A]),P=b,k=[];let D=_+1;for(let I=0;I<15&&!(D>=i.length);I++){let N=i[D];N==="No"&&i[D+1]==="Data"?(N="0",D+=2):D+=1,k.push(N)}if(k.length===15){const I=Q=>{if(!Q)return 0;const J=Q.replace(/[%]/g,""),ee=parseFloat(J);return isNaN(ee)?0:ee},N={speedingEventRate:I(k[3]),seatbeltOffRate:I(k[2]),signSignalRate:I(k[6]),distractionsRate:I(k[4]),followingDistanceRate:I(k[5]),dcr:I(k[9]),dsb:I(k[10]),pod:I(k[11]),cdfDpmo:I(k[7]),ced:I(k[8])},{score:U,breakdown:X}=yMe(N),G={rank:E,name:T,transporterId:P,delivered:I(k[0]),fico:k[1]==="0"?"No Data":k[1],seatbeltOffRate:N.seatbeltOffRate,speedingEventRate:N.speedingEventRate,distractionsRate:N.distractionsRate,followingDistanceRate:N.followingDistanceRate,signSignalRate:N.signSignalRate,cdfDpmo:N.cdfDpmo,ced:N.ced,dcr:N.dcr,dsb:N.dsb,pod:N.pod,psb:I(k[12]),dsbCount:I(k[13]),podOpps:I(k[14]),impactScore:U,impactBreakdown:X};a.find(Q=>Q.transporterId===G.transporterId)||a.push(G)}}}}return{week:s,station:o,overallScore:l,overallTier:c,keyFocusAreas:u,drivers:a}};var Nt;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},t.find=(i,a)=>{for(const s of i)if(a(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Nt||(Nt={}));var yL;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(yL||(yL={}));const Ve=Nt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Jl=t=>{switch(typeof t){case"undefined":return Ve.undefined;case"string":return Ve.string;case"number":return Number.isNaN(t)?Ve.nan:Ve.number;case"boolean":return Ve.boolean;case"function":return Ve.function;case"bigint":return Ve.bigint;case"symbol":return Ve.symbol;case"object":return Array.isArray(t)?Ve.array:t===null?Ve.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ve.promise:typeof Map<"u"&&t instanceof Map?Ve.map:typeof Set<"u"&&t instanceof Set?Ve.set:typeof Date<"u"&&t instanceof Date?Ve.date:Ve.object;default:return Ve.unknown}},Se=Nt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Nl extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let o=n,l=0;for(;l<s.path.length;){const c=s.path[l];l===s.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(s))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return i(this),n}static assert(e){if(!(e instanceof Nl))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Nt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];r[a]=r[a]||[],r[a].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Nl.create=t=>new Nl(t);const ok=(t,e)=>{let r;switch(t.code){case Se.invalid_type:t.received===Ve.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Se.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Nt.jsonStringifyReplacer)}`;break;case Se.unrecognized_keys:r=`Unrecognized key(s) in object: ${Nt.joinValues(t.keys,", ")}`;break;case Se.invalid_union:r="Invalid input";break;case Se.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Nt.joinValues(t.options)}`;break;case Se.invalid_enum_value:r=`Invalid enum value. Expected ${Nt.joinValues(t.options)}, received '${t.received}'`;break;case Se.invalid_arguments:r="Invalid function arguments";break;case Se.invalid_return_type:r="Invalid function return type";break;case Se.invalid_date:r="Invalid date";break;case Se.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Nt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Se.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Se.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Se.custom:r="Invalid input";break;case Se.invalid_intersection_types:r="Intersection results could not be merged";break;case Se.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Se.not_finite:r="Number must be finite";break;default:r=e.defaultError,Nt.assertNever(t)}return{message:r}};let _Me=ok;function wMe(){return _Me}const bMe=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,a=[...r,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)o=c(s,{data:e,defaultError:o}).message;return{...i,path:a,message:o}};function Fe(t,e){const r=wMe(),n=bMe({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===ok?void 0:ok].filter(i=>!!i)});t.common.issues.push(n)}class Ti{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return at;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const a=await i.key,s=await i.value;n.push({key:a,value:s})}return Ti.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return at;a.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[a.value]=s.value)}return{status:e.value,value:n}}}const at=Object.freeze({status:"aborted"}),Im=t=>({status:"dirty",value:t}),ts=t=>({status:"valid",value:t}),xL=t=>t.status==="aborted",_L=t=>t.status==="dirty",op=t=>t.status==="valid",Ww=t=>typeof Promise<"u"&&t instanceof Promise;var He;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(He||(He={}));class bo{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const wL=(t,e)=>{if(op(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Nl(t.common.issues);return this._error=r,this._error}}};function ht(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,o)=>{const{message:l}=t;return s.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??n??o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:i}}class Et{get description(){return this._def.description}_getType(e){return Jl(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Jl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ti,ctx:{common:e.parent.common,data:e.data,parsedType:Jl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Ww(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Jl(e)},i=this._parseSync({data:e,path:n.path,parent:n});return wL(n,i)}"~validate"(e){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Jl(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:r});return op(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(i=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>op(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Jl(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(Ww(i)?i:Promise.resolve(i));return wL(n,a)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const s=e(i),o=()=>a.addIssue({code:Se.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new up({schema:this,typeName:rt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return zc.create(this,this._def)}nullable(){return fp.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return _o.create(this)}promise(){return Kw.create(this,this._def)}or(e){return Gw.create([this,e],this._def)}and(e){return qw.create(this,e,this._def)}transform(e){return new up({...ht(this._def),schema:this,typeName:rt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new fk({...ht(this._def),innerType:this,defaultValue:r,typeName:rt.ZodDefault})}brand(){return new zMe({typeName:rt.ZodBranded,type:this,...ht(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new dk({...ht(this._def),innerType:this,catchValue:r,typeName:rt.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return kO.create(this,e)}readonly(){return hk.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const SMe=/^c[^\s-]{8,}$/i,AMe=/^[0-9a-z]+$/,TMe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,EMe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,CMe=/^[a-z0-9_-]{21}$/i,kMe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,PMe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,IMe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,OMe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let uT;const MMe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,NMe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,RMe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,DMe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,FMe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,LMe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,sH="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",$Me=new RegExp(`^${sH}$`);function oH(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function BMe(t){return new RegExp(`^${oH(t)}$`)}function UMe(t){let e=`${sH}T${oH(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function jMe(t,e){return!!((e==="v4"||!e)&&MMe.test(t)||(e==="v6"||!e)&&RMe.test(t))}function VMe(t,e){if(!kMe.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function HMe(t,e){return!!((e==="v4"||!e)&&NMe.test(t)||(e==="v6"||!e)&&DMe.test(t))}class mo extends Et{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ve.string){const a=this._getOrReturnCtx(e);return Fe(a,{code:Se.invalid_type,expected:Ve.string,received:a.parsedType}),at}const n=new Ti;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),Fe(i,{code:Se.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),Fe(i,{code:Se.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const s=e.data.length>a.value,o=e.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(e,i),s?Fe(i,{code:Se.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&Fe(i,{code:Se.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")IMe.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"email",code:Se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")uT||(uT=new RegExp(OMe,"u")),uT.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"emoji",code:Se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")EMe.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"uuid",code:Se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")CMe.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"nanoid",code:Se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")SMe.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"cuid",code:Se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")AMe.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"cuid2",code:Se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")TMe.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"ulid",code:Se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Fe(i,{validation:"url",code:Se.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"regex",code:Se.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),Fe(i,{code:Se.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),Fe(i,{code:Se.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),Fe(i,{code:Se.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?UMe(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{code:Se.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?$Me.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{code:Se.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?BMe(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{code:Se.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?PMe.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"duration",code:Se.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?jMe(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"ip",code:Se.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?VMe(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"jwt",code:Se.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?HMe(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"cidr",code:Se.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?FMe.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"base64",code:Se.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?LMe.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"base64url",code:Se.invalid_string,message:a.message}),n.dirty()):Nt.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:Se.invalid_string,...He.errToObj(n)})}_addCheck(e){return new mo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...He.errToObj(e)})}url(e){return this._addCheck({kind:"url",...He.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...He.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...He.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...He.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...He.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...He.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...He.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...He.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...He.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...He.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...He.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...He.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...He.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...He.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...He.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...He.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...He.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...He.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...He.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...He.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...He.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...He.errToObj(r)})}nonempty(e){return this.min(1,He.errToObj(e))}trim(){return new mo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new mo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new mo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}mo.create=t=>new mo({checks:[],typeName:rt.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...ht(t)});function WMe(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,a=Number.parseInt(t.toFixed(i).replace(".","")),s=Number.parseInt(e.toFixed(i).replace(".",""));return a%s/10**i}class dd extends Et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ve.number){const a=this._getOrReturnCtx(e);return Fe(a,{code:Se.invalid_type,expected:Ve.number,received:a.parsedType}),at}let n;const i=new Ti;for(const a of this._def.checks)a.kind==="int"?Nt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Fe(n,{code:Se.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),Fe(n,{code:Se.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),Fe(n,{code:Se.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?WMe(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),Fe(n,{code:Se.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Fe(n,{code:Se.not_finite,message:a.message}),i.dirty()):Nt.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,He.toString(r))}gt(e,r){return this.setLimit("min",e,!1,He.toString(r))}lte(e,r){return this.setLimit("max",e,!0,He.toString(r))}lt(e,r){return this.setLimit("max",e,!1,He.toString(r))}setLimit(e,r,n,i){return new dd({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:He.toString(i)}]})}_addCheck(e){return new dd({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:He.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:He.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:He.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:He.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:He.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:He.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:He.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:He.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:He.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Nt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}dd.create=t=>new dd({checks:[],typeName:rt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ht(t)});class hd extends Et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ve.bigint)return this._getInvalidInput(e);let n;const i=new Ti;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),Fe(n,{code:Se.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),Fe(n,{code:Se.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Fe(n,{code:Se.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Nt.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return Fe(r,{code:Se.invalid_type,expected:Ve.bigint,received:r.parsedType}),at}gte(e,r){return this.setLimit("min",e,!0,He.toString(r))}gt(e,r){return this.setLimit("min",e,!1,He.toString(r))}lte(e,r){return this.setLimit("max",e,!0,He.toString(r))}lt(e,r){return this.setLimit("max",e,!1,He.toString(r))}setLimit(e,r,n,i){return new hd({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:He.toString(i)}]})}_addCheck(e){return new hd({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:He.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:He.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:He.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:He.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:He.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}hd.create=t=>new hd({checks:[],typeName:rt.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...ht(t)});class zw extends Et{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ve.boolean){const n=this._getOrReturnCtx(e);return Fe(n,{code:Se.invalid_type,expected:Ve.boolean,received:n.parsedType}),at}return ts(e.data)}}zw.create=t=>new zw({typeName:rt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ht(t)});class lp extends Et{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ve.date){const a=this._getOrReturnCtx(e);return Fe(a,{code:Se.invalid_type,expected:Ve.date,received:a.parsedType}),at}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Fe(a,{code:Se.invalid_date}),at}const n=new Ti;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),Fe(i,{code:Se.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),Fe(i,{code:Se.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):Nt.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new lp({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:He.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:He.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}lp.create=t=>new lp({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:rt.ZodDate,...ht(t)});class bL extends Et{_parse(e){if(this._getType(e)!==Ve.symbol){const n=this._getOrReturnCtx(e);return Fe(n,{code:Se.invalid_type,expected:Ve.symbol,received:n.parsedType}),at}return ts(e.data)}}bL.create=t=>new bL({typeName:rt.ZodSymbol,...ht(t)});class SL extends Et{_parse(e){if(this._getType(e)!==Ve.undefined){const n=this._getOrReturnCtx(e);return Fe(n,{code:Se.invalid_type,expected:Ve.undefined,received:n.parsedType}),at}return ts(e.data)}}SL.create=t=>new SL({typeName:rt.ZodUndefined,...ht(t)});class AL extends Et{_parse(e){if(this._getType(e)!==Ve.null){const n=this._getOrReturnCtx(e);return Fe(n,{code:Se.invalid_type,expected:Ve.null,received:n.parsedType}),at}return ts(e.data)}}AL.create=t=>new AL({typeName:rt.ZodNull,...ht(t)});class TL extends Et{constructor(){super(...arguments),this._any=!0}_parse(e){return ts(e.data)}}TL.create=t=>new TL({typeName:rt.ZodAny,...ht(t)});class lk extends Et{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ts(e.data)}}lk.create=t=>new lk({typeName:rt.ZodUnknown,...ht(t)});class eu extends Et{_parse(e){const r=this._getOrReturnCtx(e);return Fe(r,{code:Se.invalid_type,expected:Ve.never,received:r.parsedType}),at}}eu.create=t=>new eu({typeName:rt.ZodNever,...ht(t)});class EL extends Et{_parse(e){if(this._getType(e)!==Ve.undefined){const n=this._getOrReturnCtx(e);return Fe(n,{code:Se.invalid_type,expected:Ve.void,received:n.parsedType}),at}return ts(e.data)}}EL.create=t=>new EL({typeName:rt.ZodVoid,...ht(t)});class _o extends Et{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Ve.array)return Fe(r,{code:Se.invalid_type,expected:Ve.array,received:r.parsedType}),at;if(i.exactLength!==null){const s=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(s||o)&&(Fe(r,{code:s?Se.too_big:Se.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Fe(r,{code:Se.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Fe(r,{code:Se.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,o)=>i.type._parseAsync(new bo(r,s,r.path,o)))).then(s=>Ti.mergeArray(n,s));const a=[...r.data].map((s,o)=>i.type._parseSync(new bo(r,s,r.path,o)));return Ti.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new _o({...this._def,minLength:{value:e,message:He.toString(r)}})}max(e,r){return new _o({...this._def,maxLength:{value:e,message:He.toString(r)}})}length(e,r){return new _o({...this._def,exactLength:{value:e,message:He.toString(r)}})}nonempty(e){return this.min(1,e)}}_o.create=(t,e)=>new _o({type:t,minLength:null,maxLength:null,exactLength:null,typeName:rt.ZodArray,...ht(e)});function Yd(t){if(t instanceof Jr){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=zc.create(Yd(n))}return new Jr({...t._def,shape:()=>e})}else return t instanceof _o?new _o({...t._def,type:Yd(t.element)}):t instanceof zc?zc.create(Yd(t.unwrap())):t instanceof fp?fp.create(Yd(t.unwrap())):t instanceof pd?pd.create(t.items.map(e=>Yd(e))):t}class Jr extends Et{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Nt.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==Ve.object){const c=this._getOrReturnCtx(e);return Fe(c,{code:Se.invalid_type,expected:Ve.object,received:c.parsedType}),at}const{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof eu&&this._def.unknownKeys==="strip"))for(const c in i.data)s.includes(c)||o.push(c);const l=[];for(const c of s){const u=a[c],f=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new bo(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof eu){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")o.length>0&&(Fe(i,{code:Se.unrecognized_keys,keys:o}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of o){const f=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new bo(i,f,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const f=await u.key,d=await u.value;c.push({key:f,value:d,alwaysSet:u.alwaysSet})}return c}).then(c=>Ti.mergeObjectSync(n,c)):Ti.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return He.errToObj,new Jr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var a,s;const i=((s=(a=this._def).errorMap)==null?void 0:s.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:He.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Jr({...this._def,unknownKeys:"strip"})}passthrough(){return new Jr({...this._def,unknownKeys:"passthrough"})}extend(e){return new Jr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Jr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:rt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Jr({...this._def,catchall:e})}pick(e){const r={};for(const n of Nt.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Jr({...this._def,shape:()=>r})}omit(e){const r={};for(const n of Nt.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Jr({...this._def,shape:()=>r})}deepPartial(){return Yd(this)}partial(e){const r={};for(const n of Nt.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new Jr({...this._def,shape:()=>r})}required(e){const r={};for(const n of Nt.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof zc;)a=a._def.innerType;r[n]=a}return new Jr({...this._def,shape:()=>r})}keyof(){return lH(Nt.objectKeys(this.shape))}}Jr.create=(t,e)=>new Jr({shape:()=>t,unknownKeys:"strip",catchall:eu.create(),typeName:rt.ZodObject,...ht(e)});Jr.strictCreate=(t,e)=>new Jr({shape:()=>t,unknownKeys:"strict",catchall:eu.create(),typeName:rt.ZodObject,...ht(e)});Jr.lazycreate=(t,e)=>new Jr({shape:t,unknownKeys:"strip",catchall:eu.create(),typeName:rt.ZodObject,...ht(e)});class Gw extends Et{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new Nl(o.ctx.common.issues));return Fe(r,{code:Se.invalid_union,unionErrors:s}),at}if(r.common.async)return Promise.all(n.map(async a=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(l=>new Nl(l));return Fe(r,{code:Se.invalid_union,unionErrors:o}),at}}get options(){return this._def.options}}Gw.create=(t,e)=>new Gw({options:t,typeName:rt.ZodUnion,...ht(e)});function ck(t,e){const r=Jl(t),n=Jl(e);if(t===e)return{valid:!0,data:t};if(r===Ve.object&&n===Ve.object){const i=Nt.objectKeys(e),a=Nt.objectKeys(t).filter(o=>i.indexOf(o)!==-1),s={...t,...e};for(const o of a){const l=ck(t[o],e[o]);if(!l.valid)return{valid:!1};s[o]=l.data}return{valid:!0,data:s}}else if(r===Ve.array&&n===Ve.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const s=t[a],o=e[a],l=ck(s,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===Ve.date&&n===Ve.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class qw extends Et{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(a,s)=>{if(xL(a)||xL(s))return at;const o=ck(a.value,s.value);return o.valid?((_L(a)||_L(s))&&r.dirty(),{status:r.value,value:o.data}):(Fe(n,{code:Se.invalid_intersection_types}),at)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}qw.create=(t,e,r)=>new qw({left:t,right:e,typeName:rt.ZodIntersection,...ht(r)});class pd extends Et{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ve.array)return Fe(n,{code:Se.invalid_type,expected:Ve.array,received:n.parsedType}),at;if(n.data.length<this._def.items.length)return Fe(n,{code:Se.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),at;!this._def.rest&&n.data.length>this._def.items.length&&(Fe(n,{code:Se.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((s,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new bo(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(a).then(s=>Ti.mergeArray(r,s)):Ti.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new pd({...this._def,rest:e})}}pd.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new pd({items:t,typeName:rt.ZodTuple,rest:null,...ht(e)})};class Xw extends Et{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ve.object)return Fe(n,{code:Se.invalid_type,expected:Ve.object,received:n.parsedType}),at;const i=[],a=this._def.keyType,s=this._def.valueType;for(const o in n.data)i.push({key:a._parse(new bo(n,o,n.path,o)),value:s._parse(new bo(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?Ti.mergeObjectAsync(r,i):Ti.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Et?new Xw({keyType:e,valueType:r,typeName:rt.ZodRecord,...ht(n)}):new Xw({keyType:mo.create(),valueType:e,typeName:rt.ZodRecord,...ht(r)})}}class CL extends Et{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ve.map)return Fe(n,{code:Se.invalid_type,expected:Ve.map,received:n.parsedType}),at;const i=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([o,l],c)=>({key:i._parse(new bo(n,o,n.path,[c,"key"])),value:a._parse(new bo(n,l,n.path,[c,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of s){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return at;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const l of s){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return at;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}}}}CL.create=(t,e,r)=>new CL({valueType:e,keyType:t,typeName:rt.ZodMap,...ht(r)});class _v extends Et{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ve.set)return Fe(n,{code:Se.invalid_type,expected:Ve.set,received:n.parsedType}),at;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Fe(n,{code:Se.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Fe(n,{code:Se.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function s(l){const c=new Set;for(const u of l){if(u.status==="aborted")return at;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}const o=[...n.data.values()].map((l,c)=>a._parse(new bo(n,l,n.path,c)));return n.common.async?Promise.all(o).then(l=>s(l)):s(o)}min(e,r){return new _v({...this._def,minSize:{value:e,message:He.toString(r)}})}max(e,r){return new _v({...this._def,maxSize:{value:e,message:He.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}_v.create=(t,e)=>new _v({valueType:t,minSize:null,maxSize:null,typeName:rt.ZodSet,...ht(e)});class uk extends Et{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}uk.create=(t,e)=>new uk({getter:t,typeName:rt.ZodLazy,...ht(e)});class kL extends Et{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Fe(r,{received:r.data,code:Se.invalid_literal,expected:this._def.value}),at}return{status:"valid",value:e.data}}get value(){return this._def.value}}kL.create=(t,e)=>new kL({value:t,typeName:rt.ZodLiteral,...ht(e)});function lH(t,e){return new cp({values:t,typeName:rt.ZodEnum,...ht(e)})}class cp extends Et{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Fe(r,{expected:Nt.joinValues(n),received:r.parsedType,code:Se.invalid_type}),at}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return Fe(r,{received:r.data,code:Se.invalid_enum_value,options:n}),at}return ts(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return cp.create(e,{...this._def,...r})}exclude(e,r=this._def){return cp.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}cp.create=lH;class PL extends Et{_parse(e){const r=Nt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Ve.string&&n.parsedType!==Ve.number){const i=Nt.objectValues(r);return Fe(n,{expected:Nt.joinValues(i),received:n.parsedType,code:Se.invalid_type}),at}if(this._cache||(this._cache=new Set(Nt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Nt.objectValues(r);return Fe(n,{received:n.data,code:Se.invalid_enum_value,options:i}),at}return ts(e.data)}get enum(){return this._def.values}}PL.create=(t,e)=>new PL({values:t,typeName:rt.ZodNativeEnum,...ht(e)});class Kw extends Et{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ve.promise&&r.common.async===!1)return Fe(r,{code:Se.invalid_type,expected:Ve.promise,received:r.parsedType}),at;const n=r.parsedType===Ve.promise?r.data:Promise.resolve(r.data);return ts(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Kw.create=(t,e)=>new Kw({type:t,typeName:rt.ZodPromise,...ht(e)});class up extends Et{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===rt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:s=>{Fe(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(n.data,a);if(n.common.async)return Promise.resolve(s).then(async o=>{if(r.value==="aborted")return at;const l=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return l.status==="aborted"?at:l.status==="dirty"||r.value==="dirty"?Im(l.value):l});{if(r.value==="aborted")return at;const o=this._def.schema._parseSync({data:s,path:n.path,parent:n});return o.status==="aborted"?at:o.status==="dirty"||r.value==="dirty"?Im(o.value):o}}if(i.type==="refinement"){const s=o=>{const l=i.refinement(o,a);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?at:(o.status==="dirty"&&r.dirty(),s(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?at:(o.status==="dirty"&&r.dirty(),s(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!op(s))return at;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>op(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:r.value,value:o})):at);Nt.assertNever(i)}}up.create=(t,e,r)=>new up({schema:t,typeName:rt.ZodEffects,effect:e,...ht(r)});up.createWithPreprocess=(t,e,r)=>new up({schema:e,effect:{type:"preprocess",transform:t},typeName:rt.ZodEffects,...ht(r)});class zc extends Et{_parse(e){return this._getType(e)===Ve.undefined?ts(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}zc.create=(t,e)=>new zc({innerType:t,typeName:rt.ZodOptional,...ht(e)});class fp extends Et{_parse(e){return this._getType(e)===Ve.null?ts(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}fp.create=(t,e)=>new fp({innerType:t,typeName:rt.ZodNullable,...ht(e)});class fk extends Et{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Ve.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}fk.create=(t,e)=>new fk({innerType:t,typeName:rt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ht(e)});class dk extends Et{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Ww(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Nl(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Nl(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}dk.create=(t,e)=>new dk({innerType:t,typeName:rt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ht(e)});class IL extends Et{_parse(e){if(this._getType(e)!==Ve.nan){const n=this._getOrReturnCtx(e);return Fe(n,{code:Se.invalid_type,expected:Ve.nan,received:n.parsedType}),at}return{status:"valid",value:e.data}}}IL.create=t=>new IL({typeName:rt.ZodNaN,...ht(t)});class zMe extends Et{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class kO extends Et{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?at:a.status==="dirty"?(r.dirty(),Im(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?at:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new kO({in:e,out:r,typeName:rt.ZodPipeline})}}class hk extends Et{_parse(e){const r=this._def.innerType._parse(e),n=i=>(op(i)&&(i.value=Object.freeze(i.value)),i);return Ww(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}hk.create=(t,e)=>new hk({innerType:t,typeName:rt.ZodReadonly,...ht(e)});var rt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(rt||(rt={}));const xu=mo.create,OL=dd.create;hd.create;const GMe=zw.create;lp.create;const ML=lk.create;eu.create;const Om=_o.create,qMe=Jr.create,XMe=Gw.create;qw.create;pd.create;const KMe=Xw.create,YMe=uk.create,JMe=cp.create;Kw.create;zc.create;fp.create;const Ud={string:t=>mo.create({...t,coerce:!0}),number:t=>dd.create({...t,coerce:!0}),boolean:t=>zw.create({...t,coerce:!0}),bigint:t=>hd.create({...t,coerce:!0}),date:t=>lp.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ZMe,QMe;function eNe(){return{geminiUrl:ZMe,vertexUrl:QMe}}function tNe(t,e,r){var n,i,a;if(!(!((n=t.httpOptions)===null||n===void 0)&&n.baseUrl)){const s=eNe();return t.vertexai?(i=s.vertexUrl)!==null&&i!==void 0?i:e:(a=s.geminiUrl)!==null&&a!==void 0?a:r}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ox{}function tt(t,e){const r=/\{([^}]+)\}/g;return t.replace(r,(n,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function x(t,e,r){for(let a=0;a<e.length-1;a++){const s=e[a];if(s.endsWith("[]")){const o=s.slice(0,-2);if(!(o in t))if(Array.isArray(r))t[o]=Array.from({length:r.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[o])){const l=t[o];if(Array.isArray(r))for(let c=0;c<l.length;c++){const u=l[c];x(u,e.slice(a+1),r[c])}else for(const c of l)x(c,e.slice(a+1),r)}return}else if(s.endsWith("[0]")){const o=s.slice(0,-3);o in t||(t[o]=[{}]);const l=t[o];x(l[0],e.slice(a+1),r);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const n=e[e.length-1],i=t[n];if(i!==void 0){if(!r||typeof r=="object"&&Object.keys(r).length===0||r===i)return;if(typeof i=="object"&&typeof r=="object"&&i!==null&&r!==null)Object.assign(i,r);else throw new Error(`Cannot set value for an existing key. Key: ${n}`)}else t[n]=r}function v(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return;const n=e[r];if(n.endsWith("[]")){const i=n.slice(0,-2);if(i in t){const a=t[i];return Array.isArray(a)?a.map(s=>v(s,e.slice(r+1))):void 0}else return}else t=t[n]}return t}catch(r){if(r instanceof TypeError)return;throw r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var NL;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(NL||(NL={}));var RL;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(RL||(RL={}));var DL;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(DL||(DL={}));var FL;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(FL||(FL={}));var LL;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(LL||(LL={}));var uo;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT"})(uo||(uo={}));var $L;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})($L||($L={}));var BL;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(BL||(BL={}));var UL;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY"})(UL||(UL={}));var jL;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(jL||(jL={}));var VL;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(VL||(VL={}));var HL;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(HL||(HL={}));var WL;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(WL||(WL={}));var Yw;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Yw||(Yw={}));var zL;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(zL||(zL={}));var pk;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(pk||(pk={}));var GL;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(GL||(GL={}));var qL;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(qL||(qL={}));var XL;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(XL||(XL={}));var KL;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(KL||(KL={}));var YL;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(YL||(YL={}));var JL;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(JL||(JL={}));var ZL;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(ZL||(ZL={}));var QL;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(QL||(QL={}));var e3;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(e3||(e3={}));var t3;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(t3||(t3={}));var r3;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(r3||(r3={}));var n3;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(n3||(n3={}));var i3;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(i3||(i3={}));var a3;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(a3||(a3={}));var s3;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(s3||(s3={}));var o3;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(o3||(o3={}));var l3;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(l3||(l3={}));var c3;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(c3||(c3={}));var u3;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(u3||(u3={}));var f3;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(f3||(f3={}));var d3;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(d3||(d3={}));var h3;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(h3||(h3={}));var p3;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY"})(p3||(p3={}));var hh;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(hh||(hh={}));class am{get text(){var e,r,n,i,a,s,o,l;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",u=!1;const f=[];for(const d of(l=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[h,m]of Object.entries(d))h!=="text"&&h!=="thought"&&(m!==null||m!==void 0)&&f.push(h);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;u=!0,c+=d.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?c:void 0}get data(){var e,r,n,i,a,s,o,l;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const u=[];for(const f of(l=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[d,h]of Object.entries(f))d!=="inlineData"&&(h!==null||h!==void 0)&&u.push(d);f.inlineData&&typeof f.inlineData.data=="string"&&(c+=atob(f.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,r,n,i,a,s,o,l;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(l=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(u=>u.functionCall).map(u=>u.functionCall).filter(u=>u!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,r,n,i,a,s,o,l,c;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=(l=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,r,n,i,a,s,o,l,c;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=(l=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.output}}class m3{}class g3{}class rNe{}class nNe{}class v3{}class y3{}class x3{}class iNe{}class _3{}class w3{}class b3{}class aNe{}class mk{constructor(e){const r={};for(const n of e.headers.entries())r[n[0]]=n[1];this.headers=r,this.responseInternal=e}json(){return this.responseInternal.json()}}class sNe{}class oNe{}class lNe{get text(){var e,r,n;let i="",a=!1;const s=[];for(const o of(n=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[l,c]of Object.entries(o))l!=="text"&&l!=="thought"&&c!==null&&s.push(l);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;a=!0,i+=o.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,r,n;let i="";const a=[];for(const s of(n=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[o,l]of Object.entries(s))o!=="inlineData"&&l!==null&&a.push(o);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class cNe{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fr(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const r=e.split("/",2);return`publishers/${r[0]}/models/${r[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function cH(t,e){const r=fr(t,e);return r?r.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}`:r.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${r}`:r:""}function uH(t,e){return Array.isArray(e)?e.map(r=>Jw(t,r)):[Jw(t,e)]}function Jw(t,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function uNe(t,e){const r=Jw(t,e);if(r.mimeType&&r.mimeType.startsWith("image/"))return r;throw new Error(`Unsupported mime type: ${r.mimeType}`)}function fNe(t,e){const r=Jw(t,e);if(r.mimeType&&r.mimeType.startsWith("audio/"))return r;throw new Error(`Unsupported mime type: ${r.mimeType}`)}function S3(t,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function fH(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(r=>S3(t,r)):[S3(t,e)]}function gk(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function A3(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function T3(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function $i(t,e){if(e==null)throw new Error("ContentUnion is required");return gk(e)?e:{role:"user",parts:fH(t,e)}}function dH(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(r=>{const n=$i(t,r);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]});if(t.isVertexAI()){const r=$i(t,e);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]}return Array.isArray(e)?e.map(r=>$i(t,r)):[$i(t,e)]}function Fs(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(A3(e)||T3(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[$i(t,e)]}const r=[],n=[],i=gk(e[0]);for(const a of e){const s=gk(a);if(s!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)r.push(a);else{if(A3(a)||T3(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(a)}}return i||r.push({role:"user",parts:fH(t,n)}),r}const E3=JMe(["string","number","integer","object","array","boolean","null"]),dNe=XMe([E3,Om(E3)]);function hNe(t=!0){const e=YMe(()=>{const r=qMe({type:dNe.optional(),format:xu().optional(),title:xu().optional(),description:xu().optional(),default:ML().optional(),items:e.optional(),minItems:Ud.string().optional(),maxItems:Ud.string().optional(),enum:Om(ML()).optional(),properties:KMe(xu(),e).optional(),required:Om(xu()).optional(),minProperties:Ud.string().optional(),maxProperties:Ud.string().optional(),propertyOrdering:Om(xu()).optional(),minimum:OL().optional(),maximum:OL().optional(),minLength:Ud.string().optional(),maxLength:Ud.string().optional(),pattern:xu().optional(),anyOf:Om(e).optional(),additionalProperties:GMe().optional()});return t?r.strict():r});return e}function pNe(t,e){t.includes("null")&&(e.nullable=!0);const r=t.filter(n=>n!=="null");if(r.length===1)e.type=Object.keys(uo).includes(r[0].toUpperCase())?uo[r[0].toUpperCase()]:uo.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const n of r)e.anyOf.push({type:Object.keys(uo).includes(n.toUpperCase())?uo[n.toUpperCase()]:uo.TYPE_UNSPECIFIED})}}function rg(t){const e={},r=["items"],n=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&pNe(t.type,e);for(const[s,o]of Object.entries(t))if(o!=null)if(s=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.keys(uo).includes(o.toUpperCase())?o.toUpperCase():uo.TYPE_UNSPECIFIED}else if(r.includes(s))e[s]=rg(o);else if(n.includes(s)){const l=[];for(const c of o){if(c.type=="null"){e.nullable=!0;continue}l.push(rg(c))}e[s]=l}else if(i.includes(s)){const l={};for(const[c,u]of Object.entries(o))l[c]=rg(u);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=o}return e}function Zw(t,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const r=hNe().parse(e);return rg(r)}else return rg(e)}function hH(t,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function pH(t,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function LS(t,e){if(e.functionDeclarations)for(const r of e.functionDeclarations)r.parameters&&(r.parameters=Zw(t,r.parameters)),r.response&&(r.response=Zw(t,r.response));return e}function $S(t,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const r=[];for(const n of e)r.push(n);return r}function mNe(t,e,r,n=1){const i=!e.startsWith(`${r}/`)&&e.split("/").length===n;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${r}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}/${e}`:e:i?`${r}/${e}`:e}function mu(t,e){if(typeof e!="string")throw new Error("name must be a string");return mNe(t,e,"cachedContents")}function mH(t,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function gu(t,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function gNe(t){return t!=null&&typeof t=="object"&&"name"in t}function vNe(t){return t!=null&&typeof t=="object"&&"video"in t}function yNe(t){return t!=null&&typeof t=="object"&&"uri"in t}function gH(t,e){var r;let n;if(gNe(e)&&(n=e.name),!(yNe(e)&&(n=e.uri,n===void 0))&&!(vNe(e)&&(n=(r=e.video)===null||r===void 0?void 0:r.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const a=n.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${n}`);n=a[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function vH(t,e){let r;return t.isVertexAI()?r=e?"publishers/google/models":"models":r=e?"models":"tunedModels",r}function yH(t,e){for(const r of["models","tunedModels","publisherModels"])if(xNe(e,r))return e[r];return[]}function xNe(t,e){return t!==null&&typeof t=="object"&&e in t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _Ne(t,e){const r={},n=v(e,["fps"]);n!=null&&x(r,["fps"],n);const i=v(e,["endOffset"]);i!=null&&x(r,["endOffset"],i);const a=v(e,["startOffset"]);return a!=null&&x(r,["startOffset"],a),r}function wNe(t,e){const r={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["data"]);n!=null&&x(r,["data"],n);const i=v(e,["mimeType"]);return i!=null&&x(r,["mimeType"],i),r}function bNe(t,e){const r={},n=v(e,["videoMetadata"]);n!=null&&x(r,["videoMetadata"],_Ne(t,n));const i=v(e,["thought"]);i!=null&&x(r,["thought"],i);const a=v(e,["inlineData"]);a!=null&&x(r,["inlineData"],wNe(t,a));const s=v(e,["codeExecutionResult"]);s!=null&&x(r,["codeExecutionResult"],s);const o=v(e,["executableCode"]);o!=null&&x(r,["executableCode"],o);const l=v(e,["fileData"]);l!=null&&x(r,["fileData"],l);const c=v(e,["functionCall"]);c!=null&&x(r,["functionCall"],c);const u=v(e,["functionResponse"]);u!=null&&x(r,["functionResponse"],u);const f=v(e,["text"]);return f!=null&&x(r,["text"],f),r}function C3(t,e){const r={},n=v(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>bNe(t,s))),x(r,["parts"],a)}const i=v(e,["role"]);return i!=null&&x(r,["role"],i),r}function SNe(t,e){const r={},n=v(e,["behavior"]);n!=null&&x(r,["behavior"],n);const i=v(e,["description"]);i!=null&&x(r,["description"],i);const a=v(e,["name"]);a!=null&&x(r,["name"],a);const s=v(e,["parameters"]);s!=null&&x(r,["parameters"],s);const o=v(e,["response"]);return o!=null&&x(r,["response"],o),r}function ANe(t,e){const r={},n=v(e,["startTime"]);n!=null&&x(r,["startTime"],n);const i=v(e,["endTime"]);return i!=null&&x(r,["endTime"],i),r}function TNe(t,e){const r={},n=v(e,["timeRangeFilter"]);return n!=null&&x(r,["timeRangeFilter"],ANe(t,n)),r}function ENe(t,e){const r={},n=v(e,["mode"]);n!=null&&x(r,["mode"],n);const i=v(e,["dynamicThreshold"]);return i!=null&&x(r,["dynamicThreshold"],i),r}function CNe(t,e){const r={},n=v(e,["dynamicRetrievalConfig"]);return n!=null&&x(r,["dynamicRetrievalConfig"],ENe(t,n)),r}function kNe(){return{}}function PNe(t,e){const r={},n=v(e,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>SNe(t,c))),x(r,["functionDeclarations"],l)}if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=v(e,["googleSearch"]);i!=null&&x(r,["googleSearch"],TNe(t,i));const a=v(e,["googleSearchRetrieval"]);if(a!=null&&x(r,["googleSearchRetrieval"],CNe(t,a)),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(v(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");v(e,["urlContext"])!=null&&x(r,["urlContext"],kNe());const o=v(e,["codeExecution"]);return o!=null&&x(r,["codeExecution"],o),r}function INe(t,e){const r={},n=v(e,["mode"]);n!=null&&x(r,["mode"],n);const i=v(e,["allowedFunctionNames"]);return i!=null&&x(r,["allowedFunctionNames"],i),r}function ONe(t,e){const r={},n=v(e,["latitude"]);n!=null&&x(r,["latitude"],n);const i=v(e,["longitude"]);return i!=null&&x(r,["longitude"],i),r}function MNe(t,e){const r={},n=v(e,["latLng"]);return n!=null&&x(r,["latLng"],ONe(t,n)),r}function NNe(t,e){const r={},n=v(e,["functionCallingConfig"]);n!=null&&x(r,["functionCallingConfig"],INe(t,n));const i=v(e,["retrievalConfig"]);return i!=null&&x(r,["retrievalConfig"],MNe(t,i)),r}function RNe(t,e,r){const n={},i=v(e,["ttl"]);r!==void 0&&i!=null&&x(r,["ttl"],i);const a=v(e,["expireTime"]);r!==void 0&&a!=null&&x(r,["expireTime"],a);const s=v(e,["displayName"]);r!==void 0&&s!=null&&x(r,["displayName"],s);const o=v(e,["contents"]);if(r!==void 0&&o!=null){let f=Fs(t,o);Array.isArray(f)&&(f=f.map(d=>C3(t,d))),x(r,["contents"],f)}const l=v(e,["systemInstruction"]);r!==void 0&&l!=null&&x(r,["systemInstruction"],C3(t,$i(t,l)));const c=v(e,["tools"]);if(r!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(d=>PNe(t,d))),x(r,["tools"],f)}const u=v(e,["toolConfig"]);if(r!==void 0&&u!=null&&x(r,["toolConfig"],NNe(t,u)),v(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function DNe(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["model"],cH(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],RNe(t,i,r)),r}function FNe(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["_url","name"],mu(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],i),r}function LNe(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["_url","name"],mu(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],i),r}function $Ne(t,e,r){const n={},i=v(e,["ttl"]);r!==void 0&&i!=null&&x(r,["ttl"],i);const a=v(e,["expireTime"]);return r!==void 0&&a!=null&&x(r,["expireTime"],a),n}function BNe(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["_url","name"],mu(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],$Ne(t,i,r)),r}function UNe(t,e,r){const n={},i=v(e,["pageSize"]);r!==void 0&&i!=null&&x(r,["_query","pageSize"],i);const a=v(e,["pageToken"]);return r!==void 0&&a!=null&&x(r,["_query","pageToken"],a),n}function jNe(t,e){const r={},n=v(e,["config"]);return n!=null&&x(r,["config"],UNe(t,n,r)),r}function VNe(t,e){const r={},n=v(e,["fps"]);n!=null&&x(r,["fps"],n);const i=v(e,["endOffset"]);i!=null&&x(r,["endOffset"],i);const a=v(e,["startOffset"]);return a!=null&&x(r,["startOffset"],a),r}function HNe(t,e){const r={},n=v(e,["displayName"]);n!=null&&x(r,["displayName"],n);const i=v(e,["data"]);i!=null&&x(r,["data"],i);const a=v(e,["mimeType"]);return a!=null&&x(r,["mimeType"],a),r}function WNe(t,e){const r={},n=v(e,["videoMetadata"]);n!=null&&x(r,["videoMetadata"],VNe(t,n));const i=v(e,["thought"]);i!=null&&x(r,["thought"],i);const a=v(e,["inlineData"]);a!=null&&x(r,["inlineData"],HNe(t,a));const s=v(e,["codeExecutionResult"]);s!=null&&x(r,["codeExecutionResult"],s);const o=v(e,["executableCode"]);o!=null&&x(r,["executableCode"],o);const l=v(e,["fileData"]);l!=null&&x(r,["fileData"],l);const c=v(e,["functionCall"]);c!=null&&x(r,["functionCall"],c);const u=v(e,["functionResponse"]);u!=null&&x(r,["functionResponse"],u);const f=v(e,["text"]);return f!=null&&x(r,["text"],f),r}function k3(t,e){const r={},n=v(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>WNe(t,s))),x(r,["parts"],a)}const i=v(e,["role"]);return i!=null&&x(r,["role"],i),r}function zNe(t,e){const r={};if(v(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(e,["description"]);n!=null&&x(r,["description"],n);const i=v(e,["name"]);i!=null&&x(r,["name"],i);const a=v(e,["parameters"]);a!=null&&x(r,["parameters"],a);const s=v(e,["response"]);return s!=null&&x(r,["response"],s),r}function GNe(t,e){const r={},n=v(e,["startTime"]);n!=null&&x(r,["startTime"],n);const i=v(e,["endTime"]);return i!=null&&x(r,["endTime"],i),r}function qNe(t,e){const r={},n=v(e,["timeRangeFilter"]);return n!=null&&x(r,["timeRangeFilter"],GNe(t,n)),r}function XNe(t,e){const r={},n=v(e,["mode"]);n!=null&&x(r,["mode"],n);const i=v(e,["dynamicThreshold"]);return i!=null&&x(r,["dynamicThreshold"],i),r}function KNe(t,e){const r={},n=v(e,["dynamicRetrievalConfig"]);return n!=null&&x(r,["dynamicRetrievalConfig"],XNe(t,n)),r}function YNe(){return{}}function JNe(t,e){const r={},n=v(e,["apiKeyString"]);return n!=null&&x(r,["apiKeyString"],n),r}function ZNe(t,e){const r={},n=v(e,["apiKeyConfig"]);n!=null&&x(r,["apiKeyConfig"],JNe(t,n));const i=v(e,["authType"]);i!=null&&x(r,["authType"],i);const a=v(e,["googleServiceAccountConfig"]);a!=null&&x(r,["googleServiceAccountConfig"],a);const s=v(e,["httpBasicAuthConfig"]);s!=null&&x(r,["httpBasicAuthConfig"],s);const o=v(e,["oauthConfig"]);o!=null&&x(r,["oauthConfig"],o);const l=v(e,["oidcConfig"]);return l!=null&&x(r,["oidcConfig"],l),r}function QNe(t,e){const r={},n=v(e,["authConfig"]);return n!=null&&x(r,["authConfig"],ZNe(t,n)),r}function eRe(t,e){const r={},n=v(e,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(f=>zNe(t,f))),x(r,["functionDeclarations"],u)}const i=v(e,["retrieval"]);i!=null&&x(r,["retrieval"],i);const a=v(e,["googleSearch"]);a!=null&&x(r,["googleSearch"],qNe(t,a));const s=v(e,["googleSearchRetrieval"]);s!=null&&x(r,["googleSearchRetrieval"],KNe(t,s)),v(e,["enterpriseWebSearch"])!=null&&x(r,["enterpriseWebSearch"],YNe());const l=v(e,["googleMaps"]);if(l!=null&&x(r,["googleMaps"],QNe(t,l)),v(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const c=v(e,["codeExecution"]);return c!=null&&x(r,["codeExecution"],c),r}function tRe(t,e){const r={},n=v(e,["mode"]);n!=null&&x(r,["mode"],n);const i=v(e,["allowedFunctionNames"]);return i!=null&&x(r,["allowedFunctionNames"],i),r}function rRe(t,e){const r={},n=v(e,["latitude"]);n!=null&&x(r,["latitude"],n);const i=v(e,["longitude"]);return i!=null&&x(r,["longitude"],i),r}function nRe(t,e){const r={},n=v(e,["latLng"]);return n!=null&&x(r,["latLng"],rRe(t,n)),r}function iRe(t,e){const r={},n=v(e,["functionCallingConfig"]);n!=null&&x(r,["functionCallingConfig"],tRe(t,n));const i=v(e,["retrievalConfig"]);return i!=null&&x(r,["retrievalConfig"],nRe(t,i)),r}function aRe(t,e,r){const n={},i=v(e,["ttl"]);r!==void 0&&i!=null&&x(r,["ttl"],i);const a=v(e,["expireTime"]);r!==void 0&&a!=null&&x(r,["expireTime"],a);const s=v(e,["displayName"]);r!==void 0&&s!=null&&x(r,["displayName"],s);const o=v(e,["contents"]);if(r!==void 0&&o!=null){let d=Fs(t,o);Array.isArray(d)&&(d=d.map(h=>k3(t,h))),x(r,["contents"],d)}const l=v(e,["systemInstruction"]);r!==void 0&&l!=null&&x(r,["systemInstruction"],k3(t,$i(t,l)));const c=v(e,["tools"]);if(r!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>eRe(t,h))),x(r,["tools"],d)}const u=v(e,["toolConfig"]);r!==void 0&&u!=null&&x(r,["toolConfig"],iRe(t,u));const f=v(e,["kmsKeyName"]);return r!==void 0&&f!=null&&x(r,["encryption_spec","kmsKeyName"],f),n}function sRe(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["model"],cH(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],aRe(t,i,r)),r}function oRe(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["_url","name"],mu(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],i),r}function lRe(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["_url","name"],mu(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],i),r}function cRe(t,e,r){const n={},i=v(e,["ttl"]);r!==void 0&&i!=null&&x(r,["ttl"],i);const a=v(e,["expireTime"]);return r!==void 0&&a!=null&&x(r,["expireTime"],a),n}function uRe(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["_url","name"],mu(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],cRe(t,i,r)),r}function fRe(t,e,r){const n={},i=v(e,["pageSize"]);r!==void 0&&i!=null&&x(r,["_query","pageSize"],i);const a=v(e,["pageToken"]);return r!==void 0&&a!=null&&x(r,["_query","pageToken"],a),n}function dRe(t,e){const r={},n=v(e,["config"]);return n!=null&&x(r,["config"],fRe(t,n,r)),r}function J1(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["name"],n);const i=v(e,["displayName"]);i!=null&&x(r,["displayName"],i);const a=v(e,["model"]);a!=null&&x(r,["model"],a);const s=v(e,["createTime"]);s!=null&&x(r,["createTime"],s);const o=v(e,["updateTime"]);o!=null&&x(r,["updateTime"],o);const l=v(e,["expireTime"]);l!=null&&x(r,["expireTime"],l);const c=v(e,["usageMetadata"]);return c!=null&&x(r,["usageMetadata"],c),r}function hRe(){return{}}function pRe(t,e){const r={},n=v(e,["nextPageToken"]);n!=null&&x(r,["nextPageToken"],n);const i=v(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>J1(t,s))),x(r,["cachedContents"],a)}return r}function Z1(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["name"],n);const i=v(e,["displayName"]);i!=null&&x(r,["displayName"],i);const a=v(e,["model"]);a!=null&&x(r,["model"],a);const s=v(e,["createTime"]);s!=null&&x(r,["createTime"],s);const o=v(e,["updateTime"]);o!=null&&x(r,["updateTime"],o);const l=v(e,["expireTime"]);l!=null&&x(r,["expireTime"],l);const c=v(e,["usageMetadata"]);return c!=null&&x(r,["usageMetadata"],c),r}function mRe(){return{}}function gRe(t,e){const r={},n=v(e,["nextPageToken"]);n!=null&&x(r,["nextPageToken"],n);const i=v(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Z1(t,s))),x(r,["cachedContents"],a)}return r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var dp;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(dp||(dp={}));class BS{constructor(e,r,n,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=r,this.init(e,n,i)}init(e,r,n){var i,a;this.nameInternal=e,this.pageInternal=r[this.nameInternal]||[],this.idxInternal=0;let s={config:{}};n?typeof n=="object"?s=Object.assign({},n):s=n:s={config:{}},s.config&&(s.config.pageToken=r.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(a=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vRe extends ox{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new BS(dp.PAGED_ITEM_CACHED_CONTENTS,n=>this.listInternal(n),await this.listInternal(r),r)}async create(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=sRe(this.apiClient,e);return o=tt("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>Z1(this.apiClient,u))}else{const c=DNe(this.apiClient,e);return o=tt("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>J1(this.apiClient,u))}}async get(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=oRe(this.apiClient,e);return o=tt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>Z1(this.apiClient,u))}else{const c=FNe(this.apiClient,e);return o=tt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>J1(this.apiClient,u))}}async delete(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=lRe(this.apiClient,e);return o=tt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(()=>{const u=mRe(),f=new w3;return Object.assign(f,u),f})}else{const c=LNe(this.apiClient,e);return o=tt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(()=>{const u=hRe(),f=new w3;return Object.assign(f,u),f})}}async update(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=uRe(this.apiClient,e);return o=tt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>Z1(this.apiClient,u))}else{const c=BNe(this.apiClient,e);return o=tt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>J1(this.apiClient,u))}}async listInternal(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=dRe(this.apiClient,e);return o=tt("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>{const f=gRe(this.apiClient,u),d=new b3;return Object.assign(d,f),d})}else{const c=jNe(this.apiClient,e);return o=tt("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>{const f=pRe(this.apiClient,u),d=new b3;return Object.assign(d,f),d})}}}function P3(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sr(t){return this instanceof Sr?(this.v=t,this):new Sr(t)}function ng(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(m){return Promise.resolve(m).then(h,f)}}function o(h,m){n[h]&&(i[h]=function(p){return new Promise(function(y,_){a.push([h,p,y,_])>1||l(h,p)})},m&&(i[h]=m(i[h])))}function l(h,m){try{c(n[h](m))}catch(p){d(a[0][3],p)}}function c(h){h.value instanceof Sr?Promise.resolve(h.value.v).then(u,f):d(a[0][2],h)}function u(h){l("next",h)}function f(h){l("throw",h)}function d(h,m){h(m),a.shift(),a.length&&l(a[0][0],a[0][1])}}function Q1(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof P3=="function"?P3(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(s){return new Promise(function(o,l){s=t[a](s),i(o,l,s.done,s.value)})}}function i(a,s,o,l){Promise.resolve(l).then(function(c){a({value:c,done:o})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yRe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const r=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return r===void 0?!1:xH(r)}function xH(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function xRe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function I3(t){if(t===void 0||t.length===0)return[];const e=[],r=t.length;let n=0;for(;n<r;)if(t[n].role==="user")e.push(t[n]),n++;else{const i=[];let a=!0;for(;n<r&&t[n].role==="model";)i.push(t[n]),a&&!xH(t[n])&&(a=!1),n++;a?e.push(...i):e.pop()}return e}class _Re{constructor(e,r){this.modelsModule=e,this.apiClient=r}create(e){return new wRe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class wRe{constructor(e,r,n,i={},a=[]){this.apiClient=e,this.modelsModule=r,this.model=n,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),xRe(a)}async sendMessage(e){var r;await this.sendPromise;const n=$i(this.apiClient,e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=e.config)!==null&&r!==void 0?r:this.config});return this.sendPromise=(async()=>{var a,s,o;const l=await i,c=(s=(a=l.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content,u=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let d=[];u!=null&&(d=(o=u.slice(f))!==null&&o!==void 0?o:[]);const h=c?[c]:[];this.recordHistory(n,h,d)})(),await this.sendPromise,i}async sendMessageStream(e){var r;await this.sendPromise;const n=$i(this.apiClient,e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=e.config)!==null&&r!==void 0?r:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,n)}getHistory(e=!1){const r=e?I3(this.history):this.history;return structuredClone(r)}processStreamResponse(e,r){var n,i;return ng(this,arguments,function*(){var s,o,l,c;const u=[];try{for(var f=!0,d=Q1(e),h;h=yield Sr(d.next()),s=h.done,!s;f=!0){c=h.value,f=!1;const m=c;if(yRe(m)){const p=(i=(n=m.candidates)===null||n===void 0?void 0:n[0])===null||i===void 0?void 0:i.content;p!==void 0&&u.push(p)}yield yield Sr(m)}}catch(m){o={error:m}}finally{try{!f&&!s&&(l=d.return)&&(yield Sr(l.call(d)))}finally{if(o)throw o.error}}this.recordHistory(r,u)})}recordHistory(e,r,n){let i=[];r.length>0&&r.every(a=>a.role!==void 0)?i=r:i.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...I3(n)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bRe(t,e,r){const n={},i=v(e,["pageSize"]);r!==void 0&&i!=null&&x(r,["_query","pageSize"],i);const a=v(e,["pageToken"]);return r!==void 0&&a!=null&&x(r,["_query","pageToken"],a),n}function SRe(t,e){const r={},n=v(e,["config"]);return n!=null&&x(r,["config"],bRe(t,n,r)),r}function ARe(t,e){const r={},n=v(e,["details"]);n!=null&&x(r,["details"],n);const i=v(e,["message"]);i!=null&&x(r,["message"],i);const a=v(e,["code"]);return a!=null&&x(r,["code"],a),r}function TRe(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["name"],n);const i=v(e,["displayName"]);i!=null&&x(r,["displayName"],i);const a=v(e,["mimeType"]);a!=null&&x(r,["mimeType"],a);const s=v(e,["sizeBytes"]);s!=null&&x(r,["sizeBytes"],s);const o=v(e,["createTime"]);o!=null&&x(r,["createTime"],o);const l=v(e,["expirationTime"]);l!=null&&x(r,["expirationTime"],l);const c=v(e,["updateTime"]);c!=null&&x(r,["updateTime"],c);const u=v(e,["sha256Hash"]);u!=null&&x(r,["sha256Hash"],u);const f=v(e,["uri"]);f!=null&&x(r,["uri"],f);const d=v(e,["downloadUri"]);d!=null&&x(r,["downloadUri"],d);const h=v(e,["state"]);h!=null&&x(r,["state"],h);const m=v(e,["source"]);m!=null&&x(r,["source"],m);const p=v(e,["videoMetadata"]);p!=null&&x(r,["videoMetadata"],p);const y=v(e,["error"]);return y!=null&&x(r,["error"],ARe(t,y)),r}function ERe(t,e){const r={},n=v(e,["file"]);n!=null&&x(r,["file"],TRe(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],i),r}function CRe(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["_url","file"],gH(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],i),r}function kRe(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["_url","file"],gH(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],i),r}function PRe(t,e){const r={},n=v(e,["details"]);n!=null&&x(r,["details"],n);const i=v(e,["message"]);i!=null&&x(r,["message"],i);const a=v(e,["code"]);return a!=null&&x(r,["code"],a),r}function vk(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["name"],n);const i=v(e,["displayName"]);i!=null&&x(r,["displayName"],i);const a=v(e,["mimeType"]);a!=null&&x(r,["mimeType"],a);const s=v(e,["sizeBytes"]);s!=null&&x(r,["sizeBytes"],s);const o=v(e,["createTime"]);o!=null&&x(r,["createTime"],o);const l=v(e,["expirationTime"]);l!=null&&x(r,["expirationTime"],l);const c=v(e,["updateTime"]);c!=null&&x(r,["updateTime"],c);const u=v(e,["sha256Hash"]);u!=null&&x(r,["sha256Hash"],u);const f=v(e,["uri"]);f!=null&&x(r,["uri"],f);const d=v(e,["downloadUri"]);d!=null&&x(r,["downloadUri"],d);const h=v(e,["state"]);h!=null&&x(r,["state"],h);const m=v(e,["source"]);m!=null&&x(r,["source"],m);const p=v(e,["videoMetadata"]);p!=null&&x(r,["videoMetadata"],p);const y=v(e,["error"]);return y!=null&&x(r,["error"],PRe(t,y)),r}function IRe(t,e){const r={},n=v(e,["nextPageToken"]);n!=null&&x(r,["nextPageToken"],n);const i=v(e,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>vk(t,s))),x(r,["files"],a)}return r}function ORe(){return{}}function MRe(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NRe extends ox{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new BS(dp.PAGED_ITEM_FILES,n=>this.listInternal(n),await this.listInternal(r),r)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(r=>vk(this.apiClient,r))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=SRe(this.apiClient,e);return a=tt("files",o._url),s=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=IRe(this.apiClient,l),u=new aNe;return Object.assign(u,c),u})}}async createInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=ERe(this.apiClient,e);return a=tt("upload/v1beta/files",o._url),s=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(()=>{const l=ORe(),c=new sNe;return Object.assign(c,l),c})}}async get(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=CRe(this.apiClient,e);return a=tt("files/{file}",o._url),s=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>vk(this.apiClient,l))}}async delete(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=kRe(this.apiClient,e);return a=tt("files/{file}",o._url),s=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(()=>{const l=MRe(),c=new oNe;return Object.assign(c,l),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RRe(t,e){const r={},n=v(e,["voiceName"]);return n!=null&&x(r,["voiceName"],n),r}function DRe(t,e){const r={},n=v(e,["voiceName"]);return n!=null&&x(r,["voiceName"],n),r}function _H(t,e){const r={},n=v(e,["prebuiltVoiceConfig"]);return n!=null&&x(r,["prebuiltVoiceConfig"],RRe(t,n)),r}function FRe(t,e){const r={},n=v(e,["prebuiltVoiceConfig"]);return n!=null&&x(r,["prebuiltVoiceConfig"],DRe(t,n)),r}function LRe(t,e){const r={},n=v(e,["speaker"]);n!=null&&x(r,["speaker"],n);const i=v(e,["voiceConfig"]);return i!=null&&x(r,["voiceConfig"],_H(t,i)),r}function $Re(t,e){const r={},n=v(e,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>LRe(t,a))),x(r,["speakerVoiceConfigs"],i)}return r}function BRe(t,e){const r={},n=v(e,["voiceConfig"]);n!=null&&x(r,["voiceConfig"],_H(t,n));const i=v(e,["multiSpeakerVoiceConfig"]);i!=null&&x(r,["multiSpeakerVoiceConfig"],$Re(t,i));const a=v(e,["languageCode"]);return a!=null&&x(r,["languageCode"],a),r}function URe(t,e){const r={},n=v(e,["voiceConfig"]);if(n!=null&&x(r,["voiceConfig"],FRe(t,n)),v(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=v(e,["languageCode"]);return i!=null&&x(r,["languageCode"],i),r}function jRe(t,e){const r={},n=v(e,["fps"]);n!=null&&x(r,["fps"],n);const i=v(e,["endOffset"]);i!=null&&x(r,["endOffset"],i);const a=v(e,["startOffset"]);return a!=null&&x(r,["startOffset"],a),r}function VRe(t,e){const r={},n=v(e,["fps"]);n!=null&&x(r,["fps"],n);const i=v(e,["endOffset"]);i!=null&&x(r,["endOffset"],i);const a=v(e,["startOffset"]);return a!=null&&x(r,["startOffset"],a),r}function HRe(t,e){const r={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["data"]);n!=null&&x(r,["data"],n);const i=v(e,["mimeType"]);return i!=null&&x(r,["mimeType"],i),r}function WRe(t,e){const r={},n=v(e,["displayName"]);n!=null&&x(r,["displayName"],n);const i=v(e,["data"]);i!=null&&x(r,["data"],i);const a=v(e,["mimeType"]);return a!=null&&x(r,["mimeType"],a),r}function zRe(t,e){const r={},n=v(e,["videoMetadata"]);n!=null&&x(r,["videoMetadata"],jRe(t,n));const i=v(e,["thought"]);i!=null&&x(r,["thought"],i);const a=v(e,["inlineData"]);a!=null&&x(r,["inlineData"],HRe(t,a));const s=v(e,["codeExecutionResult"]);s!=null&&x(r,["codeExecutionResult"],s);const o=v(e,["executableCode"]);o!=null&&x(r,["executableCode"],o);const l=v(e,["fileData"]);l!=null&&x(r,["fileData"],l);const c=v(e,["functionCall"]);c!=null&&x(r,["functionCall"],c);const u=v(e,["functionResponse"]);u!=null&&x(r,["functionResponse"],u);const f=v(e,["text"]);return f!=null&&x(r,["text"],f),r}function GRe(t,e){const r={},n=v(e,["videoMetadata"]);n!=null&&x(r,["videoMetadata"],VRe(t,n));const i=v(e,["thought"]);i!=null&&x(r,["thought"],i);const a=v(e,["inlineData"]);a!=null&&x(r,["inlineData"],WRe(t,a));const s=v(e,["codeExecutionResult"]);s!=null&&x(r,["codeExecutionResult"],s);const o=v(e,["executableCode"]);o!=null&&x(r,["executableCode"],o);const l=v(e,["fileData"]);l!=null&&x(r,["fileData"],l);const c=v(e,["functionCall"]);c!=null&&x(r,["functionCall"],c);const u=v(e,["functionResponse"]);u!=null&&x(r,["functionResponse"],u);const f=v(e,["text"]);return f!=null&&x(r,["text"],f),r}function qRe(t,e){const r={},n=v(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>zRe(t,s))),x(r,["parts"],a)}const i=v(e,["role"]);return i!=null&&x(r,["role"],i),r}function XRe(t,e){const r={},n=v(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>GRe(t,s))),x(r,["parts"],a)}const i=v(e,["role"]);return i!=null&&x(r,["role"],i),r}function KRe(t,e){const r={},n=v(e,["behavior"]);n!=null&&x(r,["behavior"],n);const i=v(e,["description"]);i!=null&&x(r,["description"],i);const a=v(e,["name"]);a!=null&&x(r,["name"],a);const s=v(e,["parameters"]);s!=null&&x(r,["parameters"],s);const o=v(e,["response"]);return o!=null&&x(r,["response"],o),r}function YRe(t,e){const r={};if(v(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(e,["description"]);n!=null&&x(r,["description"],n);const i=v(e,["name"]);i!=null&&x(r,["name"],i);const a=v(e,["parameters"]);a!=null&&x(r,["parameters"],a);const s=v(e,["response"]);return s!=null&&x(r,["response"],s),r}function JRe(t,e){const r={},n=v(e,["startTime"]);n!=null&&x(r,["startTime"],n);const i=v(e,["endTime"]);return i!=null&&x(r,["endTime"],i),r}function ZRe(t,e){const r={},n=v(e,["startTime"]);n!=null&&x(r,["startTime"],n);const i=v(e,["endTime"]);return i!=null&&x(r,["endTime"],i),r}function QRe(t,e){const r={},n=v(e,["timeRangeFilter"]);return n!=null&&x(r,["timeRangeFilter"],JRe(t,n)),r}function eDe(t,e){const r={},n=v(e,["timeRangeFilter"]);return n!=null&&x(r,["timeRangeFilter"],ZRe(t,n)),r}function tDe(t,e){const r={},n=v(e,["mode"]);n!=null&&x(r,["mode"],n);const i=v(e,["dynamicThreshold"]);return i!=null&&x(r,["dynamicThreshold"],i),r}function rDe(t,e){const r={},n=v(e,["mode"]);n!=null&&x(r,["mode"],n);const i=v(e,["dynamicThreshold"]);return i!=null&&x(r,["dynamicThreshold"],i),r}function nDe(t,e){const r={},n=v(e,["dynamicRetrievalConfig"]);return n!=null&&x(r,["dynamicRetrievalConfig"],tDe(t,n)),r}function iDe(t,e){const r={},n=v(e,["dynamicRetrievalConfig"]);return n!=null&&x(r,["dynamicRetrievalConfig"],rDe(t,n)),r}function aDe(){return{}}function sDe(t,e){const r={},n=v(e,["apiKeyString"]);return n!=null&&x(r,["apiKeyString"],n),r}function oDe(t,e){const r={},n=v(e,["apiKeyConfig"]);n!=null&&x(r,["apiKeyConfig"],sDe(t,n));const i=v(e,["authType"]);i!=null&&x(r,["authType"],i);const a=v(e,["googleServiceAccountConfig"]);a!=null&&x(r,["googleServiceAccountConfig"],a);const s=v(e,["httpBasicAuthConfig"]);s!=null&&x(r,["httpBasicAuthConfig"],s);const o=v(e,["oauthConfig"]);o!=null&&x(r,["oauthConfig"],o);const l=v(e,["oidcConfig"]);return l!=null&&x(r,["oidcConfig"],l),r}function lDe(t,e){const r={},n=v(e,["authConfig"]);return n!=null&&x(r,["authConfig"],oDe(t,n)),r}function cDe(){return{}}function uDe(t,e){const r={},n=v(e,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>KRe(t,c))),x(r,["functionDeclarations"],l)}if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=v(e,["googleSearch"]);i!=null&&x(r,["googleSearch"],QRe(t,i));const a=v(e,["googleSearchRetrieval"]);if(a!=null&&x(r,["googleSearchRetrieval"],nDe(t,a)),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(v(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");v(e,["urlContext"])!=null&&x(r,["urlContext"],cDe());const o=v(e,["codeExecution"]);return o!=null&&x(r,["codeExecution"],o),r}function fDe(t,e){const r={},n=v(e,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(f=>YRe(t,f))),x(r,["functionDeclarations"],u)}const i=v(e,["retrieval"]);i!=null&&x(r,["retrieval"],i);const a=v(e,["googleSearch"]);a!=null&&x(r,["googleSearch"],eDe(t,a));const s=v(e,["googleSearchRetrieval"]);s!=null&&x(r,["googleSearchRetrieval"],iDe(t,s)),v(e,["enterpriseWebSearch"])!=null&&x(r,["enterpriseWebSearch"],aDe());const l=v(e,["googleMaps"]);if(l!=null&&x(r,["googleMaps"],lDe(t,l)),v(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const c=v(e,["codeExecution"]);return c!=null&&x(r,["codeExecution"],c),r}function dDe(t,e){const r={},n=v(e,["handle"]);if(n!=null&&x(r,["handle"],n),v(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return r}function hDe(t,e){const r={},n=v(e,["handle"]);n!=null&&x(r,["handle"],n);const i=v(e,["transparent"]);return i!=null&&x(r,["transparent"],i),r}function O3(){return{}}function M3(){return{}}function pDe(t,e){const r={},n=v(e,["disabled"]);n!=null&&x(r,["disabled"],n);const i=v(e,["startOfSpeechSensitivity"]);i!=null&&x(r,["startOfSpeechSensitivity"],i);const a=v(e,["endOfSpeechSensitivity"]);a!=null&&x(r,["endOfSpeechSensitivity"],a);const s=v(e,["prefixPaddingMs"]);s!=null&&x(r,["prefixPaddingMs"],s);const o=v(e,["silenceDurationMs"]);return o!=null&&x(r,["silenceDurationMs"],o),r}function mDe(t,e){const r={},n=v(e,["disabled"]);n!=null&&x(r,["disabled"],n);const i=v(e,["startOfSpeechSensitivity"]);i!=null&&x(r,["startOfSpeechSensitivity"],i);const a=v(e,["endOfSpeechSensitivity"]);a!=null&&x(r,["endOfSpeechSensitivity"],a);const s=v(e,["prefixPaddingMs"]);s!=null&&x(r,["prefixPaddingMs"],s);const o=v(e,["silenceDurationMs"]);return o!=null&&x(r,["silenceDurationMs"],o),r}function gDe(t,e){const r={},n=v(e,["automaticActivityDetection"]);n!=null&&x(r,["automaticActivityDetection"],pDe(t,n));const i=v(e,["activityHandling"]);i!=null&&x(r,["activityHandling"],i);const a=v(e,["turnCoverage"]);return a!=null&&x(r,["turnCoverage"],a),r}function vDe(t,e){const r={},n=v(e,["automaticActivityDetection"]);n!=null&&x(r,["automaticActivityDetection"],mDe(t,n));const i=v(e,["activityHandling"]);i!=null&&x(r,["activityHandling"],i);const a=v(e,["turnCoverage"]);return a!=null&&x(r,["turnCoverage"],a),r}function yDe(t,e){const r={},n=v(e,["targetTokens"]);return n!=null&&x(r,["targetTokens"],n),r}function xDe(t,e){const r={},n=v(e,["targetTokens"]);return n!=null&&x(r,["targetTokens"],n),r}function _De(t,e){const r={},n=v(e,["triggerTokens"]);n!=null&&x(r,["triggerTokens"],n);const i=v(e,["slidingWindow"]);return i!=null&&x(r,["slidingWindow"],yDe(t,i)),r}function wDe(t,e){const r={},n=v(e,["triggerTokens"]);n!=null&&x(r,["triggerTokens"],n);const i=v(e,["slidingWindow"]);return i!=null&&x(r,["slidingWindow"],xDe(t,i)),r}function bDe(t,e){const r={},n=v(e,["proactiveAudio"]);return n!=null&&x(r,["proactiveAudio"],n),r}function SDe(t,e){const r={},n=v(e,["proactiveAudio"]);return n!=null&&x(r,["proactiveAudio"],n),r}function ADe(t,e,r){const n={},i=v(e,["generationConfig"]);r!==void 0&&i!=null&&x(r,["setup","generationConfig"],i);const a=v(e,["responseModalities"]);r!==void 0&&a!=null&&x(r,["setup","generationConfig","responseModalities"],a);const s=v(e,["temperature"]);r!==void 0&&s!=null&&x(r,["setup","generationConfig","temperature"],s);const o=v(e,["topP"]);r!==void 0&&o!=null&&x(r,["setup","generationConfig","topP"],o);const l=v(e,["topK"]);r!==void 0&&l!=null&&x(r,["setup","generationConfig","topK"],l);const c=v(e,["maxOutputTokens"]);r!==void 0&&c!=null&&x(r,["setup","generationConfig","maxOutputTokens"],c);const u=v(e,["mediaResolution"]);r!==void 0&&u!=null&&x(r,["setup","generationConfig","mediaResolution"],u);const f=v(e,["seed"]);r!==void 0&&f!=null&&x(r,["setup","generationConfig","seed"],f);const d=v(e,["speechConfig"]);r!==void 0&&d!=null&&x(r,["setup","generationConfig","speechConfig"],BRe(t,pH(t,d)));const h=v(e,["enableAffectiveDialog"]);r!==void 0&&h!=null&&x(r,["setup","generationConfig","enableAffectiveDialog"],h);const m=v(e,["systemInstruction"]);r!==void 0&&m!=null&&x(r,["setup","systemInstruction"],qRe(t,$i(t,m)));const p=v(e,["tools"]);if(r!==void 0&&p!=null){let T=$S(t,p);Array.isArray(T)&&(T=T.map(E=>uDe(t,LS(t,E)))),x(r,["setup","tools"],T)}const y=v(e,["sessionResumption"]);r!==void 0&&y!=null&&x(r,["setup","sessionResumption"],dDe(t,y));const _=v(e,["inputAudioTranscription"]);r!==void 0&&_!=null&&x(r,["setup","inputAudioTranscription"],O3());const b=v(e,["outputAudioTranscription"]);r!==void 0&&b!=null&&x(r,["setup","outputAudioTranscription"],O3());const w=v(e,["realtimeInputConfig"]);r!==void 0&&w!=null&&x(r,["setup","realtimeInputConfig"],gDe(t,w));const A=v(e,["contextWindowCompression"]);r!==void 0&&A!=null&&x(r,["setup","contextWindowCompression"],_De(t,A));const S=v(e,["proactivity"]);return r!==void 0&&S!=null&&x(r,["setup","proactivity"],bDe(t,S)),n}function TDe(t,e,r){const n={},i=v(e,["generationConfig"]);r!==void 0&&i!=null&&x(r,["setup","generationConfig"],i);const a=v(e,["responseModalities"]);r!==void 0&&a!=null&&x(r,["setup","generationConfig","responseModalities"],a);const s=v(e,["temperature"]);r!==void 0&&s!=null&&x(r,["setup","generationConfig","temperature"],s);const o=v(e,["topP"]);r!==void 0&&o!=null&&x(r,["setup","generationConfig","topP"],o);const l=v(e,["topK"]);r!==void 0&&l!=null&&x(r,["setup","generationConfig","topK"],l);const c=v(e,["maxOutputTokens"]);r!==void 0&&c!=null&&x(r,["setup","generationConfig","maxOutputTokens"],c);const u=v(e,["mediaResolution"]);r!==void 0&&u!=null&&x(r,["setup","generationConfig","mediaResolution"],u);const f=v(e,["seed"]);r!==void 0&&f!=null&&x(r,["setup","generationConfig","seed"],f);const d=v(e,["speechConfig"]);r!==void 0&&d!=null&&x(r,["setup","generationConfig","speechConfig"],URe(t,pH(t,d)));const h=v(e,["enableAffectiveDialog"]);r!==void 0&&h!=null&&x(r,["setup","generationConfig","enableAffectiveDialog"],h);const m=v(e,["systemInstruction"]);r!==void 0&&m!=null&&x(r,["setup","systemInstruction"],XRe(t,$i(t,m)));const p=v(e,["tools"]);if(r!==void 0&&p!=null){let T=$S(t,p);Array.isArray(T)&&(T=T.map(E=>fDe(t,LS(t,E)))),x(r,["setup","tools"],T)}const y=v(e,["sessionResumption"]);r!==void 0&&y!=null&&x(r,["setup","sessionResumption"],hDe(t,y));const _=v(e,["inputAudioTranscription"]);r!==void 0&&_!=null&&x(r,["setup","inputAudioTranscription"],M3());const b=v(e,["outputAudioTranscription"]);r!==void 0&&b!=null&&x(r,["setup","outputAudioTranscription"],M3());const w=v(e,["realtimeInputConfig"]);r!==void 0&&w!=null&&x(r,["setup","realtimeInputConfig"],vDe(t,w));const A=v(e,["contextWindowCompression"]);r!==void 0&&A!=null&&x(r,["setup","contextWindowCompression"],wDe(t,A));const S=v(e,["proactivity"]);return r!==void 0&&S!=null&&x(r,["setup","proactivity"],SDe(t,S)),n}function EDe(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["setup","model"],fr(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],ADe(t,i,r)),r}function CDe(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["setup","model"],fr(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],TDe(t,i,r)),r}function kDe(){return{}}function PDe(){return{}}function IDe(){return{}}function ODe(){return{}}function MDe(t,e){const r={},n=v(e,["media"]);n!=null&&x(r,["mediaChunks"],uH(t,n));const i=v(e,["audio"]);i!=null&&x(r,["audio"],fNe(t,i));const a=v(e,["audioStreamEnd"]);a!=null&&x(r,["audioStreamEnd"],a);const s=v(e,["video"]);s!=null&&x(r,["video"],uNe(t,s));const o=v(e,["text"]);return o!=null&&x(r,["text"],o),v(e,["activityStart"])!=null&&x(r,["activityStart"],kDe()),v(e,["activityEnd"])!=null&&x(r,["activityEnd"],IDe()),r}function NDe(t,e){const r={},n=v(e,["media"]);if(n!=null&&x(r,["mediaChunks"],uH(t,n)),v(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const i=v(e,["audioStreamEnd"]);if(i!=null&&x(r,["audioStreamEnd"],i),v(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(v(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return v(e,["activityStart"])!=null&&x(r,["activityStart"],PDe()),v(e,["activityEnd"])!=null&&x(r,["activityEnd"],ODe()),r}function wH(t,e){const r={},n=v(e,["text"]);n!=null&&x(r,["text"],n);const i=v(e,["weight"]);return i!=null&&x(r,["weight"],i),r}function RDe(t,e){const r={},n=v(e,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>wH(t,a))),x(r,["weightedPrompts"],i)}return r}function bH(t,e){const r={},n=v(e,["temperature"]);n!=null&&x(r,["temperature"],n);const i=v(e,["topK"]);i!=null&&x(r,["topK"],i);const a=v(e,["seed"]);a!=null&&x(r,["seed"],a);const s=v(e,["guidance"]);s!=null&&x(r,["guidance"],s);const o=v(e,["bpm"]);o!=null&&x(r,["bpm"],o);const l=v(e,["density"]);l!=null&&x(r,["density"],l);const c=v(e,["brightness"]);c!=null&&x(r,["brightness"],c);const u=v(e,["scale"]);u!=null&&x(r,["scale"],u);const f=v(e,["muteBass"]);f!=null&&x(r,["muteBass"],f);const d=v(e,["muteDrums"]);d!=null&&x(r,["muteDrums"],d);const h=v(e,["onlyBassAndDrums"]);h!=null&&x(r,["onlyBassAndDrums"],h);const m=v(e,["musicGenerationMode"]);return m!=null&&x(r,["musicGenerationMode"],m),r}function DDe(t,e){const r={},n=v(e,["musicGenerationConfig"]);return n!=null&&x(r,["musicGenerationConfig"],bH(t,n)),r}function SH(t,e){const r={},n=v(e,["model"]);return n!=null&&x(r,["model"],n),r}function AH(t,e){const r={},n=v(e,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>wH(t,a))),x(r,["weightedPrompts"],i)}return r}function yk(t,e){const r={},n=v(e,["setup"]);n!=null&&x(r,["setup"],SH(t,n));const i=v(e,["clientContent"]);i!=null&&x(r,["clientContent"],AH(t,i));const a=v(e,["musicGenerationConfig"]);a!=null&&x(r,["musicGenerationConfig"],bH(t,a));const s=v(e,["playbackControl"]);return s!=null&&x(r,["playbackControl"],s),r}function FDe(){return{}}function LDe(){return{}}function $De(t,e){const r={},n=v(e,["fps"]);n!=null&&x(r,["fps"],n);const i=v(e,["endOffset"]);i!=null&&x(r,["endOffset"],i);const a=v(e,["startOffset"]);return a!=null&&x(r,["startOffset"],a),r}function BDe(t,e){const r={},n=v(e,["fps"]);n!=null&&x(r,["fps"],n);const i=v(e,["endOffset"]);i!=null&&x(r,["endOffset"],i);const a=v(e,["startOffset"]);return a!=null&&x(r,["startOffset"],a),r}function UDe(t,e){const r={},n=v(e,["data"]);n!=null&&x(r,["data"],n);const i=v(e,["mimeType"]);return i!=null&&x(r,["mimeType"],i),r}function jDe(t,e){const r={},n=v(e,["displayName"]);n!=null&&x(r,["displayName"],n);const i=v(e,["data"]);i!=null&&x(r,["data"],i);const a=v(e,["mimeType"]);return a!=null&&x(r,["mimeType"],a),r}function VDe(t,e){const r={},n=v(e,["videoMetadata"]);n!=null&&x(r,["videoMetadata"],$De(t,n));const i=v(e,["thought"]);i!=null&&x(r,["thought"],i);const a=v(e,["inlineData"]);a!=null&&x(r,["inlineData"],UDe(t,a));const s=v(e,["codeExecutionResult"]);s!=null&&x(r,["codeExecutionResult"],s);const o=v(e,["executableCode"]);o!=null&&x(r,["executableCode"],o);const l=v(e,["fileData"]);l!=null&&x(r,["fileData"],l);const c=v(e,["functionCall"]);c!=null&&x(r,["functionCall"],c);const u=v(e,["functionResponse"]);u!=null&&x(r,["functionResponse"],u);const f=v(e,["text"]);return f!=null&&x(r,["text"],f),r}function HDe(t,e){const r={},n=v(e,["videoMetadata"]);n!=null&&x(r,["videoMetadata"],BDe(t,n));const i=v(e,["thought"]);i!=null&&x(r,["thought"],i);const a=v(e,["inlineData"]);a!=null&&x(r,["inlineData"],jDe(t,a));const s=v(e,["codeExecutionResult"]);s!=null&&x(r,["codeExecutionResult"],s);const o=v(e,["executableCode"]);o!=null&&x(r,["executableCode"],o);const l=v(e,["fileData"]);l!=null&&x(r,["fileData"],l);const c=v(e,["functionCall"]);c!=null&&x(r,["functionCall"],c);const u=v(e,["functionResponse"]);u!=null&&x(r,["functionResponse"],u);const f=v(e,["text"]);return f!=null&&x(r,["text"],f),r}function WDe(t,e){const r={},n=v(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>VDe(t,s))),x(r,["parts"],a)}const i=v(e,["role"]);return i!=null&&x(r,["role"],i),r}function zDe(t,e){const r={},n=v(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>HDe(t,s))),x(r,["parts"],a)}const i=v(e,["role"]);return i!=null&&x(r,["role"],i),r}function N3(t,e){const r={},n=v(e,["text"]);n!=null&&x(r,["text"],n);const i=v(e,["finished"]);return i!=null&&x(r,["finished"],i),r}function R3(t,e){const r={},n=v(e,["text"]);n!=null&&x(r,["text"],n);const i=v(e,["finished"]);return i!=null&&x(r,["finished"],i),r}function GDe(t,e){const r={},n=v(e,["retrievedUrl"]);n!=null&&x(r,["retrievedUrl"],n);const i=v(e,["urlRetrievalStatus"]);return i!=null&&x(r,["urlRetrievalStatus"],i),r}function qDe(t,e){const r={},n=v(e,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>GDe(t,a))),x(r,["urlMetadata"],i)}return r}function XDe(t,e){const r={},n=v(e,["modelTurn"]);n!=null&&x(r,["modelTurn"],WDe(t,n));const i=v(e,["turnComplete"]);i!=null&&x(r,["turnComplete"],i);const a=v(e,["interrupted"]);a!=null&&x(r,["interrupted"],a);const s=v(e,["groundingMetadata"]);s!=null&&x(r,["groundingMetadata"],s);const o=v(e,["generationComplete"]);o!=null&&x(r,["generationComplete"],o);const l=v(e,["inputTranscription"]);l!=null&&x(r,["inputTranscription"],N3(t,l));const c=v(e,["outputTranscription"]);c!=null&&x(r,["outputTranscription"],N3(t,c));const u=v(e,["urlContextMetadata"]);return u!=null&&x(r,["urlContextMetadata"],qDe(t,u)),r}function KDe(t,e){const r={},n=v(e,["modelTurn"]);n!=null&&x(r,["modelTurn"],zDe(t,n));const i=v(e,["turnComplete"]);i!=null&&x(r,["turnComplete"],i);const a=v(e,["interrupted"]);a!=null&&x(r,["interrupted"],a);const s=v(e,["groundingMetadata"]);s!=null&&x(r,["groundingMetadata"],s);const o=v(e,["generationComplete"]);o!=null&&x(r,["generationComplete"],o);const l=v(e,["inputTranscription"]);l!=null&&x(r,["inputTranscription"],R3(t,l));const c=v(e,["outputTranscription"]);return c!=null&&x(r,["outputTranscription"],R3(t,c)),r}function YDe(t,e){const r={},n=v(e,["id"]);n!=null&&x(r,["id"],n);const i=v(e,["args"]);i!=null&&x(r,["args"],i);const a=v(e,["name"]);return a!=null&&x(r,["name"],a),r}function JDe(t,e){const r={},n=v(e,["args"]);n!=null&&x(r,["args"],n);const i=v(e,["name"]);return i!=null&&x(r,["name"],i),r}function ZDe(t,e){const r={},n=v(e,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>YDe(t,a))),x(r,["functionCalls"],i)}return r}function QDe(t,e){const r={},n=v(e,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>JDe(t,a))),x(r,["functionCalls"],i)}return r}function eFe(t,e){const r={},n=v(e,["ids"]);return n!=null&&x(r,["ids"],n),r}function tFe(t,e){const r={},n=v(e,["ids"]);return n!=null&&x(r,["ids"],n),r}function s1(t,e){const r={},n=v(e,["modality"]);n!=null&&x(r,["modality"],n);const i=v(e,["tokenCount"]);return i!=null&&x(r,["tokenCount"],i),r}function o1(t,e){const r={},n=v(e,["modality"]);n!=null&&x(r,["modality"],n);const i=v(e,["tokenCount"]);return i!=null&&x(r,["tokenCount"],i),r}function rFe(t,e){const r={},n=v(e,["promptTokenCount"]);n!=null&&x(r,["promptTokenCount"],n);const i=v(e,["cachedContentTokenCount"]);i!=null&&x(r,["cachedContentTokenCount"],i);const a=v(e,["responseTokenCount"]);a!=null&&x(r,["responseTokenCount"],a);const s=v(e,["toolUsePromptTokenCount"]);s!=null&&x(r,["toolUsePromptTokenCount"],s);const o=v(e,["thoughtsTokenCount"]);o!=null&&x(r,["thoughtsTokenCount"],o);const l=v(e,["totalTokenCount"]);l!=null&&x(r,["totalTokenCount"],l);const c=v(e,["promptTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>s1(t,m))),x(r,["promptTokensDetails"],h)}const u=v(e,["cacheTokensDetails"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(m=>s1(t,m))),x(r,["cacheTokensDetails"],h)}const f=v(e,["responseTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>s1(t,m))),x(r,["responseTokensDetails"],h)}const d=v(e,["toolUsePromptTokensDetails"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>s1(t,m))),x(r,["toolUsePromptTokensDetails"],h)}return r}function nFe(t,e){const r={},n=v(e,["promptTokenCount"]);n!=null&&x(r,["promptTokenCount"],n);const i=v(e,["cachedContentTokenCount"]);i!=null&&x(r,["cachedContentTokenCount"],i);const a=v(e,["candidatesTokenCount"]);a!=null&&x(r,["responseTokenCount"],a);const s=v(e,["toolUsePromptTokenCount"]);s!=null&&x(r,["toolUsePromptTokenCount"],s);const o=v(e,["thoughtsTokenCount"]);o!=null&&x(r,["thoughtsTokenCount"],o);const l=v(e,["totalTokenCount"]);l!=null&&x(r,["totalTokenCount"],l);const c=v(e,["promptTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(p=>o1(t,p))),x(r,["promptTokensDetails"],m)}const u=v(e,["cacheTokensDetails"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(p=>o1(t,p))),x(r,["cacheTokensDetails"],m)}const f=v(e,["candidatesTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(p=>o1(t,p))),x(r,["responseTokensDetails"],m)}const d=v(e,["toolUsePromptTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(p=>o1(t,p))),x(r,["toolUsePromptTokensDetails"],m)}const h=v(e,["trafficType"]);return h!=null&&x(r,["trafficType"],h),r}function iFe(t,e){const r={},n=v(e,["timeLeft"]);return n!=null&&x(r,["timeLeft"],n),r}function aFe(t,e){const r={},n=v(e,["timeLeft"]);return n!=null&&x(r,["timeLeft"],n),r}function sFe(t,e){const r={},n=v(e,["newHandle"]);n!=null&&x(r,["newHandle"],n);const i=v(e,["resumable"]);i!=null&&x(r,["resumable"],i);const a=v(e,["lastConsumedClientMessageIndex"]);return a!=null&&x(r,["lastConsumedClientMessageIndex"],a),r}function oFe(t,e){const r={},n=v(e,["newHandle"]);n!=null&&x(r,["newHandle"],n);const i=v(e,["resumable"]);i!=null&&x(r,["resumable"],i);const a=v(e,["lastConsumedClientMessageIndex"]);return a!=null&&x(r,["lastConsumedClientMessageIndex"],a),r}function lFe(t,e){const r={};v(e,["setupComplete"])!=null&&x(r,["setupComplete"],FDe());const i=v(e,["serverContent"]);i!=null&&x(r,["serverContent"],XDe(t,i));const a=v(e,["toolCall"]);a!=null&&x(r,["toolCall"],ZDe(t,a));const s=v(e,["toolCallCancellation"]);s!=null&&x(r,["toolCallCancellation"],eFe(t,s));const o=v(e,["usageMetadata"]);o!=null&&x(r,["usageMetadata"],rFe(t,o));const l=v(e,["goAway"]);l!=null&&x(r,["goAway"],iFe(t,l));const c=v(e,["sessionResumptionUpdate"]);return c!=null&&x(r,["sessionResumptionUpdate"],sFe(t,c)),r}function cFe(t,e){const r={};v(e,["setupComplete"])!=null&&x(r,["setupComplete"],LDe());const i=v(e,["serverContent"]);i!=null&&x(r,["serverContent"],KDe(t,i));const a=v(e,["toolCall"]);a!=null&&x(r,["toolCall"],QDe(t,a));const s=v(e,["toolCallCancellation"]);s!=null&&x(r,["toolCallCancellation"],tFe(t,s));const o=v(e,["usageMetadata"]);o!=null&&x(r,["usageMetadata"],nFe(t,o));const l=v(e,["goAway"]);l!=null&&x(r,["goAway"],aFe(t,l));const c=v(e,["sessionResumptionUpdate"]);return c!=null&&x(r,["sessionResumptionUpdate"],oFe(t,c)),r}function uFe(){return{}}function fFe(t,e){const r={},n=v(e,["text"]);n!=null&&x(r,["text"],n);const i=v(e,["weight"]);return i!=null&&x(r,["weight"],i),r}function dFe(t,e){const r={},n=v(e,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>fFe(t,a))),x(r,["weightedPrompts"],i)}return r}function hFe(t,e){const r={},n=v(e,["temperature"]);n!=null&&x(r,["temperature"],n);const i=v(e,["topK"]);i!=null&&x(r,["topK"],i);const a=v(e,["seed"]);a!=null&&x(r,["seed"],a);const s=v(e,["guidance"]);s!=null&&x(r,["guidance"],s);const o=v(e,["bpm"]);o!=null&&x(r,["bpm"],o);const l=v(e,["density"]);l!=null&&x(r,["density"],l);const c=v(e,["brightness"]);c!=null&&x(r,["brightness"],c);const u=v(e,["scale"]);u!=null&&x(r,["scale"],u);const f=v(e,["muteBass"]);f!=null&&x(r,["muteBass"],f);const d=v(e,["muteDrums"]);d!=null&&x(r,["muteDrums"],d);const h=v(e,["onlyBassAndDrums"]);h!=null&&x(r,["onlyBassAndDrums"],h);const m=v(e,["musicGenerationMode"]);return m!=null&&x(r,["musicGenerationMode"],m),r}function pFe(t,e){const r={},n=v(e,["clientContent"]);n!=null&&x(r,["clientContent"],dFe(t,n));const i=v(e,["musicGenerationConfig"]);return i!=null&&x(r,["musicGenerationConfig"],hFe(t,i)),r}function mFe(t,e){const r={},n=v(e,["data"]);n!=null&&x(r,["data"],n);const i=v(e,["mimeType"]);i!=null&&x(r,["mimeType"],i);const a=v(e,["sourceMetadata"]);return a!=null&&x(r,["sourceMetadata"],pFe(t,a)),r}function gFe(t,e){const r={},n=v(e,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>mFe(t,a))),x(r,["audioChunks"],i)}return r}function vFe(t,e){const r={},n=v(e,["text"]);n!=null&&x(r,["text"],n);const i=v(e,["filteredReason"]);return i!=null&&x(r,["filteredReason"],i),r}function yFe(t,e){const r={};v(e,["setupComplete"])!=null&&x(r,["setupComplete"],uFe());const i=v(e,["serverContent"]);i!=null&&x(r,["serverContent"],gFe(t,i));const a=v(e,["filteredPrompt"]);return a!=null&&x(r,["filteredPrompt"],vFe(t,a)),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xFe(t,e){const r={},n=v(e,["fps"]);n!=null&&x(r,["fps"],n);const i=v(e,["endOffset"]);i!=null&&x(r,["endOffset"],i);const a=v(e,["startOffset"]);return a!=null&&x(r,["startOffset"],a),r}function _Fe(t,e){const r={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["data"]);n!=null&&x(r,["data"],n);const i=v(e,["mimeType"]);return i!=null&&x(r,["mimeType"],i),r}function wFe(t,e){const r={},n=v(e,["videoMetadata"]);n!=null&&x(r,["videoMetadata"],xFe(t,n));const i=v(e,["thought"]);i!=null&&x(r,["thought"],i);const a=v(e,["inlineData"]);a!=null&&x(r,["inlineData"],_Fe(t,a));const s=v(e,["codeExecutionResult"]);s!=null&&x(r,["codeExecutionResult"],s);const o=v(e,["executableCode"]);o!=null&&x(r,["executableCode"],o);const l=v(e,["fileData"]);l!=null&&x(r,["fileData"],l);const c=v(e,["functionCall"]);c!=null&&x(r,["functionCall"],c);const u=v(e,["functionResponse"]);u!=null&&x(r,["functionResponse"],u);const f=v(e,["text"]);return f!=null&&x(r,["text"],f),r}function US(t,e){const r={},n=v(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>wFe(t,s))),x(r,["parts"],a)}const i=v(e,["role"]);return i!=null&&x(r,["role"],i),r}function bFe(t,e){const r={};if(v(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=v(e,["category"]);n!=null&&x(r,["category"],n);const i=v(e,["threshold"]);return i!=null&&x(r,["threshold"],i),r}function SFe(t,e){const r={},n=v(e,["behavior"]);n!=null&&x(r,["behavior"],n);const i=v(e,["description"]);i!=null&&x(r,["description"],i);const a=v(e,["name"]);a!=null&&x(r,["name"],a);const s=v(e,["parameters"]);s!=null&&x(r,["parameters"],s);const o=v(e,["response"]);return o!=null&&x(r,["response"],o),r}function AFe(t,e){const r={},n=v(e,["startTime"]);n!=null&&x(r,["startTime"],n);const i=v(e,["endTime"]);return i!=null&&x(r,["endTime"],i),r}function TFe(t,e){const r={},n=v(e,["timeRangeFilter"]);return n!=null&&x(r,["timeRangeFilter"],AFe(t,n)),r}function EFe(t,e){const r={},n=v(e,["mode"]);n!=null&&x(r,["mode"],n);const i=v(e,["dynamicThreshold"]);return i!=null&&x(r,["dynamicThreshold"],i),r}function CFe(t,e){const r={},n=v(e,["dynamicRetrievalConfig"]);return n!=null&&x(r,["dynamicRetrievalConfig"],EFe(t,n)),r}function kFe(){return{}}function PFe(t,e){const r={},n=v(e,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>SFe(t,c))),x(r,["functionDeclarations"],l)}if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=v(e,["googleSearch"]);i!=null&&x(r,["googleSearch"],TFe(t,i));const a=v(e,["googleSearchRetrieval"]);if(a!=null&&x(r,["googleSearchRetrieval"],CFe(t,a)),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(v(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");v(e,["urlContext"])!=null&&x(r,["urlContext"],kFe());const o=v(e,["codeExecution"]);return o!=null&&x(r,["codeExecution"],o),r}function IFe(t,e){const r={},n=v(e,["mode"]);n!=null&&x(r,["mode"],n);const i=v(e,["allowedFunctionNames"]);return i!=null&&x(r,["allowedFunctionNames"],i),r}function OFe(t,e){const r={},n=v(e,["latitude"]);n!=null&&x(r,["latitude"],n);const i=v(e,["longitude"]);return i!=null&&x(r,["longitude"],i),r}function MFe(t,e){const r={},n=v(e,["latLng"]);return n!=null&&x(r,["latLng"],OFe(t,n)),r}function NFe(t,e){const r={},n=v(e,["functionCallingConfig"]);n!=null&&x(r,["functionCallingConfig"],IFe(t,n));const i=v(e,["retrievalConfig"]);return i!=null&&x(r,["retrievalConfig"],MFe(t,i)),r}function RFe(t,e){const r={},n=v(e,["voiceName"]);return n!=null&&x(r,["voiceName"],n),r}function TH(t,e){const r={},n=v(e,["prebuiltVoiceConfig"]);return n!=null&&x(r,["prebuiltVoiceConfig"],RFe(t,n)),r}function DFe(t,e){const r={},n=v(e,["speaker"]);n!=null&&x(r,["speaker"],n);const i=v(e,["voiceConfig"]);return i!=null&&x(r,["voiceConfig"],TH(t,i)),r}function FFe(t,e){const r={},n=v(e,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>DFe(t,a))),x(r,["speakerVoiceConfigs"],i)}return r}function LFe(t,e){const r={},n=v(e,["voiceConfig"]);n!=null&&x(r,["voiceConfig"],TH(t,n));const i=v(e,["multiSpeakerVoiceConfig"]);i!=null&&x(r,["multiSpeakerVoiceConfig"],FFe(t,i));const a=v(e,["languageCode"]);return a!=null&&x(r,["languageCode"],a),r}function $Fe(t,e){const r={},n=v(e,["includeThoughts"]);n!=null&&x(r,["includeThoughts"],n);const i=v(e,["thinkingBudget"]);return i!=null&&x(r,["thinkingBudget"],i),r}function BFe(t,e,r){const n={},i=v(e,["systemInstruction"]);r!==void 0&&i!=null&&x(r,["systemInstruction"],US(t,$i(t,i)));const a=v(e,["temperature"]);a!=null&&x(n,["temperature"],a);const s=v(e,["topP"]);s!=null&&x(n,["topP"],s);const o=v(e,["topK"]);o!=null&&x(n,["topK"],o);const l=v(e,["candidateCount"]);l!=null&&x(n,["candidateCount"],l);const c=v(e,["maxOutputTokens"]);c!=null&&x(n,["maxOutputTokens"],c);const u=v(e,["stopSequences"]);u!=null&&x(n,["stopSequences"],u);const f=v(e,["responseLogprobs"]);f!=null&&x(n,["responseLogprobs"],f);const d=v(e,["logprobs"]);d!=null&&x(n,["logprobs"],d);const h=v(e,["presencePenalty"]);h!=null&&x(n,["presencePenalty"],h);const m=v(e,["frequencyPenalty"]);m!=null&&x(n,["frequencyPenalty"],m);const p=v(e,["seed"]);p!=null&&x(n,["seed"],p);const y=v(e,["responseMimeType"]);y!=null&&x(n,["responseMimeType"],y);const _=v(e,["responseSchema"]);if(_!=null&&x(n,["responseSchema"],Zw(t,_)),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=v(e,["safetySettings"]);if(r!==void 0&&b!=null){let D=b;Array.isArray(D)&&(D=D.map(I=>bFe(t,I))),x(r,["safetySettings"],D)}const w=v(e,["tools"]);if(r!==void 0&&w!=null){let D=$S(t,w);Array.isArray(D)&&(D=D.map(I=>PFe(t,LS(t,I)))),x(r,["tools"],D)}const A=v(e,["toolConfig"]);if(r!==void 0&&A!=null&&x(r,["toolConfig"],NFe(t,A)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=v(e,["cachedContent"]);r!==void 0&&S!=null&&x(r,["cachedContent"],mu(t,S));const T=v(e,["responseModalities"]);T!=null&&x(n,["responseModalities"],T);const E=v(e,["mediaResolution"]);E!=null&&x(n,["mediaResolution"],E);const P=v(e,["speechConfig"]);if(P!=null&&x(n,["speechConfig"],LFe(t,hH(t,P))),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=v(e,["thinkingConfig"]);return k!=null&&x(n,["thinkingConfig"],$Fe(t,k)),n}function D3(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","model"],fr(t,n));const i=v(e,["contents"]);if(i!=null){let s=Fs(t,i);Array.isArray(s)&&(s=s.map(o=>US(t,o))),x(r,["contents"],s)}const a=v(e,["config"]);return a!=null&&x(r,["generationConfig"],BFe(t,a,r)),r}function UFe(t,e,r){const n={},i=v(e,["taskType"]);r!==void 0&&i!=null&&x(r,["requests[]","taskType"],i);const a=v(e,["title"]);r!==void 0&&a!=null&&x(r,["requests[]","title"],a);const s=v(e,["outputDimensionality"]);if(r!==void 0&&s!=null&&x(r,["requests[]","outputDimensionality"],s),v(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function jFe(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","model"],fr(t,n));const i=v(e,["contents"]);i!=null&&x(r,["requests[]","content"],dH(t,i));const a=v(e,["config"]);a!=null&&x(r,["config"],UFe(t,a,r));const s=v(e,["model"]);return s!==void 0&&x(r,["requests[]","model"],fr(t,s)),r}function VFe(t,e,r){const n={};if(v(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=v(e,["numberOfImages"]);r!==void 0&&i!=null&&x(r,["parameters","sampleCount"],i);const a=v(e,["aspectRatio"]);r!==void 0&&a!=null&&x(r,["parameters","aspectRatio"],a);const s=v(e,["guidanceScale"]);if(r!==void 0&&s!=null&&x(r,["parameters","guidanceScale"],s),v(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=v(e,["safetyFilterLevel"]);r!==void 0&&o!=null&&x(r,["parameters","safetySetting"],o);const l=v(e,["personGeneration"]);r!==void 0&&l!=null&&x(r,["parameters","personGeneration"],l);const c=v(e,["includeSafetyAttributes"]);r!==void 0&&c!=null&&x(r,["parameters","includeSafetyAttributes"],c);const u=v(e,["includeRaiReason"]);r!==void 0&&u!=null&&x(r,["parameters","includeRaiReason"],u);const f=v(e,["language"]);r!==void 0&&f!=null&&x(r,["parameters","language"],f);const d=v(e,["outputMimeType"]);r!==void 0&&d!=null&&x(r,["parameters","outputOptions","mimeType"],d);const h=v(e,["outputCompressionQuality"]);if(r!==void 0&&h!=null&&x(r,["parameters","outputOptions","compressionQuality"],h),v(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(v(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function HFe(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","model"],fr(t,n));const i=v(e,["prompt"]);i!=null&&x(r,["instances[0]","prompt"],i);const a=v(e,["config"]);return a!=null&&x(r,["config"],VFe(t,a,r)),r}function WFe(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","name"],fr(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],i),r}function zFe(t,e,r){const n={},i=v(e,["pageSize"]);r!==void 0&&i!=null&&x(r,["_query","pageSize"],i);const a=v(e,["pageToken"]);r!==void 0&&a!=null&&x(r,["_query","pageToken"],a);const s=v(e,["filter"]);r!==void 0&&s!=null&&x(r,["_query","filter"],s);const o=v(e,["queryBase"]);return r!==void 0&&o!=null&&x(r,["_url","models_url"],vH(t,o)),n}function GFe(t,e){const r={},n=v(e,["config"]);return n!=null&&x(r,["config"],zFe(t,n,r)),r}function qFe(t,e,r){const n={},i=v(e,["displayName"]);r!==void 0&&i!=null&&x(r,["displayName"],i);const a=v(e,["description"]);r!==void 0&&a!=null&&x(r,["description"],a);const s=v(e,["defaultCheckpointId"]);return r!==void 0&&s!=null&&x(r,["defaultCheckpointId"],s),n}function XFe(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","name"],fr(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],qFe(t,i,r)),r}function KFe(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","name"],fr(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],i),r}function YFe(t,e){const r={};if(v(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(v(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(v(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return r}function JFe(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","model"],fr(t,n));const i=v(e,["contents"]);if(i!=null){let s=Fs(t,i);Array.isArray(s)&&(s=s.map(o=>US(t,o))),x(r,["contents"],s)}const a=v(e,["config"]);return a!=null&&x(r,["config"],YFe(t,a)),r}function ZFe(t,e){const r={};if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=v(e,["imageBytes"]);n!=null&&x(r,["bytesBase64Encoded"],gu(t,n));const i=v(e,["mimeType"]);return i!=null&&x(r,["mimeType"],i),r}function QFe(t,e,r){const n={},i=v(e,["numberOfVideos"]);if(r!==void 0&&i!=null&&x(r,["parameters","sampleCount"],i),v(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=v(e,["durationSeconds"]);if(r!==void 0&&a!=null&&x(r,["parameters","durationSeconds"],a),v(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=v(e,["aspectRatio"]);if(r!==void 0&&s!=null&&x(r,["parameters","aspectRatio"],s),v(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const o=v(e,["personGeneration"]);if(r!==void 0&&o!=null&&x(r,["parameters","personGeneration"],o),v(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=v(e,["negativePrompt"]);if(r!==void 0&&l!=null&&x(r,["parameters","negativePrompt"],l),v(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function e4e(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","model"],fr(t,n));const i=v(e,["prompt"]);i!=null&&x(r,["instances[0]","prompt"],i);const a=v(e,["image"]);a!=null&&x(r,["instances[0]","image"],ZFe(t,a));const s=v(e,["config"]);return s!=null&&x(r,["config"],QFe(t,s,r)),r}function t4e(t,e){const r={},n=v(e,["fps"]);n!=null&&x(r,["fps"],n);const i=v(e,["endOffset"]);i!=null&&x(r,["endOffset"],i);const a=v(e,["startOffset"]);return a!=null&&x(r,["startOffset"],a),r}function r4e(t,e){const r={},n=v(e,["displayName"]);n!=null&&x(r,["displayName"],n);const i=v(e,["data"]);i!=null&&x(r,["data"],i);const a=v(e,["mimeType"]);return a!=null&&x(r,["mimeType"],a),r}function n4e(t,e){const r={},n=v(e,["videoMetadata"]);n!=null&&x(r,["videoMetadata"],t4e(t,n));const i=v(e,["thought"]);i!=null&&x(r,["thought"],i);const a=v(e,["inlineData"]);a!=null&&x(r,["inlineData"],r4e(t,a));const s=v(e,["codeExecutionResult"]);s!=null&&x(r,["codeExecutionResult"],s);const o=v(e,["executableCode"]);o!=null&&x(r,["executableCode"],o);const l=v(e,["fileData"]);l!=null&&x(r,["fileData"],l);const c=v(e,["functionCall"]);c!=null&&x(r,["functionCall"],c);const u=v(e,["functionResponse"]);u!=null&&x(r,["functionResponse"],u);const f=v(e,["text"]);return f!=null&&x(r,["text"],f),r}function Np(t,e){const r={},n=v(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>n4e(t,s))),x(r,["parts"],a)}const i=v(e,["role"]);return i!=null&&x(r,["role"],i),r}function i4e(t,e){const r={},n=v(e,["featureSelectionPreference"]);return n!=null&&x(r,["featureSelectionPreference"],n),r}function a4e(t,e){const r={},n=v(e,["method"]);n!=null&&x(r,["method"],n);const i=v(e,["category"]);i!=null&&x(r,["category"],i);const a=v(e,["threshold"]);return a!=null&&x(r,["threshold"],a),r}function s4e(t,e){const r={};if(v(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(e,["description"]);n!=null&&x(r,["description"],n);const i=v(e,["name"]);i!=null&&x(r,["name"],i);const a=v(e,["parameters"]);a!=null&&x(r,["parameters"],a);const s=v(e,["response"]);return s!=null&&x(r,["response"],s),r}function o4e(t,e){const r={},n=v(e,["startTime"]);n!=null&&x(r,["startTime"],n);const i=v(e,["endTime"]);return i!=null&&x(r,["endTime"],i),r}function l4e(t,e){const r={},n=v(e,["timeRangeFilter"]);return n!=null&&x(r,["timeRangeFilter"],o4e(t,n)),r}function c4e(t,e){const r={},n=v(e,["mode"]);n!=null&&x(r,["mode"],n);const i=v(e,["dynamicThreshold"]);return i!=null&&x(r,["dynamicThreshold"],i),r}function u4e(t,e){const r={},n=v(e,["dynamicRetrievalConfig"]);return n!=null&&x(r,["dynamicRetrievalConfig"],c4e(t,n)),r}function f4e(){return{}}function d4e(t,e){const r={},n=v(e,["apiKeyString"]);return n!=null&&x(r,["apiKeyString"],n),r}function h4e(t,e){const r={},n=v(e,["apiKeyConfig"]);n!=null&&x(r,["apiKeyConfig"],d4e(t,n));const i=v(e,["authType"]);i!=null&&x(r,["authType"],i);const a=v(e,["googleServiceAccountConfig"]);a!=null&&x(r,["googleServiceAccountConfig"],a);const s=v(e,["httpBasicAuthConfig"]);s!=null&&x(r,["httpBasicAuthConfig"],s);const o=v(e,["oauthConfig"]);o!=null&&x(r,["oauthConfig"],o);const l=v(e,["oidcConfig"]);return l!=null&&x(r,["oidcConfig"],l),r}function p4e(t,e){const r={},n=v(e,["authConfig"]);return n!=null&&x(r,["authConfig"],h4e(t,n)),r}function EH(t,e){const r={},n=v(e,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(f=>s4e(t,f))),x(r,["functionDeclarations"],u)}const i=v(e,["retrieval"]);i!=null&&x(r,["retrieval"],i);const a=v(e,["googleSearch"]);a!=null&&x(r,["googleSearch"],l4e(t,a));const s=v(e,["googleSearchRetrieval"]);s!=null&&x(r,["googleSearchRetrieval"],u4e(t,s)),v(e,["enterpriseWebSearch"])!=null&&x(r,["enterpriseWebSearch"],f4e());const l=v(e,["googleMaps"]);if(l!=null&&x(r,["googleMaps"],p4e(t,l)),v(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const c=v(e,["codeExecution"]);return c!=null&&x(r,["codeExecution"],c),r}function m4e(t,e){const r={},n=v(e,["mode"]);n!=null&&x(r,["mode"],n);const i=v(e,["allowedFunctionNames"]);return i!=null&&x(r,["allowedFunctionNames"],i),r}function g4e(t,e){const r={},n=v(e,["latitude"]);n!=null&&x(r,["latitude"],n);const i=v(e,["longitude"]);return i!=null&&x(r,["longitude"],i),r}function v4e(t,e){const r={},n=v(e,["latLng"]);return n!=null&&x(r,["latLng"],g4e(t,n)),r}function y4e(t,e){const r={},n=v(e,["functionCallingConfig"]);n!=null&&x(r,["functionCallingConfig"],m4e(t,n));const i=v(e,["retrievalConfig"]);return i!=null&&x(r,["retrievalConfig"],v4e(t,i)),r}function x4e(t,e){const r={},n=v(e,["voiceName"]);return n!=null&&x(r,["voiceName"],n),r}function _4e(t,e){const r={},n=v(e,["prebuiltVoiceConfig"]);return n!=null&&x(r,["prebuiltVoiceConfig"],x4e(t,n)),r}function w4e(t,e){const r={},n=v(e,["voiceConfig"]);if(n!=null&&x(r,["voiceConfig"],_4e(t,n)),v(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=v(e,["languageCode"]);return i!=null&&x(r,["languageCode"],i),r}function b4e(t,e){const r={},n=v(e,["includeThoughts"]);n!=null&&x(r,["includeThoughts"],n);const i=v(e,["thinkingBudget"]);return i!=null&&x(r,["thinkingBudget"],i),r}function S4e(t,e,r){const n={},i=v(e,["systemInstruction"]);r!==void 0&&i!=null&&x(r,["systemInstruction"],Np(t,$i(t,i)));const a=v(e,["temperature"]);a!=null&&x(n,["temperature"],a);const s=v(e,["topP"]);s!=null&&x(n,["topP"],s);const o=v(e,["topK"]);o!=null&&x(n,["topK"],o);const l=v(e,["candidateCount"]);l!=null&&x(n,["candidateCount"],l);const c=v(e,["maxOutputTokens"]);c!=null&&x(n,["maxOutputTokens"],c);const u=v(e,["stopSequences"]);u!=null&&x(n,["stopSequences"],u);const f=v(e,["responseLogprobs"]);f!=null&&x(n,["responseLogprobs"],f);const d=v(e,["logprobs"]);d!=null&&x(n,["logprobs"],d);const h=v(e,["presencePenalty"]);h!=null&&x(n,["presencePenalty"],h);const m=v(e,["frequencyPenalty"]);m!=null&&x(n,["frequencyPenalty"],m);const p=v(e,["seed"]);p!=null&&x(n,["seed"],p);const y=v(e,["responseMimeType"]);y!=null&&x(n,["responseMimeType"],y);const _=v(e,["responseSchema"]);_!=null&&x(n,["responseSchema"],Zw(t,_));const b=v(e,["routingConfig"]);b!=null&&x(n,["routingConfig"],b);const w=v(e,["modelSelectionConfig"]);w!=null&&x(n,["modelConfig"],i4e(t,w));const A=v(e,["safetySettings"]);if(r!==void 0&&A!=null){let X=A;Array.isArray(X)&&(X=X.map(G=>a4e(t,G))),x(r,["safetySettings"],X)}const S=v(e,["tools"]);if(r!==void 0&&S!=null){let X=$S(t,S);Array.isArray(X)&&(X=X.map(G=>EH(t,LS(t,G)))),x(r,["tools"],X)}const T=v(e,["toolConfig"]);r!==void 0&&T!=null&&x(r,["toolConfig"],y4e(t,T));const E=v(e,["labels"]);r!==void 0&&E!=null&&x(r,["labels"],E);const P=v(e,["cachedContent"]);r!==void 0&&P!=null&&x(r,["cachedContent"],mu(t,P));const k=v(e,["responseModalities"]);k!=null&&x(n,["responseModalities"],k);const D=v(e,["mediaResolution"]);D!=null&&x(n,["mediaResolution"],D);const I=v(e,["speechConfig"]);I!=null&&x(n,["speechConfig"],w4e(t,hH(t,I)));const N=v(e,["audioTimestamp"]);N!=null&&x(n,["audioTimestamp"],N);const U=v(e,["thinkingConfig"]);return U!=null&&x(n,["thinkingConfig"],b4e(t,U)),n}function F3(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","model"],fr(t,n));const i=v(e,["contents"]);if(i!=null){let s=Fs(t,i);Array.isArray(s)&&(s=s.map(o=>Np(t,o))),x(r,["contents"],s)}const a=v(e,["config"]);return a!=null&&x(r,["generationConfig"],S4e(t,a,r)),r}function A4e(t,e,r){const n={},i=v(e,["taskType"]);r!==void 0&&i!=null&&x(r,["instances[]","task_type"],i);const a=v(e,["title"]);r!==void 0&&a!=null&&x(r,["instances[]","title"],a);const s=v(e,["outputDimensionality"]);r!==void 0&&s!=null&&x(r,["parameters","outputDimensionality"],s);const o=v(e,["mimeType"]);r!==void 0&&o!=null&&x(r,["instances[]","mimeType"],o);const l=v(e,["autoTruncate"]);return r!==void 0&&l!=null&&x(r,["parameters","autoTruncate"],l),n}function T4e(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","model"],fr(t,n));const i=v(e,["contents"]);i!=null&&x(r,["instances[]","content"],dH(t,i));const a=v(e,["config"]);return a!=null&&x(r,["config"],A4e(t,a,r)),r}function E4e(t,e,r){const n={},i=v(e,["outputGcsUri"]);r!==void 0&&i!=null&&x(r,["parameters","storageUri"],i);const a=v(e,["negativePrompt"]);r!==void 0&&a!=null&&x(r,["parameters","negativePrompt"],a);const s=v(e,["numberOfImages"]);r!==void 0&&s!=null&&x(r,["parameters","sampleCount"],s);const o=v(e,["aspectRatio"]);r!==void 0&&o!=null&&x(r,["parameters","aspectRatio"],o);const l=v(e,["guidanceScale"]);r!==void 0&&l!=null&&x(r,["parameters","guidanceScale"],l);const c=v(e,["seed"]);r!==void 0&&c!=null&&x(r,["parameters","seed"],c);const u=v(e,["safetyFilterLevel"]);r!==void 0&&u!=null&&x(r,["parameters","safetySetting"],u);const f=v(e,["personGeneration"]);r!==void 0&&f!=null&&x(r,["parameters","personGeneration"],f);const d=v(e,["includeSafetyAttributes"]);r!==void 0&&d!=null&&x(r,["parameters","includeSafetyAttributes"],d);const h=v(e,["includeRaiReason"]);r!==void 0&&h!=null&&x(r,["parameters","includeRaiReason"],h);const m=v(e,["language"]);r!==void 0&&m!=null&&x(r,["parameters","language"],m);const p=v(e,["outputMimeType"]);r!==void 0&&p!=null&&x(r,["parameters","outputOptions","mimeType"],p);const y=v(e,["outputCompressionQuality"]);r!==void 0&&y!=null&&x(r,["parameters","outputOptions","compressionQuality"],y);const _=v(e,["addWatermark"]);r!==void 0&&_!=null&&x(r,["parameters","addWatermark"],_);const b=v(e,["enhancePrompt"]);return r!==void 0&&b!=null&&x(r,["parameters","enhancePrompt"],b),n}function C4e(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","model"],fr(t,n));const i=v(e,["prompt"]);i!=null&&x(r,["instances[0]","prompt"],i);const a=v(e,["config"]);return a!=null&&x(r,["config"],E4e(t,a,r)),r}function PO(t,e){const r={},n=v(e,["gcsUri"]);n!=null&&x(r,["gcsUri"],n);const i=v(e,["imageBytes"]);i!=null&&x(r,["bytesBase64Encoded"],gu(t,i));const a=v(e,["mimeType"]);return a!=null&&x(r,["mimeType"],a),r}function k4e(t,e){const r={},n=v(e,["maskMode"]);n!=null&&x(r,["maskMode"],n);const i=v(e,["segmentationClasses"]);i!=null&&x(r,["maskClasses"],i);const a=v(e,["maskDilation"]);return a!=null&&x(r,["dilation"],a),r}function P4e(t,e){const r={},n=v(e,["controlType"]);n!=null&&x(r,["controlType"],n);const i=v(e,["enableControlImageComputation"]);return i!=null&&x(r,["computeControl"],i),r}function I4e(t,e){const r={},n=v(e,["styleDescription"]);return n!=null&&x(r,["styleDescription"],n),r}function O4e(t,e){const r={},n=v(e,["subjectType"]);n!=null&&x(r,["subjectType"],n);const i=v(e,["subjectDescription"]);return i!=null&&x(r,["subjectDescription"],i),r}function M4e(t,e){const r={},n=v(e,["referenceImage"]);n!=null&&x(r,["referenceImage"],PO(t,n));const i=v(e,["referenceId"]);i!=null&&x(r,["referenceId"],i);const a=v(e,["referenceType"]);a!=null&&x(r,["referenceType"],a);const s=v(e,["maskImageConfig"]);s!=null&&x(r,["maskImageConfig"],k4e(t,s));const o=v(e,["controlImageConfig"]);o!=null&&x(r,["controlImageConfig"],P4e(t,o));const l=v(e,["styleImageConfig"]);l!=null&&x(r,["styleImageConfig"],I4e(t,l));const c=v(e,["subjectImageConfig"]);return c!=null&&x(r,["subjectImageConfig"],O4e(t,c)),r}function N4e(t,e,r){const n={},i=v(e,["outputGcsUri"]);r!==void 0&&i!=null&&x(r,["parameters","storageUri"],i);const a=v(e,["negativePrompt"]);r!==void 0&&a!=null&&x(r,["parameters","negativePrompt"],a);const s=v(e,["numberOfImages"]);r!==void 0&&s!=null&&x(r,["parameters","sampleCount"],s);const o=v(e,["aspectRatio"]);r!==void 0&&o!=null&&x(r,["parameters","aspectRatio"],o);const l=v(e,["guidanceScale"]);r!==void 0&&l!=null&&x(r,["parameters","guidanceScale"],l);const c=v(e,["seed"]);r!==void 0&&c!=null&&x(r,["parameters","seed"],c);const u=v(e,["safetyFilterLevel"]);r!==void 0&&u!=null&&x(r,["parameters","safetySetting"],u);const f=v(e,["personGeneration"]);r!==void 0&&f!=null&&x(r,["parameters","personGeneration"],f);const d=v(e,["includeSafetyAttributes"]);r!==void 0&&d!=null&&x(r,["parameters","includeSafetyAttributes"],d);const h=v(e,["includeRaiReason"]);r!==void 0&&h!=null&&x(r,["parameters","includeRaiReason"],h);const m=v(e,["language"]);r!==void 0&&m!=null&&x(r,["parameters","language"],m);const p=v(e,["outputMimeType"]);r!==void 0&&p!=null&&x(r,["parameters","outputOptions","mimeType"],p);const y=v(e,["outputCompressionQuality"]);r!==void 0&&y!=null&&x(r,["parameters","outputOptions","compressionQuality"],y);const _=v(e,["editMode"]);r!==void 0&&_!=null&&x(r,["parameters","editMode"],_);const b=v(e,["baseSteps"]);return r!==void 0&&b!=null&&x(r,["parameters","editConfig","baseSteps"],b),n}function R4e(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","model"],fr(t,n));const i=v(e,["prompt"]);i!=null&&x(r,["instances[0]","prompt"],i);const a=v(e,["referenceImages"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>M4e(t,l))),x(r,["instances[0]","referenceImages"],o)}const s=v(e,["config"]);return s!=null&&x(r,["config"],N4e(t,s,r)),r}function D4e(t,e,r){const n={},i=v(e,["includeRaiReason"]);r!==void 0&&i!=null&&x(r,["parameters","includeRaiReason"],i);const a=v(e,["outputMimeType"]);r!==void 0&&a!=null&&x(r,["parameters","outputOptions","mimeType"],a);const s=v(e,["outputCompressionQuality"]);r!==void 0&&s!=null&&x(r,["parameters","outputOptions","compressionQuality"],s);const o=v(e,["numberOfImages"]);r!==void 0&&o!=null&&x(r,["parameters","sampleCount"],o);const l=v(e,["mode"]);return r!==void 0&&l!=null&&x(r,["parameters","mode"],l),n}function F4e(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","model"],fr(t,n));const i=v(e,["image"]);i!=null&&x(r,["instances[0]","image"],PO(t,i));const a=v(e,["upscaleFactor"]);a!=null&&x(r,["parameters","upscaleConfig","upscaleFactor"],a);const s=v(e,["config"]);return s!=null&&x(r,["config"],D4e(t,s,r)),r}function L4e(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","name"],fr(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],i),r}function $4e(t,e,r){const n={},i=v(e,["pageSize"]);r!==void 0&&i!=null&&x(r,["_query","pageSize"],i);const a=v(e,["pageToken"]);r!==void 0&&a!=null&&x(r,["_query","pageToken"],a);const s=v(e,["filter"]);r!==void 0&&s!=null&&x(r,["_query","filter"],s);const o=v(e,["queryBase"]);return r!==void 0&&o!=null&&x(r,["_url","models_url"],vH(t,o)),n}function B4e(t,e){const r={},n=v(e,["config"]);return n!=null&&x(r,["config"],$4e(t,n,r)),r}function U4e(t,e,r){const n={},i=v(e,["displayName"]);r!==void 0&&i!=null&&x(r,["displayName"],i);const a=v(e,["description"]);r!==void 0&&a!=null&&x(r,["description"],a);const s=v(e,["defaultCheckpointId"]);return r!==void 0&&s!=null&&x(r,["defaultCheckpointId"],s),n}function j4e(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","model"],fr(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],U4e(t,i,r)),r}function V4e(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","name"],fr(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],i),r}function H4e(t,e,r){const n={},i=v(e,["systemInstruction"]);r!==void 0&&i!=null&&x(r,["systemInstruction"],Np(t,$i(t,i)));const a=v(e,["tools"]);if(r!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>EH(t,l))),x(r,["tools"],o)}const s=v(e,["generationConfig"]);return r!==void 0&&s!=null&&x(r,["generationConfig"],s),n}function W4e(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","model"],fr(t,n));const i=v(e,["contents"]);if(i!=null){let s=Fs(t,i);Array.isArray(s)&&(s=s.map(o=>Np(t,o))),x(r,["contents"],s)}const a=v(e,["config"]);return a!=null&&x(r,["config"],H4e(t,a,r)),r}function z4e(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","model"],fr(t,n));const i=v(e,["contents"]);if(i!=null){let s=Fs(t,i);Array.isArray(s)&&(s=s.map(o=>Np(t,o))),x(r,["contents"],s)}const a=v(e,["config"]);return a!=null&&x(r,["config"],a),r}function G4e(t,e,r){const n={},i=v(e,["numberOfVideos"]);r!==void 0&&i!=null&&x(r,["parameters","sampleCount"],i);const a=v(e,["outputGcsUri"]);r!==void 0&&a!=null&&x(r,["parameters","storageUri"],a);const s=v(e,["fps"]);r!==void 0&&s!=null&&x(r,["parameters","fps"],s);const o=v(e,["durationSeconds"]);r!==void 0&&o!=null&&x(r,["parameters","durationSeconds"],o);const l=v(e,["seed"]);r!==void 0&&l!=null&&x(r,["parameters","seed"],l);const c=v(e,["aspectRatio"]);r!==void 0&&c!=null&&x(r,["parameters","aspectRatio"],c);const u=v(e,["resolution"]);r!==void 0&&u!=null&&x(r,["parameters","resolution"],u);const f=v(e,["personGeneration"]);r!==void 0&&f!=null&&x(r,["parameters","personGeneration"],f);const d=v(e,["pubsubTopic"]);r!==void 0&&d!=null&&x(r,["parameters","pubsubTopic"],d);const h=v(e,["negativePrompt"]);r!==void 0&&h!=null&&x(r,["parameters","negativePrompt"],h);const m=v(e,["enhancePrompt"]);return r!==void 0&&m!=null&&x(r,["parameters","enhancePrompt"],m),n}function q4e(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","model"],fr(t,n));const i=v(e,["prompt"]);i!=null&&x(r,["instances[0]","prompt"],i);const a=v(e,["image"]);a!=null&&x(r,["instances[0]","image"],PO(t,a));const s=v(e,["config"]);return s!=null&&x(r,["config"],G4e(t,s,r)),r}function X4e(t,e){const r={},n=v(e,["fps"]);n!=null&&x(r,["fps"],n);const i=v(e,["endOffset"]);i!=null&&x(r,["endOffset"],i);const a=v(e,["startOffset"]);return a!=null&&x(r,["startOffset"],a),r}function K4e(t,e){const r={},n=v(e,["data"]);n!=null&&x(r,["data"],n);const i=v(e,["mimeType"]);return i!=null&&x(r,["mimeType"],i),r}function Y4e(t,e){const r={},n=v(e,["videoMetadata"]);n!=null&&x(r,["videoMetadata"],X4e(t,n));const i=v(e,["thought"]);i!=null&&x(r,["thought"],i);const a=v(e,["inlineData"]);a!=null&&x(r,["inlineData"],K4e(t,a));const s=v(e,["codeExecutionResult"]);s!=null&&x(r,["codeExecutionResult"],s);const o=v(e,["executableCode"]);o!=null&&x(r,["executableCode"],o);const l=v(e,["fileData"]);l!=null&&x(r,["fileData"],l);const c=v(e,["functionCall"]);c!=null&&x(r,["functionCall"],c);const u=v(e,["functionResponse"]);u!=null&&x(r,["functionResponse"],u);const f=v(e,["text"]);return f!=null&&x(r,["text"],f),r}function J4e(t,e){const r={},n=v(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>Y4e(t,s))),x(r,["parts"],a)}const i=v(e,["role"]);return i!=null&&x(r,["role"],i),r}function Z4e(t,e){const r={},n=v(e,["citationSources"]);return n!=null&&x(r,["citations"],n),r}function Q4e(t,e){const r={},n=v(e,["retrievedUrl"]);n!=null&&x(r,["retrievedUrl"],n);const i=v(e,["urlRetrievalStatus"]);return i!=null&&x(r,["urlRetrievalStatus"],i),r}function eLe(t,e){const r={},n=v(e,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Q4e(t,a))),x(r,["urlMetadata"],i)}return r}function tLe(t,e){const r={},n=v(e,["content"]);n!=null&&x(r,["content"],J4e(t,n));const i=v(e,["citationMetadata"]);i!=null&&x(r,["citationMetadata"],Z4e(t,i));const a=v(e,["tokenCount"]);a!=null&&x(r,["tokenCount"],a);const s=v(e,["finishReason"]);s!=null&&x(r,["finishReason"],s);const o=v(e,["urlContextMetadata"]);o!=null&&x(r,["urlContextMetadata"],eLe(t,o));const l=v(e,["avgLogprobs"]);l!=null&&x(r,["avgLogprobs"],l);const c=v(e,["groundingMetadata"]);c!=null&&x(r,["groundingMetadata"],c);const u=v(e,["index"]);u!=null&&x(r,["index"],u);const f=v(e,["logprobsResult"]);f!=null&&x(r,["logprobsResult"],f);const d=v(e,["safetyRatings"]);return d!=null&&x(r,["safetyRatings"],d),r}function L3(t,e){const r={},n=v(e,["candidates"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>tLe(t,l))),x(r,["candidates"],o)}const i=v(e,["modelVersion"]);i!=null&&x(r,["modelVersion"],i);const a=v(e,["promptFeedback"]);a!=null&&x(r,["promptFeedback"],a);const s=v(e,["usageMetadata"]);return s!=null&&x(r,["usageMetadata"],s),r}function rLe(t,e){const r={},n=v(e,["values"]);return n!=null&&x(r,["values"],n),r}function nLe(){return{}}function iLe(t,e){const r={},n=v(e,["embeddings"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>rLe(t,s))),x(r,["embeddings"],a)}return v(e,["metadata"])!=null&&x(r,["metadata"],nLe()),r}function aLe(t,e){const r={},n=v(e,["bytesBase64Encoded"]);n!=null&&x(r,["imageBytes"],gu(t,n));const i=v(e,["mimeType"]);return i!=null&&x(r,["mimeType"],i),r}function CH(t,e){const r={},n=v(e,["safetyAttributes","categories"]);n!=null&&x(r,["categories"],n);const i=v(e,["safetyAttributes","scores"]);i!=null&&x(r,["scores"],i);const a=v(e,["contentType"]);return a!=null&&x(r,["contentType"],a),r}function sLe(t,e){const r={},n=v(e,["_self"]);n!=null&&x(r,["image"],aLe(t,n));const i=v(e,["raiFilteredReason"]);i!=null&&x(r,["raiFilteredReason"],i);const a=v(e,["_self"]);return a!=null&&x(r,["safetyAttributes"],CH(t,a)),r}function oLe(t,e){const r={},n=v(e,["predictions"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>sLe(t,s))),x(r,["generatedImages"],a)}const i=v(e,["positivePromptSafetyAttributes"]);return i!=null&&x(r,["positivePromptSafetyAttributes"],CH(t,i)),r}function lLe(t,e){const r={},n=v(e,["baseModel"]);n!=null&&x(r,["baseModel"],n);const i=v(e,["createTime"]);i!=null&&x(r,["createTime"],i);const a=v(e,["updateTime"]);return a!=null&&x(r,["updateTime"],a),r}function xk(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["name"],n);const i=v(e,["displayName"]);i!=null&&x(r,["displayName"],i);const a=v(e,["description"]);a!=null&&x(r,["description"],a);const s=v(e,["version"]);s!=null&&x(r,["version"],s);const o=v(e,["_self"]);o!=null&&x(r,["tunedModelInfo"],lLe(t,o));const l=v(e,["inputTokenLimit"]);l!=null&&x(r,["inputTokenLimit"],l);const c=v(e,["outputTokenLimit"]);c!=null&&x(r,["outputTokenLimit"],c);const u=v(e,["supportedGenerationMethods"]);return u!=null&&x(r,["supportedActions"],u),r}function cLe(t,e){const r={},n=v(e,["nextPageToken"]);n!=null&&x(r,["nextPageToken"],n);const i=v(e,["_self"]);if(i!=null){let a=yH(t,i);Array.isArray(a)&&(a=a.map(s=>xk(t,s))),x(r,["models"],a)}return r}function uLe(){return{}}function fLe(t,e){const r={},n=v(e,["totalTokens"]);n!=null&&x(r,["totalTokens"],n);const i=v(e,["cachedContentTokenCount"]);return i!=null&&x(r,["cachedContentTokenCount"],i),r}function dLe(t,e){const r={},n=v(e,["video","uri"]);n!=null&&x(r,["uri"],n);const i=v(e,["video","encodedVideo"]);i!=null&&x(r,["videoBytes"],gu(t,i));const a=v(e,["encoding"]);return a!=null&&x(r,["mimeType"],a),r}function hLe(t,e){const r={},n=v(e,["_self"]);return n!=null&&x(r,["video"],dLe(t,n)),r}function pLe(t,e){const r={},n=v(e,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>hLe(t,o))),x(r,["generatedVideos"],s)}const i=v(e,["raiMediaFilteredCount"]);i!=null&&x(r,["raiMediaFilteredCount"],i);const a=v(e,["raiMediaFilteredReasons"]);return a!=null&&x(r,["raiMediaFilteredReasons"],a),r}function mLe(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["name"],n);const i=v(e,["metadata"]);i!=null&&x(r,["metadata"],i);const a=v(e,["done"]);a!=null&&x(r,["done"],a);const s=v(e,["error"]);s!=null&&x(r,["error"],s);const o=v(e,["response","generateVideoResponse"]);return o!=null&&x(r,["response"],pLe(t,o)),r}function gLe(t,e){const r={},n=v(e,["fps"]);n!=null&&x(r,["fps"],n);const i=v(e,["endOffset"]);i!=null&&x(r,["endOffset"],i);const a=v(e,["startOffset"]);return a!=null&&x(r,["startOffset"],a),r}function vLe(t,e){const r={},n=v(e,["displayName"]);n!=null&&x(r,["displayName"],n);const i=v(e,["data"]);i!=null&&x(r,["data"],i);const a=v(e,["mimeType"]);return a!=null&&x(r,["mimeType"],a),r}function yLe(t,e){const r={},n=v(e,["videoMetadata"]);n!=null&&x(r,["videoMetadata"],gLe(t,n));const i=v(e,["thought"]);i!=null&&x(r,["thought"],i);const a=v(e,["inlineData"]);a!=null&&x(r,["inlineData"],vLe(t,a));const s=v(e,["codeExecutionResult"]);s!=null&&x(r,["codeExecutionResult"],s);const o=v(e,["executableCode"]);o!=null&&x(r,["executableCode"],o);const l=v(e,["fileData"]);l!=null&&x(r,["fileData"],l);const c=v(e,["functionCall"]);c!=null&&x(r,["functionCall"],c);const u=v(e,["functionResponse"]);u!=null&&x(r,["functionResponse"],u);const f=v(e,["text"]);return f!=null&&x(r,["text"],f),r}function xLe(t,e){const r={},n=v(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>yLe(t,s))),x(r,["parts"],a)}const i=v(e,["role"]);return i!=null&&x(r,["role"],i),r}function _Le(t,e){const r={},n=v(e,["citations"]);return n!=null&&x(r,["citations"],n),r}function wLe(t,e){const r={},n=v(e,["content"]);n!=null&&x(r,["content"],xLe(t,n));const i=v(e,["citationMetadata"]);i!=null&&x(r,["citationMetadata"],_Le(t,i));const a=v(e,["finishMessage"]);a!=null&&x(r,["finishMessage"],a);const s=v(e,["finishReason"]);s!=null&&x(r,["finishReason"],s);const o=v(e,["avgLogprobs"]);o!=null&&x(r,["avgLogprobs"],o);const l=v(e,["groundingMetadata"]);l!=null&&x(r,["groundingMetadata"],l);const c=v(e,["index"]);c!=null&&x(r,["index"],c);const u=v(e,["logprobsResult"]);u!=null&&x(r,["logprobsResult"],u);const f=v(e,["safetyRatings"]);return f!=null&&x(r,["safetyRatings"],f),r}function $3(t,e){const r={},n=v(e,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(u=>wLe(t,u))),x(r,["candidates"],c)}const i=v(e,["createTime"]);i!=null&&x(r,["createTime"],i);const a=v(e,["responseId"]);a!=null&&x(r,["responseId"],a);const s=v(e,["modelVersion"]);s!=null&&x(r,["modelVersion"],s);const o=v(e,["promptFeedback"]);o!=null&&x(r,["promptFeedback"],o);const l=v(e,["usageMetadata"]);return l!=null&&x(r,["usageMetadata"],l),r}function bLe(t,e){const r={},n=v(e,["truncated"]);n!=null&&x(r,["truncated"],n);const i=v(e,["token_count"]);return i!=null&&x(r,["tokenCount"],i),r}function SLe(t,e){const r={},n=v(e,["values"]);n!=null&&x(r,["values"],n);const i=v(e,["statistics"]);return i!=null&&x(r,["statistics"],bLe(t,i)),r}function ALe(t,e){const r={},n=v(e,["billableCharacterCount"]);return n!=null&&x(r,["billableCharacterCount"],n),r}function TLe(t,e){const r={},n=v(e,["predictions[]","embeddings"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>SLe(t,s))),x(r,["embeddings"],a)}const i=v(e,["metadata"]);return i!=null&&x(r,["metadata"],ALe(t,i)),r}function ELe(t,e){const r={},n=v(e,["gcsUri"]);n!=null&&x(r,["gcsUri"],n);const i=v(e,["bytesBase64Encoded"]);i!=null&&x(r,["imageBytes"],gu(t,i));const a=v(e,["mimeType"]);return a!=null&&x(r,["mimeType"],a),r}function kH(t,e){const r={},n=v(e,["safetyAttributes","categories"]);n!=null&&x(r,["categories"],n);const i=v(e,["safetyAttributes","scores"]);i!=null&&x(r,["scores"],i);const a=v(e,["contentType"]);return a!=null&&x(r,["contentType"],a),r}function IO(t,e){const r={},n=v(e,["_self"]);n!=null&&x(r,["image"],ELe(t,n));const i=v(e,["raiFilteredReason"]);i!=null&&x(r,["raiFilteredReason"],i);const a=v(e,["_self"]);a!=null&&x(r,["safetyAttributes"],kH(t,a));const s=v(e,["prompt"]);return s!=null&&x(r,["enhancedPrompt"],s),r}function CLe(t,e){const r={},n=v(e,["predictions"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>IO(t,s))),x(r,["generatedImages"],a)}const i=v(e,["positivePromptSafetyAttributes"]);return i!=null&&x(r,["positivePromptSafetyAttributes"],kH(t,i)),r}function kLe(t,e){const r={},n=v(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>IO(t,a))),x(r,["generatedImages"],i)}return r}function PLe(t,e){const r={},n=v(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>IO(t,a))),x(r,["generatedImages"],i)}return r}function ILe(t,e){const r={},n=v(e,["endpoint"]);n!=null&&x(r,["name"],n);const i=v(e,["deployedModelId"]);return i!=null&&x(r,["deployedModelId"],i),r}function OLe(t,e){const r={},n=v(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&x(r,["baseModel"],n);const i=v(e,["createTime"]);i!=null&&x(r,["createTime"],i);const a=v(e,["updateTime"]);return a!=null&&x(r,["updateTime"],a),r}function MLe(t,e){const r={},n=v(e,["checkpointId"]);n!=null&&x(r,["checkpointId"],n);const i=v(e,["epoch"]);i!=null&&x(r,["epoch"],i);const a=v(e,["step"]);return a!=null&&x(r,["step"],a),r}function _k(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["name"],n);const i=v(e,["displayName"]);i!=null&&x(r,["displayName"],i);const a=v(e,["description"]);a!=null&&x(r,["description"],a);const s=v(e,["versionId"]);s!=null&&x(r,["version"],s);const o=v(e,["deployedModels"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(h=>ILe(t,h))),x(r,["endpoints"],d)}const l=v(e,["labels"]);l!=null&&x(r,["labels"],l);const c=v(e,["_self"]);c!=null&&x(r,["tunedModelInfo"],OLe(t,c));const u=v(e,["defaultCheckpointId"]);u!=null&&x(r,["defaultCheckpointId"],u);const f=v(e,["checkpoints"]);if(f!=null){let d=f;Array.isArray(d)&&(d=d.map(h=>MLe(t,h))),x(r,["checkpoints"],d)}return r}function NLe(t,e){const r={},n=v(e,["nextPageToken"]);n!=null&&x(r,["nextPageToken"],n);const i=v(e,["_self"]);if(i!=null){let a=yH(t,i);Array.isArray(a)&&(a=a.map(s=>_k(t,s))),x(r,["models"],a)}return r}function RLe(){return{}}function DLe(t,e){const r={},n=v(e,["totalTokens"]);return n!=null&&x(r,["totalTokens"],n),r}function FLe(t,e){const r={},n=v(e,["tokensInfo"]);return n!=null&&x(r,["tokensInfo"],n),r}function LLe(t,e){const r={},n=v(e,["gcsUri"]);n!=null&&x(r,["uri"],n);const i=v(e,["bytesBase64Encoded"]);i!=null&&x(r,["videoBytes"],gu(t,i));const a=v(e,["mimeType"]);return a!=null&&x(r,["mimeType"],a),r}function $Le(t,e){const r={},n=v(e,["_self"]);return n!=null&&x(r,["video"],LLe(t,n)),r}function BLe(t,e){const r={},n=v(e,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>$Le(t,o))),x(r,["generatedVideos"],s)}const i=v(e,["raiMediaFilteredCount"]);i!=null&&x(r,["raiMediaFilteredCount"],i);const a=v(e,["raiMediaFilteredReasons"]);return a!=null&&x(r,["raiMediaFilteredReasons"],a),r}function ULe(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["name"],n);const i=v(e,["metadata"]);i!=null&&x(r,["metadata"],i);const a=v(e,["done"]);a!=null&&x(r,["done"],a);const s=v(e,["error"]);s!=null&&x(r,["error"],s);const o=v(e,["response"]);return o!=null&&x(r,["response"],BLe(t,o)),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jLe="Content-Type",VLe="X-Server-Timeout",HLe="User-Agent",wk="x-goog-api-client",WLe="1.0.0",zLe=`google-genai-sdk/${WLe}`,GLe="v1beta1",qLe="v1beta",B3=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class PH extends Error{constructor(e,r){r?super(e,{cause:r}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class bk extends Error{constructor(e,r){r?super(e,{cause:r}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class XLe{constructor(e){var r,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:GLe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:qLe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const n=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&n.push(e.apiVersion),n.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),r=new URL(e);return r.protocol=r.protocol=="http:"?"ws":"wss",r.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,r,n){const i=[this.getRequestUrlInternal(r)];return n&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,r,n);if(e.queryParams)for(const[s,o]of Object.entries(e.queryParams))i.searchParams.append(s,String(o));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,r,e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,r){const n=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(r))typeof a=="object"?n[i]=Object.assign(Object.assign({},n[i]),a):a!==void 0&&(n[i]=a);return n}async requestStream(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,r,n);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,r,e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,r,n){if(r&&r.timeout||n){const i=new AbortController,a=i.signal;r.timeout&&(r==null?void 0:r.timeout)>0&&setTimeout(()=>i.abort(),r.timeout),n&&n.addEventListener("abort",()=>{i.abort()}),e.signal=a}return e.headers=await this.getHeadersInternal(r),e}async unaryApiCall(e,r,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:n})).then(async i=>(await U3(i),new mk(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,r,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:n})).then(async i=>(await U3(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var r;return ng(this,arguments,function*(){const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:o,value:l}=yield Sr(i.read());if(o){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=a.decode(l);try{const f=JSON.parse(c);if("error"in f){const d=JSON.parse(JSON.stringify(f.error)),h=d.status,m=d.code,p=`got status: ${h}. ${JSON.stringify(f)}`;if(m>=400&&m<500)throw new PH(p);if(m>=500&&m<600)throw new bk(p)}}catch(f){const d=f;if(d.name==="ClientError"||d.name==="ServerError")throw f}s+=c;let u=s.match(B3);for(;u;){const f=u[1];try{const d=new Response(f,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Sr(new mk(d)),s=s.slice(u[0].length),u=s.match(B3)}catch(d){throw new Error(`exception parsing stream chunk ${f}. ${d}`)}}}}finally{i.releaseLock()}})}async apiCall(e,r){return fetch(e,r).catch(n=>{throw new Error(`exception ${n} sending request`)})}getDefaultHeaders(){const e={},r=zLe+" "+this.clientOptions.userAgentExtra;return e[HLe]=r,e[wk]=r,e[jLe]="application/json",e}async getHeadersInternal(e){const r=new Headers;if(e&&e.headers){for(const[n,i]of Object.entries(e.headers))r.append(n,i);e.timeout&&e.timeout>0&&r.append(VLe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r),r}async uploadFile(e,r){var n;const i={};r!=null&&(i.mimeType=r.mimeType,i.name=r.name,i.displayName=r.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,s=await a.stat(e);i.sizeBytes=String(s.size);const o=(n=r==null?void 0:r.mimeType)!==null&&n!==void 0?n:s.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const l=await this.fetchUploadUrl(i,r);return a.upload(e,l,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,r){var n;let i={};r!=null&&r.httpOptions?i=r.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const a={file:e},s=await this.request({path:tt("upload/v1beta/files",a._url),body:JSON.stringify(a),httpMethod:"POST",httpOptions:i});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const o=(n=s==null?void 0:s.headers)===null||n===void 0?void 0:n["x-goog-upload-url"];if(o===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return o}}async function U3(t){var e;if(t===void 0)throw new bk("response is undefined");if(!t.ok){const r=t.status,n=t.statusText;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const a=`got status: ${r} ${n}. ${JSON.stringify(i)}`;throw r>=400&&r<500?new PH(a):r>=500&&r<600?new bk(a):new Error(a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const j3="mcp_used/unknown";function IH(t){for(const e of t)if(OO(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function OH(t){var e;const r=(e=t[wk])!==null&&e!==void 0?e:"";r.includes(j3)||(t[wk]=(r+` ${j3}`).trimStart())}function KLe(t){var e,r,n;return(n=(r=(e=t.config)===null||e===void 0?void 0:e.tools)===null||r===void 0?void 0:r.some(i=>OO(i)))!==null&&n!==void 0?n:!1}function YLe(t){var e,r,n;return(n=(r=(e=t.config)===null||e===void 0?void 0:e.tools)===null||r===void 0?void 0:r.some(i=>!OO(i)))!==null&&n!==void 0?n:!1}function OO(t){return t!==null&&typeof t=="object"&&"tool"in t&&"callTool"in t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function JLe(t,e,r){const n=new cNe;let i;r.data instanceof Blob?i=JSON.parse(await r.data.text()):i=JSON.parse(r.data);const a=yFe(t,i);Object.assign(n,a),e(n)}class ZLe{constructor(e,r,n){this.apiClient=e,this.auth=r,this.webSocketFactory=n}async connect(e){var r,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),s=t3e(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${o}`;let c=()=>{};const u=new Promise(w=>{c=w}),f=e.callbacks,d=function(){c({})},h=this.apiClient,m={onopen:d,onmessage:w=>{JLe(h,f.onmessage,w)},onerror:(r=f==null?void 0:f.onerror)!==null&&r!==void 0?r:function(w){},onclose:(n=f==null?void 0:f.onclose)!==null&&n!==void 0?n:function(w){}},p=this.webSocketFactory.create(l,e3e(s),m);p.connect(),await u;const y=fr(this.apiClient,e.model),_=SH(this.apiClient,{model:y}),b=yk(this.apiClient,{setup:_});return p.send(JSON.stringify(b)),new QLe(p,this.apiClient)}}class QLe{constructor(e,r){this.conn=e,this.apiClient=r}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const r=RDe(this.apiClient,e),n=AH(this.apiClient,r);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const r=DDe(this.apiClient,e),n=yk(this.apiClient,r);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const r=yk(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(r))}play(){this.sendPlaybackControl(hh.PLAY)}pause(){this.sendPlaybackControl(hh.PAUSE)}stop(){this.sendPlaybackControl(hh.STOP)}resetContext(){this.sendPlaybackControl(hh.RESET_CONTEXT)}close(){this.conn.close()}}function e3e(t){const e={};return t.forEach((r,n)=>{e[n]=r}),e}function t3e(t){const e=new Headers;for(const[r,n]of Object.entries(t))e.append(r,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const r3e="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function n3e(t,e,r){const n=new lNe;let i;if(r.data instanceof Blob?i=JSON.parse(await r.data.text()):i=JSON.parse(r.data),t.isVertexAI()){const a=cFe(t,i);Object.assign(n,a)}else{const a=lFe(t,i);Object.assign(n,a)}e(n)}class i3e{constructor(e,r,n){this.apiClient=e,this.auth=r,this.webSocketFactory=n,this.music=new ZLe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var r,n,i,a,s,o;const l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let u;const f=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&IH(e.config.tools)&&OH(f);const d=l3e(f);if(this.apiClient.isVertexAI())u=`${l}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(d);else{const k=this.apiClient.getApiKey();u=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateContent?key=${k}`}let h=()=>{};const m=new Promise(k=>{h=k}),p=e.callbacks,y=function(){var k;(k=p==null?void 0:p.onopen)===null||k===void 0||k.call(p),h({})},_=this.apiClient,b={onopen:y,onmessage:k=>{n3e(_,p.onmessage,k)},onerror:(r=p==null?void 0:p.onerror)!==null&&r!==void 0?r:function(k){},onclose:(n=p==null?void 0:p.onclose)!==null&&n!==void 0?n:function(k){}},w=this.webSocketFactory.create(u,o3e(d),b);w.connect(),await m;let A=fr(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&A.startsWith("publishers/")){const k=this.apiClient.getProject(),D=this.apiClient.getLocation();A=`projects/${k}/locations/${D}/`+A}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Yw.AUDIO]}:e.config.responseModalities=[Yw.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const T=(o=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[],E=[];for(const k of T)if(this.isCallableTool(k)){const D=k;E.push(await D.tool())}else E.push(k);E.length>0&&(e.config.tools=E);const P={model:A,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=CDe(this.apiClient,P):S=EDe(this.apiClient,P),delete S.config,w.send(JSON.stringify(S)),new s3e(w,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const a3e={turnComplete:!0};class s3e{constructor(e,r){this.conn=e,this.apiClient=r}tLiveClientContent(e,r){if(r.turns!==null&&r.turns!==void 0){let n=[];try{n=Fs(e,r.turns),e.isVertexAI()?n=n.map(i=>Np(e,i)):n=n.map(i=>US(e,i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`)}return{clientContent:{turns:n,turnComplete:r.turnComplete}}}return{clientContent:{turnComplete:r.turnComplete}}}tLiveClienttToolResponse(e,r){let n=[];if(r.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(r.functionResponses)?n=r.functionResponses:n=[r.functionResponses],n.length===0)throw new Error("functionResponses is required.");for(const a of n){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(r3e)}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},a3e),e);const r=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(r))}sendRealtimeInput(e){let r={};this.apiClient.isVertexAI()?r={realtimeInput:NDe(this.apiClient,e)}:r={realtimeInput:MDe(this.apiClient,e)},this.conn.send(JSON.stringify(r))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const r=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(r))}close(){this.conn.close()}}function o3e(t){const e={};return t.forEach((r,n)=>{e[n]=r}),e}function l3e(t){const e=new Headers;for(const[r,n]of Object.entries(t))e.append(r,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const V3=10;function H3(t){var e,r,n;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(r=t==null?void 0:t.tools)!==null&&r!==void 0?r:[])if(e_(s)){i=!0;break}if(!i)return!0;const a=(n=t==null?void 0:t.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function e_(t){return"callTool"in t&&typeof t.callTool=="function"}function W3(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class c3e extends ox{constructor(e){super(),this.apiClient=e,this.generateContent=async r=>{var n,i,a,s,o;const l=await this.processParamsForMcpUsage(r);if(!KLe(r)||H3(r.config))return await this.generateContentInternal(l);if(YLe(r))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let c,u;const f=Fs(this.apiClient,l.contents),d=(a=(i=(n=l.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:V3;let h=0;for(;h<d&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const m=c.candidates[0].content,p=[];for(const y of(o=(s=r.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[])if(e_(y)){const b=await y.callTool(c.functionCalls);p.push(...b)}h++,u={role:"user",parts:p},l.contents=Fs(this.apiClient,l.contents),l.contents.push(m),l.contents.push(u),W3(l.config)&&(f.push(m),f.push(u))}return W3(l.config)&&(c.automaticFunctionCallingHistory=f),c},this.generateContentStream=async r=>{if(H3(r.config)){const n=await this.processParamsForMcpUsage(r);return await this.generateContentStreamInternal(n)}else return await this.processAfcStream(r)},this.generateImages=async r=>await this.generateImagesInternal(r).then(n=>{var i;let a;const s=[];if(n!=null&&n.generatedImages)for(const l of n.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=l==null?void 0:l.safetyAttributes:s.push(l);let o;return a?o={generatedImages:s,positivePromptSafetyAttributes:a}:o={generatedImages:s},o}),this.list=async r=>{var n;const s={config:Object.assign(Object.assign({},{queryBase:!0}),r==null?void 0:r.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((n=s.config)===null||n===void 0)&&n.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new BS(dp.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(s),s)},this.editImage=async r=>{const n={model:r.model,prompt:r.prompt,referenceImages:[],config:r.config};return r.referenceImages&&r.referenceImages&&(n.referenceImages=r.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(n)},this.upscaleImage=async r=>{let n={numberOfImages:1,mode:"upscale"};r.config&&(n=Object.assign(Object.assign({},n),r.config));const i={model:r.model,image:r.image,upscaleFactor:r.upscaleFactor,config:n};return await this.upscaleImageInternal(i)}}async processParamsForMcpUsage(e){var r,n,i;const a=(r=e.config)===null||r===void 0?void 0:r.tools;if(!a)return e;const s=await Promise.all(a.map(async l=>e_(l)?await l.tool():l)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(o.config.tools=s,e.config&&e.config.tools&&IH(e.config.tools)){const l=(i=(n=e.config.httpOptions)===null||n===void 0?void 0:n.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},l);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),OH(c),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return o}async initAfcToolsMap(e){var r,n,i;const a=new Map;for(const s of(n=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&n!==void 0?n:[])if(e_(s)){const o=s,l=await o.tool();for(const c of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(a.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);a.set(c.name,o)}}return a}async processAfcStream(e){var r,n,i;const a=(i=(n=(r=e.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls)!==null&&i!==void 0?i:V3;let s=!1,o=0;const l=await this.initAfcToolsMap(e);return function(c,u,f){var d,h;return ng(this,arguments,function*(){for(var m,p,y,_;o<a;){s&&(o++,s=!1);const S=yield Sr(c.processParamsForMcpUsage(f)),T=yield Sr(c.generateContentStreamInternal(S)),E=[],P=[];try{for(var b=!0,w=(p=void 0,Q1(T)),A;A=yield Sr(w.next()),m=A.done,!m;b=!0){_=A.value,b=!1;const k=_;if(yield yield Sr(k),k.candidates&&(!((d=k.candidates[0])===null||d===void 0)&&d.content)){P.push(k.candidates[0].content);for(const D of(h=k.candidates[0].content.parts)!==null&&h!==void 0?h:[])if(o<a&&D.functionCall){if(!D.functionCall.name)throw new Error("Function call name was not returned by the model.");if(u.has(D.functionCall.name)){const I=yield Sr(u.get(D.functionCall.name).callTool([D.functionCall]));E.push(...I)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${u.keys()}, mising tool: ${D.functionCall.name}`)}}}}catch(k){p={error:k}}finally{try{!b&&!m&&(y=w.return)&&(yield Sr(y.call(w)))}finally{if(p)throw p.error}}if(E.length>0){s=!0;const k=new am;k.candidates=[{content:{role:"user",parts:E}}],yield yield Sr(k);const D=[];D.push(...P),D.push({role:"user",parts:E});const I=Fs(c.apiClient,f.contents).concat(D);f.contents=I}else break}})}(this,l,e)}async generateContentInternal(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=F3(this.apiClient,e);return o=tt("{model}:generateContent",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>{const f=$3(this.apiClient,u),d=new am;return Object.assign(d,f),d})}else{const c=D3(this.apiClient,e);return o=tt("{model}:generateContent",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>{const f=L3(this.apiClient,u),d=new am;return Object.assign(d,f),d})}}async generateContentStreamInternal(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=F3(this.apiClient,e);o=tt("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c.config,delete c._url,delete c._query;const u=this.apiClient;return s=u.requestStream({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}),s.then(function(f){return ng(this,arguments,function*(){var d,h,m,p;try{for(var y=!0,_=Q1(f),b;b=yield Sr(_.next()),d=b.done,!d;y=!0){p=b.value,y=!1;const A=$3(u,yield Sr(p.json())),S=new am;Object.assign(S,A),yield yield Sr(S)}}catch(w){h={error:w}}finally{try{!y&&!d&&(m=_.return)&&(yield Sr(m.call(_)))}finally{if(h)throw h.error}}})})}else{const c=D3(this.apiClient,e);o=tt("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c.config,delete c._url,delete c._query;const u=this.apiClient;return s=u.requestStream({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(f){return ng(this,arguments,function*(){var d,h,m,p;try{for(var y=!0,_=Q1(f),b;b=yield Sr(_.next()),d=b.done,!d;y=!0){p=b.value,y=!1;const A=L3(u,yield Sr(p.json())),S=new am;Object.assign(S,A),yield yield Sr(S)}}catch(w){h={error:w}}finally{try{!y&&!d&&(m=_.return)&&(yield Sr(m.call(_)))}finally{if(h)throw h.error}}})})}}async embedContent(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=T4e(this.apiClient,e);return o=tt("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>{const f=TLe(this.apiClient,u),d=new m3;return Object.assign(d,f),d})}else{const c=jFe(this.apiClient,e);return o=tt("{model}:batchEmbedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>{const f=iLe(this.apiClient,u),d=new m3;return Object.assign(d,f),d})}}async generateImagesInternal(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=C4e(this.apiClient,e);return o=tt("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>{const f=CLe(this.apiClient,u),d=new g3;return Object.assign(d,f),d})}else{const c=HFe(this.apiClient,e);return o=tt("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>{const f=oLe(this.apiClient,u),d=new g3;return Object.assign(d,f),d})}}async editImageInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=R4e(this.apiClient,e);return a=tt("{model}:predict",o._url),s=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=kLe(this.apiClient,l),u=new rNe;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=F4e(this.apiClient,e);return a=tt("{model}:predict",o._url),s=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=PLe(this.apiClient,l),u=new nNe;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=L4e(this.apiClient,e);return o=tt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>_k(this.apiClient,u))}else{const c=WFe(this.apiClient,e);return o=tt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>xk(this.apiClient,u))}}async listInternal(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=B4e(this.apiClient,e);return o=tt("{models_url}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>{const f=NLe(this.apiClient,u),d=new v3;return Object.assign(d,f),d})}else{const c=GFe(this.apiClient,e);return o=tt("{models_url}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>{const f=cLe(this.apiClient,u),d=new v3;return Object.assign(d,f),d})}}async update(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=j4e(this.apiClient,e);return o=tt("{model}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>_k(this.apiClient,u))}else{const c=XFe(this.apiClient,e);return o=tt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>xk(this.apiClient,u))}}async delete(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=V4e(this.apiClient,e);return o=tt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(()=>{const u=RLe(),f=new y3;return Object.assign(f,u),f})}else{const c=KFe(this.apiClient,e);return o=tt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(()=>{const u=uLe(),f=new y3;return Object.assign(f,u),f})}}async countTokens(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=W4e(this.apiClient,e);return o=tt("{model}:countTokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>{const f=DLe(this.apiClient,u),d=new x3;return Object.assign(d,f),d})}else{const c=JFe(this.apiClient,e);return o=tt("{model}:countTokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>{const f=fLe(this.apiClient,u),d=new x3;return Object.assign(d,f),d})}}async computeTokens(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=z4e(this.apiClient,e);return a=tt("{model}:computeTokens",o._url),s=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=FLe(this.apiClient,l),u=new iNe;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=q4e(this.apiClient,e);return o=tt("{model}:predictLongRunning",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>ULe(this.apiClient,u))}else{const c=e4e(this.apiClient,e);return o=tt("{model}:predictLongRunning",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>mLe(this.apiClient,u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function u3e(t,e){const r={},n=v(e,["operationName"]);n!=null&&x(r,["_url","operationName"],n);const i=v(e,["config"]);return i!=null&&x(r,["config"],i),r}function f3e(t,e){const r={},n=v(e,["operationName"]);n!=null&&x(r,["_url","operationName"],n);const i=v(e,["config"]);return i!=null&&x(r,["config"],i),r}function d3e(t,e){const r={},n=v(e,["operationName"]);n!=null&&x(r,["operationName"],n);const i=v(e,["resourceName"]);i!=null&&x(r,["_url","resourceName"],i);const a=v(e,["config"]);return a!=null&&x(r,["config"],a),r}function h3e(t,e){const r={},n=v(e,["video","uri"]);n!=null&&x(r,["uri"],n);const i=v(e,["video","encodedVideo"]);i!=null&&x(r,["videoBytes"],gu(t,i));const a=v(e,["encoding"]);return a!=null&&x(r,["mimeType"],a),r}function p3e(t,e){const r={},n=v(e,["_self"]);return n!=null&&x(r,["video"],h3e(t,n)),r}function m3e(t,e){const r={},n=v(e,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>p3e(t,o))),x(r,["generatedVideos"],s)}const i=v(e,["raiMediaFilteredCount"]);i!=null&&x(r,["raiMediaFilteredCount"],i);const a=v(e,["raiMediaFilteredReasons"]);return a!=null&&x(r,["raiMediaFilteredReasons"],a),r}function g3e(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["name"],n);const i=v(e,["metadata"]);i!=null&&x(r,["metadata"],i);const a=v(e,["done"]);a!=null&&x(r,["done"],a);const s=v(e,["error"]);s!=null&&x(r,["error"],s);const o=v(e,["response","generateVideoResponse"]);return o!=null&&x(r,["response"],m3e(t,o)),r}function v3e(t,e){const r={},n=v(e,["gcsUri"]);n!=null&&x(r,["uri"],n);const i=v(e,["bytesBase64Encoded"]);i!=null&&x(r,["videoBytes"],gu(t,i));const a=v(e,["mimeType"]);return a!=null&&x(r,["mimeType"],a),r}function y3e(t,e){const r={},n=v(e,["_self"]);return n!=null&&x(r,["video"],v3e(t,n)),r}function x3e(t,e){const r={},n=v(e,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>y3e(t,o))),x(r,["generatedVideos"],s)}const i=v(e,["raiMediaFilteredCount"]);i!=null&&x(r,["raiMediaFilteredCount"],i);const a=v(e,["raiMediaFilteredReasons"]);return a!=null&&x(r,["raiMediaFilteredReasons"],a),r}function z3(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["name"],n);const i=v(e,["metadata"]);i!=null&&x(r,["metadata"],i);const a=v(e,["done"]);a!=null&&x(r,["done"],a);const s=v(e,["error"]);s!=null&&x(r,["error"],s);const o=v(e,["response"]);return o!=null&&x(r,["response"],x3e(t,o)),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _3e extends ox{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const r=e.operation,n=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=r.name.split("/operations/")[0];let a;return n&&"httpOptions"in n&&(a=n.httpOptions),this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:i,config:{httpOptions:a}})}else return this.getVideosOperationInternal({operationName:r.name,config:n})}async getVideosOperationInternal(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=f3e(this.apiClient,e);return o=tt("{operationName}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>z3(this.apiClient,u))}else{const c=u3e(this.apiClient,e);return o=tt("{operationName}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>g3e(this.apiClient,u))}}async fetchPredictVideosOperationInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=d3e(this.apiClient,e);return a=tt("{resourceName}:fetchPredictOperation",o._url),s=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>z3(this.apiClient,l))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function w3e(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["_url","name"],n);const i=v(e,["config"]);return i!=null&&x(r,["config"],i),r}function b3e(t,e,r){const n={},i=v(e,["pageSize"]);r!==void 0&&i!=null&&x(r,["_query","pageSize"],i);const a=v(e,["pageToken"]);r!==void 0&&a!=null&&x(r,["_query","pageToken"],a);const s=v(e,["filter"]);return r!==void 0&&s!=null&&x(r,["_query","filter"],s),n}function S3e(t,e){const r={},n=v(e,["config"]);return n!=null&&x(r,["config"],b3e(t,n,r)),r}function A3e(t,e){const r={},n=v(e,["textInput"]);n!=null&&x(r,["textInput"],n);const i=v(e,["output"]);return i!=null&&x(r,["output"],i),r}function T3e(t,e){const r={};if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=v(e,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>A3e(t,a))),x(r,["examples","examples"],i)}return r}function E3e(t,e,r){const n={};if(v(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=v(e,["tunedModelDisplayName"]);if(r!==void 0&&i!=null&&x(r,["displayName"],i),v(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=v(e,["epochCount"]);r!==void 0&&a!=null&&x(r,["tuningTask","hyperparameters","epochCount"],a);const s=v(e,["learningRateMultiplier"]);if(s!=null&&x(n,["tuningTask","hyperparameters","learningRateMultiplier"],s),v(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(v(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=v(e,["batchSize"]);r!==void 0&&o!=null&&x(r,["tuningTask","hyperparameters","batchSize"],o);const l=v(e,["learningRate"]);return r!==void 0&&l!=null&&x(r,["tuningTask","hyperparameters","learningRate"],l),n}function C3e(t,e){const r={},n=v(e,["baseModel"]);n!=null&&x(r,["baseModel"],n);const i=v(e,["trainingDataset"]);i!=null&&x(r,["tuningTask","trainingData"],T3e(t,i));const a=v(e,["config"]);return a!=null&&x(r,["config"],E3e(t,a,r)),r}function k3e(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["_url","name"],n);const i=v(e,["config"]);return i!=null&&x(r,["config"],i),r}function P3e(t,e,r){const n={},i=v(e,["pageSize"]);r!==void 0&&i!=null&&x(r,["_query","pageSize"],i);const a=v(e,["pageToken"]);r!==void 0&&a!=null&&x(r,["_query","pageToken"],a);const s=v(e,["filter"]);return r!==void 0&&s!=null&&x(r,["_query","filter"],s),n}function I3e(t,e){const r={},n=v(e,["config"]);return n!=null&&x(r,["config"],P3e(t,n,r)),r}function O3e(t,e,r){const n={},i=v(e,["gcsUri"]);if(r!==void 0&&i!=null&&x(r,["supervisedTuningSpec","trainingDatasetUri"],i),v(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function M3e(t,e){const r={},n=v(e,["gcsUri"]);return n!=null&&x(r,["validationDatasetUri"],n),r}function N3e(t,e,r){const n={},i=v(e,["validationDataset"]);r!==void 0&&i!=null&&x(r,["supervisedTuningSpec"],M3e(t,i));const a=v(e,["tunedModelDisplayName"]);r!==void 0&&a!=null&&x(r,["tunedModelDisplayName"],a);const s=v(e,["description"]);r!==void 0&&s!=null&&x(r,["description"],s);const o=v(e,["epochCount"]);r!==void 0&&o!=null&&x(r,["supervisedTuningSpec","hyperParameters","epochCount"],o);const l=v(e,["learningRateMultiplier"]);r!==void 0&&l!=null&&x(r,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],l);const c=v(e,["exportLastCheckpointOnly"]);r!==void 0&&c!=null&&x(r,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const u=v(e,["adapterSize"]);if(r!==void 0&&u!=null&&x(r,["supervisedTuningSpec","hyperParameters","adapterSize"],u),v(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(v(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function R3e(t,e){const r={},n=v(e,["baseModel"]);n!=null&&x(r,["baseModel"],n);const i=v(e,["trainingDataset"]);i!=null&&x(r,["supervisedTuningSpec","trainingDatasetUri"],O3e(t,i,r));const a=v(e,["config"]);return a!=null&&x(r,["config"],N3e(t,a,r)),r}function D3e(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["model"],n);const i=v(e,["name"]);return i!=null&&x(r,["endpoint"],i),r}function MH(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["name"],n);const i=v(e,["state"]);i!=null&&x(r,["state"],mH(t,i));const a=v(e,["createTime"]);a!=null&&x(r,["createTime"],a);const s=v(e,["tuningTask","startTime"]);s!=null&&x(r,["startTime"],s);const o=v(e,["tuningTask","completeTime"]);o!=null&&x(r,["endTime"],o);const l=v(e,["updateTime"]);l!=null&&x(r,["updateTime"],l);const c=v(e,["description"]);c!=null&&x(r,["description"],c);const u=v(e,["baseModel"]);u!=null&&x(r,["baseModel"],u);const f=v(e,["_self"]);f!=null&&x(r,["tunedModel"],D3e(t,f));const d=v(e,["distillationSpec"]);d!=null&&x(r,["distillationSpec"],d);const h=v(e,["experiment"]);h!=null&&x(r,["experiment"],h);const m=v(e,["labels"]);m!=null&&x(r,["labels"],m);const p=v(e,["pipelineJob"]);p!=null&&x(r,["pipelineJob"],p);const y=v(e,["tunedModelDisplayName"]);return y!=null&&x(r,["tunedModelDisplayName"],y),r}function F3e(t,e){const r={},n=v(e,["nextPageToken"]);n!=null&&x(r,["nextPageToken"],n);const i=v(e,["tunedModels"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>MH(t,s))),x(r,["tuningJobs"],a)}return r}function L3e(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["name"],n);const i=v(e,["metadata"]);i!=null&&x(r,["metadata"],i);const a=v(e,["done"]);a!=null&&x(r,["done"],a);const s=v(e,["error"]);return s!=null&&x(r,["error"],s),r}function $3e(t,e){const r={},n=v(e,["checkpointId"]);n!=null&&x(r,["checkpointId"],n);const i=v(e,["epoch"]);i!=null&&x(r,["epoch"],i);const a=v(e,["step"]);a!=null&&x(r,["step"],a);const s=v(e,["endpoint"]);return s!=null&&x(r,["endpoint"],s),r}function B3e(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["model"],n);const i=v(e,["endpoint"]);i!=null&&x(r,["endpoint"],i);const a=v(e,["checkpoints"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>$3e(t,o))),x(r,["checkpoints"],s)}return r}function Sk(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["name"],n);const i=v(e,["state"]);i!=null&&x(r,["state"],mH(t,i));const a=v(e,["createTime"]);a!=null&&x(r,["createTime"],a);const s=v(e,["startTime"]);s!=null&&x(r,["startTime"],s);const o=v(e,["endTime"]);o!=null&&x(r,["endTime"],o);const l=v(e,["updateTime"]);l!=null&&x(r,["updateTime"],l);const c=v(e,["error"]);c!=null&&x(r,["error"],c);const u=v(e,["description"]);u!=null&&x(r,["description"],u);const f=v(e,["baseModel"]);f!=null&&x(r,["baseModel"],f);const d=v(e,["tunedModel"]);d!=null&&x(r,["tunedModel"],B3e(t,d));const h=v(e,["supervisedTuningSpec"]);h!=null&&x(r,["supervisedTuningSpec"],h);const m=v(e,["tuningDataStats"]);m!=null&&x(r,["tuningDataStats"],m);const p=v(e,["encryptionSpec"]);p!=null&&x(r,["encryptionSpec"],p);const y=v(e,["partnerModelTuningSpec"]);y!=null&&x(r,["partnerModelTuningSpec"],y);const _=v(e,["distillationSpec"]);_!=null&&x(r,["distillationSpec"],_);const b=v(e,["experiment"]);b!=null&&x(r,["experiment"],b);const w=v(e,["labels"]);w!=null&&x(r,["labels"],w);const A=v(e,["pipelineJob"]);A!=null&&x(r,["pipelineJob"],A);const S=v(e,["tunedModelDisplayName"]);return S!=null&&x(r,["tunedModelDisplayName"],S),r}function U3e(t,e){const r={},n=v(e,["nextPageToken"]);n!=null&&x(r,["nextPageToken"],n);const i=v(e,["tuningJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Sk(t,s))),x(r,["tuningJobs"],a)}return r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class j3e extends ox{constructor(e){super(),this.apiClient=e,this.get=async r=>await this.getInternal(r),this.list=async(r={})=>new BS(dp.PAGED_ITEM_TUNING_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.tune=async r=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(r);{const n=await this.tuneMldevInternal(r);let i="";return n.metadata!==void 0&&n.metadata.tunedModel!==void 0?i=n.metadata.tunedModel:n.name!==void 0&&n.name.includes("/operations/")&&(i=n.name.split("/operations/")[0]),{name:i,state:pk.JOB_STATE_QUEUED}}}}async getInternal(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=k3e(this.apiClient,e);return o=tt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>Sk(this.apiClient,u))}else{const c=w3e(this.apiClient,e);return o=tt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>MH(this.apiClient,u))}}async listInternal(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=I3e(this.apiClient,e);return o=tt("tuningJobs",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>{const f=U3e(this.apiClient,u),d=new _3;return Object.assign(d,f),d})}else{const c=S3e(this.apiClient,e);return o=tt("tunedModels",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>{const f=F3e(this.apiClient,u),d=new _3;return Object.assign(d,f),d})}}async tuneInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=R3e(this.apiClient,e);return a=tt("tuningJobs",o._url),s=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>Sk(this.apiClient,l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=C3e(this.apiClient,e);return a=tt("tunedModels",o._url),s=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>L3e(this.apiClient,l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class V3e{async download(e,r){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const H3e=1024*1024*8,W3e=3,z3e=1e3,G3e=2,fT="x-goog-upload-status";async function q3e(t,e,r){var n,i,a;let s=0,o=0,l=new mk(new Response),c="upload";for(s=t.size;o<s;){const f=Math.min(H3e,s-o),d=t.slice(o,o+f);o+f>=s&&(c+=", finalize");let h=0,m=z3e;for(;h<W3e&&(l=await r.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(o),"Content-Length":String(f)}}}),!(!((n=l==null?void 0:l.headers)===null||n===void 0)&&n[fT]));)h++,await K3e(m),m=m*G3e;if(o+=f,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[fT])!=="active")break;if(s<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const u=await(l==null?void 0:l.json());if(((a=l==null?void 0:l.headers)===null||a===void 0?void 0:a[fT])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function X3e(t){return{size:t.size,type:t.type}}function K3e(t){return new Promise(e=>setTimeout(e,t))}class Y3e{async upload(e,r,n){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await q3e(e,r,n)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await X3e(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class J3e{create(e,r,n){return new Z3e(e,r,n)}}class Z3e{constructor(e,r,n){this.url=e,this.headers=r,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const G3="x-goog-api-key";class Q3e{constructor(e){this.apiKey=e}async addAuthHeaders(e){e.get(G3)===null&&e.append(G3,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const e5e="gl-node/";class NH{constructor(e){var r;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(r=e.vertexai)!==null&&r!==void 0?r:!1,this.apiKey=e.apiKey;const n=tNe(e,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion;const i=new Q3e(this.apiKey);this.apiClient=new XLe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:e5e+"web",uploader:new Y3e,downloader:new V3e}),this.models=new c3e(this.apiClient),this.live=new i3e(this.apiClient,i,new J3e),this.chats=new _Re(this.models,this.apiClient),this.caches=new vRe(this.apiClient),this.files=new NRe(this.apiClient),this.operations=new _3e(this.apiClient),this.tunings=new j3e(this.apiClient)}}const t5e=async(t,e,r,n,i)=>{if(!t)throw new Error("API Key is missing. Please set it in the settings.");const a=new NH({apiKey:t}),s="gemini-2.5-flash",o={situation:`Logistics Rescue Planning. ${i.toFixed(2)} hours remaining in shift.`,summary:n,driversInTrouble:e.map(c=>({name:c.name,stopsBehind:c.diff,currentPace:c.pace,stopsRemaining:c.remaining})),topHelpers:r.slice(0,8).map(c=>({name:c.name,surplusCapacity:Math.abs(c.diff),pace:c.pace}))},l=`
    You are an expert logistics coordinator AI. 
    Analyze the JSON data provided below regarding delivery drivers.
    
    Data: ${JSON.stringify(o)}

    Your Goal: Create a concise, tactical "Rescue Plan".
    
    Guidelines:
    1. Identify the most critical driver (highest stops behind).
    2. Suggest specific swaps: "Assign [Driver A] to take [X] stops from [Driver B]". Match high-pace helpers with struggling drivers.
    3. Keep it under 150 words. Use bullet points.
    4. Be direct and action-oriented.
    5. If the deficit is huge and helpers are few, warn the dispatcher to call in extra shifts.
    `;try{return(await a.models.generateContent({model:s,contents:l})).text||"AI could not generate a plan."}catch(c){return console.error("AI Generation Error:",c),"Error generating AI plan. Please check your API Key in settings."}},r5e=async(t,e,r)=>{if(!t)throw new Error("API Key is missing. Please check Settings.");const n=new NH({apiKey:t}),i="gemini-2.5-flash",a=[];e.speedingEventRate>0&&a.push(`Speeding: ${e.speedingEventRate} events (Impacts 11% of Safety Score)`),e.distractionsRate>0&&a.push(`Distractions: ${e.distractionsRate} events (Impacts 7.1% of Safety Score)`),e.signSignalRate>0&&a.push(`Sign/Signal: ${e.signSignalRate} events (Impacts 11% of Safety Score)`),e.seatbeltOffRate>0&&a.push(`Seatbelt: ${e.seatbeltOffRate} events (Impacts 11% of Safety Score)`),e.followingDistanceRate>0&&a.push(`Following Dist: ${e.followingDistanceRate} events (Impacts 4.7% of Safety Score)`),e.dcr<99.9&&a.push(`DCR: ${e.dcr}% (Target 99.9%, Impacts 12% of Overall Score)`),e.pod<98&&a.push(`Photos: ${e.pod}% (Target 98%+, Impacts 3% of Overall Score)`),e.cdfDpmo>500&&a.push(`Customer Feedback: ${e.cdfDpmo} DPMO (Impacts 6% of Overall Score)`),e.ced>0&&a.push(`Escalations: ${e.ced} defects (High Impact 12%)`);const s=a.length===0,o=`
    You are a professional Amazon DSP Dispatcher. Write a data-driven coaching text message to driver ${e.name}.
    
    Context:
    - Week: ${r}
    - FICO Score: ${e.fico}
    - Specific Metric Failures: ${s?"None! Perfect scorecard.":a.join(`
- `)}
    
    Goals:
    1. BE EDUCATIONAL: Explain briefly *what* the metric is if it's obscure (e.g., "DCR means packages delivered vs attempted").
    2. BE SPECIFIC: Mention the exact numbers and the impact percentage provided in the context.
    3. PROVIDE A TIP: Give one actionable tip to improve (e.g., "Check your rabbit for notes" or "Watch for speed limit signs").
    4. Tone: Professional, constructive, serious but supportive.
    5. Format: Text message suitable for SMS/Chime. Keep it under 90 words.
    6. If perfect, give high praise.
    `;try{return(await n.models.generateContent({model:i,contents:o})).text||"Could not generate message."}catch(l){return console.error("AI Coaching Error:",l),"Error generating message. Check API Key."}},q3={"Customer Delivery Feedback":"6%","Delivery Success Behaviors":"12%","Sign/Signal Violations Rate":"11%","Speeding Event Rate":"11%","Seatbelt Off Rate":"11%","Distractions Rate":"7.1%","Following Distance Rate":"4.7%","Delivery Completion Rate":"12%","Photo-On-Delivery":"3%","Customer Escalation":"12%"},n5e=()=>{const[t,e]=ae.useState(null),[r,n]=ae.useState(!1),[i,a]=ae.useState(null),s=ae.useRef(null),[o,l]=ae.useState(null),[c,u]=ae.useState(""),[f,d]=ae.useState(!1),[h,m]=ae.useState(!1),[p,y]=ae.useState(!1),[_,b]=ae.useState(null),[w,A]=ae.useState({key:"impactScore",direction:"desc"}),S=async U=>{var G;const X=(G=U.target.files)==null?void 0:G[0];if(X){n(!0),a(null);try{if(X.type!=="application/pdf")throw new Error("Please upload a valid PDF file.");const Q=await xMe(X);if(Q.drivers.length===0)throw new Error("No driver data found. Ensure you uploaded the full Scorecard PDF.");e(Q)}catch(Q){console.error(Q),a(Q.message||"Failed to parse PDF.")}finally{n(!1)}}},T=ae.useMemo(()=>{if(!t)return[];const U=[...t.drivers];return U.sort((X,G)=>{const Q=X[w.key],J=G[w.key];if(typeof Q=="number"&&typeof J=="number")return w.direction==="asc"?Q-J:J-Q;const ee=String(Q).toLowerCase(),V=String(J).toLowerCase();return ee<V?w.direction==="asc"?-1:1:ee>V?w.direction==="asc"?1:-1:0}),U},[t,w]),E=U=>{A(X=>({key:U,direction:X.key===U&&X.direction==="desc"?"asc":"desc"}))},P=({column:U})=>w.key!==U?C.jsx(l6,{className:"w-3 h-3 ml-1 opacity-30"}):w.direction==="asc"?C.jsx(c6,{className:"w-3 h-3 ml-1"}):C.jsx(o6,{className:"w-3 h-3 ml-1"}),k=U=>{for(const X in q3)if(U.toLowerCase().includes(X.toLowerCase())||X.toLowerCase().includes(U.toLowerCase()))return q3[X];return null},D=async(U,X)=>{const G=X.currentTarget.getBoundingClientRect();let Q=G.left-340;Q<20&&(Q=G.right+10),b({top:G.top+window.scrollY-50,left:Q+window.scrollX}),l(U),m(!0),d(!0),u(""),y(!1);const J=localStorage.getItem("gemini_api_key");if(!J){u("Please set your Gemini API Key in settings to use this feature."),d(!1);return}const ee=await r5e(J,U,(t==null?void 0:t.week)||"Current");u(ee),d(!1)},I=()=>{navigator.clipboard.writeText(c),y(!0),setTimeout(()=>y(!1),2e3)},N=({title:U,icon:X,drivers:G,valueKey:Q,type:J,threshold:ee=0,suffix:V=""})=>{const se=[...G].sort((R,W)=>{const Y=Number(R[Q])||0,Z=Number(W[Q])||0;return J==="high"?Z-Y:Y-Z}).slice(0,5).filter(R=>{const W=Number(R[Q])||0;return W===0&&J==="high"||J==="low"&&W===100?!1:J==="high"?W>ee:W<(ee||100)});return se.length===0?null:C.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden flex flex-col h-full",children:[C.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:C.jsxs("h4",{className:"font-bold text-gray-700 flex items-center text-sm",children:[C.jsx(X,{className:"w-4 h-4 mr-2 text-indigo-600"}),U]})}),C.jsx("div",{className:"flex-1",children:C.jsx("table",{className:"min-w-full divide-y divide-gray-50",children:C.jsx("tbody",{children:se.map(R=>C.jsxs("tr",{className:"hover:bg-gray-50",children:[C.jsx("td",{className:"px-4 py-2 text-xs font-medium text-gray-900 truncate max-w-[120px]",children:R.name}),C.jsxs("td",{className:`px-4 py-2 text-xs font-bold text-right ${J==="high"?"text-red-600":"text-orange-600"}`,children:[R[Q],V]})]},R.transporterId))})})})]})};return C.jsxs("div",{className:"space-y-6 animate-fade-in pb-12 relative",children:[C.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[C.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[C.jsxs("div",{children:[C.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[C.jsx(h6,{className:"w-6 h-6 mr-2 text-indigo-600"}),"Scorecard Analyzer"]}),C.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Upload PDF to see detailed impact analysis and rankings."})]}),C.jsxs("div",{className:"flex-shrink-0",children:[C.jsx("input",{type:"file",ref:s,className:"hidden",accept:".pdf",onChange:S}),C.jsxs("button",{onClick:()=>{var U;return(U=s.current)==null?void 0:U.click()},disabled:r,className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 shadow-sm transition-colors disabled:opacity-70",children:[r?C.jsx(T_,{className:"w-5 h-5 animate-spin"}):C.jsx(_P,{className:"w-5 h-5 mr-2"}),r?"Analyzing...":"Upload PDF"]})]})]}),i&&C.jsxs("div",{className:"mt-4 p-3 bg-red-50 text-red-700 text-sm rounded-lg flex items-center",children:[C.jsx(yP,{className:"w-5 h-5 mr-2"})," ",i]})]}),t&&C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[C.jsxs("div",{className:`md:col-span-4 rounded-xl shadow-md p-6 text-white flex flex-col justify-center ${t.overallTier.toLowerCase().includes("fantastic")?"bg-gradient-to-r from-green-600 to-emerald-700":"bg-gradient-to-r from-red-600 to-orange-700"}`,children:[C.jsx("span",{className:"text-white/80 text-xs font-bold uppercase tracking-wider",children:"Overall Standing"}),C.jsx("div",{className:"text-3xl font-bold mt-1",children:t.overallTier||"Unknown"}),C.jsxs("div",{className:"text-white/90 text-sm mt-1",children:["Score: ",t.overallScore]})]}),C.jsxs("div",{className:"md:col-span-5 bg-white rounded-xl shadow-sm border border-gray-100 p-6 flex flex-col justify-center",children:[C.jsxs("span",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider flex items-center mb-2",children:[C.jsx(nq,{className:"w-3 h-3 mr-1"})," Amazon Key Focus Areas"]}),t.keyFocusAreas.length>0?C.jsx("ul",{className:"space-y-2",children:t.keyFocusAreas.map((U,X)=>{const G=k(U);return C.jsxs("li",{className:"text-sm font-medium text-gray-800 flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center",children:[C.jsx("span",{className:"w-5 h-5 rounded-full bg-indigo-50 text-indigo-600 text-xs flex items-center justify-center mr-2 font-bold border border-indigo-100",children:X+1}),U]}),G&&C.jsxs("span",{className:"text-xs font-bold text-red-500 bg-red-50 px-2 py-0.5 rounded",children:["Impact: ",G]})]},X)})}):C.jsx("span",{className:"text-gray-400 italic text-sm",children:"No focus areas extracted from PDF."})]}),C.jsx("div",{className:"md:col-span-3 bg-white rounded-xl shadow-sm border border-gray-100 p-6 flex flex-col justify-center",children:C.jsxs("div",{className:"flex justify-between mb-2",children:[C.jsxs("div",{children:[C.jsx("span",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider",children:"Week"}),C.jsx("div",{className:"text-xl font-bold text-gray-900",children:t.week})]}),C.jsxs("div",{className:"text-right",children:[C.jsx("span",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider",children:"Station"}),C.jsx("div",{className:"text-xl font-bold text-gray-900",children:t.station})]})]})})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4 mt-6",children:[C.jsx(N,{title:"Speeding Events",icon:KM,drivers:t.drivers,valueKey:"speedingEventRate",type:"high"}),C.jsx(N,{title:"Sign/Signal Violations",icon:KM,drivers:t.drivers,valueKey:"signSignalRate",type:"high"}),C.jsx(N,{title:"Low Delivery Completion",icon:QG,drivers:t.drivers,valueKey:"dcr",type:"low",threshold:99.9,suffix:"%"}),C.jsx(N,{title:"Photo Quality (POD)",icon:RG,drivers:t.drivers,valueKey:"pod",type:"low",threshold:98,suffix:"%"}),C.jsx(N,{title:"Cust. Feedback (DPMO)",icon:iq,drivers:t.drivers,valueKey:"cdfDpmo",type:"high",threshold:1e3})]}),C.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mt-8",children:[C.jsx("div",{className:"px-6 py-4 border-b border-gray-100 bg-gray-50 flex justify-between items-center",children:C.jsx("h3",{className:"font-bold text-gray-900",children:"Detailed Driver Performance"})}),C.jsx("div",{className:"overflow-x-auto",children:C.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[C.jsx("thead",{className:"bg-gray-50",children:C.jsxs("tr",{children:[C.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-600 uppercase sticky left-0 bg-gray-50 z-10 w-40",children:"Driver Name"}),C.jsxs("th",{className:"px-4 py-3 text-right text-xs font-bold text-indigo-700 uppercase cursor-pointer",onClick:()=>E("impactScore"),children:["Impact ",C.jsx(P,{column:"impactScore"})]}),C.jsxs("th",{className:"px-4 py-3 text-right text-xs font-medium text-red-600 uppercase cursor-pointer",onClick:()=>E("speedingEventRate"),children:["Speed ",C.jsx(P,{column:"speedingEventRate"})]}),C.jsxs("th",{className:"px-4 py-3 text-right text-xs font-medium text-red-600 uppercase cursor-pointer",onClick:()=>E("signSignalRate"),children:["Signal ",C.jsx(P,{column:"signSignalRate"})]}),C.jsxs("th",{className:"px-4 py-3 text-right text-xs font-medium text-blue-600 uppercase cursor-pointer",onClick:()=>E("dcr"),children:["DCR ",C.jsx(P,{column:"dcr"})]}),C.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase",children:"Actions"})]})}),C.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map((U,X)=>C.jsxs("tr",{className:`hover:bg-gray-50 ${X%2===0?"bg-white":"bg-gray-50/30"}`,children:[C.jsx("td",{className:"px-4 py-3 text-xs font-medium text-gray-900 whitespace-nowrap sticky left-0 bg-white z-10",children:U.name}),C.jsx("td",{className:"px-4 py-3 text-xs text-right font-bold",children:C.jsx("span",{className:`px-2 py-1 rounded ${U.impactScore>20?"bg-red-600 text-white":"bg-green-100 text-green-800"}`,children:U.impactScore})}),C.jsx("td",{className:`px-4 py-3 text-xs text-right ${U.speedingEventRate>0?"font-bold text-red-600":"text-gray-400"}`,children:U.speedingEventRate}),C.jsx("td",{className:`px-4 py-3 text-xs text-right ${U.signSignalRate>0?"font-bold text-red-600":"text-gray-400"}`,children:U.signSignalRate}),C.jsxs("td",{className:`px-4 py-3 text-xs text-right font-bold ${U.dcr<99?"text-red-600":"text-green-600"}`,children:[U.dcr,"%"]}),C.jsx("td",{className:"px-4 py-3 text-xs text-right font-medium sticky right-0 bg-white z-10",children:C.jsx("button",{onClick:G=>D(U,G),className:"text-indigo-600 hover:text-indigo-900 bg-indigo-50 hover:bg-indigo-100 px-2 py-1 rounded",children:C.jsx(XM,{className:"w-3 h-3"})})})]},U.transporterId))})]})})]})]}),h&&o&&_&&C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"fixed inset-0 z-[99]",onClick:()=>m(!1)}),C.jsxs("div",{style:{top:_.top,left:_.left},className:"absolute z-[100] bg-white rounded-xl shadow-2xl border border-gray-200 w-80 animate-fade-in overflow-hidden",children:[C.jsxs("div",{className:"bg-indigo-700 px-4 py-3 flex justify-between items-center",children:[C.jsxs("h3",{className:"text-white font-bold flex items-center text-sm",children:[C.jsx(XM,{className:"w-4 h-4 mr-2"})," Coaching"]}),C.jsx("button",{onClick:()=>m(!1),className:"text-indigo-200 hover:text-white",children:C.jsx(Bf,{className:"w-4 h-4"})})]}),C.jsx("div",{className:"p-4",children:f?C.jsxs("div",{className:"flex flex-col items-center justify-center py-4 text-gray-500",children:[C.jsx(T_,{className:"w-6 h-6 animate-spin text-indigo-600 mb-2"}),C.jsx("p",{className:"text-xs",children:"Generating..."})]}):C.jsxs("div",{className:"bg-gray-50 p-3 rounded border border-gray-200 relative",children:[C.jsx("p",{className:"text-gray-800 text-xs whitespace-pre-wrap leading-relaxed",children:c}),C.jsx("button",{onClick:I,className:"absolute top-2 right-2 p-1.5 rounded hover:bg-gray-200 text-gray-500",children:p?C.jsx(DG,{className:"w-3 h-3 text-green-600"}):C.jsx(LG,{className:"w-3 h-3"})})]})})]})]})]})},i5e=t=>{if(!t)return null;const e=t.trim(),r=e.match(/(\d{4})[-_.](\d{2})[-_.](\d{2})/);if(r){const[a,s,o,l]=r;return`${s}-${o}-${l}`}const n=e.match(/(\d{2})[-_.](\d{2})[-_.](\d{4})/);if(n){const[a,s,o,l]=n;return`${l}-${s}-${o}`}const i=e.match(/(202\d)(\d{2})(\d{2})/);if(i){const[a,s,o,l]=i;return`${s}-${o}-${l}`}return null},a5e=()=>{const e=[["Route code","Driver name","Transporter Id","DA activity","Progress Status","Projected Return to Station","projected overtime duration (minutes)","Delivery Service Type","cortex_vin_number","All stops","Stops complete","not started stops","total packages","cortex_avg_pace_stops_per_hour","cortex_remaining_state_of_charge","App sign in","cortex_last_stop_execution_time","cortex_total_break_time_used"]],r=new Date,n=new Date(r.getTime()-5*6e4).toLocaleTimeString(),i=new Date(r.getTime()-45*6e4).toLocaleTimeString();return[{name:"Alex Thompson",route:"RT-101",completed:45,remaining:80,pace:22,type:"Standard",packages:200,battery:"",lastScan:n,ot:0,rts:"19:30",status:"In Progress",breakUsed:15},{name:"Sarah Chen",route:"DSP-RESCUE-1",completed:10,remaining:0,pace:28,type:"DSP Initiated",packages:15,battery:"",lastScan:n,ot:0,rts:"16:00",status:"In Progress",breakUsed:30},{name:"Mike Rodriguez",route:"RT-103",completed:50,remaining:75,pace:21,type:"Standard",packages:180,battery:"15%",lastScan:n,ot:10,rts:"20:15",status:"In Progress",breakUsed:0},{name:"Emily Wu",route:"RT-104",completed:85,remaining:15,pace:25,type:"Standard",packages:120,battery:"88%",lastScan:n,ot:0,rts:"17:45",status:"In Progress",breakUsed:30},{name:"David Kim",route:"RT-105",completed:30,remaining:90,pace:18,type:"Standard",packages:250,battery:"",lastScan:i,ot:45,rts:"21:00",status:"In Progress",breakUsed:10},{name:"Lisa Patel",route:"RT-106",completed:60,remaining:50,pace:22,type:"Standard",packages:150,battery:"",lastScan:n,ot:0,rts:"19:45",status:"In Progress",breakUsed:30},{name:"Finished Guy",route:"RT-111",completed:150,remaining:1,pace:22,type:"Standard",packages:150,battery:"",lastScan:n,ot:0,rts:"16:45",status:"COMPLETE",breakUsed:30}].forEach(s=>{const o=new Array(18).fill("");o[0]=s.route,o[1]=s.name,o[4]=s.status,o[5]=s.rts,o[6]=s.ot,o[7]=s.type,o[10]=s.completed,o[11]=s.remaining,o[12]=s.packages,o[13]=s.pace,o[14]=s.battery,o[16]=s.lastScan,o[17]=s.breakUsed,e.push(o)}),e},s5e=t=>{if(t==null||t==="")return null;const e=new Date;if(typeof t=="number"){const r=Math.floor(t%1*86400),n=Math.floor(r/3600),i=Math.floor(r%3600/60),a=new Date(e);return a.setHours(n,i,0,0),a.getTime()}if(typeof t=="string"){const r=t.toLowerCase().trim();if(!r.match(/\d{1,2}:\d{2}/))return null;let[n,i]=r.split(/(?=[ap]m)/),[a,s]=n.split(":").map(Number);if(i!=null&&i.includes("pm")&&a<12&&(a+=12),i!=null&&i.includes("am")&&a===12&&(a=0),!isNaN(a)&&!isNaN(s)){const o=new Date(e);return o.setHours(a,s,0,0),o.getTime()}}return t instanceof Date?t.getTime():null},o5e=(t,e)=>{const{endTime:r,defaultPace:n,bufferMinutes:i,requiredBreakMinutes:a,useIndividualPace:s,smartAdjustment:o}=e,l=new Date,[c,u]=r.split(":").map(Number),f=new Date(l);f.setHours(c,u,0,0),f.getTime()<l.getTime()-12*60*60*1e3&&f.setDate(f.getDate()+1);const d=new Date(f.getTime()-i*60*1e3),h=d.getTime()-l.getTime();let m=Math.max(0,h/(1e3*60*60)),p=1;o&&(m<2.5?p=.85:m<4&&(p=.92));const y=[],_=t[0]?t[0].map(ne=>String(ne||"").toLowerCase().trim()):[],b=ne=>_.findIndex(se=>ne.some(R=>se.includes(R))),w=b(["route code","route id"]),A=b(["driver name"]),S=b(["delivery service type"]),T=b(["progress status","status"]),E=b(["stops complete"]),P=b(["not started stops","stops remaining"]),k=b(["all stops"]),D=b(["total packages"]),I=b(["cortex_avg_pace","pace"]),N=b(["cortex_remaining_state_of_charge","charge"]),U=b(["cortex_last_stop_execution_time","last stop"]),X=b(["cortex_total_break_time_used","break time"]),G=b(["projected return to station"]),Q=b(["projected overtime"]);for(let ne=1;ne<t.length;ne++){const se=t[ne];if(!se||se.length===0)continue;let R=A!==-1?se[A]:se[1];if(!R)continue;R=String(R).replace(/"/g,"").trim();const W=w!==-1?String(se[w]||""):"",Y=T!==-1?String(se[T]||"").toUpperCase():"";let Z=Y.includes("COMPLETE")||Y.includes("FINISHED");const oe=E!==-1?parseInt(se[E]||"0",10):0;let de=P!==-1?parseInt(se[P],10):NaN;const ve=k!==-1?parseInt(se[k],10):oe+(isNaN(de)?0:de);isNaN(de)&&(de=ve-oe),Z&&(de=0),de<0&&(de=0);let te=0;if(X!==-1&&se[X]!==void 0){const ke=String(se[X]),ut=parseInt(ke.replace(/[^0-9]/g,""),10);isNaN(ut)||(te=ut)}const be=Math.max(0,(a||0)-te),L=be/60,We=Math.max(0,m-L);let Ie=n,Ge="default";if(s&&I!==-1&&se[I]){const ke=parseFloat(se[I]);!isNaN(ke)&&ke>0&&ke<60&&(Ie=ke,Ge="file")}const je=Ie*p,xe=Math.floor(We*je),bt=de-xe;let Zt="Done";if(de>0){const ut=de/je+L;Zt=new Date(l.getTime()+ut*60*60*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}const Pr=D!==-1?parseInt(se[D]||"0",10):0,gr=de>0?Pr/ve:0,Ir=N!==-1?String(se[N]||""):"";let tn=!1,dr="Unknown";if(Ir){dr="EV";let ke=parseFloat(Ir.replace("%",""));ke<=1&&Ir.includes(".")&&(ke*=100),!isNaN(ke)&&ke<25&&(tn=!0)}const Or=U!==-1?se[U]:null;let ie=!1,Te=null;Or&&de>0&&(Te=s5e(Or),Te&&(l.getTime()-Te)/6e4>25&&(ie=!0));let Re=!1;const et=S!==-1?String(se[S]||""):"";(/dsp initiated|rescue/i.test(et)||/dsp|rescue/i.test(W)||/rescue/i.test(R))&&(Re=!0),y.push({id:`row-${ne}`,routeId:W||`RT-${100+ne}`,name:R,remaining:de,completed:oe,total:ve,packages:Pr,packagesPerStop:gr,progress:ve>0?Math.round(oe/ve*100):0,canComplete:xe,diff:bt,pace:Ie,paceSource:Ge,eta:Zt,projectedRts:G!==-1?String(se[G]||""):null,projectedOvertime:Q!==-1?parseInt(se[Q]||"0",10):0,breakTimeUsed:te,breakTimeRemaining:be,lastStopTimestamp:Te,lastStopString:Or?String(Or):"N/A",isDspInitiated:Re,isStalled:ie,isLowBattery:tn,batteryLevel:Ir,vehicleType:dr,status:Y})}const J=y.filter(ne=>ne.diff>0),ee=y.filter(ne=>ne.diff<=0),V={totalDrivers:y.length,totalRescueNeeded:J.length,totalStopsToRescue:J.reduce((ne,se)=>ne+se.diff,0),totalStopsAvailable:ee.reduce((ne,se)=>ne+Math.abs(se.diff),0)};return{results:y,summary:V,meta:{hoursRemaining:m,deadline:d.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}}},Qw="driver-rescue-db.json",l5e="Driver Rescue Dashboard Database",c5e=async(t,e)=>{try{const r=JSON.stringify(e,null,2),n=await RH(t);return n?(await fetch(`https://api.github.com/gists/${n}`,{method:"PATCH",headers:{Authorization:`token ${t}`,Accept:"application/vnd.github.v3+json"},body:JSON.stringify({files:{[Qw]:{content:r}}})})).ok:(await fetch("https://api.github.com/gists",{method:"POST",headers:{Authorization:`token ${t}`,Accept:"application/vnd.github.v3+json"},body:JSON.stringify({description:l5e,public:!1,files:{[Qw]:{content:r}}})})).ok}catch(r){return console.error("Sync Up Failed",r),!1}},u5e=async t=>{try{const e=await RH(t);if(!e)return null;const r=await fetch(`https://api.github.com/gists/${e}`,{headers:{Authorization:`token ${t}`,Accept:"application/vnd.github.v3+json"}});if(!r.ok)throw new Error("Failed to fetch gist metadata");const i=(await r.json()).files[Qw];if(!i)return null;if(i.truncated||!i.content){const a=await fetch(i.raw_url,{headers:{Authorization:`token ${t}`}});return a.ok?await a.text():null}return i.content}catch(e){return console.error("Sync Down Failed",e),null}},RH=async t=>{try{const e=await fetch("https://api.github.com/gists",{headers:{Authorization:`token ${t}`,Accept:"application/vnd.github.v3+json"}});if(!e.ok)return null;const n=(await e.json()).find(i=>i.files[Qw]!==void 0);return n?n.id:null}catch{return null}},dT="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",f5e=({message:t,type:e,onClose:r})=>(ae.useEffect(()=>{const n=setTimeout(r,3e3);return()=>clearTimeout(n)},[r]),C.jsxs("div",{className:`fixed bottom-5 right-5 px-4 py-3 rounded-lg shadow-lg flex items-center space-x-2 animate-fade-in z-[60] ${e==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:[e==="success"?C.jsx(u6,{className:"w-4 h-4"}):C.jsx(yP,{className:"w-4 h-4"}),C.jsx("span",{className:"text-sm font-medium",children:t})]})),d5e=()=>{var dr,Or;const[t,e]=ae.useState("dashboard"),[r,n]=ae.useState(null),i=(ie,Te)=>n({msg:ie,type:Te}),[a,s]=ae.useState(null),[o,l]=ae.useState(null),[c,u]=ae.useState({}),[f,d]=ae.useState(!1),[h,m]=ae.useState(null),[p,y]=ae.useState(null),[_,b]=ae.useState(void 0),[w,A]=ae.useState(void 0),[S,T]=ae.useState([]),[E,P]=ae.useState({}),[k,D]=ae.useState(!1),[I,N]=ae.useState(!1),[U,X]=ae.useState(null),[G,Q]=ae.useState(""),[J,ee]=ae.useState(dT),[V,ne]=ae.useState(!1),[se,R]=ae.useState(!1),[W,Y]=ae.useState({endTime:"20:05",defaultPace:20,bufferMinutes:30,requiredBreakMinutes:0,useIndividualPace:!1,smartAdjustment:!0,targetDate:new Date().toISOString().split("T")[0]});ae.useEffect(()=>{const ie=localStorage.getItem("gemini_api_key"),Te=localStorage.getItem("github_api_token");ie&&Q(ie),ee(Te||dT),Z();const Re=rIe();Re&&(u(Re),D(!0))},[]);const Z=()=>{const ie=Eo();T(ie),P(lIe(ie))},oe=(ie,Te)=>{localStorage.setItem("gemini_api_key",ie),localStorage.setItem("github_api_token",Te),Q(ie),ee(Te),i("Settings saved.","success")},de=ae.useCallback((ie,Te)=>{s(ie),l(Te),X(null);const Re=i5e(Te);Re&&(Y(et=>({...et,targetDate:Re})),i(`Date detected from file: ${Re}`,"success"))},[]),ve=ae.useCallback(()=>{const ie=a5e();de(ie,"Demo_Itinerary.xlsx"),i("Demo data loaded.","success")},[de]),te=ae.useMemo(()=>a?o5e(a,W):null,[a,W]),fe=(ie,Te)=>{Y(Re=>({...Re,[ie]:Te}))},be=(ie,Te)=>{const Re=Te.currentTarget.getBoundingClientRect();A({top:Re.top+window.scrollY,left:Re.left+window.scrollX-330}),m(ie),y(null),b(void 0),d(!0)},L=(ie,Te,Re,et)=>{const ke=et.currentTarget.getBoundingClientRect();A({top:ke.top+window.scrollY,left:ke.left+window.scrollX-330}),m(ie),y(Re),b({rescuer:Te.rescuerName,stops:Te.stopsRemoved}),d(!0)},We=(ie,Te)=>{confirm("Remove this rescue log?")&&u(Re=>{const ke=[...Re[ie]||[]];return ke.splice(Te,1),{...Re,[ie]:ke}})},Ie=(ie,Te)=>{h&&u(Re=>{const ke=[...Re[h.name]||[]],ut={targetDriverName:h.name,rescuerName:ie,stopsRemoved:Te,timestamp:Date.now()};return p!==null?ke[p]=ut:ke.push(ut),{...Re,[h.name]:ke}})},Ge=async()=>{if(!te)return;N(!0);const{results:ie,summary:Te,meta:Re}=te,et=ie.filter(Ot=>Ot.diff>0),ke=ie.filter(Ot=>Ot.diff<=0).sort((Ot,rr)=>Ot.diff-rr.diff),ut=await t5e(G,et,ke,Te,Re.hoursRemaining);X(ut),N(!1)},je=()=>{if(!te||!te.summary)return;tIe(te.results,te.summary,c,W.targetDate)?(i("Day updated in history!","success"),D(!0),Z()):i("Failed to save day.","error")},xe=async()=>{if(!J){ne(!0),i("Please set GitHub Token first.","error");return}R(!0);const ie=await c5e(J,S);R(!1),ie?i("Database uploaded to Cloud.","success"):i("Upload failed. Check Token.","error")},bt=async()=>{if(!J){ne(!0),i("Please set GitHub Token first.","error");return}R(!0);const ie=await u5e(J);ie?t7(ie)?(Z(),i("Database downloaded & merged.","success")):i("Merge failed.","error"):i("Download failed. Check Token.","error"),R(!1)},Zt=()=>{cIe(),T([]),P({}),D(!1),u({}),i("Database cleared.","success")},Pr=(ie,Te,Re,et)=>{iIe(ie,Te,Re,et),Z()},gr=ie=>{nIe(ie),Z(),i("Day deleted.","success")},Ir=ae.useMemo(()=>(te==null?void 0:te.results.filter(ie=>ie.diff>0).sort((ie,Te)=>Te.diff-ie.diff))||[],[te]),tn=ae.useMemo(()=>(te==null?void 0:te.results.filter(ie=>ie.diff<=0).sort((ie,Te)=>ie.diff-Te.diff))||[],[te]);return C.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-gray-900",children:[r&&C.jsx(f5e,{message:r.msg,type:r.type,onClose:()=>n(null)}),C.jsx(eIe,{isOpen:V,onClose:()=>ne(!1),onSave:oe,initialGithubKey:dT}),C.jsx(dIe,{isOpen:f,onClose:()=>d(!1),targetDriver:h,potentialRescuers:(te==null?void 0:te.results)||[],onConfirm:Ie,initialRescuer:_==null?void 0:_.rescuer,initialStops:_==null?void 0:_.stops,isEditMode:p!==null,position:w}),C.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[C.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsx("div",{className:"bg-indigo-600 p-2.5 rounded-lg shadow-lg",children:C.jsx(bg,{className:"h-8 w-8 text-white"})}),C.jsxs("div",{children:[C.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Driver Rescue Dashboard"}),C.jsx("p",{className:"text-sm text-gray-500",children:"Intelligent Fleet Analysis & Dispatch"})]})]}),C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsxs("div",{className:"flex bg-white rounded-lg border border-gray-200 p-1 shadow-sm",children:[C.jsxs("button",{onClick:()=>e("dashboard"),className:`px-3 py-1.5 text-sm font-medium rounded-md flex items-center transition-all ${t==="dashboard"?"bg-indigo-50 text-indigo-700":"text-gray-500 hover:text-gray-700"}`,children:[C.jsx(qG,{className:"w-4 h-4 mr-2"})," Dashboard"]}),C.jsxs("button",{onClick:()=>e("history"),className:`px-3 py-1.5 text-sm font-medium rounded-md flex items-center transition-all ${t==="history"?"bg-indigo-50 text-indigo-700":"text-gray-500 hover:text-gray-700"}`,children:[C.jsx(zG,{className:"w-4 h-4 mr-2"})," History"]}),C.jsxs("button",{onClick:()=>e("scorecard"),className:`px-3 py-1.5 text-sm font-medium rounded-md flex items-center transition-all ${t==="scorecard"?"bg-indigo-50 text-indigo-700":"text-gray-500 hover:text-gray-700"}`,children:[C.jsx(h6,{className:"w-4 h-4 mr-2"})," Scorecard"]})]}),C.jsx("div",{className:"h-8 w-px bg-gray-300 mx-2"}),t==="dashboard"&&C.jsxs("button",{onClick:je,disabled:!te,className:`flex items-center px-4 py-2 text-sm font-medium rounded-md shadow-sm text-white transition-colors ${te?"bg-green-600 hover:bg-green-700":"bg-gray-300 cursor-not-allowed"}`,children:[C.jsx(xP,{className:"w-4 h-4 mr-2"}),k?"Update Day":"Save Day"]}),C.jsxs("div",{className:"flex items-center space-x-1",children:[C.jsx("button",{onClick:xe,disabled:se,className:"p-2 text-gray-500 hover:text-indigo-600 bg-white hover:bg-indigo-50 border border-gray-200 rounded-md transition-colors",children:C.jsx(_P,{className:"w-5 h-5"})}),C.jsx("button",{onClick:bt,disabled:se,className:"p-2 text-gray-500 hover:text-indigo-600 bg-white hover:bg-indigo-50 border border-gray-200 rounded-md transition-colors",children:C.jsx(BG,{className:"w-5 h-5"})})]}),C.jsx("button",{onClick:()=>ne(!0),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:C.jsx(sE,{className:"w-6 h-6"})})]})]}),t==="dashboard"?C.jsxs("div",{className:"space-y-6 animate-fade-in",children:[C.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[C.jsx("div",{className:"lg:col-span-4 xl:col-span-3",children:C.jsx(fae,{onDataLoaded:de,currentFileName:o,onLoadDemo:ve})}),C.jsx("div",{className:"lg:col-span-8 xl:col-span-9",children:C.jsx(cq,{params:W,onChange:fe})})]})}),te&&te.summary&&C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"bg-indigo-50 border border-indigo-100 rounded-lg p-4 flex items-start",children:[C.jsx(IG,{className:"w-5 h-5 text-indigo-600 mt-0.5 mr-3 flex-shrink-0"}),C.jsx("div",{children:C.jsxs("p",{className:"text-sm text-indigo-900",children:["Analysis complete. Drivers have ",C.jsxs("strong",{children:[(dr=te.meta)==null?void 0:dr.hoursRemaining.toFixed(2)," hours"]})," remaining. Deadline is ",C.jsx("strong",{children:(Or=te.meta)==null?void 0:Or.deadline}),"."]})})]}),C.jsx(dae,{summary:te.summary}),C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[C.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100 p-5 h-[400px]",children:[C.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Fleet Progress"}),C.jsx(QPe,{data:te.results})]}),C.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-violet-700 rounded-xl shadow-lg text-white p-6 flex flex-col",children:[C.jsx("div",{className:"flex items-center justify-between mb-4",children:C.jsxs("h3",{className:"text-lg font-bold flex items-center",children:[C.jsx(rq,{className:"w-5 h-5 mr-2 text-yellow-300"}),"AI Rescue Plan"]})}),C.jsx("div",{className:"flex-1 bg-white/10 rounded-lg p-4 text-sm leading-relaxed overflow-y-auto custom-scrollbar backdrop-blur-sm border border-white/10",children:I?C.jsx("div",{className:"flex items-center justify-center h-full",children:C.jsx(T_,{className:"w-8 h-8 animate-spin text-indigo-200"})}):U?C.jsx("div",{className:"whitespace-pre-line",children:U}):C.jsx("p",{className:"text-indigo-200 text-center mt-10",children:"Click below to generate rescue strategy."})}),C.jsx("button",{onClick:Ge,disabled:I,className:"mt-4 w-full py-3 bg-white text-indigo-700 font-bold rounded-lg shadow-md hover:bg-indigo-50 transition-all flex justify-center items-center",children:I?"Analyzing...":"Generate Strategy"})]})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 h-[800px]",children:[C.jsx(sR,{title:"Drivers Needing Rescue",drivers:Ir,type:"danger",historicalStats:E,onLogRescue:be,rescueLogs:c,onEditRescueLog:L,onDeleteRescueLog:We}),C.jsx(sR,{title:"On Pace / Ahead",drivers:tn,type:"success",historicalStats:E,onLogRescue:be,rescueLogs:c,onEditRescueLog:L,onDeleteRescueLog:We})]})]})]}):t==="history"?C.jsx(fIe,{history:S,driverStats:E,onClearHistory:Zt,onUpdateEntry:Pr,onDeleteDay:gr}):C.jsx(n5e,{})]})]})},DH=document.getElementById("root");if(!DH)throw new Error("Could not find root element to mount to");const h5e=hT.createRoot(DH);h5e.render(C.jsx(re.StrictMode,{children:C.jsx(d5e,{})}));
