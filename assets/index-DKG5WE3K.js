var nW=Object.defineProperty;var YO=t=>{throw TypeError(t)};var iW=(t,e,r)=>e in t?nW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var at=(t,e,r)=>iW(t,typeof e!="symbol"?e+"":e,r),tA=(t,e,r)=>e.has(t)||YO("Cannot "+r);var g=(t,e,r)=>(tA(t,e,"read from private field"),r?r.call(t):e.get(t)),B=(t,e,r)=>e.has(t)?YO("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),I=(t,e,r,n)=>(tA(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),M=(t,e,r)=>(tA(t,e,"access private method"),r);var vi=(t,e,r,n)=>({set _(i){I(t,e,i,r)},get _(){return g(t,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var wx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var s5={exports:{}},Eb={},o5={exports:{}},At={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy=Symbol.for("react.element"),aW=Symbol.for("react.portal"),sW=Symbol.for("react.fragment"),oW=Symbol.for("react.strict_mode"),lW=Symbol.for("react.profiler"),cW=Symbol.for("react.provider"),uW=Symbol.for("react.context"),fW=Symbol.for("react.forward_ref"),dW=Symbol.for("react.suspense"),hW=Symbol.for("react.memo"),pW=Symbol.for("react.lazy"),JO=Symbol.iterator;function mW(t){return t===null||typeof t!="object"?null:(t=JO&&t[JO]||t["@@iterator"],typeof t=="function"?t:null)}var l5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},c5=Object.assign,u5={};function _p(t,e,r){this.props=t,this.context=e,this.refs=u5,this.updater=r||l5}_p.prototype.isReactComponent={};_p.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_p.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function f5(){}f5.prototype=_p.prototype;function $k(t,e,r){this.props=t,this.context=e,this.refs=u5,this.updater=r||l5}var Bk=$k.prototype=new f5;Bk.constructor=$k;c5(Bk,_p.prototype);Bk.isPureReactComponent=!0;var ZO=Array.isArray,d5=Object.prototype.hasOwnProperty,jk={current:null},h5={key:!0,ref:!0,__self:!0,__source:!0};function p5(t,e,r){var n,i={},a=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)d5.call(e,n)&&!h5.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Gy,type:t,key:a,ref:s,props:i,_owner:jk.current}}function gW(t,e){return{$$typeof:Gy,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Uk(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gy}function vW(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var QO=/\/+/g;function rA(t,e){return typeof t=="object"&&t!==null&&t.key!=null?vW(""+t.key):e.toString(36)}function y1(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Gy:case aW:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+rA(s,0):n,ZO(i)?(r="",t!=null&&(r=t.replace(QO,"$&/")+"/"),y1(i,e,r,"",function(c){return c})):i!=null&&(Uk(i)&&(i=gW(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(QO,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",ZO(t))for(var o=0;o<t.length;o++){a=t[o];var l=n+rA(a,o);s+=y1(a,e,r,l,i)}else if(l=mW(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=n+rA(a,o++),s+=y1(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function _x(t,e,r){if(t==null)return t;var n=[],i=0;return y1(t,n,"","",function(a){return e.call(r,a,i++)}),n}function yW(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Oi={current:null},x1={transition:null},xW={ReactCurrentDispatcher:Oi,ReactCurrentBatchConfig:x1,ReactCurrentOwner:jk};function m5(){throw Error("act(...) is not supported in production builds of React.")}At.Children={map:_x,forEach:function(t,e,r){_x(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return _x(t,function(){e++}),e},toArray:function(t){return _x(t,function(e){return e})||[]},only:function(t){if(!Uk(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};At.Component=_p;At.Fragment=sW;At.Profiler=lW;At.PureComponent=$k;At.StrictMode=oW;At.Suspense=dW;At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xW;At.act=m5;At.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=c5({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=jk.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)d5.call(e,l)&&!h5.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Gy,type:t.type,key:i,ref:a,props:n,_owner:s}};At.createContext=function(t){return t={$$typeof:uW,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cW,_context:t},t.Consumer=t};At.createElement=p5;At.createFactory=function(t){var e=p5.bind(null,t);return e.type=t,e};At.createRef=function(){return{current:null}};At.forwardRef=function(t){return{$$typeof:fW,render:t}};At.isValidElement=Uk;At.lazy=function(t){return{$$typeof:pW,_payload:{_status:-1,_result:t},_init:yW}};At.memo=function(t,e){return{$$typeof:hW,type:t,compare:e===void 0?null:e}};At.startTransition=function(t){var e=x1.transition;x1.transition={};try{t()}finally{x1.transition=e}};At.unstable_act=m5;At.useCallback=function(t,e){return Oi.current.useCallback(t,e)};At.useContext=function(t){return Oi.current.useContext(t)};At.useDebugValue=function(){};At.useDeferredValue=function(t){return Oi.current.useDeferredValue(t)};At.useEffect=function(t,e){return Oi.current.useEffect(t,e)};At.useId=function(){return Oi.current.useId()};At.useImperativeHandle=function(t,e,r){return Oi.current.useImperativeHandle(t,e,r)};At.useInsertionEffect=function(t,e){return Oi.current.useInsertionEffect(t,e)};At.useLayoutEffect=function(t,e){return Oi.current.useLayoutEffect(t,e)};At.useMemo=function(t,e){return Oi.current.useMemo(t,e)};At.useReducer=function(t,e,r){return Oi.current.useReducer(t,e,r)};At.useRef=function(t){return Oi.current.useRef(t)};At.useState=function(t){return Oi.current.useState(t)};At.useSyncExternalStore=function(t,e,r){return Oi.current.useSyncExternalStore(t,e,r)};At.useTransition=function(){return Oi.current.useTransition()};At.version="18.3.1";o5.exports=At;var re=o5.exports;const ne=tr(re);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wW=re,_W=Symbol.for("react.element"),bW=Symbol.for("react.fragment"),SW=Object.prototype.hasOwnProperty,AW=wW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TW={key:!0,ref:!0,__self:!0,__source:!0};function g5(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)SW.call(e,n)&&!TW.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:_W,type:t,key:a,ref:s,props:i,_owner:AW.current}}Eb.Fragment=bW;Eb.jsx=g5;Eb.jsxs=g5;s5.exports=Eb;var C=s5.exports,TT={},v5={exports:{}},Sa={},y5={exports:{}},x5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Z,V){var te=Z.length;Z.push(V);e:for(;0<te;){var se=te-1>>>1,D=Z[se];if(0<i(D,V))Z[se]=V,Z[te]=D,te=se;else break e}}function r(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var V=Z[0],te=Z.pop();if(te!==V){Z[0]=te;e:for(var se=0,D=Z.length,q=D>>>1;se<q;){var X=2*(se+1)-1,ee=Z[X],ae=X+1,ue=Z[ae];if(0>i(ee,te))ae<D&&0>i(ue,ee)?(Z[se]=ue,Z[ae]=te,se=ae):(Z[se]=ee,Z[X]=te,se=X);else if(ae<D&&0>i(ue,te))Z[se]=ue,Z[ae]=te,se=ae;else break e}}return V}function i(Z,V){var te=Z.sortIndex-V.sortIndex;return te!==0?te:Z.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,d=3,h=!1,m=!1,p=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(Z){for(var V=r(c);V!==null;){if(V.callback===null)n(c);else if(V.startTime<=Z)n(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=r(c)}}function A(Z){if(p=!1,_(Z),!m)if(r(l)!==null)m=!0,Y(S);else{var V=r(c);V!==null&&J(A,V.startTime-Z)}}function S(Z,V){m=!1,p&&(p=!1,w(P),P=-1),h=!0;var te=d;try{for(_(V),f=r(l);f!==null&&(!(f.expirationTime>V)||Z&&!O());){var se=f.callback;if(typeof se=="function"){f.callback=null,d=f.priorityLevel;var D=se(f.expirationTime<=V);V=t.unstable_now(),typeof D=="function"?f.callback=D:f===r(l)&&n(l),_(V)}else n(l);f=r(l)}if(f!==null)var q=!0;else{var X=r(c);X!==null&&J(A,X.startTime-V),q=!1}return q}finally{f=null,d=te,h=!1}}var T=!1,E=null,P=-1,k=5,N=-1;function O(){return!(t.unstable_now()-N<k)}function R(){if(E!==null){var Z=t.unstable_now();N=Z;var V=!0;try{V=E(!0,Z)}finally{V?W():(T=!1,E=null)}}else T=!1}var W;if(typeof b=="function")W=function(){b(R)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,j=Q.port2;Q.port1.onmessage=R,W=function(){j.postMessage(null)}}else W=function(){y(R,0)};function Y(Z){E=Z,T||(T=!0,W())}function J(Z,V){P=y(function(){Z(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,Y(S))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(Z){switch(d){case 1:case 2:case 3:var V=3;break;default:V=d}var te=d;d=V;try{return Z()}finally{d=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,V){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var te=d;d=Z;try{return V()}finally{d=te}},t.unstable_scheduleCallback=function(Z,V,te){var se=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?se+te:se):te=se,Z){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=te+D,Z={id:u++,callback:V,priorityLevel:Z,startTime:te,expirationTime:D,sortIndex:-1},te>se?(Z.sortIndex=te,e(c,Z),r(l)===null&&Z===r(c)&&(p?(w(P),P=-1):p=!0,J(A,te-se))):(Z.sortIndex=D,e(l,Z),m||h||(m=!0,Y(S))),Z},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(Z){var V=d;return function(){var te=d;d=V;try{return Z.apply(this,arguments)}finally{d=te}}}})(x5);y5.exports=x5;var EW=y5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CW=re,wa=EW;function _e(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w5=new Set,pg={};function Ad(t,e){F0(t,e),F0(t+"Capture",e)}function F0(t,e){for(pg[t]=e,t=0;t<e.length;t++)w5.add(e[t])}var Il=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ET=Object.prototype.hasOwnProperty,kW=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,eM={},tM={};function PW(t){return ET.call(tM,t)?!0:ET.call(eM,t)?!1:kW.test(t)?tM[t]=!0:(eM[t]=!0,!1)}function IW(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function OW(t,e,r,n){if(e===null||typeof e>"u"||IW(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Mi(t,e,r,n,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Gn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Gn[t]=new Mi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Gn[e]=new Mi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Gn[t]=new Mi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Gn[t]=new Mi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Gn[t]=new Mi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Gn[t]=new Mi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Gn[t]=new Mi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Gn[t]=new Mi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Gn[t]=new Mi(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vk=/[\-:]([a-z])/g;function Hk(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vk,Hk);Gn[e]=new Mi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vk,Hk);Gn[e]=new Mi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vk,Hk);Gn[e]=new Mi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Gn[t]=new Mi(t,1,!1,t.toLowerCase(),null,!1,!1)});Gn.xlinkHref=new Mi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Gn[t]=new Mi(t,1,!1,t.toLowerCase(),null,!0,!0)});function Wk(t,e,r,n){var i=Gn.hasOwnProperty(e)?Gn[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(OW(e,r,i,n)&&(r=null),n||i===null?PW(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Vl=CW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bx=Symbol.for("react.element"),ah=Symbol.for("react.portal"),sh=Symbol.for("react.fragment"),zk=Symbol.for("react.strict_mode"),CT=Symbol.for("react.profiler"),_5=Symbol.for("react.provider"),b5=Symbol.for("react.context"),Gk=Symbol.for("react.forward_ref"),kT=Symbol.for("react.suspense"),PT=Symbol.for("react.suspense_list"),qk=Symbol.for("react.memo"),rc=Symbol.for("react.lazy"),S5=Symbol.for("react.offscreen"),rM=Symbol.iterator;function Gp(t){return t===null||typeof t!="object"?null:(t=rM&&t[rM]||t["@@iterator"],typeof t=="function"?t:null)}var Mr=Object.assign,nA;function mm(t){if(nA===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);nA=e&&e[1]||""}return`
`+nA+t}var iA=!1;function aA(t,e){if(!t||iA)return"";iA=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{iA=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?mm(t):""}function MW(t){switch(t.tag){case 5:return mm(t.type);case 16:return mm("Lazy");case 13:return mm("Suspense");case 19:return mm("SuspenseList");case 0:case 2:case 15:return t=aA(t.type,!1),t;case 11:return t=aA(t.type.render,!1),t;case 1:return t=aA(t.type,!0),t;default:return""}}function IT(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case sh:return"Fragment";case ah:return"Portal";case CT:return"Profiler";case zk:return"StrictMode";case kT:return"Suspense";case PT:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case b5:return(t.displayName||"Context")+".Consumer";case _5:return(t._context.displayName||"Context")+".Provider";case Gk:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case qk:return e=t.displayName||null,e!==null?e:IT(t.type)||"Memo";case rc:e=t._payload,t=t._init;try{return IT(t(e))}catch{}}return null}function NW(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return IT(e);case 8:return e===zk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function eu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function A5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function RW(t){var e=A5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sx(t){t._valueTracker||(t._valueTracker=RW(t))}function T5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=A5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function fw(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function OT(t,e){var r=e.checked;return Mr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function nM(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=eu(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function E5(t,e){e=e.checked,e!=null&&Wk(t,"checked",e,!1)}function MT(t,e){E5(t,e);var r=eu(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?NT(t,e.type,r):e.hasOwnProperty("defaultValue")&&NT(t,e.type,eu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function iM(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function NT(t,e,r){(e!=="number"||fw(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var gm=Array.isArray;function Sh(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+eu(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function RT(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(_e(91));return Mr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function aM(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(_e(92));if(gm(r)){if(1<r.length)throw Error(_e(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:eu(r)}}function C5(t,e){var r=eu(e.value),n=eu(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function sM(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function k5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function DT(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?k5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ax,P5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ax=Ax||document.createElement("div"),Ax.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ax.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mg(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Um={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DW=["Webkit","ms","Moz","O"];Object.keys(Um).forEach(function(t){DW.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Um[e]=Um[t]})});function I5(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Um.hasOwnProperty(t)&&Um[t]?(""+e).trim():e+"px"}function O5(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=I5(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var FW=Mr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function FT(t,e){if(e){if(FW[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(_e(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(_e(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(_e(61))}if(e.style!=null&&typeof e.style!="object")throw Error(_e(62))}}function LT(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $T=null;function Xk(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var BT=null,Ah=null,Th=null;function oM(t){if(t=Ky(t)){if(typeof BT!="function")throw Error(_e(280));var e=t.stateNode;e&&(e=Ob(e),BT(t.stateNode,t.type,e))}}function M5(t){Ah?Th?Th.push(t):Th=[t]:Ah=t}function N5(){if(Ah){var t=Ah,e=Th;if(Th=Ah=null,oM(t),e)for(t=0;t<e.length;t++)oM(e[t])}}function R5(t,e){return t(e)}function D5(){}var sA=!1;function F5(t,e,r){if(sA)return t(e,r);sA=!0;try{return R5(t,e,r)}finally{sA=!1,(Ah!==null||Th!==null)&&(D5(),N5())}}function gg(t,e){var r=t.stateNode;if(r===null)return null;var n=Ob(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(_e(231,e,typeof r));return r}var jT=!1;if(Il)try{var qp={};Object.defineProperty(qp,"passive",{get:function(){jT=!0}}),window.addEventListener("test",qp,qp),window.removeEventListener("test",qp,qp)}catch{jT=!1}function LW(t,e,r,n,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var Vm=!1,dw=null,hw=!1,UT=null,$W={onError:function(t){Vm=!0,dw=t}};function BW(t,e,r,n,i,a,s,o,l){Vm=!1,dw=null,LW.apply($W,arguments)}function jW(t,e,r,n,i,a,s,o,l){if(BW.apply(this,arguments),Vm){if(Vm){var c=dw;Vm=!1,dw=null}else throw Error(_e(198));hw||(hw=!0,UT=c)}}function Td(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function L5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lM(t){if(Td(t)!==t)throw Error(_e(188))}function UW(t){var e=t.alternate;if(!e){if(e=Td(t),e===null)throw Error(_e(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return lM(i),t;if(a===n)return lM(i),e;a=a.sibling}throw Error(_e(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(_e(189))}}if(r.alternate!==n)throw Error(_e(190))}if(r.tag!==3)throw Error(_e(188));return r.stateNode.current===r?t:e}function $5(t){return t=UW(t),t!==null?B5(t):null}function B5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=B5(t);if(e!==null)return e;t=t.sibling}return null}var j5=wa.unstable_scheduleCallback,cM=wa.unstable_cancelCallback,VW=wa.unstable_shouldYield,HW=wa.unstable_requestPaint,Hr=wa.unstable_now,WW=wa.unstable_getCurrentPriorityLevel,Kk=wa.unstable_ImmediatePriority,U5=wa.unstable_UserBlockingPriority,pw=wa.unstable_NormalPriority,zW=wa.unstable_LowPriority,V5=wa.unstable_IdlePriority,Cb=null,_o=null;function GW(t){if(_o&&typeof _o.onCommitFiberRoot=="function")try{_o.onCommitFiberRoot(Cb,t,void 0,(t.current.flags&128)===128)}catch{}}var Ls=Math.clz32?Math.clz32:KW,qW=Math.log,XW=Math.LN2;function KW(t){return t>>>=0,t===0?32:31-(qW(t)/XW|0)|0}var Tx=64,Ex=4194304;function vm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mw(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=vm(o):(a&=s,a!==0&&(n=vm(a)))}else s=r&~i,s!==0?n=vm(s):a!==0&&(n=vm(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ls(e),i=1<<r,n|=t[r],e&=~i;return n}function YW(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JW(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-Ls(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=YW(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function VT(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function H5(){var t=Tx;return Tx<<=1,!(Tx&4194240)&&(Tx=64),t}function oA(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function qy(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ls(e),t[e]=r}function ZW(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Ls(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function Yk(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ls(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var qt=0;function W5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var z5,Jk,G5,q5,X5,HT=!1,Cx=[],Vc=null,Hc=null,Wc=null,vg=new Map,yg=new Map,sc=[],QW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uM(t,e){switch(t){case"focusin":case"focusout":Vc=null;break;case"dragenter":case"dragleave":Hc=null;break;case"mouseover":case"mouseout":Wc=null;break;case"pointerover":case"pointerout":vg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yg.delete(e.pointerId)}}function Xp(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Ky(e),e!==null&&Jk(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ez(t,e,r,n,i){switch(e){case"focusin":return Vc=Xp(Vc,t,e,r,n,i),!0;case"dragenter":return Hc=Xp(Hc,t,e,r,n,i),!0;case"mouseover":return Wc=Xp(Wc,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return vg.set(a,Xp(vg.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,yg.set(a,Xp(yg.get(a)||null,t,e,r,n,i)),!0}return!1}function K5(t){var e=ju(t.target);if(e!==null){var r=Td(e);if(r!==null){if(e=r.tag,e===13){if(e=L5(r),e!==null){t.blockedOn=e,X5(t.priority,function(){G5(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function w1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=WT(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);$T=n,r.target.dispatchEvent(n),$T=null}else return e=Ky(r),e!==null&&Jk(e),t.blockedOn=r,!1;e.shift()}return!0}function fM(t,e,r){w1(t)&&r.delete(e)}function tz(){HT=!1,Vc!==null&&w1(Vc)&&(Vc=null),Hc!==null&&w1(Hc)&&(Hc=null),Wc!==null&&w1(Wc)&&(Wc=null),vg.forEach(fM),yg.forEach(fM)}function Kp(t,e){t.blockedOn===e&&(t.blockedOn=null,HT||(HT=!0,wa.unstable_scheduleCallback(wa.unstable_NormalPriority,tz)))}function xg(t){function e(i){return Kp(i,t)}if(0<Cx.length){Kp(Cx[0],t);for(var r=1;r<Cx.length;r++){var n=Cx[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Vc!==null&&Kp(Vc,t),Hc!==null&&Kp(Hc,t),Wc!==null&&Kp(Wc,t),vg.forEach(e),yg.forEach(e),r=0;r<sc.length;r++)n=sc[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<sc.length&&(r=sc[0],r.blockedOn===null);)K5(r),r.blockedOn===null&&sc.shift()}var Eh=Vl.ReactCurrentBatchConfig,gw=!0;function rz(t,e,r,n){var i=qt,a=Eh.transition;Eh.transition=null;try{qt=1,Zk(t,e,r,n)}finally{qt=i,Eh.transition=a}}function nz(t,e,r,n){var i=qt,a=Eh.transition;Eh.transition=null;try{qt=4,Zk(t,e,r,n)}finally{qt=i,Eh.transition=a}}function Zk(t,e,r,n){if(gw){var i=WT(t,e,r,n);if(i===null)vA(t,e,n,vw,r),uM(t,n);else if(ez(i,t,e,r,n))n.stopPropagation();else if(uM(t,n),e&4&&-1<QW.indexOf(t)){for(;i!==null;){var a=Ky(i);if(a!==null&&z5(a),a=WT(t,e,r,n),a===null&&vA(t,e,n,vw,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else vA(t,e,n,null,r)}}var vw=null;function WT(t,e,r,n){if(vw=null,t=Xk(n),t=ju(t),t!==null)if(e=Td(t),e===null)t=null;else if(r=e.tag,r===13){if(t=L5(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vw=t,null}function Y5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WW()){case Kk:return 1;case U5:return 4;case pw:case zW:return 16;case V5:return 536870912;default:return 16}default:return 16}}var Lc=null,Qk=null,_1=null;function J5(){if(_1)return _1;var t,e=Qk,r=e.length,n,i="value"in Lc?Lc.value:Lc.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return _1=i.slice(t,1<n?1-n:void 0)}function b1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kx(){return!0}function dM(){return!1}function Aa(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?kx:dM,this.isPropagationStopped=dM,this}return Mr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kx)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kx)},persist:function(){},isPersistent:kx}),e}var bp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eP=Aa(bp),Xy=Mr({},bp,{view:0,detail:0}),iz=Aa(Xy),lA,cA,Yp,kb=Mr({},Xy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tP,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yp&&(Yp&&t.type==="mousemove"?(lA=t.screenX-Yp.screenX,cA=t.screenY-Yp.screenY):cA=lA=0,Yp=t),lA)},movementY:function(t){return"movementY"in t?t.movementY:cA}}),hM=Aa(kb),az=Mr({},kb,{dataTransfer:0}),sz=Aa(az),oz=Mr({},Xy,{relatedTarget:0}),uA=Aa(oz),lz=Mr({},bp,{animationName:0,elapsedTime:0,pseudoElement:0}),cz=Aa(lz),uz=Mr({},bp,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fz=Aa(uz),dz=Mr({},bp,{data:0}),pM=Aa(dz),hz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gz(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=mz[t])?!!e[t]:!1}function tP(){return gz}var vz=Mr({},Xy,{key:function(t){if(t.key){var e=hz[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=b1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pz[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tP,charCode:function(t){return t.type==="keypress"?b1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?b1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yz=Aa(vz),xz=Mr({},kb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mM=Aa(xz),wz=Mr({},Xy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tP}),_z=Aa(wz),bz=Mr({},bp,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sz=Aa(bz),Az=Mr({},kb,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Tz=Aa(Az),Ez=[9,13,27,32],rP=Il&&"CompositionEvent"in window,Hm=null;Il&&"documentMode"in document&&(Hm=document.documentMode);var Cz=Il&&"TextEvent"in window&&!Hm,Z5=Il&&(!rP||Hm&&8<Hm&&11>=Hm),gM=" ",vM=!1;function Q5(t,e){switch(t){case"keyup":return Ez.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oh=!1;function kz(t,e){switch(t){case"compositionend":return e6(e);case"keypress":return e.which!==32?null:(vM=!0,gM);case"textInput":return t=e.data,t===gM&&vM?null:t;default:return null}}function Pz(t,e){if(oh)return t==="compositionend"||!rP&&Q5(t,e)?(t=J5(),_1=Qk=Lc=null,oh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Z5&&e.locale!=="ko"?null:e.data;default:return null}}var Iz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yM(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Iz[t.type]:e==="textarea"}function t6(t,e,r,n){M5(n),e=yw(e,"onChange"),0<e.length&&(r=new eP("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Wm=null,wg=null;function Oz(t){d6(t,0)}function Pb(t){var e=uh(t);if(T5(e))return t}function Mz(t,e){if(t==="change")return e}var r6=!1;if(Il){var fA;if(Il){var dA="oninput"in document;if(!dA){var xM=document.createElement("div");xM.setAttribute("oninput","return;"),dA=typeof xM.oninput=="function"}fA=dA}else fA=!1;r6=fA&&(!document.documentMode||9<document.documentMode)}function wM(){Wm&&(Wm.detachEvent("onpropertychange",n6),wg=Wm=null)}function n6(t){if(t.propertyName==="value"&&Pb(wg)){var e=[];t6(e,wg,t,Xk(t)),F5(Oz,e)}}function Nz(t,e,r){t==="focusin"?(wM(),Wm=e,wg=r,Wm.attachEvent("onpropertychange",n6)):t==="focusout"&&wM()}function Rz(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pb(wg)}function Dz(t,e){if(t==="click")return Pb(e)}function Fz(t,e){if(t==="input"||t==="change")return Pb(e)}function Lz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hs=typeof Object.is=="function"?Object.is:Lz;function _g(t,e){if(Hs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!ET.call(e,i)||!Hs(t[i],e[i]))return!1}return!0}function _M(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bM(t,e){var r=_M(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_M(r)}}function i6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?i6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function a6(){for(var t=window,e=fw();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=fw(t.document)}return e}function nP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $z(t){var e=a6(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&i6(r.ownerDocument.documentElement,r)){if(n!==null&&nP(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=bM(r,a);var s=bM(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Bz=Il&&"documentMode"in document&&11>=document.documentMode,lh=null,zT=null,zm=null,GT=!1;function SM(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;GT||lh==null||lh!==fw(n)||(n=lh,"selectionStart"in n&&nP(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),zm&&_g(zm,n)||(zm=n,n=yw(zT,"onSelect"),0<n.length&&(e=new eP("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=lh)))}function Px(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ch={animationend:Px("Animation","AnimationEnd"),animationiteration:Px("Animation","AnimationIteration"),animationstart:Px("Animation","AnimationStart"),transitionend:Px("Transition","TransitionEnd")},hA={},s6={};Il&&(s6=document.createElement("div").style,"AnimationEvent"in window||(delete ch.animationend.animation,delete ch.animationiteration.animation,delete ch.animationstart.animation),"TransitionEvent"in window||delete ch.transitionend.transition);function Ib(t){if(hA[t])return hA[t];if(!ch[t])return t;var e=ch[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in s6)return hA[t]=e[r];return t}var o6=Ib("animationend"),l6=Ib("animationiteration"),c6=Ib("animationstart"),u6=Ib("transitionend"),f6=new Map,AM="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fu(t,e){f6.set(t,e),Ad(e,[t])}for(var pA=0;pA<AM.length;pA++){var mA=AM[pA],jz=mA.toLowerCase(),Uz=mA[0].toUpperCase()+mA.slice(1);fu(jz,"on"+Uz)}fu(o6,"onAnimationEnd");fu(l6,"onAnimationIteration");fu(c6,"onAnimationStart");fu("dblclick","onDoubleClick");fu("focusin","onFocus");fu("focusout","onBlur");fu(u6,"onTransitionEnd");F0("onMouseEnter",["mouseout","mouseover"]);F0("onMouseLeave",["mouseout","mouseover"]);F0("onPointerEnter",["pointerout","pointerover"]);F0("onPointerLeave",["pointerout","pointerover"]);Ad("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ad("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ad("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ad("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ad("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ad("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ym="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vz=new Set("cancel close invalid load scroll toggle".split(" ").concat(ym));function TM(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,jW(n,e,void 0,t),t.currentTarget=null}function d6(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;TM(i,o,c),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;TM(i,o,c),a=l}}}if(hw)throw t=UT,hw=!1,UT=null,t}function sr(t,e){var r=e[JT];r===void 0&&(r=e[JT]=new Set);var n=t+"__bubble";r.has(n)||(h6(e,t,2,!1),r.add(n))}function gA(t,e,r){var n=0;e&&(n|=4),h6(r,t,n,e)}var Ix="_reactListening"+Math.random().toString(36).slice(2);function bg(t){if(!t[Ix]){t[Ix]=!0,w5.forEach(function(r){r!=="selectionchange"&&(Vz.has(r)||gA(r,!1,t),gA(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ix]||(e[Ix]=!0,gA("selectionchange",!1,e))}}function h6(t,e,r,n){switch(Y5(e)){case 1:var i=rz;break;case 4:i=nz;break;default:i=Zk}r=i.bind(null,e,r,t),i=void 0,!jT||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function vA(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=ju(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}F5(function(){var c=a,u=Xk(r),f=[];e:{var d=f6.get(t);if(d!==void 0){var h=eP,m=t;switch(t){case"keypress":if(b1(r)===0)break e;case"keydown":case"keyup":h=yz;break;case"focusin":m="focus",h=uA;break;case"focusout":m="blur",h=uA;break;case"beforeblur":case"afterblur":h=uA;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=hM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=sz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=_z;break;case o6:case l6:case c6:h=cz;break;case u6:h=Sz;break;case"scroll":h=iz;break;case"wheel":h=Tz;break;case"copy":case"cut":case"paste":h=fz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=mM}var p=(e&4)!==0,y=!p&&t==="scroll",w=p?d!==null?d+"Capture":null:d;p=[];for(var b=c,_;b!==null;){_=b;var A=_.stateNode;if(_.tag===5&&A!==null&&(_=A,w!==null&&(A=gg(b,w),A!=null&&p.push(Sg(b,A,_)))),y)break;b=b.return}0<p.length&&(d=new h(d,m,null,r,u),f.push({event:d,listeners:p}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&r!==$T&&(m=r.relatedTarget||r.fromElement)&&(ju(m)||m[Ol]))break e;if((h||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,h?(m=r.relatedTarget||r.toElement,h=c,m=m?ju(m):null,m!==null&&(y=Td(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=c),h!==m)){if(p=hM,A="onMouseLeave",w="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(p=mM,A="onPointerLeave",w="onPointerEnter",b="pointer"),y=h==null?d:uh(h),_=m==null?d:uh(m),d=new p(A,b+"leave",h,r,u),d.target=y,d.relatedTarget=_,A=null,ju(u)===c&&(p=new p(w,b+"enter",m,r,u),p.target=_,p.relatedTarget=y,A=p),y=A,h&&m)t:{for(p=h,w=m,b=0,_=p;_;_=jd(_))b++;for(_=0,A=w;A;A=jd(A))_++;for(;0<b-_;)p=jd(p),b--;for(;0<_-b;)w=jd(w),_--;for(;b--;){if(p===w||w!==null&&p===w.alternate)break t;p=jd(p),w=jd(w)}p=null}else p=null;h!==null&&EM(f,d,h,p,!1),m!==null&&y!==null&&EM(f,y,m,p,!0)}}e:{if(d=c?uh(c):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var S=Mz;else if(yM(d))if(r6)S=Fz;else{S=Rz;var T=Nz}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=Dz);if(S&&(S=S(t,c))){t6(f,S,r,u);break e}T&&T(t,d,c),t==="focusout"&&(T=d._wrapperState)&&T.controlled&&d.type==="number"&&NT(d,"number",d.value)}switch(T=c?uh(c):window,t){case"focusin":(yM(T)||T.contentEditable==="true")&&(lh=T,zT=c,zm=null);break;case"focusout":zm=zT=lh=null;break;case"mousedown":GT=!0;break;case"contextmenu":case"mouseup":case"dragend":GT=!1,SM(f,r,u);break;case"selectionchange":if(Bz)break;case"keydown":case"keyup":SM(f,r,u)}var E;if(rP)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else oh?Q5(t,r)&&(P="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(Z5&&r.locale!=="ko"&&(oh||P!=="onCompositionStart"?P==="onCompositionEnd"&&oh&&(E=J5()):(Lc=u,Qk="value"in Lc?Lc.value:Lc.textContent,oh=!0)),T=yw(c,P),0<T.length&&(P=new pM(P,t,null,r,u),f.push({event:P,listeners:T}),E?P.data=E:(E=e6(r),E!==null&&(P.data=E)))),(E=Cz?kz(t,r):Pz(t,r))&&(c=yw(c,"onBeforeInput"),0<c.length&&(u=new pM("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=E))}d6(f,e)})}function Sg(t,e,r){return{instance:t,listener:e,currentTarget:r}}function yw(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=gg(t,r),a!=null&&n.unshift(Sg(t,a,i)),a=gg(t,e),a!=null&&n.push(Sg(t,a,i))),t=t.return}return n}function jd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function EM(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=gg(r,a),l!=null&&s.unshift(Sg(r,l,o))):i||(l=gg(r,a),l!=null&&s.push(Sg(r,l,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var Hz=/\r\n?/g,Wz=/\u0000|\uFFFD/g;function CM(t){return(typeof t=="string"?t:""+t).replace(Hz,`
`).replace(Wz,"")}function Ox(t,e,r){if(e=CM(e),CM(t)!==e&&r)throw Error(_e(425))}function xw(){}var qT=null,XT=null;function KT(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var YT=typeof setTimeout=="function"?setTimeout:void 0,zz=typeof clearTimeout=="function"?clearTimeout:void 0,kM=typeof Promise=="function"?Promise:void 0,Gz=typeof queueMicrotask=="function"?queueMicrotask:typeof kM<"u"?function(t){return kM.resolve(null).then(t).catch(qz)}:YT;function qz(t){setTimeout(function(){throw t})}function yA(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),xg(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);xg(e)}function zc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function PM(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Sp=Math.random().toString(36).slice(2),vo="__reactFiber$"+Sp,Ag="__reactProps$"+Sp,Ol="__reactContainer$"+Sp,JT="__reactEvents$"+Sp,Xz="__reactListeners$"+Sp,Kz="__reactHandles$"+Sp;function ju(t){var e=t[vo];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ol]||r[vo]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=PM(t);t!==null;){if(r=t[vo])return r;t=PM(t)}return e}t=r,r=t.parentNode}return null}function Ky(t){return t=t[vo]||t[Ol],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function uh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(_e(33))}function Ob(t){return t[Ag]||null}var ZT=[],fh=-1;function du(t){return{current:t}}function fr(t){0>fh||(t.current=ZT[fh],ZT[fh]=null,fh--)}function ir(t,e){fh++,ZT[fh]=t.current,t.current=e}var tu={},hi=du(tu),zi=du(!1),Qf=tu;function L0(t,e){var r=t.type.contextTypes;if(!r)return tu;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Gi(t){return t=t.childContextTypes,t!=null}function ww(){fr(zi),fr(hi)}function IM(t,e,r){if(hi.current!==tu)throw Error(_e(168));ir(hi,e),ir(zi,r)}function p6(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(_e(108,NW(t)||"Unknown",i));return Mr({},r,n)}function _w(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||tu,Qf=hi.current,ir(hi,t),ir(zi,zi.current),!0}function OM(t,e,r){var n=t.stateNode;if(!n)throw Error(_e(169));r?(t=p6(t,e,Qf),n.__reactInternalMemoizedMergedChildContext=t,fr(zi),fr(hi),ir(hi,t)):fr(zi),ir(zi,r)}var Uo=null,Mb=!1,xA=!1;function m6(t){Uo===null?Uo=[t]:Uo.push(t)}function Yz(t){Mb=!0,m6(t)}function hu(){if(!xA&&Uo!==null){xA=!0;var t=0,e=qt;try{var r=Uo;for(qt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Uo=null,Mb=!1}catch(i){throw Uo!==null&&(Uo=Uo.slice(t+1)),j5(Kk,hu),i}finally{qt=e,xA=!1}}return null}var dh=[],hh=0,bw=null,Sw=0,Va=[],Ha=0,ed=null,hl=1,pl="";function ku(t,e){dh[hh++]=Sw,dh[hh++]=bw,bw=t,Sw=e}function g6(t,e,r){Va[Ha++]=hl,Va[Ha++]=pl,Va[Ha++]=ed,ed=t;var n=hl;t=pl;var i=32-Ls(n)-1;n&=~(1<<i),r+=1;var a=32-Ls(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,hl=1<<32-Ls(e)+i|r<<i|n,pl=a+t}else hl=1<<a|r<<i|n,pl=t}function iP(t){t.return!==null&&(ku(t,1),g6(t,1,0))}function aP(t){for(;t===bw;)bw=dh[--hh],dh[hh]=null,Sw=dh[--hh],dh[hh]=null;for(;t===ed;)ed=Va[--Ha],Va[Ha]=null,pl=Va[--Ha],Va[Ha]=null,hl=Va[--Ha],Va[Ha]=null}var ya=null,va=null,vr=!1,Is=null;function v6(t,e){var r=Ga(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function MM(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ya=t,va=zc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ya=t,va=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ed!==null?{id:hl,overflow:pl}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ga(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ya=t,va=null,!0):!1;default:return!1}}function QT(t){return(t.mode&1)!==0&&(t.flags&128)===0}function eE(t){if(vr){var e=va;if(e){var r=e;if(!MM(t,e)){if(QT(t))throw Error(_e(418));e=zc(r.nextSibling);var n=ya;e&&MM(t,e)?v6(n,r):(t.flags=t.flags&-4097|2,vr=!1,ya=t)}}else{if(QT(t))throw Error(_e(418));t.flags=t.flags&-4097|2,vr=!1,ya=t}}}function NM(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ya=t}function Mx(t){if(t!==ya)return!1;if(!vr)return NM(t),vr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!KT(t.type,t.memoizedProps)),e&&(e=va)){if(QT(t))throw y6(),Error(_e(418));for(;e;)v6(t,e),e=zc(e.nextSibling)}if(NM(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(_e(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){va=zc(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}va=null}}else va=ya?zc(t.stateNode.nextSibling):null;return!0}function y6(){for(var t=va;t;)t=zc(t.nextSibling)}function $0(){va=ya=null,vr=!1}function sP(t){Is===null?Is=[t]:Is.push(t)}var Jz=Vl.ReactCurrentBatchConfig;function Jp(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(_e(309));var n=r.stateNode}if(!n)throw Error(_e(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(_e(284));if(!r._owner)throw Error(_e(290,t))}return t}function Nx(t,e){throw t=Object.prototype.toString.call(e),Error(_e(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function RM(t){var e=t._init;return e(t._payload)}function x6(t){function e(w,b){if(t){var _=w.deletions;_===null?(w.deletions=[b],w.flags|=16):_.push(b)}}function r(w,b){if(!t)return null;for(;b!==null;)e(w,b),b=b.sibling;return null}function n(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function i(w,b){return w=Kc(w,b),w.index=0,w.sibling=null,w}function a(w,b,_){return w.index=_,t?(_=w.alternate,_!==null?(_=_.index,_<b?(w.flags|=2,b):_):(w.flags|=2,b)):(w.flags|=1048576,b)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function o(w,b,_,A){return b===null||b.tag!==6?(b=EA(_,w.mode,A),b.return=w,b):(b=i(b,_),b.return=w,b)}function l(w,b,_,A){var S=_.type;return S===sh?u(w,b,_.props.children,A,_.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===rc&&RM(S)===b.type)?(A=i(b,_.props),A.ref=Jp(w,b,_),A.return=w,A):(A=P1(_.type,_.key,_.props,null,w.mode,A),A.ref=Jp(w,b,_),A.return=w,A)}function c(w,b,_,A){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=CA(_,w.mode,A),b.return=w,b):(b=i(b,_.children||[]),b.return=w,b)}function u(w,b,_,A,S){return b===null||b.tag!==7?(b=Gf(_,w.mode,A,S),b.return=w,b):(b=i(b,_),b.return=w,b)}function f(w,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=EA(""+b,w.mode,_),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case bx:return _=P1(b.type,b.key,b.props,null,w.mode,_),_.ref=Jp(w,null,b),_.return=w,_;case ah:return b=CA(b,w.mode,_),b.return=w,b;case rc:var A=b._init;return f(w,A(b._payload),_)}if(gm(b)||Gp(b))return b=Gf(b,w.mode,_,null),b.return=w,b;Nx(w,b)}return null}function d(w,b,_,A){var S=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:o(w,b,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case bx:return _.key===S?l(w,b,_,A):null;case ah:return _.key===S?c(w,b,_,A):null;case rc:return S=_._init,d(w,b,S(_._payload),A)}if(gm(_)||Gp(_))return S!==null?null:u(w,b,_,A,null);Nx(w,_)}return null}function h(w,b,_,A,S){if(typeof A=="string"&&A!==""||typeof A=="number")return w=w.get(_)||null,o(b,w,""+A,S);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case bx:return w=w.get(A.key===null?_:A.key)||null,l(b,w,A,S);case ah:return w=w.get(A.key===null?_:A.key)||null,c(b,w,A,S);case rc:var T=A._init;return h(w,b,_,T(A._payload),S)}if(gm(A)||Gp(A))return w=w.get(_)||null,u(b,w,A,S,null);Nx(b,A)}return null}function m(w,b,_,A){for(var S=null,T=null,E=b,P=b=0,k=null;E!==null&&P<_.length;P++){E.index>P?(k=E,E=null):k=E.sibling;var N=d(w,E,_[P],A);if(N===null){E===null&&(E=k);break}t&&E&&N.alternate===null&&e(w,E),b=a(N,b,P),T===null?S=N:T.sibling=N,T=N,E=k}if(P===_.length)return r(w,E),vr&&ku(w,P),S;if(E===null){for(;P<_.length;P++)E=f(w,_[P],A),E!==null&&(b=a(E,b,P),T===null?S=E:T.sibling=E,T=E);return vr&&ku(w,P),S}for(E=n(w,E);P<_.length;P++)k=h(E,w,P,_[P],A),k!==null&&(t&&k.alternate!==null&&E.delete(k.key===null?P:k.key),b=a(k,b,P),T===null?S=k:T.sibling=k,T=k);return t&&E.forEach(function(O){return e(w,O)}),vr&&ku(w,P),S}function p(w,b,_,A){var S=Gp(_);if(typeof S!="function")throw Error(_e(150));if(_=S.call(_),_==null)throw Error(_e(151));for(var T=S=null,E=b,P=b=0,k=null,N=_.next();E!==null&&!N.done;P++,N=_.next()){E.index>P?(k=E,E=null):k=E.sibling;var O=d(w,E,N.value,A);if(O===null){E===null&&(E=k);break}t&&E&&O.alternate===null&&e(w,E),b=a(O,b,P),T===null?S=O:T.sibling=O,T=O,E=k}if(N.done)return r(w,E),vr&&ku(w,P),S;if(E===null){for(;!N.done;P++,N=_.next())N=f(w,N.value,A),N!==null&&(b=a(N,b,P),T===null?S=N:T.sibling=N,T=N);return vr&&ku(w,P),S}for(E=n(w,E);!N.done;P++,N=_.next())N=h(E,w,P,N.value,A),N!==null&&(t&&N.alternate!==null&&E.delete(N.key===null?P:N.key),b=a(N,b,P),T===null?S=N:T.sibling=N,T=N);return t&&E.forEach(function(R){return e(w,R)}),vr&&ku(w,P),S}function y(w,b,_,A){if(typeof _=="object"&&_!==null&&_.type===sh&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case bx:e:{for(var S=_.key,T=b;T!==null;){if(T.key===S){if(S=_.type,S===sh){if(T.tag===7){r(w,T.sibling),b=i(T,_.props.children),b.return=w,w=b;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===rc&&RM(S)===T.type){r(w,T.sibling),b=i(T,_.props),b.ref=Jp(w,T,_),b.return=w,w=b;break e}r(w,T);break}else e(w,T);T=T.sibling}_.type===sh?(b=Gf(_.props.children,w.mode,A,_.key),b.return=w,w=b):(A=P1(_.type,_.key,_.props,null,w.mode,A),A.ref=Jp(w,b,_),A.return=w,w=A)}return s(w);case ah:e:{for(T=_.key;b!==null;){if(b.key===T)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){r(w,b.sibling),b=i(b,_.children||[]),b.return=w,w=b;break e}else{r(w,b);break}else e(w,b);b=b.sibling}b=CA(_,w.mode,A),b.return=w,w=b}return s(w);case rc:return T=_._init,y(w,b,T(_._payload),A)}if(gm(_))return m(w,b,_,A);if(Gp(_))return p(w,b,_,A);Nx(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(r(w,b.sibling),b=i(b,_),b.return=w,w=b):(r(w,b),b=EA(_,w.mode,A),b.return=w,w=b),s(w)):r(w,b)}return y}var B0=x6(!0),w6=x6(!1),Aw=du(null),Tw=null,ph=null,oP=null;function lP(){oP=ph=Tw=null}function cP(t){var e=Aw.current;fr(Aw),t._currentValue=e}function tE(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ch(t,e){Tw=t,oP=ph=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ui=!0),t.firstContext=null)}function Qa(t){var e=t._currentValue;if(oP!==t)if(t={context:t,memoizedValue:e,next:null},ph===null){if(Tw===null)throw Error(_e(308));ph=t,Tw.dependencies={lanes:0,firstContext:t}}else ph=ph.next=t;return e}var Uu=null;function uP(t){Uu===null?Uu=[t]:Uu.push(t)}function _6(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,uP(e)):(r.next=i.next,i.next=r),e.interleaved=r,Ml(t,n)}function Ml(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var nc=!1;function fP(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function b6(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gc(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,It&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ml(t,r)}return i=n.interleaved,i===null?(e.next=e,uP(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ml(t,r)}function S1(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Yk(t,r)}}function DM(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Ew(t,e,r,n){var i=t.updateQueue;nc=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,u=c=l=null,o=a;do{var d=o.lane,h=o.eventTime;if((n&d)===d){u!==null&&(u=u.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,p=o;switch(d=e,h=r,p.tag){case 1:if(m=p.payload,typeof m=="function"){f=m.call(h,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,d=typeof m=="function"?m.call(h,f,d):m,d==null)break e;f=Mr({},f,d);break e;case 2:nc=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[o]:d.push(o))}else h={eventTime:h,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=h,l=f):u=u.next=h,s|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);rd|=s,t.lanes=s,t.memoizedState=f}}function FM(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(_e(191,i));i.call(n)}}}var Yy={},bo=du(Yy),Tg=du(Yy),Eg=du(Yy);function Vu(t){if(t===Yy)throw Error(_e(174));return t}function dP(t,e){switch(ir(Eg,e),ir(Tg,t),ir(bo,Yy),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:DT(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=DT(e,t)}fr(bo),ir(bo,e)}function j0(){fr(bo),fr(Tg),fr(Eg)}function S6(t){Vu(Eg.current);var e=Vu(bo.current),r=DT(e,t.type);e!==r&&(ir(Tg,t),ir(bo,r))}function hP(t){Tg.current===t&&(fr(bo),fr(Tg))}var kr=du(0);function Cw(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wA=[];function pP(){for(var t=0;t<wA.length;t++)wA[t]._workInProgressVersionPrimary=null;wA.length=0}var A1=Vl.ReactCurrentDispatcher,_A=Vl.ReactCurrentBatchConfig,td=0,Or=null,pn=null,Pn=null,kw=!1,Gm=!1,Cg=0,Zz=0;function Xn(){throw Error(_e(321))}function mP(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Hs(t[r],e[r]))return!1;return!0}function gP(t,e,r,n,i,a){if(td=a,Or=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,A1.current=t===null||t.memoizedState===null?rG:nG,t=r(n,i),Gm){a=0;do{if(Gm=!1,Cg=0,25<=a)throw Error(_e(301));a+=1,Pn=pn=null,e.updateQueue=null,A1.current=iG,t=r(n,i)}while(Gm)}if(A1.current=Pw,e=pn!==null&&pn.next!==null,td=0,Pn=pn=Or=null,kw=!1,e)throw Error(_e(300));return t}function vP(){var t=Cg!==0;return Cg=0,t}function Ys(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?Or.memoizedState=Pn=t:Pn=Pn.next=t,Pn}function es(){if(pn===null){var t=Or.alternate;t=t!==null?t.memoizedState:null}else t=pn.next;var e=Pn===null?Or.memoizedState:Pn.next;if(e!==null)Pn=e,pn=t;else{if(t===null)throw Error(_e(310));pn=t,t={memoizedState:pn.memoizedState,baseState:pn.baseState,baseQueue:pn.baseQueue,queue:pn.queue,next:null},Pn===null?Or.memoizedState=Pn=t:Pn=Pn.next=t}return Pn}function kg(t,e){return typeof e=="function"?e(t):e}function bA(t){var e=es(),r=e.queue;if(r===null)throw Error(_e(311));r.lastRenderedReducer=t;var n=pn,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,c=a;do{var u=c.lane;if((td&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,Or.lanes|=u,rd|=u}c=c.next}while(c!==null&&c!==a);l===null?s=n:l.next=o,Hs(n,e.memoizedState)||(Ui=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,Or.lanes|=a,rd|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function SA(t){var e=es(),r=e.queue;if(r===null)throw Error(_e(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);Hs(a,e.memoizedState)||(Ui=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function A6(){}function T6(t,e){var r=Or,n=es(),i=e(),a=!Hs(n.memoizedState,i);if(a&&(n.memoizedState=i,Ui=!0),n=n.queue,yP(k6.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Pn!==null&&Pn.memoizedState.tag&1){if(r.flags|=2048,Pg(9,C6.bind(null,r,n,i,e),void 0,null),Mn===null)throw Error(_e(349));td&30||E6(r,e,i)}return i}function E6(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Or.updateQueue,e===null?(e={lastEffect:null,stores:null},Or.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function C6(t,e,r,n){e.value=r,e.getSnapshot=n,P6(e)&&I6(t)}function k6(t,e,r){return r(function(){P6(e)&&I6(t)})}function P6(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Hs(t,r)}catch{return!0}}function I6(t){var e=Ml(t,1);e!==null&&$s(e,t,1,-1)}function LM(t){var e=Ys();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kg,lastRenderedState:t},e.queue=t,t=t.dispatch=tG.bind(null,Or,t),[e.memoizedState,t]}function Pg(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Or.updateQueue,e===null?(e={lastEffect:null,stores:null},Or.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function O6(){return es().memoizedState}function T1(t,e,r,n){var i=Ys();Or.flags|=t,i.memoizedState=Pg(1|e,r,void 0,n===void 0?null:n)}function Nb(t,e,r,n){var i=es();n=n===void 0?null:n;var a=void 0;if(pn!==null){var s=pn.memoizedState;if(a=s.destroy,n!==null&&mP(n,s.deps)){i.memoizedState=Pg(e,r,a,n);return}}Or.flags|=t,i.memoizedState=Pg(1|e,r,a,n)}function $M(t,e){return T1(8390656,8,t,e)}function yP(t,e){return Nb(2048,8,t,e)}function M6(t,e){return Nb(4,2,t,e)}function N6(t,e){return Nb(4,4,t,e)}function R6(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function D6(t,e,r){return r=r!=null?r.concat([t]):null,Nb(4,4,R6.bind(null,e,t),r)}function xP(){}function F6(t,e){var r=es();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&mP(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function L6(t,e){var r=es();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&mP(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function $6(t,e,r){return td&21?(Hs(r,e)||(r=H5(),Or.lanes|=r,rd|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ui=!0),t.memoizedState=r)}function Qz(t,e){var r=qt;qt=r!==0&&4>r?r:4,t(!0);var n=_A.transition;_A.transition={};try{t(!1),e()}finally{qt=r,_A.transition=n}}function B6(){return es().memoizedState}function eG(t,e,r){var n=Xc(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},j6(t))U6(e,r);else if(r=_6(t,e,r,n),r!==null){var i=Ti();$s(r,t,n,i),V6(r,e,n)}}function tG(t,e,r){var n=Xc(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(j6(t))U6(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,Hs(o,s)){var l=e.interleaved;l===null?(i.next=i,uP(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=_6(t,e,i,n),r!==null&&(i=Ti(),$s(r,t,n,i),V6(r,e,n))}}function j6(t){var e=t.alternate;return t===Or||e!==null&&e===Or}function U6(t,e){Gm=kw=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function V6(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Yk(t,r)}}var Pw={readContext:Qa,useCallback:Xn,useContext:Xn,useEffect:Xn,useImperativeHandle:Xn,useInsertionEffect:Xn,useLayoutEffect:Xn,useMemo:Xn,useReducer:Xn,useRef:Xn,useState:Xn,useDebugValue:Xn,useDeferredValue:Xn,useTransition:Xn,useMutableSource:Xn,useSyncExternalStore:Xn,useId:Xn,unstable_isNewReconciler:!1},rG={readContext:Qa,useCallback:function(t,e){return Ys().memoizedState=[t,e===void 0?null:e],t},useContext:Qa,useEffect:$M,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,T1(4194308,4,R6.bind(null,e,t),r)},useLayoutEffect:function(t,e){return T1(4194308,4,t,e)},useInsertionEffect:function(t,e){return T1(4,2,t,e)},useMemo:function(t,e){var r=Ys();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ys();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=eG.bind(null,Or,t),[n.memoizedState,t]},useRef:function(t){var e=Ys();return t={current:t},e.memoizedState=t},useState:LM,useDebugValue:xP,useDeferredValue:function(t){return Ys().memoizedState=t},useTransition:function(){var t=LM(!1),e=t[0];return t=Qz.bind(null,t[1]),Ys().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Or,i=Ys();if(vr){if(r===void 0)throw Error(_e(407));r=r()}else{if(r=e(),Mn===null)throw Error(_e(349));td&30||E6(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,$M(k6.bind(null,n,a,t),[t]),n.flags|=2048,Pg(9,C6.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=Ys(),e=Mn.identifierPrefix;if(vr){var r=pl,n=hl;r=(n&~(1<<32-Ls(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Cg++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Zz++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},nG={readContext:Qa,useCallback:F6,useContext:Qa,useEffect:yP,useImperativeHandle:D6,useInsertionEffect:M6,useLayoutEffect:N6,useMemo:L6,useReducer:bA,useRef:O6,useState:function(){return bA(kg)},useDebugValue:xP,useDeferredValue:function(t){var e=es();return $6(e,pn.memoizedState,t)},useTransition:function(){var t=bA(kg)[0],e=es().memoizedState;return[t,e]},useMutableSource:A6,useSyncExternalStore:T6,useId:B6,unstable_isNewReconciler:!1},iG={readContext:Qa,useCallback:F6,useContext:Qa,useEffect:yP,useImperativeHandle:D6,useInsertionEffect:M6,useLayoutEffect:N6,useMemo:L6,useReducer:SA,useRef:O6,useState:function(){return SA(kg)},useDebugValue:xP,useDeferredValue:function(t){var e=es();return pn===null?e.memoizedState=t:$6(e,pn.memoizedState,t)},useTransition:function(){var t=SA(kg)[0],e=es().memoizedState;return[t,e]},useMutableSource:A6,useSyncExternalStore:T6,useId:B6,unstable_isNewReconciler:!1};function ds(t,e){if(t&&t.defaultProps){e=Mr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function rE(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Mr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Rb={isMounted:function(t){return(t=t._reactInternals)?Td(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ti(),i=Xc(t),a=xl(n,i);a.payload=e,r!=null&&(a.callback=r),e=Gc(t,a,i),e!==null&&($s(e,t,i,n),S1(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ti(),i=Xc(t),a=xl(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Gc(t,a,i),e!==null&&($s(e,t,i,n),S1(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ti(),n=Xc(t),i=xl(r,n);i.tag=2,e!=null&&(i.callback=e),e=Gc(t,i,n),e!==null&&($s(e,t,n,r),S1(e,t,n))}};function BM(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!_g(r,n)||!_g(i,a):!0}function H6(t,e,r){var n=!1,i=tu,a=e.contextType;return typeof a=="object"&&a!==null?a=Qa(a):(i=Gi(e)?Qf:hi.current,n=e.contextTypes,a=(n=n!=null)?L0(t,i):tu),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rb,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function jM(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Rb.enqueueReplaceState(e,e.state,null)}function nE(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},fP(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Qa(a):(a=Gi(e)?Qf:hi.current,i.context=L0(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(rE(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Rb.enqueueReplaceState(i,i.state,null),Ew(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function U0(t,e){try{var r="",n=e;do r+=MW(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function AA(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function iE(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var aG=typeof WeakMap=="function"?WeakMap:Map;function W6(t,e,r){r=xl(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ow||(Ow=!0,pE=n),iE(t,e)},r}function z6(t,e,r){r=xl(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){iE(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){iE(t,e),typeof n!="function"&&(qc===null?qc=new Set([this]):qc.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function UM(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new aG;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=xG.bind(null,t,e,r),e.then(t,t))}function VM(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function HM(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=xl(-1,1),e.tag=2,Gc(r,e,1))),r.lanes|=1),t)}var sG=Vl.ReactCurrentOwner,Ui=!1;function wi(t,e,r,n){e.child=t===null?w6(e,null,r,n):B0(e,t.child,r,n)}function WM(t,e,r,n,i){r=r.render;var a=e.ref;return Ch(e,i),n=gP(t,e,r,n,a,i),r=vP(),t!==null&&!Ui?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Nl(t,e,i)):(vr&&r&&iP(e),e.flags|=1,wi(t,e,n,i),e.child)}function zM(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!CP(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,G6(t,e,a,n,i)):(t=P1(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:_g,r(s,n)&&t.ref===e.ref)return Nl(t,e,i)}return e.flags|=1,t=Kc(a,n),t.ref=e.ref,t.return=e,e.child=t}function G6(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(_g(a,n)&&t.ref===e.ref)if(Ui=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Ui=!0);else return e.lanes=t.lanes,Nl(t,e,i)}return aE(t,e,r,n,i)}function q6(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ir(gh,ca),ca|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ir(gh,ca),ca|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ir(gh,ca),ca|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,ir(gh,ca),ca|=n;return wi(t,e,i,r),e.child}function X6(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function aE(t,e,r,n,i){var a=Gi(r)?Qf:hi.current;return a=L0(e,a),Ch(e,i),r=gP(t,e,r,n,a,i),n=vP(),t!==null&&!Ui?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Nl(t,e,i)):(vr&&n&&iP(e),e.flags|=1,wi(t,e,r,i),e.child)}function GM(t,e,r,n,i){if(Gi(r)){var a=!0;_w(e)}else a=!1;if(Ch(e,i),e.stateNode===null)E1(t,e),H6(e,r,n),nE(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=Qa(c):(c=Gi(r)?Qf:hi.current,c=L0(e,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&jM(e,s,n,c),nc=!1;var d=e.memoizedState;s.state=d,Ew(e,n,s,i),l=e.memoizedState,o!==n||d!==l||zi.current||nc?(typeof u=="function"&&(rE(e,r,u,n),l=e.memoizedState),(o=nc||BM(e,r,o,n,d,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,b6(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:ds(e.type,o),s.props=c,f=e.pendingProps,d=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Qa(l):(l=Gi(r)?Qf:hi.current,l=L0(e,l));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||d!==l)&&jM(e,s,n,l),nc=!1,d=e.memoizedState,s.state=d,Ew(e,n,s,i);var m=e.memoizedState;o!==f||d!==m||zi.current||nc?(typeof h=="function"&&(rE(e,r,h,n),m=e.memoizedState),(c=nc||BM(e,r,c,n,d,m,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),s.props=n,s.state=m,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return sE(t,e,r,n,a,i)}function sE(t,e,r,n,i,a){X6(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&OM(e,r,!1),Nl(t,e,a);n=e.stateNode,sG.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=B0(e,t.child,null,a),e.child=B0(e,null,o,a)):wi(t,e,o,a),e.memoizedState=n.state,i&&OM(e,r,!0),e.child}function K6(t){var e=t.stateNode;e.pendingContext?IM(t,e.pendingContext,e.pendingContext!==e.context):e.context&&IM(t,e.context,!1),dP(t,e.containerInfo)}function qM(t,e,r,n,i){return $0(),sP(i),e.flags|=256,wi(t,e,r,n),e.child}var oE={dehydrated:null,treeContext:null,retryLane:0};function lE(t){return{baseLanes:t,cachePool:null,transitions:null}}function Y6(t,e,r){var n=e.pendingProps,i=kr.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ir(kr,i&1),t===null)return eE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,a?(n=e.mode,a=e.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Lb(s,n,0,null),t=Gf(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=lE(r),e.memoizedState=oE,t):wP(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return oG(t,e,s,n,o,i,r);if(a){a=n.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Kc(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Kc(o,a):(a=Gf(a,s,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,s=t.child.memoizedState,s=s===null?lE(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~r,e.memoizedState=oE,n}return a=t.child,t=a.sibling,n=Kc(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function wP(t,e){return e=Lb({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Rx(t,e,r,n){return n!==null&&sP(n),B0(e,t.child,null,r),t=wP(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function oG(t,e,r,n,i,a,s){if(r)return e.flags&256?(e.flags&=-257,n=AA(Error(_e(422))),Rx(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=Lb({mode:"visible",children:n.children},i,0,null),a=Gf(a,i,s,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&B0(e,t.child,null,s),e.child.memoizedState=lE(s),e.memoizedState=oE,a);if(!(e.mode&1))return Rx(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(_e(419)),n=AA(a,n,void 0),Rx(t,e,s,n)}if(o=(s&t.childLanes)!==0,Ui||o){if(n=Mn,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ml(t,i),$s(n,t,i,-1))}return EP(),n=AA(Error(_e(421))),Rx(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=wG.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,va=zc(i.nextSibling),ya=e,vr=!0,Is=null,t!==null&&(Va[Ha++]=hl,Va[Ha++]=pl,Va[Ha++]=ed,hl=t.id,pl=t.overflow,ed=e),e=wP(e,n.children),e.flags|=4096,e)}function XM(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),tE(t.return,e,r)}function TA(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function J6(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(wi(t,e,n.children,r),n=kr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&XM(t,r,e);else if(t.tag===19)XM(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ir(kr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Cw(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),TA(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Cw(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}TA(e,!0,r,null,a);break;case"together":TA(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function E1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Nl(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),rd|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(_e(153));if(e.child!==null){for(t=e.child,r=Kc(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Kc(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function lG(t,e,r){switch(e.tag){case 3:K6(e),$0();break;case 5:S6(e);break;case 1:Gi(e.type)&&_w(e);break;case 4:dP(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;ir(Aw,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ir(kr,kr.current&1),e.flags|=128,null):r&e.child.childLanes?Y6(t,e,r):(ir(kr,kr.current&1),t=Nl(t,e,r),t!==null?t.sibling:null);ir(kr,kr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return J6(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ir(kr,kr.current),n)break;return null;case 22:case 23:return e.lanes=0,q6(t,e,r)}return Nl(t,e,r)}var Z6,cE,Q6,e8;Z6=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};cE=function(){};Q6=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Vu(bo.current);var a=null;switch(r){case"input":i=OT(t,i),n=OT(t,n),a=[];break;case"select":i=Mr({},i,{value:void 0}),n=Mr({},n,{value:void 0}),a=[];break;case"textarea":i=RT(t,i),n=RT(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=xw)}FT(r,n);var s;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(pg.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(pg.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&sr("scroll",t),a||o===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};e8=function(t,e,r,n){r!==n&&(e.flags|=4)};function Zp(t,e){if(!vr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Kn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function cG(t,e,r){var n=e.pendingProps;switch(aP(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(e),null;case 1:return Gi(e.type)&&ww(),Kn(e),null;case 3:return n=e.stateNode,j0(),fr(zi),fr(hi),pP(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Mx(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Is!==null&&(vE(Is),Is=null))),cE(t,e),Kn(e),null;case 5:hP(e);var i=Vu(Eg.current);if(r=e.type,t!==null&&e.stateNode!=null)Q6(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(_e(166));return Kn(e),null}if(t=Vu(bo.current),Mx(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[vo]=e,n[Ag]=a,t=(e.mode&1)!==0,r){case"dialog":sr("cancel",n),sr("close",n);break;case"iframe":case"object":case"embed":sr("load",n);break;case"video":case"audio":for(i=0;i<ym.length;i++)sr(ym[i],n);break;case"source":sr("error",n);break;case"img":case"image":case"link":sr("error",n),sr("load",n);break;case"details":sr("toggle",n);break;case"input":nM(n,a),sr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},sr("invalid",n);break;case"textarea":aM(n,a),sr("invalid",n)}FT(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Ox(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Ox(n.textContent,o,t),i=["children",""+o]):pg.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&sr("scroll",n)}switch(r){case"input":Sx(n),iM(n,a,!0);break;case"textarea":Sx(n),sM(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=xw)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=k5(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[vo]=e,t[Ag]=n,Z6(t,e,!1,!1),e.stateNode=t;e:{switch(s=LT(r,n),r){case"dialog":sr("cancel",t),sr("close",t),i=n;break;case"iframe":case"object":case"embed":sr("load",t),i=n;break;case"video":case"audio":for(i=0;i<ym.length;i++)sr(ym[i],t);i=n;break;case"source":sr("error",t),i=n;break;case"img":case"image":case"link":sr("error",t),sr("load",t),i=n;break;case"details":sr("toggle",t),i=n;break;case"input":nM(t,n),i=OT(t,n),sr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Mr({},n,{value:void 0}),sr("invalid",t);break;case"textarea":aM(t,n),i=RT(t,n),sr("invalid",t);break;default:i=n}FT(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?O5(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&P5(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&mg(t,l):typeof l=="number"&&mg(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(pg.hasOwnProperty(a)?l!=null&&a==="onScroll"&&sr("scroll",t):l!=null&&Wk(t,a,l,s))}switch(r){case"input":Sx(t),iM(t,n,!1);break;case"textarea":Sx(t),sM(t);break;case"option":n.value!=null&&t.setAttribute("value",""+eu(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Sh(t,!!n.multiple,a,!1):n.defaultValue!=null&&Sh(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xw)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Kn(e),null;case 6:if(t&&e.stateNode!=null)e8(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(_e(166));if(r=Vu(Eg.current),Vu(bo.current),Mx(e)){if(n=e.stateNode,r=e.memoizedProps,n[vo]=e,(a=n.nodeValue!==r)&&(t=ya,t!==null))switch(t.tag){case 3:Ox(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ox(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[vo]=e,e.stateNode=n}return Kn(e),null;case 13:if(fr(kr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(vr&&va!==null&&e.mode&1&&!(e.flags&128))y6(),$0(),e.flags|=98560,a=!1;else if(a=Mx(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(_e(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(_e(317));a[vo]=e}else $0(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Kn(e),a=!1}else Is!==null&&(vE(Is),Is=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||kr.current&1?vn===0&&(vn=3):EP())),e.updateQueue!==null&&(e.flags|=4),Kn(e),null);case 4:return j0(),cE(t,e),t===null&&bg(e.stateNode.containerInfo),Kn(e),null;case 10:return cP(e.type._context),Kn(e),null;case 17:return Gi(e.type)&&ww(),Kn(e),null;case 19:if(fr(kr),a=e.memoizedState,a===null)return Kn(e),null;if(n=(e.flags&128)!==0,s=a.rendering,s===null)if(n)Zp(a,!1);else{if(vn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Cw(t),s!==null){for(e.flags|=128,Zp(a,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ir(kr,kr.current&1|2),e.child}t=t.sibling}a.tail!==null&&Hr()>V0&&(e.flags|=128,n=!0,Zp(a,!1),e.lanes=4194304)}else{if(!n)if(t=Cw(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Zp(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!vr)return Kn(e),null}else 2*Hr()-a.renderingStartTime>V0&&r!==1073741824&&(e.flags|=128,n=!0,Zp(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(r=a.last,r!==null?r.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Hr(),e.sibling=null,r=kr.current,ir(kr,n?r&1|2:r&1),e):(Kn(e),null);case 22:case 23:return TP(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ca&1073741824&&(Kn(e),e.subtreeFlags&6&&(e.flags|=8192)):Kn(e),null;case 24:return null;case 25:return null}throw Error(_e(156,e.tag))}function uG(t,e){switch(aP(e),e.tag){case 1:return Gi(e.type)&&ww(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return j0(),fr(zi),fr(hi),pP(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return hP(e),null;case 13:if(fr(kr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(_e(340));$0()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return fr(kr),null;case 4:return j0(),null;case 10:return cP(e.type._context),null;case 22:case 23:return TP(),null;case 24:return null;default:return null}}var Dx=!1,si=!1,fG=typeof WeakSet=="function"?WeakSet:Set,Le=null;function mh(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Dr(t,e,n)}else r.current=null}function uE(t,e,r){try{r()}catch(n){Dr(t,e,n)}}var KM=!1;function dG(t,e){if(qT=gw,t=a6(),nP(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=t,d=null;t:for(;;){for(var h;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===r&&++c===i&&(o=s),d===a&&++u===n&&(l=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(XT={focusedElem:t,selectionRange:r},gw=!1,Le=e;Le!==null;)if(e=Le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Le=t;else for(;Le!==null;){e=Le;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,y=m.memoizedState,w=e.stateNode,b=w.getSnapshotBeforeUpdate(e.elementType===e.type?p:ds(e.type,p),y);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(A){Dr(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Le=t;break}Le=e.return}return m=KM,KM=!1,m}function qm(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&uE(e,r,a)}i=i.next}while(i!==n)}}function Db(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function fE(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function t8(t){var e=t.alternate;e!==null&&(t.alternate=null,t8(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vo],delete e[Ag],delete e[JT],delete e[Xz],delete e[Kz])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function r8(t){return t.tag===5||t.tag===3||t.tag===4}function YM(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||r8(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dE(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=xw));else if(n!==4&&(t=t.child,t!==null))for(dE(t,e,r),t=t.sibling;t!==null;)dE(t,e,r),t=t.sibling}function hE(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(hE(t,e,r),t=t.sibling;t!==null;)hE(t,e,r),t=t.sibling}var jn=null,Cs=!1;function Zl(t,e,r){for(r=r.child;r!==null;)n8(t,e,r),r=r.sibling}function n8(t,e,r){if(_o&&typeof _o.onCommitFiberUnmount=="function")try{_o.onCommitFiberUnmount(Cb,r)}catch{}switch(r.tag){case 5:si||mh(r,e);case 6:var n=jn,i=Cs;jn=null,Zl(t,e,r),jn=n,Cs=i,jn!==null&&(Cs?(t=jn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):jn.removeChild(r.stateNode));break;case 18:jn!==null&&(Cs?(t=jn,r=r.stateNode,t.nodeType===8?yA(t.parentNode,r):t.nodeType===1&&yA(t,r),xg(t)):yA(jn,r.stateNode));break;case 4:n=jn,i=Cs,jn=r.stateNode.containerInfo,Cs=!0,Zl(t,e,r),jn=n,Cs=i;break;case 0:case 11:case 14:case 15:if(!si&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&uE(r,e,s),i=i.next}while(i!==n)}Zl(t,e,r);break;case 1:if(!si&&(mh(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Dr(r,e,o)}Zl(t,e,r);break;case 21:Zl(t,e,r);break;case 22:r.mode&1?(si=(n=si)||r.memoizedState!==null,Zl(t,e,r),si=n):Zl(t,e,r);break;default:Zl(t,e,r)}}function JM(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new fG),e.forEach(function(n){var i=_G.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ls(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:jn=o.stateNode,Cs=!1;break e;case 3:jn=o.stateNode.containerInfo,Cs=!0;break e;case 4:jn=o.stateNode.containerInfo,Cs=!0;break e}o=o.return}if(jn===null)throw Error(_e(160));n8(a,s,i),jn=null,Cs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Dr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)i8(e,t),e=e.sibling}function i8(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ls(e,t),zs(t),n&4){try{qm(3,t,t.return),Db(3,t)}catch(p){Dr(t,t.return,p)}try{qm(5,t,t.return)}catch(p){Dr(t,t.return,p)}}break;case 1:ls(e,t),zs(t),n&512&&r!==null&&mh(r,r.return);break;case 5:if(ls(e,t),zs(t),n&512&&r!==null&&mh(r,r.return),t.flags&32){var i=t.stateNode;try{mg(i,"")}catch(p){Dr(t,t.return,p)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=r!==null?r.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&E5(i,a),LT(o,s);var c=LT(o,a);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?O5(i,f):u==="dangerouslySetInnerHTML"?P5(i,f):u==="children"?mg(i,f):Wk(i,u,f,c)}switch(o){case"input":MT(i,a);break;case"textarea":C5(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?Sh(i,!!a.multiple,h,!1):d!==!!a.multiple&&(a.defaultValue!=null?Sh(i,!!a.multiple,a.defaultValue,!0):Sh(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ag]=a}catch(p){Dr(t,t.return,p)}}break;case 6:if(ls(e,t),zs(t),n&4){if(t.stateNode===null)throw Error(_e(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(p){Dr(t,t.return,p)}}break;case 3:if(ls(e,t),zs(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{xg(e.containerInfo)}catch(p){Dr(t,t.return,p)}break;case 4:ls(e,t),zs(t);break;case 13:ls(e,t),zs(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(SP=Hr())),n&4&&JM(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(si=(c=si)||u,ls(e,t),si=c):ls(e,t),zs(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Le=t,u=t.child;u!==null;){for(f=Le=u;Le!==null;){switch(d=Le,h=d.child,d.tag){case 0:case 11:case 14:case 15:qm(4,d,d.return);break;case 1:mh(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(p){Dr(n,r,p)}}break;case 5:mh(d,d.return);break;case 22:if(d.memoizedState!==null){QM(f);continue}}h!==null?(h.return=d,Le=h):QM(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=I5("display",s))}catch(p){Dr(t,t.return,p)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(p){Dr(t,t.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ls(e,t),zs(t),n&4&&JM(t);break;case 21:break;default:ls(e,t),zs(t)}}function zs(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(r8(r)){var n=r;break e}r=r.return}throw Error(_e(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(mg(i,""),n.flags&=-33);var a=YM(t);hE(t,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=YM(t);dE(t,o,s);break;default:throw Error(_e(161))}}catch(l){Dr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function hG(t,e,r){Le=t,a8(t)}function a8(t,e,r){for(var n=(t.mode&1)!==0;Le!==null;){var i=Le,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Dx;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||si;o=Dx;var c=si;if(Dx=s,(si=l)&&!c)for(Le=i;Le!==null;)s=Le,l=s.child,s.tag===22&&s.memoizedState!==null?eN(i):l!==null?(l.return=s,Le=l):eN(i);for(;a!==null;)Le=a,a8(a),a=a.sibling;Le=i,Dx=o,si=c}ZM(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Le=a):ZM(t)}}function ZM(t){for(;Le!==null;){var e=Le;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:si||Db(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!si)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ds(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&FM(e,a,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}FM(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&xg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}si||e.flags&512&&fE(e)}catch(d){Dr(e,e.return,d)}}if(e===t){Le=null;break}if(r=e.sibling,r!==null){r.return=e.return,Le=r;break}Le=e.return}}function QM(t){for(;Le!==null;){var e=Le;if(e===t){Le=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Le=r;break}Le=e.return}}function eN(t){for(;Le!==null;){var e=Le;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Db(4,e)}catch(l){Dr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Dr(e,i,l)}}var a=e.return;try{fE(e)}catch(l){Dr(e,a,l)}break;case 5:var s=e.return;try{fE(e)}catch(l){Dr(e,s,l)}}}catch(l){Dr(e,e.return,l)}if(e===t){Le=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Le=o;break}Le=e.return}}var pG=Math.ceil,Iw=Vl.ReactCurrentDispatcher,_P=Vl.ReactCurrentOwner,Xa=Vl.ReactCurrentBatchConfig,It=0,Mn=null,nn=null,Wn=0,ca=0,gh=du(0),vn=0,Ig=null,rd=0,Fb=0,bP=0,Xm=null,ji=null,SP=0,V0=1/0,$o=null,Ow=!1,pE=null,qc=null,Fx=!1,$c=null,Mw=0,Km=0,mE=null,C1=-1,k1=0;function Ti(){return It&6?Hr():C1!==-1?C1:C1=Hr()}function Xc(t){return t.mode&1?It&2&&Wn!==0?Wn&-Wn:Jz.transition!==null?(k1===0&&(k1=H5()),k1):(t=qt,t!==0||(t=window.event,t=t===void 0?16:Y5(t.type)),t):1}function $s(t,e,r,n){if(50<Km)throw Km=0,mE=null,Error(_e(185));qy(t,r,n),(!(It&2)||t!==Mn)&&(t===Mn&&(!(It&2)&&(Fb|=r),vn===4&&oc(t,Wn)),qi(t,n),r===1&&It===0&&!(e.mode&1)&&(V0=Hr()+500,Mb&&hu()))}function qi(t,e){var r=t.callbackNode;JW(t,e);var n=mw(t,t===Mn?Wn:0);if(n===0)r!==null&&cM(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&cM(r),e===1)t.tag===0?Yz(tN.bind(null,t)):m6(tN.bind(null,t)),Gz(function(){!(It&6)&&hu()}),r=null;else{switch(W5(n)){case 1:r=Kk;break;case 4:r=U5;break;case 16:r=pw;break;case 536870912:r=V5;break;default:r=pw}r=h8(r,s8.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function s8(t,e){if(C1=-1,k1=0,It&6)throw Error(_e(327));var r=t.callbackNode;if(kh()&&t.callbackNode!==r)return null;var n=mw(t,t===Mn?Wn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Nw(t,n);else{e=n;var i=It;It|=2;var a=l8();(Mn!==t||Wn!==e)&&($o=null,V0=Hr()+500,zf(t,e));do try{vG();break}catch(o){o8(t,o)}while(!0);lP(),Iw.current=a,It=i,nn!==null?e=0:(Mn=null,Wn=0,e=vn)}if(e!==0){if(e===2&&(i=VT(t),i!==0&&(n=i,e=gE(t,i))),e===1)throw r=Ig,zf(t,0),oc(t,n),qi(t,Hr()),r;if(e===6)oc(t,n);else{if(i=t.current.alternate,!(n&30)&&!mG(i)&&(e=Nw(t,n),e===2&&(a=VT(t),a!==0&&(n=a,e=gE(t,a))),e===1))throw r=Ig,zf(t,0),oc(t,n),qi(t,Hr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(_e(345));case 2:Pu(t,ji,$o);break;case 3:if(oc(t,n),(n&130023424)===n&&(e=SP+500-Hr(),10<e)){if(mw(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Ti(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=YT(Pu.bind(null,t,ji,$o),e);break}Pu(t,ji,$o);break;case 4:if(oc(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-Ls(n);a=1<<s,s=e[s],s>i&&(i=s),n&=~a}if(n=i,n=Hr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*pG(n/1960))-n,10<n){t.timeoutHandle=YT(Pu.bind(null,t,ji,$o),n);break}Pu(t,ji,$o);break;case 5:Pu(t,ji,$o);break;default:throw Error(_e(329))}}}return qi(t,Hr()),t.callbackNode===r?s8.bind(null,t):null}function gE(t,e){var r=Xm;return t.current.memoizedState.isDehydrated&&(zf(t,e).flags|=256),t=Nw(t,e),t!==2&&(e=ji,ji=r,e!==null&&vE(e)),t}function vE(t){ji===null?ji=t:ji.push.apply(ji,t)}function mG(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Hs(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oc(t,e){for(e&=~bP,e&=~Fb,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ls(e),n=1<<r;t[r]=-1,e&=~n}}function tN(t){if(It&6)throw Error(_e(327));kh();var e=mw(t,0);if(!(e&1))return qi(t,Hr()),null;var r=Nw(t,e);if(t.tag!==0&&r===2){var n=VT(t);n!==0&&(e=n,r=gE(t,n))}if(r===1)throw r=Ig,zf(t,0),oc(t,e),qi(t,Hr()),r;if(r===6)throw Error(_e(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pu(t,ji,$o),qi(t,Hr()),null}function AP(t,e){var r=It;It|=1;try{return t(e)}finally{It=r,It===0&&(V0=Hr()+500,Mb&&hu())}}function nd(t){$c!==null&&$c.tag===0&&!(It&6)&&kh();var e=It;It|=1;var r=Xa.transition,n=qt;try{if(Xa.transition=null,qt=1,t)return t()}finally{qt=n,Xa.transition=r,It=e,!(It&6)&&hu()}}function TP(){ca=gh.current,fr(gh)}function zf(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,zz(r)),nn!==null)for(r=nn.return;r!==null;){var n=r;switch(aP(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ww();break;case 3:j0(),fr(zi),fr(hi),pP();break;case 5:hP(n);break;case 4:j0();break;case 13:fr(kr);break;case 19:fr(kr);break;case 10:cP(n.type._context);break;case 22:case 23:TP()}r=r.return}if(Mn=t,nn=t=Kc(t.current,null),Wn=ca=e,vn=0,Ig=null,bP=Fb=rd=0,ji=Xm=null,Uu!==null){for(e=0;e<Uu.length;e++)if(r=Uu[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}Uu=null}return t}function o8(t,e){do{var r=nn;try{if(lP(),A1.current=Pw,kw){for(var n=Or.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}kw=!1}if(td=0,Pn=pn=Or=null,Gm=!1,Cg=0,_P.current=null,r===null||r.return===null){vn=1,Ig=e,nn=null;break}e:{var a=t,s=r.return,o=r,l=e;if(e=Wn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=VM(s);if(h!==null){h.flags&=-257,HM(h,s,o,a,e),h.mode&1&&UM(a,c,e),e=h,l=c;var m=e.updateQueue;if(m===null){var p=new Set;p.add(l),e.updateQueue=p}else m.add(l);break e}else{if(!(e&1)){UM(a,c,e),EP();break e}l=Error(_e(426))}}else if(vr&&o.mode&1){var y=VM(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),HM(y,s,o,a,e),sP(U0(l,o));break e}}a=l=U0(l,o),vn!==4&&(vn=2),Xm===null?Xm=[a]:Xm.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var w=W6(a,l,e);DM(a,w);break e;case 1:o=l;var b=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(qc===null||!qc.has(_)))){a.flags|=65536,e&=-e,a.lanes|=e;var A=z6(a,o,e);DM(a,A);break e}}a=a.return}while(a!==null)}u8(r)}catch(S){e=S,nn===r&&r!==null&&(nn=r=r.return);continue}break}while(!0)}function l8(){var t=Iw.current;return Iw.current=Pw,t===null?Pw:t}function EP(){(vn===0||vn===3||vn===2)&&(vn=4),Mn===null||!(rd&268435455)&&!(Fb&268435455)||oc(Mn,Wn)}function Nw(t,e){var r=It;It|=2;var n=l8();(Mn!==t||Wn!==e)&&($o=null,zf(t,e));do try{gG();break}catch(i){o8(t,i)}while(!0);if(lP(),It=r,Iw.current=n,nn!==null)throw Error(_e(261));return Mn=null,Wn=0,vn}function gG(){for(;nn!==null;)c8(nn)}function vG(){for(;nn!==null&&!VW();)c8(nn)}function c8(t){var e=d8(t.alternate,t,ca);t.memoizedProps=t.pendingProps,e===null?u8(t):nn=e,_P.current=null}function u8(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=uG(r,e),r!==null){r.flags&=32767,nn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vn=6,nn=null;return}}else if(r=cG(r,e,ca),r!==null){nn=r;return}if(e=e.sibling,e!==null){nn=e;return}nn=e=t}while(e!==null);vn===0&&(vn=5)}function Pu(t,e,r){var n=qt,i=Xa.transition;try{Xa.transition=null,qt=1,yG(t,e,r,n)}finally{Xa.transition=i,qt=n}return null}function yG(t,e,r,n){do kh();while($c!==null);if(It&6)throw Error(_e(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(_e(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(ZW(t,a),t===Mn&&(nn=Mn=null,Wn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Fx||(Fx=!0,h8(pw,function(){return kh(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Xa.transition,Xa.transition=null;var s=qt;qt=1;var o=It;It|=4,_P.current=null,dG(t,r),i8(r,t),$z(XT),gw=!!qT,XT=qT=null,t.current=r,hG(r),HW(),It=o,qt=s,Xa.transition=a}else t.current=r;if(Fx&&(Fx=!1,$c=t,Mw=i),a=t.pendingLanes,a===0&&(qc=null),GW(r.stateNode),qi(t,Hr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ow)throw Ow=!1,t=pE,pE=null,t;return Mw&1&&t.tag!==0&&kh(),a=t.pendingLanes,a&1?t===mE?Km++:(Km=0,mE=t):Km=0,hu(),null}function kh(){if($c!==null){var t=W5(Mw),e=Xa.transition,r=qt;try{if(Xa.transition=null,qt=16>t?16:t,$c===null)var n=!1;else{if(t=$c,$c=null,Mw=0,It&6)throw Error(_e(331));var i=It;for(It|=4,Le=t.current;Le!==null;){var a=Le,s=a.child;if(Le.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Le=c;Le!==null;){var u=Le;switch(u.tag){case 0:case 11:case 15:qm(8,u,a)}var f=u.child;if(f!==null)f.return=u,Le=f;else for(;Le!==null;){u=Le;var d=u.sibling,h=u.return;if(t8(u),u===c){Le=null;break}if(d!==null){d.return=h,Le=d;break}Le=h}}}var m=a.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var y=p.sibling;p.sibling=null,p=y}while(p!==null)}}Le=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Le=s;else e:for(;Le!==null;){if(a=Le,a.flags&2048)switch(a.tag){case 0:case 11:case 15:qm(9,a,a.return)}var w=a.sibling;if(w!==null){w.return=a.return,Le=w;break e}Le=a.return}}var b=t.current;for(Le=b;Le!==null;){s=Le;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,Le=_;else e:for(s=b;Le!==null;){if(o=Le,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Db(9,o)}}catch(S){Dr(o,o.return,S)}if(o===s){Le=null;break e}var A=o.sibling;if(A!==null){A.return=o.return,Le=A;break e}Le=o.return}}if(It=i,hu(),_o&&typeof _o.onPostCommitFiberRoot=="function")try{_o.onPostCommitFiberRoot(Cb,t)}catch{}n=!0}return n}finally{qt=r,Xa.transition=e}}return!1}function rN(t,e,r){e=U0(r,e),e=W6(t,e,1),t=Gc(t,e,1),e=Ti(),t!==null&&(qy(t,1,e),qi(t,e))}function Dr(t,e,r){if(t.tag===3)rN(t,t,r);else for(;e!==null;){if(e.tag===3){rN(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(qc===null||!qc.has(n))){t=U0(r,t),t=z6(e,t,1),e=Gc(e,t,1),t=Ti(),e!==null&&(qy(e,1,t),qi(e,t));break}}e=e.return}}function xG(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ti(),t.pingedLanes|=t.suspendedLanes&r,Mn===t&&(Wn&r)===r&&(vn===4||vn===3&&(Wn&130023424)===Wn&&500>Hr()-SP?zf(t,0):bP|=r),qi(t,e)}function f8(t,e){e===0&&(t.mode&1?(e=Ex,Ex<<=1,!(Ex&130023424)&&(Ex=4194304)):e=1);var r=Ti();t=Ml(t,e),t!==null&&(qy(t,e,r),qi(t,r))}function wG(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),f8(t,r)}function _G(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(_e(314))}n!==null&&n.delete(e),f8(t,r)}var d8;d8=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||zi.current)Ui=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ui=!1,lG(t,e,r);Ui=!!(t.flags&131072)}else Ui=!1,vr&&e.flags&1048576&&g6(e,Sw,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;E1(t,e),t=e.pendingProps;var i=L0(e,hi.current);Ch(e,r),i=gP(null,e,n,t,i,r);var a=vP();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gi(n)?(a=!0,_w(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fP(e),i.updater=Rb,e.stateNode=i,i._reactInternals=e,nE(e,n,t,r),e=sE(null,e,n,!0,a,r)):(e.tag=0,vr&&a&&iP(e),wi(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(E1(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=SG(n),t=ds(n,t),i){case 0:e=aE(null,e,n,t,r);break e;case 1:e=GM(null,e,n,t,r);break e;case 11:e=WM(null,e,n,t,r);break e;case 14:e=zM(null,e,n,ds(n.type,t),r);break e}throw Error(_e(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ds(n,i),aE(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ds(n,i),GM(t,e,n,i,r);case 3:e:{if(K6(e),t===null)throw Error(_e(387));n=e.pendingProps,a=e.memoizedState,i=a.element,b6(t,e),Ew(e,n,null,r);var s=e.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=U0(Error(_e(423)),e),e=qM(t,e,n,r,i);break e}else if(n!==i){i=U0(Error(_e(424)),e),e=qM(t,e,n,r,i);break e}else for(va=zc(e.stateNode.containerInfo.firstChild),ya=e,vr=!0,Is=null,r=w6(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($0(),n===i){e=Nl(t,e,r);break e}wi(t,e,n,r)}e=e.child}return e;case 5:return S6(e),t===null&&eE(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,KT(n,i)?s=null:a!==null&&KT(n,a)&&(e.flags|=32),X6(t,e),wi(t,e,s,r),e.child;case 6:return t===null&&eE(e),null;case 13:return Y6(t,e,r);case 4:return dP(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=B0(e,null,n,r):wi(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ds(n,i),WM(t,e,n,i,r);case 7:return wi(t,e,e.pendingProps,r),e.child;case 8:return wi(t,e,e.pendingProps.children,r),e.child;case 12:return wi(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,ir(Aw,n._currentValue),n._currentValue=s,a!==null)if(Hs(a.value,s)){if(a.children===i.children&&!zi.current){e=Nl(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=xl(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),tE(a.return,r,e),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(_e(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),tE(s,r,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}wi(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Ch(e,r),i=Qa(i),n=n(i),e.flags|=1,wi(t,e,n,r),e.child;case 14:return n=e.type,i=ds(n,e.pendingProps),i=ds(n.type,i),zM(t,e,n,i,r);case 15:return G6(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ds(n,i),E1(t,e),e.tag=1,Gi(n)?(t=!0,_w(e)):t=!1,Ch(e,r),H6(e,n,i),nE(e,n,i,r),sE(null,e,n,!0,t,r);case 19:return J6(t,e,r);case 22:return q6(t,e,r)}throw Error(_e(156,e.tag))};function h8(t,e){return j5(t,e)}function bG(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ga(t,e,r,n){return new bG(t,e,r,n)}function CP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function SG(t){if(typeof t=="function")return CP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gk)return 11;if(t===qk)return 14}return 2}function Kc(t,e){var r=t.alternate;return r===null?(r=Ga(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function P1(t,e,r,n,i,a){var s=2;if(n=t,typeof t=="function")CP(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case sh:return Gf(r.children,i,a,e);case zk:s=8,i|=8;break;case CT:return t=Ga(12,r,e,i|2),t.elementType=CT,t.lanes=a,t;case kT:return t=Ga(13,r,e,i),t.elementType=kT,t.lanes=a,t;case PT:return t=Ga(19,r,e,i),t.elementType=PT,t.lanes=a,t;case S5:return Lb(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _5:s=10;break e;case b5:s=9;break e;case Gk:s=11;break e;case qk:s=14;break e;case rc:s=16,n=null;break e}throw Error(_e(130,t==null?t:typeof t,""))}return e=Ga(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Gf(t,e,r,n){return t=Ga(7,t,n,e),t.lanes=r,t}function Lb(t,e,r,n){return t=Ga(22,t,n,e),t.elementType=S5,t.lanes=r,t.stateNode={isHidden:!1},t}function EA(t,e,r){return t=Ga(6,t,null,e),t.lanes=r,t}function CA(t,e,r){return e=Ga(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function AG(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oA(0),this.expirationTimes=oA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oA(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function kP(t,e,r,n,i,a,s,o,l){return t=new AG(t,e,r,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Ga(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},fP(a),t}function TG(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ah,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function p8(t){if(!t)return tu;t=t._reactInternals;e:{if(Td(t)!==t||t.tag!==1)throw Error(_e(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(_e(171))}if(t.tag===1){var r=t.type;if(Gi(r))return p6(t,r,e)}return e}function m8(t,e,r,n,i,a,s,o,l){return t=kP(r,n,!0,t,i,a,s,o,l),t.context=p8(null),r=t.current,n=Ti(),i=Xc(r),a=xl(n,i),a.callback=e??null,Gc(r,a,i),t.current.lanes=i,qy(t,i,n),qi(t,n),t}function $b(t,e,r,n){var i=e.current,a=Ti(),s=Xc(i);return r=p8(r),e.context===null?e.context=r:e.pendingContext=r,e=xl(a,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Gc(i,e,s),t!==null&&($s(t,i,s,a),S1(t,i,s)),s}function Rw(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function PP(t,e){nN(t,e),(t=t.alternate)&&nN(t,e)}function EG(){return null}var g8=typeof reportError=="function"?reportError:function(t){console.error(t)};function IP(t){this._internalRoot=t}Bb.prototype.render=IP.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(_e(409));$b(t,e,null,null)};Bb.prototype.unmount=IP.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;nd(function(){$b(null,t,null,null)}),e[Ol]=null}};function Bb(t){this._internalRoot=t}Bb.prototype.unstable_scheduleHydration=function(t){if(t){var e=q5();t={blockedOn:null,target:t,priority:e};for(var r=0;r<sc.length&&e!==0&&e<sc[r].priority;r++);sc.splice(r,0,t),r===0&&K5(t)}};function OP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function iN(){}function CG(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=Rw(s);a.call(c)}}var s=m8(e,n,t,0,null,!1,!1,"",iN);return t._reactRootContainer=s,t[Ol]=s.current,bg(t.nodeType===8?t.parentNode:t),nd(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=Rw(l);o.call(c)}}var l=kP(t,0,!1,null,null,!1,!1,"",iN);return t._reactRootContainer=l,t[Ol]=l.current,bg(t.nodeType===8?t.parentNode:t),nd(function(){$b(e,l,r,n)}),l}function Ub(t,e,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Rw(s);o.call(l)}}$b(e,s,t,i)}else s=CG(r,e,t,i,n);return Rw(s)}z5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=vm(e.pendingLanes);r!==0&&(Yk(e,r|1),qi(e,Hr()),!(It&6)&&(V0=Hr()+500,hu()))}break;case 13:nd(function(){var n=Ml(t,1);if(n!==null){var i=Ti();$s(n,t,1,i)}}),PP(t,1)}};Jk=function(t){if(t.tag===13){var e=Ml(t,134217728);if(e!==null){var r=Ti();$s(e,t,134217728,r)}PP(t,134217728)}};G5=function(t){if(t.tag===13){var e=Xc(t),r=Ml(t,e);if(r!==null){var n=Ti();$s(r,t,e,n)}PP(t,e)}};q5=function(){return qt};X5=function(t,e){var r=qt;try{return qt=t,e()}finally{qt=r}};BT=function(t,e,r){switch(e){case"input":if(MT(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Ob(n);if(!i)throw Error(_e(90));T5(n),MT(n,i)}}}break;case"textarea":C5(t,r);break;case"select":e=r.value,e!=null&&Sh(t,!!r.multiple,e,!1)}};R5=AP;D5=nd;var kG={usingClientEntryPoint:!1,Events:[Ky,uh,Ob,M5,N5,AP]},Qp={findFiberByHostInstance:ju,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PG={bundleType:Qp.bundleType,version:Qp.version,rendererPackageName:Qp.rendererPackageName,rendererConfig:Qp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$5(t),t===null?null:t.stateNode},findFiberByHostInstance:Qp.findFiberByHostInstance||EG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lx.isDisabled&&Lx.supportsFiber)try{Cb=Lx.inject(PG),_o=Lx}catch{}}Sa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kG;Sa.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!OP(e))throw Error(_e(200));return TG(t,e,null,r)};Sa.createRoot=function(t,e){if(!OP(t))throw Error(_e(299));var r=!1,n="",i=g8;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=kP(t,1,!1,null,null,r,!1,n,i),t[Ol]=e.current,bg(t.nodeType===8?t.parentNode:t),new IP(e)};Sa.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(_e(188)):(t=Object.keys(t).join(","),Error(_e(268,t)));return t=$5(e),t=t===null?null:t.stateNode,t};Sa.flushSync=function(t){return nd(t)};Sa.hydrate=function(t,e,r){if(!jb(e))throw Error(_e(200));return Ub(null,t,e,!0,r)};Sa.hydrateRoot=function(t,e,r){if(!OP(t))throw Error(_e(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=g8;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=m8(e,null,t,1,r??null,i,!1,a,s),t[Ol]=e.current,bg(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Bb(e)};Sa.render=function(t,e,r){if(!jb(e))throw Error(_e(200));return Ub(null,t,e,!1,r)};Sa.unmountComponentAtNode=function(t){if(!jb(t))throw Error(_e(40));return t._reactRootContainer?(nd(function(){Ub(null,null,t,!1,function(){t._reactRootContainer=null,t[Ol]=null})}),!0):!1};Sa.unstable_batchedUpdates=AP;Sa.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!jb(r))throw Error(_e(200));if(t==null||t._reactInternals===void 0)throw Error(_e(38));return Ub(t,e,r,!1,n)};Sa.version="18.3.1-next-f1338f8080-20240426";function v8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v8)}catch(t){console.error(t)}}v8(),v5.exports=Sa;var IG=v5.exports,aN=IG;TT.createRoot=aN.createRoot,TT.hydrateRoot=aN.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ke=(t,e)=>{const r=re.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,...c},u)=>re.createElement("svg",{ref:u,...OG,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${MG(t)}`,o].join(" "),...c},[...e.map(([f,d])=>re.createElement(f,d)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=Ke("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=Ke("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=Ke("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=Ke("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=Ke("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=Ke("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=Ke("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=Ke("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=Ke("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=Ke("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=Ke("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=Ke("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=Ke("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=Ke("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=Ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=Ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=Ke("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=Ke("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=Ke("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=Ke("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=Ke("DownloadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m8 17 4 4 4-4",key:"1ul180"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=Ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=Ke("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=Ke("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=Ke("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=Ke("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=Ke("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=Ke("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=Ke("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=Ke("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=Ke("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=Ke("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=Ke("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=Ke("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=Ke("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=Ke("PackageX",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["path",{d:"m17 13 5 5m-5 0 5-5",key:"im3w4b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=Ke("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=Ke("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=Ke("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aq=Ke("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=Ke("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=Ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=Ke("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=Ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=Ke("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=Ke("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=Ke("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=Ke("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=Ke("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=Ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=Ke("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=Ke("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=Ke("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=Ke("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=Ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=Ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=Ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),pq=({params:t,onChange:e})=>C.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-6 gap-4",children:[C.jsxs("div",{children:[C.jsxs("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wider mb-2 flex items-center",children:[C.jsx($G,{className:"w-3.5 h-3.5 mr-1.5"}),"Itinerary Date"]}),C.jsx("input",{type:"date",value:t.targetDate,onChange:r=>e("targetDate",r.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2.5 border bg-white"})]}),C.jsxs("div",{children:[C.jsxs("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wider mb-2 flex items-center",children:[C.jsx(S8,{className:"w-3.5 h-3.5 mr-1.5"}),"End of Shift"]}),C.jsx("input",{type:"time",value:t.endTime,onChange:r=>e("endTime",r.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2.5 border bg-white"})]}),C.jsxs("div",{children:[C.jsxs("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wider mb-2 flex items-center",children:[C.jsx(KG,{className:"w-3.5 h-3.5 mr-1.5"}),"Default Pace"]}),C.jsx("input",{type:"number",value:t.defaultPace,min:"1",onChange:r=>e("defaultPace",Number(r.target.value)),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2.5 border bg-white"}),C.jsxs("div",{className:"mt-2 flex items-center",children:[C.jsx("input",{id:"useIndividualPace",type:"checkbox",checked:t.useIndividualPace,onChange:r=>e("useIndividualPace",r.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),C.jsx("label",{htmlFor:"useIndividualPace",className:"ml-2 block text-xs text-gray-600",children:"Use file pace"})]})]}),C.jsxs("div",{children:[C.jsxs("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wider mb-2 flex items-center",children:[C.jsx(uq,{className:"w-3.5 h-3.5 mr-1.5"}),"Buffer (min)"]}),C.jsx("div",{className:"relative rounded-md shadow-sm",children:C.jsx("input",{type:"number",value:t.bufferMinutes,min:"0",onChange:r=>e("bufferMinutes",Number(r.target.value)),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2.5 border bg-white"})})]}),C.jsxs("div",{children:[C.jsxs("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wider mb-2 flex items-center",children:[C.jsx(A8,{className:"w-3.5 h-3.5 mr-1.5"}),"Meal Break"]}),C.jsxs("div",{className:"relative rounded-md shadow-sm",children:[C.jsx("input",{type:"number",value:t.requiredBreakMinutes,min:"0",onChange:r=>e("requiredBreakMinutes",Number(r.target.value)),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2.5 border bg-white",placeholder:"e.g. 30"}),C.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:C.jsx("span",{className:"text-gray-500 sm:text-xs",children:"min"})})]})]}),C.jsxs("div",{className:"bg-indigo-50 rounded-lg p-3 border border-indigo-100 flex flex-col justify-center",children:[C.jsxs("div",{className:"flex items-center justify-between mb-1",children:[C.jsxs("label",{className:"block text-xs font-bold text-indigo-700 uppercase tracking-wider flex items-center",children:[C.jsx(LG,{className:"w-3.5 h-3.5 mr-1.5"}),"AI Mode"]}),C.jsxs("div",{className:"relative inline-block w-8 align-middle select-none transition duration-200 ease-in",children:[C.jsx("input",{type:"checkbox",name:"smartAdjustment",id:"smartAdjustment",checked:t.smartAdjustment,onChange:r=>e("smartAdjustment",r.target.checked),className:"toggle-checkbox absolute block w-4 h-4 rounded-full bg-white border-4 appearance-none cursor-pointer checked:right-0 right-4 checked:border-indigo-600 border-gray-300",style:{right:t.smartAdjustment?"0":"auto",left:t.smartAdjustment?"auto":"0"}}),C.jsx("label",{htmlFor:"smartAdjustment",className:`toggle-label block overflow-hidden h-4 rounded-full cursor-pointer ${t.smartAdjustment?"bg-indigo-600":"bg-gray-300"}`})]})]}),C.jsx("p",{className:"text-[10px] text-indigo-600 leading-tight",children:"Adjusts for fatigue & traffic"})]})]});/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Dw={};Dw.version="0.18.5";var P8=1252,mq=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],DP={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},FP=function(t){mq.indexOf(t)!=-1&&(P8=DP[0]=t)};function gq(){FP(1252)}var Ns=function(t){FP(t)};function LP(){Ns(1200),gq()}function lN(t){for(var e=[],r=0,n=t.length;r<n;++r)e[r]=t.charCodeAt(r);return e}function vq(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r)+(t.charCodeAt(2*r+1)<<8));return e.join("")}function I8(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r+1)+(t.charCodeAt(2*r)<<8));return e.join("")}var xm=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1);return e==255&&r==254?vq(t.slice(2)):e==254&&r==255?I8(t.slice(2)):e==65279?t.slice(1):t},$x=function(e){return String.fromCharCode(e)},cN=function(e){return String.fromCharCode(e)},Ng,Bc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Rg(t){for(var e="",r=0,n=0,i=0,a=0,s=0,o=0,l=0,c=0;c<t.length;)r=t.charCodeAt(c++),a=r>>2,n=t.charCodeAt(c++),s=(r&3)<<4|n>>4,i=t.charCodeAt(c++),o=(n&15)<<2|i>>6,l=i&63,isNaN(n)?o=l=64:isNaN(i)&&(l=64),e+=Bc.charAt(a)+Bc.charAt(s)+Bc.charAt(o)+Bc.charAt(l);return e}function _a(t){var e="",r=0,n=0,i=0,a=0,s=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)a=Bc.indexOf(t.charAt(c++)),s=Bc.indexOf(t.charAt(c++)),r=a<<2|s>>4,e+=String.fromCharCode(r),o=Bc.indexOf(t.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=Bc.indexOf(t.charAt(c++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var xt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Hl=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function ru(t){return xt?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function uN(t){return xt?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var pa=function(e){return xt?Hl(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function Hb(t){if(typeof ArrayBuffer>"u")return pa(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function pu(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function yq(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}function $P(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return $P(new Uint8Array(t));for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=t[r];return e}var In=xt?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Hl(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function xq(t){for(var e=[],r=0,n=t.length+250,i=ru(t.length+255),a=0;a<t.length;++a){var s=t.charCodeAt(a);if(s<128)i[r++]=s;else if(s<2048)i[r++]=192|s>>6&31,i[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=t.charCodeAt(++a)&1023;i[r++]=240|s>>8&7,i[r++]=128|s>>2&63,i[r++]=128|o>>6&15|(s&3)<<4,i[r++]=128|o&63}else i[r++]=224|s>>12&15,i[r++]=128|s>>6&63,i[r++]=128|s&63;r>n&&(e.push(i.slice(0,r)),r=0,i=ru(65535),n=65530)}return e.push(i.slice(0,r)),In(e)}var Ei=/\u0000/g,wm=/[\u0001-\u0006]/g;function Ph(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Rs(t,e){var r=""+t;return r.length>=e?r:Fr("0",e-r.length)+r}function BP(t,e){var r=""+t;return r.length>=e?r:Fr(" ",e-r.length)+r}function Fw(t,e){var r=""+t;return r.length>=e?r:r+Fr(" ",e-r.length)}function wq(t,e){var r=""+Math.round(t);return r.length>=e?r:Fr("0",e-r.length)+r}function _q(t,e){var r=""+t;return r.length>=e?r:Fr("0",e-r.length)+r}var fN=Math.pow(2,32);function Ud(t,e){if(t>fN||t<-fN)return wq(t,e);var r=Math.round(t);return _q(r,e)}function Lw(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var dN=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],kA=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function bq(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Qe={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},hN={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Sq={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function $w(t,e,r){for(var n=t<0?-1:1,i=t*n,a=0,s=1,o=0,l=1,c=0,u=0,f=Math.floor(i);c<e&&(f=Math.floor(i),o=f*s+a,u=f*c+l,!(i-f<5e-8));)i=1/(i-f),a=s,s=o,l=c,c=u;if(u>e&&(c>e?(u=l,o=a):(u=c,o=s)),!r)return[0,n*o,u];var d=Math.floor(n*o/u);return[d,n*o-d*u,u]}function Hu(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),a=0,s=[],o={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],a=l.getDay(),n<60&&(a=(a+6)%7),r&&(a=Pq(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=a,o}var O8=new Date(1899,11,31,0,0,0),Aq=O8.getTime(),Tq=new Date(1900,2,1,0,0,0);function M8(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=Tq&&(r+=24*60*60*1e3),(r-(Aq+(t.getTimezoneOffset()-O8.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function jP(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Eq(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Cq(t){var e=t<0?12:11,r=jP(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function kq(t){var e=jP(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function Dg(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=Cq(t):e===10?r=t.toFixed(10).substr(0,12):r=kq(t),jP(Eq(r.toUpperCase()))}function id(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Dg(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return ts(14,M8(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function Pq(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function Iq(t,e,r,n){var i="",a=0,s=0,o=r.y,l,c=0;switch(t){case 98:o=r.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=r.m,c=e.length;break;case 3:return kA[r.m-1][1];case 5:return kA[r.m-1][0];default:return kA[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=r.d,c=e.length;break;case 3:return dN[r.q][0];default:return dN[r.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(r.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=r.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=r.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Rs(r.S,e.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,a=Math.round(s*(r.S+r.u)),a>=60*s&&(a=0),e==="s"?a===0?"0":""+a/s:(i=Rs(a,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?Rs(l,c):"";return u}function jc(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var N8=/%/g;function Oq(t,e,r){var n=e.replace(N8,""),i=e.length-n.length;return wl(t,n,r*Math.pow(10,2*i))+Fr("%",i)}function Mq(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return wl(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function R8(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+R8(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),r.indexOf("e")===-1){var s=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+a)%i)+"."+u.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var D8=/# (\?+)( ?)\/( ?)(\d+)/;function Nq(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),a=Math.floor(i/n),s=i-a*n,o=n;return r+(a===0?"":""+a)+" "+(s===0?Fr(" ",t[1].length+1+t[4].length):BP(s,t[1].length)+t[2]+"/"+t[3]+Rs(o,t[4].length))}function Rq(t,e,r){return r+(e===0?"":""+e)+Fr(" ",t[1].length+2+t[4].length)}var F8=/^#*0*\.([0#]+)/,L8=/\).*[0#]/,$8=/\(###\) ###\\?-####/;function _i(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function pN(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function mN(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Dq(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function Fq(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Oa(t,e,r){if(t.charCodeAt(0)===40&&!e.match(L8)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Oa("n",n,r):"("+Oa("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return Mq(t,e,r);if(e.indexOf("%")!==-1)return Oq(t,e,r);if(e.indexOf("E")!==-1)return R8(e,r);if(e.charCodeAt(0)===36)return"$"+Oa(t,e.substr(e.charAt(1)==" "?2:1),r);var i,a,s,o,l=Math.abs(r),c=r<0?"-":"";if(e.match(/^00+$/))return c+Ud(l,e.length);if(e.match(/^[#?]+$/))return i=Ud(r,0),i==="0"&&(i=""),i.length>e.length?i:_i(e.substr(0,e.length-i.length))+i;if(a=e.match(D8))return Nq(a,l,c);if(e.match(/^#+0+$/))return c+Ud(l,e.length-e.indexOf("0"));if(a=e.match(F8))return i=pN(r,a[1].length).replace(/^([^\.]+)$/,"$1."+_i(a[1])).replace(/\.$/,"."+_i(a[1])).replace(/\.(\d*)$/,function(m,p){return"."+p+Fr("0",_i(a[1]).length-p.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return c+pN(l,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return c+jc(Ud(l,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Oa(t,e,-r):jc(""+(Math.floor(r)+Dq(r,a[1].length)))+"."+Rs(mN(r,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return Oa(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Ph(Oa(t,e.replace(/[\\-]/g,""),r)),s=0,Ph(Ph(e.replace(/\\/g,"")).replace(/[0#]/g,function(m){return s<i.length?i.charAt(s++):m==="0"?"0":""}));if(e.match($8))return i=Oa(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=$w(l,Math.pow(10,s)-1,!1),i=""+c,u=wl("n",a[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+a[2]+"/"+a[3],u=Fw(o[2],s),u.length<a[4].length&&(u=_i(a[4].substr(a[4].length-u.length))+u),i+=u,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=$w(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?BP(o[1],s)+a[2]+"/"+a[3]+Fw(o[2],s):Fr(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=Ud(r,0),e.length<=i.length?i:_i(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var f=e.indexOf(".")-s,d=e.length-i.length-f;return _i(e.substr(0,f)+i+e.substr(e.length-d))}if(a=e.match(/^00,000\.([#0]*0)$/))return s=mN(r,a[1].length),r<0?"-"+Oa(t,e,-r):jc(Fq(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?Rs(0,3-m.length):"")+m})+"."+Rs(s,a[1].length);switch(e){case"###,##0.00":return Oa(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var h=jc(Ud(l,0));return h!=="0"?c+h:"";case"###,###.00":return Oa(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Oa(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function Lq(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return wl(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function $q(t,e,r){var n=e.replace(N8,""),i=e.length-n.length;return wl(t,n,r*Math.pow(10,2*i))+Fr("%",i)}function B8(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+B8(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!r.match(/[Ee]/)){var s=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+a)%i)+"."+u.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Xs(t,e,r){if(t.charCodeAt(0)===40&&!e.match(L8)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Xs("n",n,r):"("+Xs("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return Lq(t,e,r);if(e.indexOf("%")!==-1)return $q(t,e,r);if(e.indexOf("E")!==-1)return B8(e,r);if(e.charCodeAt(0)===36)return"$"+Xs(t,e.substr(e.charAt(1)==" "?2:1),r);var i,a,s,o,l=Math.abs(r),c=r<0?"-":"";if(e.match(/^00+$/))return c+Rs(l,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:_i(e.substr(0,e.length-i.length))+i;if(a=e.match(D8))return Rq(a,l,c);if(e.match(/^#+0+$/))return c+Rs(l,e.length-e.indexOf("0"));if(a=e.match(F8))return i=(""+r).replace(/^([^\.]+)$/,"$1."+_i(a[1])).replace(/\.$/,"."+_i(a[1])),i=i.replace(/\.(\d*)$/,function(m,p){return"."+p+Fr("0",_i(a[1]).length-p.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return c+jc(""+l);if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Xs(t,e,-r):jc(""+r)+"."+Fr("0",a[1].length);if(a=e.match(/^#,#*,#0/))return Xs(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Ph(Xs(t,e.replace(/[\\-]/g,""),r)),s=0,Ph(Ph(e.replace(/\\/g,"")).replace(/[0#]/g,function(m){return s<i.length?i.charAt(s++):m==="0"?"0":""}));if(e.match($8))return i=Xs(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=$w(l,Math.pow(10,s)-1,!1),i=""+c,u=wl("n",a[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+a[2]+"/"+a[3],u=Fw(o[2],s),u.length<a[4].length&&(u=_i(a[4].substr(a[4].length-u.length))+u),i+=u,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=$w(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?BP(o[1],s)+a[2]+"/"+a[3]+Fw(o[2],s):Fr(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:_i(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var f=e.indexOf(".")-s,d=e.length-i.length-f;return _i(e.substr(0,f)+i+e.substr(e.length-d))}if(a=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Xs(t,e,-r):jc(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?Rs(0,3-m.length):"")+m})+"."+Rs(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var h=jc(""+l);return h!=="0"?c+h:"";default:if(e.match(/\.[0#?]*$/))return Xs(t,e.slice(0,e.lastIndexOf(".")),r)+_i(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function wl(t,e,r){return(r|0)===r?Xs(t,e,r):Oa(t,e,r)}function Bq(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var j8=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Ap(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":Lw(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(j8))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function jq(t,e,r,n){for(var i=[],a="",s=0,o="",l="t",c,u,f,d="H";s<t.length;)switch(o=t.charAt(s)){case"G":if(!Lw(t,s))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(f=t.charCodeAt(++s))!==34&&s<t.length;)a+=String.fromCharCode(f);i[i.length]={t:"t",v:a},++s;break;case"\\":var h=t.charAt(++s),m=h==="("||h===")"?h:"t";i[i.length]={t:m,v:h},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:e},++s;break;case"B":case"b":if(t.charAt(s+1)==="1"||t.charAt(s+1)==="2"){if(c==null&&(c=Hu(e,r,t.charAt(s+1)==="2"),c==null))return"";i[i.length]={t:"X",v:t.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=Hu(e,r),c==null))return"";for(a=o;++s<t.length&&t.charAt(s).toLowerCase()===o;)a+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=d),i[i.length]={t:o,v:a},l=o;break;case"A":case"a":case"":var p={t:o,v:o};if(c==null&&(c=Hu(e,r)),t.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(p.v=c.H>=12?"P":"A"),p.t="T",d="h",s+=3):t.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(p.v=c.H>=12?"PM":"AM"),p.t="T",s+=5,d="h"):t.substr(s,5).toUpperCase()==="/"?(c!=null&&(p.v=c.H>=12?"":""),p.t="T",s+=5,d="h"):(p.t="t",++s),c==null&&p.t==="T")return"";i[i.length]=p,l=o;break;case"[":for(a=o;t.charAt(s++)!=="]"&&s<t.length;)a+=t.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(j8)){if(c==null&&(c=Hu(e,r),c==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},l=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",Ap(t)||(i[i.length]={t:"t",v:a}));break;case".":if(c!=null){for(a=o;++s<t.length&&(o=t.charAt(s))==="0";)a+=o;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++s<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(s))>-1;)a+=o;i[i.length]={t:"n",v:a};break;case"?":for(a=o;t.charAt(++s)===o;)a+=o;i[i.length]={t:o,v:a},l=o;break;case"*":++s,(t.charAt(s)==" "||t.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;s<t.length&&"0123456789".indexOf(t.charAt(++s))>-1;)a+=t.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:o,v:o},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++s;break}var y=0,w=0,b;for(s=i.length-1,l="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=d,l="h",y<1&&(y=1);break;case"s":(b=i[s].v.match(/\.0+$/))&&(w=Math.max(w,b[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":l=i[s].t;break;case"m":l==="s"&&(i[s].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&i[s].v.match(/[Hh]/)&&(y=1),y<2&&i[s].v.match(/[Mm]/)&&(y=2),y<3&&i[s].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var _="",A;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=Iq(i[s].t.charCodeAt(0),i[s].v,c,w),i[s].t="t";break;case"n":case"?":for(A=s+1;i[A]!=null&&((o=i[A].t)==="?"||o==="D"||(o===" "||o==="t")&&i[A+1]!=null&&(i[A+1].t==="?"||i[A+1].t==="t"&&i[A+1].v==="/")||i[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[A].v==="/"||i[A].v===" "&&i[A+1]!=null&&i[A+1].t=="?"));)i[s].v+=i[A].v,i[A]={v:"",t:";"},++A;_+=i[s].v,s=A-1;break;case"G":i[s].t="t",i[s].v=id(e,r);break}var S="",T,E;if(_.length>0){_.charCodeAt(0)==40?(T=e<0&&_.charCodeAt(0)===45?-e:e,E=wl("n",_,T)):(T=e<0&&n>1?-e:e,E=wl("n",_,T),T<0&&i[0]&&i[0].t=="t"&&(E=E.substr(1),i[0].v="-"+i[0].v)),A=E.length-1;var P=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){P=s;break}var k=i.length;if(P===i.length&&E.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(A>=i[s].v.length-1?(A-=i[s].v.length,i[s].v=E.substr(A+1,i[s].v.length)):A<0?i[s].v="":(i[s].v=E.substr(0,A+1),A=-1),i[s].t="t",k=s);A>=0&&k<i.length&&(i[k].v=E.substr(0,A+1)+i[k].v)}else if(P!==i.length&&E.indexOf("E")===-1){for(A=E.indexOf(".")-1,s=P;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(u=i[s].v.indexOf(".")>-1&&s===P?i[s].v.indexOf(".")-1:i[s].v.length-1,S=i[s].v.substr(u+1);u>=0;--u)A>=0&&(i[s].v.charAt(u)==="0"||i[s].v.charAt(u)==="#")&&(S=E.charAt(A--)+S);i[s].v=S,i[s].t="t",k=s}for(A>=0&&k<i.length&&(i[k].v=E.substr(0,A+1)+i[k].v),A=E.indexOf(".")+1,s=P;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==P)){for(u=i[s].v.indexOf(".")>-1&&s===P?i[s].v.indexOf(".")+1:0,S=i[s].v.substr(0,u);u<i[s].v.length;++u)A<E.length&&(S+=E.charAt(A++));i[s].v=S,i[s].t="t",k=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(T=n>1&&e<0&&s>0&&i[s-1].v==="-"?-e:e,i[s].v=wl(i[s].t,i[s].v,T),i[s].t="t");var N="";for(s=0;s!==i.length;++s)i[s]!=null&&(N+=i[s].v);return N}var gN=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function vN(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function Uq(t,e){var r=Bq(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(gN),o=r[1].match(gN);return vN(e,s)?[n,r[0]]:vN(e,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,a]}function ts(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Qe)[t],n==null&&(n=r.table&&r.table[hN[t]]||Qe[hN[t]]),n==null&&(n=Sq[t]||"General");break}if(Lw(n,0))return id(e,r);e instanceof Date&&(e=M8(e,r.date1904));var i=Uq(n,e);if(Lw(i[1]))return id(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return jq(i[1],e,r,i[0])}function _l(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Qe[r]==null){e<0&&(e=r);continue}if(Qe[r]==t){e=r;break}}e<0&&(e=391)}return Qe[e]=t,e}function Wb(t){for(var e=0;e!=392;++e)t[e]!==void 0&&_l(t[e],e)}function Tp(){Qe=bq()}var Vq={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},U8=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Hq(t){var e=typeof t=="number"?Qe[t]:t;return e=e.replace(U8,"(\\d+)"),new RegExp("^"+e+"$")}function Wq(t,e,r){var n=-1,i=-1,a=-1,s=-1,o=-1,l=-1;(e.match(U8)||[]).forEach(function(f,d){var h=parseInt(r[d+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=h;break;case"d":a=h;break;case"h":s=h;break;case"s":l=h;break;case"m":s>=0?o=h:i=h;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&i==-1&&a==-1?u:c+"T"+u}var zq=function(){var t={};t.version="1.2.0";function e(){for(var E=0,P=new Array(256),k=0;k!=256;++k)E=k,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,P[k]=E;return typeof Int32Array<"u"?new Int32Array(P):P}var r=e();function n(E){var P=0,k=0,N=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(N=0;N!=256;++N)O[N]=E[N];for(N=0;N!=256;++N)for(k=E[N],P=256+N;P<4096;P+=256)k=O[P]=k>>>8^E[k&255];var R=[];for(N=1;N!=16;++N)R[N-1]=typeof Int32Array<"u"?O.subarray(N*256,N*256+256):O.slice(N*256,N*256+256);return R}var i=n(r),a=i[0],s=i[1],o=i[2],l=i[3],c=i[4],u=i[5],f=i[6],d=i[7],h=i[8],m=i[9],p=i[10],y=i[11],w=i[12],b=i[13],_=i[14];function A(E,P){for(var k=P^-1,N=0,O=E.length;N<O;)k=k>>>8^r[(k^E.charCodeAt(N++))&255];return~k}function S(E,P){for(var k=P^-1,N=E.length-15,O=0;O<N;)k=_[E[O++]^k&255]^b[E[O++]^k>>8&255]^w[E[O++]^k>>16&255]^y[E[O++]^k>>>24]^p[E[O++]]^m[E[O++]]^h[E[O++]]^d[E[O++]]^f[E[O++]]^u[E[O++]]^c[E[O++]]^l[E[O++]]^o[E[O++]]^s[E[O++]]^a[E[O++]]^r[E[O++]];for(N+=15;O<N;)k=k>>>8^r[(k^E[O++])&255];return~k}function T(E,P){for(var k=P^-1,N=0,O=E.length,R=0,W=0;N<O;)R=E.charCodeAt(N++),R<128?k=k>>>8^r[(k^R)&255]:R<2048?(k=k>>>8^r[(k^(192|R>>6&31))&255],k=k>>>8^r[(k^(128|R&63))&255]):R>=55296&&R<57344?(R=(R&1023)+64,W=E.charCodeAt(N++)&1023,k=k>>>8^r[(k^(240|R>>8&7))&255],k=k>>>8^r[(k^(128|R>>2&63))&255],k=k>>>8^r[(k^(128|W>>6&15|(R&3)<<4))&255],k=k>>>8^r[(k^(128|W&63))&255]):(k=k>>>8^r[(k^(224|R>>12&15))&255],k=k>>>8^r[(k^(128|R>>6&63))&255],k=k>>>8^r[(k^(128|R&63))&255]);return~k}return t.table=r,t.bstr=A,t.buf=S,t.str=T,t}(),Ye=function(){var e={};e.version="1.2.1";function r(F,z){for(var U=F.split("/"),H=z.split("/"),G=0,K=0,le=Math.min(U.length,H.length);G<le;++G){if(K=U[G].length-H[G].length)return K;if(U[G]!=H[G])return U[G]<H[G]?-1:1}return U.length-H.length}function n(F){if(F.charAt(F.length-1)=="/")return F.slice(0,-1).indexOf("/")===-1?F:n(F.slice(0,-1));var z=F.lastIndexOf("/");return z===-1?F:F.slice(0,z+1)}function i(F){if(F.charAt(F.length-1)=="/")return i(F.slice(0,-1));var z=F.lastIndexOf("/");return z===-1?F:F.slice(z+1)}function a(F,z){typeof z=="string"&&(z=new Date(z));var U=z.getHours();U=U<<6|z.getMinutes(),U=U<<5|z.getSeconds()>>>1,F.write_shift(2,U);var H=z.getFullYear()-1980;H=H<<4|z.getMonth()+1,H=H<<5|z.getDate(),F.write_shift(2,H)}function s(F){var z=F.read_shift(2)&65535,U=F.read_shift(2)&65535,H=new Date,G=U&31;U>>>=5;var K=U&15;U>>>=4,H.setMilliseconds(0),H.setFullYear(U+1980),H.setMonth(K-1),H.setDate(G);var le=z&31;z>>>=5;var ge=z&63;return z>>>=6,H.setHours(z),H.setMinutes(ge),H.setSeconds(le<<1),H}function o(F){Un(F,0);for(var z={},U=0;F.l<=F.length-4;){var H=F.read_shift(2),G=F.read_shift(2),K=F.l+G,le={};switch(H){case 21589:U=F.read_shift(1),U&1&&(le.mtime=F.read_shift(4)),G>5&&(U&2&&(le.atime=F.read_shift(4)),U&4&&(le.ctime=F.read_shift(4))),le.mtime&&(le.mt=new Date(le.mtime*1e3));break}F.l=K,z[H]=le}return z}var l;function c(){return l||(l={})}function u(F,z){if(F[0]==80&&F[1]==75)return gt(F,z);if((F[0]|32)==109&&(F[1]|32)==105)return JH(F,z);if(F.length<512)throw new Error("CFB file size "+F.length+" < 512");var U=3,H=512,G=0,K=0,le=0,ge=0,oe=0,fe=[],de=F.slice(0,512);Un(de,0);var we=f(de);switch(U=we[0],U){case 3:H=512;break;case 4:H=4096;break;case 0:if(we[1]==0)return gt(F,z);default:throw new Error("Major Version: Expected 3 or 4 saw "+U)}H!==512&&(de=F.slice(0,H),Un(de,28));var Ie=F.slice(0,H);d(de,U);var Fe=de.read_shift(4,"i");if(U===3&&Fe!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Fe);de.l+=4,le=de.read_shift(4,"i"),de.l+=4,de.chk("00100000","Mini Stream Cutoff Size: "),ge=de.read_shift(4,"i"),G=de.read_shift(4,"i"),oe=de.read_shift(4,"i"),K=de.read_shift(4,"i");for(var Ae=-1,Ne=0;Ne<109&&(Ae=de.read_shift(4,"i"),!(Ae<0));++Ne)fe[Ne]=Ae;var ct=h(F,H);y(oe,K,ct,H,fe);var _r=b(ct,le,fe,H);_r[le].name="!Directory",G>0&&ge!==W&&(_r[ge].name="!MiniFAT"),_r[fe[0]].name="!FAT",_r.fat_addrs=fe,_r.ssz=H;var br={},qn=[],Hp=[],Wp=[];_(le,_r,ct,qn,G,br,Hp,ge),m(Hp,Wp,qn),qn.shift();var zp={FileIndex:Hp,FullPaths:Wp};return z&&z.raw&&(zp.raw={header:Ie,sectors:ct}),zp}function f(F){if(F[F.l]==80&&F[F.l+1]==75)return[0,0];F.chk(Q,"Header Signature: "),F.l+=16;var z=F.read_shift(2,"u");return[F.read_shift(2,"u"),z]}function d(F,z){var U=9;switch(F.l+=2,U=F.read_shift(2)){case 9:if(z!=3)throw new Error("Sector Shift: Expected 9 saw "+U);break;case 12:if(z!=4)throw new Error("Sector Shift: Expected 12 saw "+U);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+U)}F.chk("0600","Mini Sector Shift: "),F.chk("000000000000","Reserved: ")}function h(F,z){for(var U=Math.ceil(F.length/z)-1,H=[],G=1;G<U;++G)H[G-1]=F.slice(G*z,(G+1)*z);return H[U-1]=F.slice(U*z),H}function m(F,z,U){for(var H=0,G=0,K=0,le=0,ge=0,oe=U.length,fe=[],de=[];H<oe;++H)fe[H]=de[H]=H,z[H]=U[H];for(;ge<de.length;++ge)H=de[ge],G=F[H].L,K=F[H].R,le=F[H].C,fe[H]===H&&(G!==-1&&fe[G]!==G&&(fe[H]=fe[G]),K!==-1&&fe[K]!==K&&(fe[H]=fe[K])),le!==-1&&(fe[le]=H),G!==-1&&H!=fe[H]&&(fe[G]=fe[H],de.lastIndexOf(G)<ge&&de.push(G)),K!==-1&&H!=fe[H]&&(fe[K]=fe[H],de.lastIndexOf(K)<ge&&de.push(K));for(H=1;H<oe;++H)fe[H]===H&&(K!==-1&&fe[K]!==K?fe[H]=fe[K]:G!==-1&&fe[G]!==G&&(fe[H]=fe[G]));for(H=1;H<oe;++H)if(F[H].type!==0){if(ge=H,ge!=fe[ge])do ge=fe[ge],z[H]=z[ge]+"/"+z[H];while(ge!==0&&fe[ge]!==-1&&ge!=fe[ge]);fe[H]=-1}for(z[0]+="/",H=1;H<oe;++H)F[H].type!==2&&(z[H]+="/")}function p(F,z,U){for(var H=F.start,G=F.size,K=[],le=H;U&&G>0&&le>=0;)K.push(z.slice(le*R,le*R+R)),G-=R,le=Lu(U,le*4);return K.length===0?pe(0):In(K).slice(0,F.size)}function y(F,z,U,H,G){var K=W;if(F===W){if(z!==0)throw new Error("DIFAT chain shorter than expected")}else if(F!==-1){var le=U[F],ge=(H>>>2)-1;if(!le)return;for(var oe=0;oe<ge&&(K=Lu(le,oe*4))!==W;++oe)G.push(K);y(Lu(le,H-4),z-1,U,H,G)}}function w(F,z,U,H,G){var K=[],le=[];G||(G=[]);var ge=H-1,oe=0,fe=0;for(oe=z;oe>=0;){G[oe]=!0,K[K.length]=oe,le.push(F[oe]);var de=U[Math.floor(oe*4/H)];if(fe=oe*4&ge,H<4+fe)throw new Error("FAT boundary crossed: "+oe+" 4 "+H);if(!F[de])break;oe=Lu(F[de],fe)}return{nodes:K,data:PN([le])}}function b(F,z,U,H){var G=F.length,K=[],le=[],ge=[],oe=[],fe=H-1,de=0,we=0,Ie=0,Fe=0;for(de=0;de<G;++de)if(ge=[],Ie=de+z,Ie>=G&&(Ie-=G),!le[Ie]){oe=[];var Ae=[];for(we=Ie;we>=0;){Ae[we]=!0,le[we]=!0,ge[ge.length]=we,oe.push(F[we]);var Ne=U[Math.floor(we*4/H)];if(Fe=we*4&fe,H<4+Fe)throw new Error("FAT boundary crossed: "+we+" 4 "+H);if(!F[Ne]||(we=Lu(F[Ne],Fe),Ae[we]))break}K[Ie]={nodes:ge,data:PN([oe])}}return K}function _(F,z,U,H,G,K,le,ge){for(var oe=0,fe=H.length?2:0,de=z[F].data,we=0,Ie=0,Fe;we<de.length;we+=128){var Ae=de.slice(we,we+128);Un(Ae,64),Ie=Ae.read_shift(2),Fe=qP(Ae,0,Ie-fe),H.push(Fe);var Ne={name:Fe,type:Ae.read_shift(1),color:Ae.read_shift(1),L:Ae.read_shift(4,"i"),R:Ae.read_shift(4,"i"),C:Ae.read_shift(4,"i"),clsid:Ae.read_shift(16),state:Ae.read_shift(4,"i"),start:0,size:0},ct=Ae.read_shift(2)+Ae.read_shift(2)+Ae.read_shift(2)+Ae.read_shift(2);ct!==0&&(Ne.ct=A(Ae,Ae.l-8));var _r=Ae.read_shift(2)+Ae.read_shift(2)+Ae.read_shift(2)+Ae.read_shift(2);_r!==0&&(Ne.mt=A(Ae,Ae.l-8)),Ne.start=Ae.read_shift(4,"i"),Ne.size=Ae.read_shift(4,"i"),Ne.size<0&&Ne.start<0&&(Ne.size=Ne.type=0,Ne.start=W,Ne.name=""),Ne.type===5?(oe=Ne.start,G>0&&oe!==W&&(z[oe].name="!StreamData")):Ne.size>=4096?(Ne.storage="fat",z[Ne.start]===void 0&&(z[Ne.start]=w(U,Ne.start,z.fat_addrs,z.ssz)),z[Ne.start].name=Ne.name,Ne.content=z[Ne.start].data.slice(0,Ne.size)):(Ne.storage="minifat",Ne.size<0?Ne.size=0:oe!==W&&Ne.start!==W&&z[oe]&&(Ne.content=p(Ne,z[oe].data,(z[ge]||{}).data))),Ne.content&&Un(Ne.content,0),K[Fe]=Ne,le.push(Ne)}}function A(F,z){return new Date((da(F,z+4)/1e7*Math.pow(2,32)+da(F,z)/1e7-11644473600)*1e3)}function S(F,z){return c(),u(l.readFileSync(F),z)}function T(F,z){var U=z&&z.type;switch(U||xt&&Buffer.isBuffer(F)&&(U="buffer"),U||"base64"){case"file":return S(F,z);case"base64":return u(pa(_a(F)),z);case"binary":return u(pa(F),z)}return u(F,z)}function E(F,z){var U=z||{},H=U.root||"Root Entry";if(F.FullPaths||(F.FullPaths=[]),F.FileIndex||(F.FileIndex=[]),F.FullPaths.length!==F.FileIndex.length)throw new Error("inconsistent CFB structure");F.FullPaths.length===0&&(F.FullPaths[0]=H+"/",F.FileIndex[0]={name:H,type:5}),U.CLSID&&(F.FileIndex[0].clsid=U.CLSID),P(F)}function P(F){var z="Sh33tJ5";if(!Ye.find(F,"/"+z)){var U=pe(4);U[0]=55,U[1]=U[3]=50,U[2]=54,F.FileIndex.push({name:z,type:2,content:U,size:4,L:69,R:69,C:69}),F.FullPaths.push(F.FullPaths[0]+z),k(F)}}function k(F,z){E(F);for(var U=!1,H=!1,G=F.FullPaths.length-1;G>=0;--G){var K=F.FileIndex[G];switch(K.type){case 0:H?U=!0:(F.FileIndex.pop(),F.FullPaths.pop());break;case 1:case 2:case 5:H=!0,isNaN(K.R*K.L*K.C)&&(U=!0),K.R>-1&&K.L>-1&&K.R==K.L&&(U=!0);break;default:U=!0;break}}if(!(!U&&!z)){var le=new Date(1987,1,19),ge=0,oe=Object.create?Object.create(null):{},fe=[];for(G=0;G<F.FullPaths.length;++G)oe[F.FullPaths[G]]=!0,F.FileIndex[G].type!==0&&fe.push([F.FullPaths[G],F.FileIndex[G]]);for(G=0;G<fe.length;++G){var de=n(fe[G][0]);H=oe[de],H||(fe.push([de,{name:i(de).replace("/",""),type:1,clsid:Y,ct:le,mt:le,content:null}]),oe[de]=!0)}for(fe.sort(function(Fe,Ae){return r(Fe[0],Ae[0])}),F.FullPaths=[],F.FileIndex=[],G=0;G<fe.length;++G)F.FullPaths[G]=fe[G][0],F.FileIndex[G]=fe[G][1];for(G=0;G<fe.length;++G){var we=F.FileIndex[G],Ie=F.FullPaths[G];if(we.name=i(Ie).replace("/",""),we.L=we.R=we.C=-(we.color=1),we.size=we.content?we.content.length:0,we.start=0,we.clsid=we.clsid||Y,G===0)we.C=fe.length>1?1:-1,we.size=0,we.type=5;else if(Ie.slice(-1)=="/"){for(ge=G+1;ge<fe.length&&n(F.FullPaths[ge])!=Ie;++ge);for(we.C=ge>=fe.length?-1:ge,ge=G+1;ge<fe.length&&n(F.FullPaths[ge])!=n(Ie);++ge);we.R=ge>=fe.length?-1:ge,we.type=1}else n(F.FullPaths[G+1]||"")==n(Ie)&&(we.R=G+1),we.type=2}}}function N(F,z){var U=z||{};if(U.fileType=="mad")return ZH(F,U);switch(k(F),U.fileType){case"zip":return gi(F,U)}var H=function(Fe){for(var Ae=0,Ne=0,ct=0;ct<Fe.FileIndex.length;++ct){var _r=Fe.FileIndex[ct];if(_r.content){var br=_r.content.length;br>0&&(br<4096?Ae+=br+63>>6:Ne+=br+511>>9)}}for(var qn=Fe.FullPaths.length+3>>2,Hp=Ae+7>>3,Wp=Ae+127>>7,zp=Hp+Ne+qn+Wp,Tu=zp+127>>7,eA=Tu<=109?0:Math.ceil((Tu-109)/127);zp+Tu+eA+127>>7>Tu;)eA=++Tu<=109?0:Math.ceil((Tu-109)/127);var No=[1,eA,Tu,Wp,qn,Ne,Ae,0];return Fe.FileIndex[0].size=Ae<<6,No[7]=(Fe.FileIndex[0].start=No[0]+No[1]+No[2]+No[3]+No[4]+No[5])+(No[6]+7>>3),No}(F),G=pe(H[7]<<9),K=0,le=0;{for(K=0;K<8;++K)G.write_shift(1,j[K]);for(K=0;K<8;++K)G.write_shift(2,0);for(G.write_shift(2,62),G.write_shift(2,3),G.write_shift(2,65534),G.write_shift(2,9),G.write_shift(2,6),K=0;K<3;++K)G.write_shift(2,0);for(G.write_shift(4,0),G.write_shift(4,H[2]),G.write_shift(4,H[0]+H[1]+H[2]+H[3]-1),G.write_shift(4,0),G.write_shift(4,4096),G.write_shift(4,H[3]?H[0]+H[1]+H[2]-1:W),G.write_shift(4,H[3]),G.write_shift(-4,H[1]?H[0]-1:W),G.write_shift(4,H[1]),K=0;K<109;++K)G.write_shift(-4,K<H[2]?H[1]+K:-1)}if(H[1])for(le=0;le<H[1];++le){for(;K<236+le*127;++K)G.write_shift(-4,K<H[2]?H[1]+K:-1);G.write_shift(-4,le===H[1]-1?W:le+1)}var ge=function(Fe){for(le+=Fe;K<le-1;++K)G.write_shift(-4,K+1);Fe&&(++K,G.write_shift(-4,W))};for(le=K=0,le+=H[1];K<le;++K)G.write_shift(-4,J.DIFSECT);for(le+=H[2];K<le;++K)G.write_shift(-4,J.FATSECT);ge(H[3]),ge(H[4]);for(var oe=0,fe=0,de=F.FileIndex[0];oe<F.FileIndex.length;++oe)de=F.FileIndex[oe],de.content&&(fe=de.content.length,!(fe<4096)&&(de.start=le,ge(fe+511>>9)));for(ge(H[6]+7>>3);G.l&511;)G.write_shift(-4,J.ENDOFCHAIN);for(le=K=0,oe=0;oe<F.FileIndex.length;++oe)de=F.FileIndex[oe],de.content&&(fe=de.content.length,!(!fe||fe>=4096)&&(de.start=le,ge(fe+63>>6)));for(;G.l&511;)G.write_shift(-4,J.ENDOFCHAIN);for(K=0;K<H[4]<<2;++K){var we=F.FullPaths[K];if(!we||we.length===0){for(oe=0;oe<17;++oe)G.write_shift(4,0);for(oe=0;oe<3;++oe)G.write_shift(4,-1);for(oe=0;oe<12;++oe)G.write_shift(4,0);continue}de=F.FileIndex[K],K===0&&(de.start=de.size?de.start-1:W);var Ie=K===0&&U.root||de.name;if(fe=2*(Ie.length+1),G.write_shift(64,Ie,"utf16le"),G.write_shift(2,fe),G.write_shift(1,de.type),G.write_shift(1,de.color),G.write_shift(-4,de.L),G.write_shift(-4,de.R),G.write_shift(-4,de.C),de.clsid)G.write_shift(16,de.clsid,"hex");else for(oe=0;oe<4;++oe)G.write_shift(4,0);G.write_shift(4,de.state||0),G.write_shift(4,0),G.write_shift(4,0),G.write_shift(4,0),G.write_shift(4,0),G.write_shift(4,de.start),G.write_shift(4,de.size),G.write_shift(4,0)}for(K=1;K<F.FileIndex.length;++K)if(de=F.FileIndex[K],de.size>=4096)if(G.l=de.start+1<<9,xt&&Buffer.isBuffer(de.content))de.content.copy(G,G.l,0,de.size),G.l+=de.size+511&-512;else{for(oe=0;oe<de.size;++oe)G.write_shift(1,de.content[oe]);for(;oe&511;++oe)G.write_shift(1,0)}for(K=1;K<F.FileIndex.length;++K)if(de=F.FileIndex[K],de.size>0&&de.size<4096)if(xt&&Buffer.isBuffer(de.content))de.content.copy(G,G.l,0,de.size),G.l+=de.size+63&-64;else{for(oe=0;oe<de.size;++oe)G.write_shift(1,de.content[oe]);for(;oe&63;++oe)G.write_shift(1,0)}if(xt)G.l=G.length;else for(;G.l<G.length;)G.write_shift(1,0);return G}function O(F,z){var U=F.FullPaths.map(function(oe){return oe.toUpperCase()}),H=U.map(function(oe){var fe=oe.split("/");return fe[fe.length-(oe.slice(-1)=="/"?2:1)]}),G=!1;z.charCodeAt(0)===47?(G=!0,z=U[0].slice(0,-1)+z):G=z.indexOf("/")!==-1;var K=z.toUpperCase(),le=G===!0?U.indexOf(K):H.indexOf(K);if(le!==-1)return F.FileIndex[le];var ge=!K.match(wm);for(K=K.replace(Ei,""),ge&&(K=K.replace(wm,"!")),le=0;le<U.length;++le)if((ge?U[le].replace(wm,"!"):U[le]).replace(Ei,"")==K||(ge?H[le].replace(wm,"!"):H[le]).replace(Ei,"")==K)return F.FileIndex[le];return null}var R=64,W=-2,Q="d0cf11e0a1b11ae1",j=[208,207,17,224,161,177,26,225],Y="00000000000000000000000000000000",J={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:W,FREESECT:-1,HEADER_SIGNATURE:Q,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Y,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Z(F,z,U){c();var H=N(F,U);l.writeFileSync(z,H)}function V(F){for(var z=new Array(F.length),U=0;U<F.length;++U)z[U]=String.fromCharCode(F[U]);return z.join("")}function te(F,z){var U=N(F,z);switch(z&&z.type||"buffer"){case"file":return c(),l.writeFileSync(z.filename,U),U;case"binary":return typeof U=="string"?U:V(U);case"base64":return Rg(typeof U=="string"?U:V(U));case"buffer":if(xt)return Buffer.isBuffer(U)?U:Hl(U);case"array":return typeof U=="string"?pa(U):U}return U}var se;function D(F){try{var z=F.InflateRaw,U=new z;if(U._processChunk(new Uint8Array([3,0]),U._finishFlushFlag),U.bytesRead)se=F;else throw new Error("zlib does not expose bytesRead")}catch(H){console.error("cannot use native zlib: "+(H.message||H))}}function q(F,z){if(!se)return Vp(F,z);var U=se.InflateRaw,H=new U,G=H._processChunk(F.slice(F.l),H._finishFlushFlag);return F.l+=H.bytesRead,G}function X(F){return se?se.deflateRawSync(F):Me(F)}var ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ue=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ve(F){var z=(F<<1|F<<11)&139536|(F<<5|F<<15)&558144;return(z>>16|z>>8|z)&255}for(var ie=typeof Uint8Array<"u",ce=ie?new Uint8Array(256):[],be=0;be<256;++be)ce[be]=ve(be);function L(F,z){var U=ce[F&255];return z<=8?U>>>8-z:(U=U<<8|ce[F>>8&255],z<=16?U>>>16-z:(U=U<<8|ce[F>>16&255],U>>>24-z))}function Ue(F,z){var U=z&7,H=z>>>3;return(F[H]|(U<=6?0:F[H+1]<<8))>>>U&3}function Ce(F,z){var U=z&7,H=z>>>3;return(F[H]|(U<=5?0:F[H+1]<<8))>>>U&7}function Ve(F,z){var U=z&7,H=z>>>3;return(F[H]|(U<=4?0:F[H+1]<<8))>>>U&15}function Be(F,z){var U=z&7,H=z>>>3;return(F[H]|(U<=3?0:F[H+1]<<8))>>>U&31}function xe(F,z){var U=z&7,H=z>>>3;return(F[H]|(U<=1?0:F[H+1]<<8))>>>U&127}function Tt(F,z,U){var H=z&7,G=z>>>3,K=(1<<U)-1,le=F[G]>>>H;return U<8-H||(le|=F[G+1]<<8-H,U<16-H)||(le|=F[G+2]<<16-H,U<24-H)||(le|=F[G+3]<<24-H),le&K}function He(F,z,U){var H=z&7,G=z>>>3;return H<=5?F[G]|=(U&7)<<H:(F[G]|=U<<H&255,F[G+1]=(U&7)>>8-H),z+3}function Nr(F,z,U){var H=z&7,G=z>>>3;return U=(U&1)<<H,F[G]|=U,z+1}function mr(F,z,U){var H=z&7,G=z>>>3;return U<<=H,F[G]|=U&255,U>>>=8,F[G+1]=U,z+8}function xr(F,z,U){var H=z&7,G=z>>>3;return U<<=H,F[G]|=U&255,U>>>=8,F[G+1]=U&255,F[G+2]=U>>>8,z+16}function Xr(F,z){var U=F.length,H=2*U>z?2*U:z+5,G=0;if(U>=z)return F;if(xt){var K=uN(H);if(F.copy)F.copy(K);else for(;G<F.length;++G)K[G]=F[G];return K}else if(ie){var le=new Uint8Array(H);if(le.set)le.set(F);else for(;G<U;++G)le[G]=F[G];return le}return F.length=H,F}function wr(F){for(var z=new Array(F),U=0;U<F;++U)z[U]=0;return z}function jr(F,z,U){var H=1,G=0,K=0,le=0,ge=0,oe=F.length,fe=ie?new Uint16Array(32):wr(32);for(K=0;K<32;++K)fe[K]=0;for(K=oe;K<U;++K)F[K]=0;oe=F.length;var de=ie?new Uint16Array(oe):wr(oe);for(K=0;K<oe;++K)fe[G=F[K]]++,H<G&&(H=G),de[K]=0;for(fe[0]=0,K=1;K<=H;++K)fe[K+16]=ge=ge+fe[K-1]<<1;for(K=0;K<oe;++K)ge=F[K],ge!=0&&(de[K]=fe[ge+16]++);var we=0;for(K=0;K<oe;++K)if(we=F[K],we!=0)for(ge=L(de[K],H)>>H-we,le=(1<<H+4-we)-1;le>=0;--le)z[ge|le<<we]=we&15|K<<4;return H}var he=ie?new Uint16Array(512):wr(512),qe=ie?new Uint16Array(32):wr(32);if(!ie){for(var Xe=0;Xe<512;++Xe)he[Xe]=0;for(Xe=0;Xe<32;++Xe)qe[Xe]=0}(function(){for(var F=[],z=0;z<32;z++)F.push(5);jr(F,qe,32);var U=[];for(z=0;z<=143;z++)U.push(8);for(;z<=255;z++)U.push(9);for(;z<=279;z++)U.push(7);for(;z<=287;z++)U.push(8);jr(U,he,288)})();var it=function(){for(var z=ie?new Uint8Array(32768):[],U=0,H=0;U<ue.length-1;++U)for(;H<ue[U+1];++H)z[H]=U;for(;H<32768;++H)z[H]=29;var G=ie?new Uint8Array(259):[];for(U=0,H=0;U<ae.length-1;++U)for(;H<ae[U+1];++H)G[H]=U;function K(ge,oe){for(var fe=0;fe<ge.length;){var de=Math.min(65535,ge.length-fe),we=fe+de==ge.length;for(oe.write_shift(1,+we),oe.write_shift(2,de),oe.write_shift(2,~de&65535);de-- >0;)oe[oe.l++]=ge[fe++]}return oe.l}function le(ge,oe){for(var fe=0,de=0,we=ie?new Uint16Array(32768):[];de<ge.length;){var Ie=Math.min(65535,ge.length-de);if(Ie<10){for(fe=He(oe,fe,+(de+Ie==ge.length)),fe&7&&(fe+=8-(fe&7)),oe.l=fe/8|0,oe.write_shift(2,Ie),oe.write_shift(2,~Ie&65535);Ie-- >0;)oe[oe.l++]=ge[de++];fe=oe.l*8;continue}fe=He(oe,fe,+(de+Ie==ge.length)+2);for(var Fe=0;Ie-- >0;){var Ae=ge[de];Fe=(Fe<<5^Ae)&32767;var Ne=-1,ct=0;if((Ne=we[Fe])&&(Ne|=de&-32768,Ne>de&&(Ne-=32768),Ne<de))for(;ge[Ne+ct]==ge[de+ct]&&ct<250;)++ct;if(ct>2){Ae=G[ct],Ae<=22?fe=mr(oe,fe,ce[Ae+1]>>1)-1:(mr(oe,fe,3),fe+=5,mr(oe,fe,ce[Ae-23]>>5),fe+=3);var _r=Ae<8?0:Ae-4>>2;_r>0&&(xr(oe,fe,ct-ae[Ae]),fe+=_r),Ae=z[de-Ne],fe=mr(oe,fe,ce[Ae]>>3),fe-=3;var br=Ae<4?0:Ae-2>>1;br>0&&(xr(oe,fe,de-Ne-ue[Ae]),fe+=br);for(var qn=0;qn<ct;++qn)we[Fe]=de&32767,Fe=(Fe<<5^ge[de])&32767,++de;Ie-=ct-1}else Ae<=143?Ae=Ae+48:fe=Nr(oe,fe,1),fe=mr(oe,fe,ce[Ae]),we[Fe]=de&32767,++de}fe=mr(oe,fe,0)-1}return oe.l=(fe+7)/8|0,oe.l}return function(oe,fe){return oe.length<8?K(oe,fe):le(oe,fe)}}();function Me(F){var z=pe(50+Math.floor(F.length*1.1)),U=it(F,z);return z.slice(0,U)}var wt=ie?new Uint16Array(32768):wr(32768),Kt=ie?new Uint16Array(32768):wr(32768),ar=ie?new Uint16Array(128):wr(128),Ta=1,Bd=1;function ZS(F,z){var U=Be(F,z)+257;z+=5;var H=Be(F,z)+1;z+=5;var G=Ve(F,z)+4;z+=4;for(var K=0,le=ie?new Uint8Array(19):wr(19),ge=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],oe=1,fe=ie?new Uint8Array(8):wr(8),de=ie?new Uint8Array(8):wr(8),we=le.length,Ie=0;Ie<G;++Ie)le[ee[Ie]]=K=Ce(F,z),oe<K&&(oe=K),fe[K]++,z+=3;var Fe=0;for(fe[0]=0,Ie=1;Ie<=oe;++Ie)de[Ie]=Fe=Fe+fe[Ie-1]<<1;for(Ie=0;Ie<we;++Ie)(Fe=le[Ie])!=0&&(ge[Ie]=de[Fe]++);var Ae=0;for(Ie=0;Ie<we;++Ie)if(Ae=le[Ie],Ae!=0){Fe=ce[ge[Ie]]>>8-Ae;for(var Ne=(1<<7-Ae)-1;Ne>=0;--Ne)ar[Fe|Ne<<Ae]=Ae&7|Ie<<3}var ct=[];for(oe=1;ct.length<U+H;)switch(Fe=ar[xe(F,z)],z+=Fe&7,Fe>>>=3){case 16:for(K=3+Ue(F,z),z+=2,Fe=ct[ct.length-1];K-- >0;)ct.push(Fe);break;case 17:for(K=3+Ce(F,z),z+=3;K-- >0;)ct.push(0);break;case 18:for(K=11+xe(F,z),z+=7;K-- >0;)ct.push(0);break;default:ct.push(Fe),oe<Fe&&(oe=Fe);break}var _r=ct.slice(0,U),br=ct.slice(U);for(Ie=U;Ie<286;++Ie)_r[Ie]=0;for(Ie=H;Ie<30;++Ie)br[Ie]=0;return Ta=jr(_r,wt,286),Bd=jr(br,Kt,30),z}function yx(F,z){if(F[0]==3&&!(F[1]&3))return[ru(z),2];for(var U=0,H=0,G=uN(z||1<<18),K=0,le=G.length>>>0,ge=0,oe=0;!(H&1);){if(H=Ce(F,U),U+=3,H>>>1)H>>1==1?(ge=9,oe=5):(U=ZS(F,U),ge=Ta,oe=Bd);else{U&7&&(U+=8-(U&7));var fe=F[U>>>3]|F[(U>>>3)+1]<<8;if(U+=32,fe>0)for(!z&&le<K+fe&&(G=Xr(G,K+fe),le=G.length);fe-- >0;)G[K++]=F[U>>>3],U+=8;continue}for(;;){!z&&le<K+32767&&(G=Xr(G,K+32767),le=G.length);var de=Tt(F,U,ge),we=H>>>1==1?he[de]:wt[de];if(U+=we&15,we>>>=4,!(we>>>8&255))G[K++]=we;else{if(we==256)break;we-=257;var Ie=we<8?0:we-4>>2;Ie>5&&(Ie=0);var Fe=K+ae[we];Ie>0&&(Fe+=Tt(F,U,Ie),U+=Ie),de=Tt(F,U,oe),we=H>>>1==1?qe[de]:Kt[de],U+=we&15,we>>>=4;var Ae=we<4?0:we-2>>1,Ne=ue[we];for(Ae>0&&(Ne+=Tt(F,U,Ae),U+=Ae),!z&&le<Fe&&(G=Xr(G,Fe+100),le=G.length);K<Fe;)G[K]=G[K-Ne],++K}}}return z?[G,U+7>>>3]:[G.slice(0,K),U+7>>>3]}function Vp(F,z){var U=F.slice(F.l||0),H=yx(U,z);return F.l+=H[1],H[0]}function ze(F,z){if(F)typeof console<"u"&&console.error(z);else throw new Error(z)}function gt(F,z){var U=F;Un(U,0);var H=[],G=[],K={FileIndex:H,FullPaths:G};E(K,{root:z.root});for(var le=U.length-4;(U[le]!=80||U[le+1]!=75||U[le+2]!=5||U[le+3]!=6)&&le>=0;)--le;U.l=le+4,U.l+=4;var ge=U.read_shift(2);U.l+=6;var oe=U.read_shift(4);for(U.l=oe,le=0;le<ge;++le){U.l+=20;var fe=U.read_shift(4),de=U.read_shift(4),we=U.read_shift(2),Ie=U.read_shift(2),Fe=U.read_shift(2);U.l+=8;var Ae=U.read_shift(4),Ne=o(U.slice(U.l+we,U.l+we+Ie));U.l+=we+Ie+Fe;var ct=U.l;U.l=Ae+4,jt(U,fe,de,K,Ne),U.l=ct}return K}function jt(F,z,U,H,G){F.l+=2;var K=F.read_shift(2),le=F.read_shift(2),ge=s(F);if(K&8257)throw new Error("Unsupported ZIP encryption");for(var oe=F.read_shift(4),fe=F.read_shift(4),de=F.read_shift(4),we=F.read_shift(2),Ie=F.read_shift(2),Fe="",Ae=0;Ae<we;++Ae)Fe+=String.fromCharCode(F[F.l++]);if(Ie){var Ne=o(F.slice(F.l,F.l+Ie));(Ne[21589]||{}).mt&&(ge=Ne[21589].mt),((G||{})[21589]||{}).mt&&(ge=G[21589].mt)}F.l+=Ie;var ct=F.slice(F.l,F.l+fe);switch(le){case 8:ct=q(F,de);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+le)}var _r=!1;K&8&&(oe=F.read_shift(4),oe==134695760&&(oe=F.read_shift(4),_r=!0),fe=F.read_shift(4),de=F.read_shift(4)),fe!=z&&ze(_r,"Bad compressed size: "+z+" != "+fe),de!=U&&ze(_r,"Bad uncompressed size: "+U+" != "+de),QS(H,Fe,ct,{unsafe:!0,mt:ge})}function gi(F,z){var U=z||{},H=[],G=[],K=pe(1),le=U.compression?8:0,ge=0,oe=0,fe=0,de=0,we=0,Ie=F.FullPaths[0],Fe=Ie,Ae=F.FileIndex[0],Ne=[],ct=0;for(oe=1;oe<F.FullPaths.length;++oe)if(Fe=F.FullPaths[oe].slice(Ie.length),Ae=F.FileIndex[oe],!(!Ae.size||!Ae.content||Fe=="Sh33tJ5")){var _r=de,br=pe(Fe.length);for(fe=0;fe<Fe.length;++fe)br.write_shift(1,Fe.charCodeAt(fe)&127);br=br.slice(0,br.l),Ne[we]=zq.buf(Ae.content,0);var qn=Ae.content;le==8&&(qn=X(qn)),K=pe(30),K.write_shift(4,67324752),K.write_shift(2,20),K.write_shift(2,ge),K.write_shift(2,le),Ae.mt?a(K,Ae.mt):K.write_shift(4,0),K.write_shift(-4,Ne[we]),K.write_shift(4,qn.length),K.write_shift(4,Ae.content.length),K.write_shift(2,br.length),K.write_shift(2,0),de+=K.length,H.push(K),de+=br.length,H.push(br),de+=qn.length,H.push(qn),K=pe(46),K.write_shift(4,33639248),K.write_shift(2,0),K.write_shift(2,20),K.write_shift(2,ge),K.write_shift(2,le),K.write_shift(4,0),K.write_shift(-4,Ne[we]),K.write_shift(4,qn.length),K.write_shift(4,Ae.content.length),K.write_shift(2,br.length),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(4,0),K.write_shift(4,_r),ct+=K.l,G.push(K),ct+=br.length,G.push(br),++we}return K=pe(22),K.write_shift(4,101010256),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,we),K.write_shift(2,we),K.write_shift(4,ct),K.write_shift(4,de),K.write_shift(2,0),In([In(H),In(G),K])}var Kr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Yl(F,z){if(F.ctype)return F.ctype;var U=F.name||"",H=U.match(/\.([^\.]+)$/);return H&&Kr[H[1]]||z&&(H=(U=z).match(/[\.\\]([^\.\\])+$/),H&&Kr[H[1]])?Kr[H[1]]:"application/octet-stream"}function Jl(F){for(var z=Rg(F),U=[],H=0;H<z.length;H+=76)U.push(z.slice(H,H+76));return U.join(`\r
`)+`\r
`}function xx(F){var z=F.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(fe){var de=fe.charCodeAt(0).toString(16).toUpperCase();return"="+(de.length==1?"0"+de:de)});z=z.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),z.charAt(0)==`
`&&(z="=0D"+z.slice(1)),z=z.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var U=[],H=z.split(`\r
`),G=0;G<H.length;++G){var K=H[G];if(K.length==0){U.push("");continue}for(var le=0;le<K.length;){var ge=76,oe=K.slice(le,le+ge);oe.charAt(ge-1)=="="?ge--:oe.charAt(ge-2)=="="?ge-=2:oe.charAt(ge-3)=="="&&(ge-=3),oe=K.slice(le,le+ge),le+=ge,le<K.length&&(oe+="="),U.push(oe)}}return U.join(`\r
`)}function KH(F){for(var z=[],U=0;U<F.length;++U){for(var H=F[U];U<=F.length&&H.charAt(H.length-1)=="=";)H=H.slice(0,H.length-1)+F[++U];z.push(H)}for(var G=0;G<z.length;++G)z[G]=z[G].replace(/[=][0-9A-Fa-f]{2}/g,function(K){return String.fromCharCode(parseInt(K.slice(1),16))});return pa(z.join(`\r
`))}function YH(F,z,U){for(var H="",G="",K="",le,ge=0;ge<10;++ge){var oe=z[ge];if(!oe||oe.match(/^\s*$/))break;var fe=oe.match(/^(.*?):\s*([^\s].*)$/);if(fe)switch(fe[1].toLowerCase()){case"content-location":H=fe[2].trim();break;case"content-type":K=fe[2].trim();break;case"content-transfer-encoding":G=fe[2].trim();break}}switch(++ge,G.toLowerCase()){case"base64":le=pa(_a(z.slice(ge).join("")));break;case"quoted-printable":le=KH(z.slice(ge));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+G)}var de=QS(F,H.slice(U.length),le,{unsafe:!0});K&&(de.ctype=K)}function JH(F,z){if(V(F.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var U=z&&z.root||"",H=(xt&&Buffer.isBuffer(F)?F.toString("binary"):V(F)).split(`\r
`),G=0,K="";for(G=0;G<H.length;++G)if(K=H[G],!!/^Content-Location:/i.test(K)&&(K=K.slice(K.indexOf("file")),U||(U=K.slice(0,K.lastIndexOf("/")+1)),K.slice(0,U.length)!=U))for(;U.length>0&&(U=U.slice(0,U.length-1),U=U.slice(0,U.lastIndexOf("/")+1),K.slice(0,U.length)!=U););var le=(H[1]||"").match(/boundary="(.*?)"/);if(!le)throw new Error("MAD cannot find boundary");var ge="--"+(le[1]||""),oe=[],fe=[],de={FileIndex:oe,FullPaths:fe};E(de);var we,Ie=0;for(G=0;G<H.length;++G){var Fe=H[G];Fe!==ge&&Fe!==ge+"--"||(Ie++&&YH(de,H.slice(we,G),U),we=G)}return de}function ZH(F,z){var U=z||{},H=U.boundary||"SheetJS";H="------="+H;for(var G=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+H.slice(2)+'"',"","",""],K=F.FullPaths[0],le=K,ge=F.FileIndex[0],oe=1;oe<F.FullPaths.length;++oe)if(le=F.FullPaths[oe].slice(K.length),ge=F.FileIndex[oe],!(!ge.size||!ge.content||le=="Sh33tJ5")){le=le.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ct){return"_x"+ct.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ct){return"_u"+ct.charCodeAt(0).toString(16)+"_"});for(var fe=ge.content,de=xt&&Buffer.isBuffer(fe)?fe.toString("binary"):V(fe),we=0,Ie=Math.min(1024,de.length),Fe=0,Ae=0;Ae<=Ie;++Ae)(Fe=de.charCodeAt(Ae))>=32&&Fe<128&&++we;var Ne=we>=Ie*4/5;G.push(H),G.push("Content-Location: "+(U.root||"file:///C:/SheetJS/")+le),G.push("Content-Transfer-Encoding: "+(Ne?"quoted-printable":"base64")),G.push("Content-Type: "+Yl(ge,le)),G.push(""),G.push(Ne?xx(de):Jl(de))}return G.push(H+`--\r
`),G.join(`\r
`)}function QH(F){var z={};return E(z,F),z}function QS(F,z,U,H){var G=H&&H.unsafe;G||E(F);var K=!G&&Ye.find(F,z);if(!K){var le=F.FullPaths[0];z.slice(0,le.length)==le?le=z:(le.slice(-1)!="/"&&(le+="/"),le=(le+z).replace("//","/")),K={name:i(z),type:2},F.FileIndex.push(K),F.FullPaths.push(le),G||Ye.utils.cfb_gc(F)}return K.content=U,K.size=U?U.length:0,H&&(H.CLSID&&(K.clsid=H.CLSID),H.mt&&(K.mt=H.mt),H.ct&&(K.ct=H.ct)),K}function eW(F,z){E(F);var U=Ye.find(F,z);if(U){for(var H=0;H<F.FileIndex.length;++H)if(F.FileIndex[H]==U)return F.FileIndex.splice(H,1),F.FullPaths.splice(H,1),!0}return!1}function tW(F,z,U){E(F);var H=Ye.find(F,z);if(H){for(var G=0;G<F.FileIndex.length;++G)if(F.FileIndex[G]==H)return F.FileIndex[G].name=i(U),F.FullPaths[G]=U,!0}return!1}function rW(F){k(F,!0)}return e.find=O,e.read=T,e.parse=u,e.write=te,e.writeFile=Z,e.utils={cfb_new:QH,cfb_add:QS,cfb_del:eW,cfb_mov:tW,cfb_gc:rW,ReadShift:Ym,CheckField:c$,prep_blob:Un,bconcat:In,use_zlib:D,_deflateRaw:Me,_inflateRaw:Vp,consts:J},e}();function Gq(t){return typeof t=="string"?Hb(t):Array.isArray(t)?yq(t):t}function Jy(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=Hb(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?yo(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var i=new Blob([Gq(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:t,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=t,s.href=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=pu(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function qq(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var r=e.read();return e.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+t)}function Br(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function yN(t,e){for(var r=[],n=Br(t),i=0;i!==n.length;++i)r[t[n[i]][e]]==null&&(r[t[n[i]][e]]=n[i]);return r}function zb(t){for(var e=[],r=Br(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function Gb(t){for(var e=[],r=Br(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function Xq(t){for(var e=[],r=Br(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var Bw=new Date(1899,11,30,0,0,0);function wn(t,e){var r=t.getTime(),n=Bw.getTime()+(t.getTimezoneOffset()-Bw.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var V8=new Date,Kq=Bw.getTime()+(V8.getTimezoneOffset()-Bw.getTimezoneOffset())*6e4,xN=V8.getTimezoneOffset();function qb(t){var e=new Date;return e.setTime(t*24*60*60*1e3+Kq),e.getTimezoneOffset()!==xN&&e.setTime(e.getTime()+(e.getTimezoneOffset()-xN)*6e4),e}function Yq(t){var e=0,r=0,n=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var a=1;a!=i.length;++a)if(i[a]){switch(r=1,a>3&&(n=!0),i[a].slice(i[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[a].slice(i[a].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=r*parseInt(i[a],10)}return e}var wN=new Date("2017-02-19T19:06:09.000Z"),H8=isNaN(wN.getFullYear())?new Date("2/19/17"):wN,Jq=H8.getFullYear()==2017;function dr(t,e){var r=new Date(t);if(Jq)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(H8.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function ad(t,e){if(xt&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return yo(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return yo(I8(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return yo(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return yo(new TextDecoder("utf-16be").decode(t.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function hr(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=hr(t[r]));return e}function Fr(t,e){for(var r="";r.length<e;)r+=t;return r}function Bs(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(e=Number(n)))?e/r:e}var Zq=["january","february","march","april","may","june","july","august","september","october","november","december"];function H0(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),a=e.getDate();if(isNaN(a))return r;var s=t.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&Zq.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}var Qq=function(){var t="abacaba".split(/(:?b)/i).length==5;return function(r,n,i){if(t||typeof n=="string")return r.split(n);for(var a=r.split(n),s=[a[0]],o=1;o<a.length;++o)s.push(i),s.push(a[o]);return s}}();function W8(t){return t?t.content&&t.type?ad(t.content,!0):t.data?xm(t.data):t.asNodeBuffer&&xt?xm(t.asNodeBuffer().toString("binary")):t.asBinary?xm(t.asBinary()):t._data&&t._data.getContent?xm(ad(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function z8(t){if(!t)return null;if(t.data)return lN(t.data);if(t.asNodeBuffer&&xt)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?lN(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function eX(t){return t&&t.name.slice(-4)===".bin"?z8(t):W8(t)}function Ra(t,e){for(var r=t.FullPaths||Br(t.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),a=0;a<r.length;++a){var s=r[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||i==s)return t.files?t.files[r[a]]:t.FileIndex[a]}return null}function UP(t,e){var r=Ra(t,e);if(r==null)throw new Error("Cannot find file "+e+" in zip");return r}function Qr(t,e,r){if(!r)return eX(UP(t,e));if(!e)return null;try{return Qr(t,e)}catch{return null}}function ma(t,e,r){if(!r)return W8(UP(t,e));if(!e)return null;try{return ma(t,e)}catch{return null}}function tX(t,e,r){return z8(UP(t,e))}function _N(t){for(var e=t.FullPaths||Br(t.files),r=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&r.push(e[n].replace(/^Root Entry[\/]/,""));return r.sort()}function dt(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return xt?n=Hl(r):n=xq(r),Ye.utils.cfb_add(t,e,n)}Ye.utils.cfb_add(t,e,r)}else t.file(e,r)}function VP(){return Ye.utils.cfb_new()}function G8(t,e){switch(e.type){case"base64":return Ye.read(t,{type:"base64"});case"binary":return Ye.read(t,{type:"binary"});case"buffer":case"array":return Ye.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function _m(t,e){if(t.charAt(0)=="/")return t.slice(1);var r=e.split("/");e.slice(-1)!="/"&&r.pop();for(var n=t.split("/");n.length!==0;){var i=n.shift();i===".."?r.pop():i!=="."&&r.push(i)}return r.join("/")}var qr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,rX=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,bN=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,nX=/<[^>]*>/g,mi=qr.match(bN)?bN:nX,iX=/<\w*:/,aX=/<(\/?)\w+:/;function tt(t,e,r){for(var n={},i=0,a=0;i!==t.length&&!((a=t.charCodeAt(i))===32||a===10||a===13);++i);if(e||(n[0]=t.slice(0,i)),i===t.length)return n;var s=t.match(rX),o=0,l="",c=0,u="",f="",d=1;if(s)for(c=0;c!=s.length;++c){for(f=s[c],a=0;a!=f.length&&f.charCodeAt(a)!==61;++a);for(u=f.slice(0,a).trim();f.charCodeAt(a+1)==32;)++a;for(d=(i=f.charCodeAt(a+1))==34||i==39?1:0,l=f.slice(a+1+d,f.length-d),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var h=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[h]&&u.slice(o-3,o)=="ext")continue;n[h]=l,n[h.toLowerCase()]=l}}return n}function Po(t){return t.replace(aX,"<$1")}var q8={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},HP=zb(q8),Ot=function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function r(n){var i=n+"",a=i.indexOf("<![CDATA[");if(a==-1)return i.replace(t,function(o,l){return q8[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=i.indexOf("]]>");return r(i.slice(0,a))+i.slice(a+9,s)+r(i.slice(s+3))}}(),WP=/[&<>'"]/g,sX=/[\u0000-\u0008\u000b-\u001f]/g;function Gt(t){var e=t+"";return e.replace(WP,function(r){return HP[r]}).replace(sX,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function SN(t){return Gt(t).replace(/ /g,"_x0020_")}var X8=/[\u0000-\u001f]/g;function zP(t){var e=t+"";return e.replace(WP,function(r){return HP[r]}).replace(/\n/g,"<br/>").replace(X8,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function oX(t){var e=t+"";return e.replace(WP,function(r){return HP[r]}).replace(X8,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var AN=function(){var t=/&#(\d+);/g;function e(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(t,e)}}();function lX(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function cr(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function PA(t){for(var e="",r=0,n=0,i=0,a=0,s=0,o=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=i&63,e+=String.fromCharCode(s);continue}if(a=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}s=t.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function TN(t){var e=ru(2*t.length),r,n,i=1,a=0,s=0,o;for(n=0;n<t.length;n+=i)i=1,(o=t.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(t.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(e[a++]=s&255,e[a++]=s>>>8,s=0),e[a++]=r%256,e[a++]=r>>>8;return e.slice(0,a).toString("ucs2")}function EN(t){return Hl(t,"binary").toString("utf8")}var Bx="foo bar baz",Zt=xt&&(EN(Bx)==PA(Bx)&&EN||TN(Bx)==PA(Bx)&&TN)||PA,yo=xt?function(t){return Hl(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},Fg=function(){var t={};return function(r,n){var i=r+"|"+(n||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),K8=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}}(),cX=function(){var t={};return function(r){return t[r]!==void 0?t[r]:t[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),uX=/<\/?(?:vt:)?variant>/g,fX=/<(?:vt:)([^>]*)>([\s\S]*)</;function CN(t,e){var r=tt(t),n=t.match(cX(r.baseType))||[],i=[];if(n.length!=r.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return i}return n.forEach(function(a){var s=a.replace(uX,"").match(fX);s&&i.push({v:Zt(s[2]),t:s[1]})}),i}var Y8=/(^\s|\s$|\n)/;function Vn(t,e){return"<"+t+(e.match(Y8)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Lg(t){return Br(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Te(t,e,r){return"<"+t+(r!=null?Lg(r):"")+(e!=null?(e.match(Y8)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function wE(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function dX(t,e){switch(typeof t){case"string":var r=Te("vt:lpwstr",Gt(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Te((t|0)==t?"vt:i4":"vt:r8",Gt(String(t)));case"boolean":return Te("vt:bool",t?"true":"false")}if(t instanceof Date)return Te("vt:filetime",wE(t));throw new Error("Unable to serialize "+t)}function GP(t){if(xt&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return Zt(pu($P(t)));throw new Error("Bad input format: expected Buffer or string")}var $g=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,mn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Ed=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],fa={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function hX(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,a=5;a>=0;--a)i=i*256+t[e+a];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function pX(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,a=0,s=n?-e:e;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(e)?26985:0);for(var o=0;o<=5;++o,a/=256)t[r+o]=a&255;t[r+6]=(i&15)<<4|a&15,t[r+7]=i>>4|n}var kN=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,a=t[0][n].length;i<a;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},PN=xt?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Hl(e)})):kN(t)}:kN,IN=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(ml(t,i)));return n.join("").replace(Ei,"")},qP=xt?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(Ei,""):IN(t,e,r)}:IN,ON=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},J8=xt?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):ON(t,e,r)}:ON,MN=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(Kd(t,i)));return n.join("")},Zy=xt?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):MN(e,r,n)}:MN,Z8=function(t,e){var r=da(t,e);return r>0?Zy(t,e+4,e+4+r-1):""},Q8=Z8,e$=function(t,e){var r=da(t,e);return r>0?Zy(t,e+4,e+4+r-1):""},t$=e$,r$=function(t,e){var r=2*da(t,e);return r>0?Zy(t,e+4,e+4+r-1):""},n$=r$,i$=function(e,r){var n=da(e,r);return n>0?qP(e,r+4,r+4+n):""},a$=i$,s$=function(t,e){var r=da(t,e);return r>0?Zy(t,e+4,e+4+r):""},o$=s$,l$=function(t,e){return hX(t,e)},jw=l$,XP=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};xt&&(Q8=function(e,r){if(!Buffer.isBuffer(e))return Z8(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},t$=function(e,r){if(!Buffer.isBuffer(e))return e$(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},n$=function(e,r){if(!Buffer.isBuffer(e))return r$(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},a$=function(e,r){if(!Buffer.isBuffer(e))return i$(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},o$=function(e,r){if(!Buffer.isBuffer(e))return s$(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},jw=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):l$(e,r)},XP=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Kd=function(t,e){return t[e]},ml=function(t,e){return t[e+1]*256+t[e]},mX=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},da=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Lu=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},gX=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Ym(t,e){var r="",n,i,a=[],s,o,l,c;switch(e){case"dbcs":if(c=this.l,xt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)r+=String.fromCharCode(ml(this,c)),c+=2;t*=2;break;case"utf8":r=Zy(this,this.l,this.l+t);break;case"utf16le":t*=2,r=qP(this,this.l,this.l+t);break;case"wstr":return Ym.call(this,t,"dbcs");case"lpstr-ansi":r=Q8(this,this.l),t=4+da(this,this.l);break;case"lpstr-cp":r=t$(this,this.l),t=4+da(this,this.l);break;case"lpwstr":r=n$(this,this.l),t=4+2*da(this,this.l);break;case"lpp4":t=4+da(this,this.l),r=a$(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+da(this,this.l),r=o$(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(s=Kd(this,this.l+t++))!==0;)a.push($x(s));r=a.join("");break;case"_wstr":for(t=0,r="";(s=ml(this,this.l+t))!==0;)a.push($x(s)),t+=2;t+=2,r=a.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=Kd(this,c),this.l=c+1,o=Ym.call(this,t-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push($x(ml(this,c))),c+=2}r=a.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=Kd(this,c),this.l=c+1,o=Ym.call(this,t-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push($x(Kd(this,c))),c+=1}r=a.join("");break;default:switch(t){case 1:return n=Kd(this,this.l),this.l++,n;case 2:return n=(e==="i"?mX:ml)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(n=(t>0?Lu:gX)(this,this.l),this.l+=4,n):(i=da(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=jw(this,this.l):i=jw([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=J8(this,this.l,t);break}}return this.l+=t,r}var vX=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},yX=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},xX=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function wX(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)xX(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var s=e.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,vX(this,e,this.l);break;case 8:if(n=8,r==="f"){pX(this,e,this.l);break}case 16:break;case-4:n=4,yX(this,e,this.l);break}return this.l+=n,this}function c$(t,e){var r=J8(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Un(t,e){t.l=e,t.read_shift=Ym,t.chk=c$,t.write_shift=wX}function pi(t,e){t.l+=e}function pe(t){var e=ru(t);return Un(e,0),e}function Wl(t,e,r){if(t){var n,i,a;Un(t,t.l||0);for(var s=t.length,o=0,l=0;t.l<s;){o=t.read_shift(1),o&128&&(o=(o&127)+((t.read_shift(1)&127)<<7));var c=Wg[o]||Wg[65535];for(n=t.read_shift(1),a=n&127,i=1;i<4&&n&128;++i)a+=((n=t.read_shift(1))&127)<<7*i;l=t.l+a;var u=c.f&&c.f(t,a,r);if(t.l=l,e(u,c,o))return}}}function Xi(){var t=[],e=xt?256:2048,r=function(c){var u=pe(c);return Un(u,0),u},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},a=function(c){return n&&c<n.length-n.l?n:(i(),n=r(Math.max(c+1,e)))},s=function(){return i(),In(t)},o=function(c){i(),n=c,n.l==null&&(n.l=n.length),a(e)};return{next:a,push:o,end:s,_bufs:t}}function ye(t,e,r,n){var i=+e,a;if(!isNaN(i)){n||(n=Wg[i].p||(r||[]).length||0),a=1+(i>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var s=t.next(a);i<=127?s.write_shift(1,i):(s.write_shift(1,(i&127)+128),s.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&XP(r)&&t.push(r)}}function Jm(t,e,r){var n=hr(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function NN(t,e,r){var n=hr(t);return n.s=Jm(n.s,e.s,r),n.e=Jm(n.e,e.s,r),n}function Zm(t,e){if(t.cRel&&t.c<0)for(t=hr(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=hr(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=et(t);return!t.cRel&&t.cRel!=null&&(r=SX(r)),!t.rRel&&t.rRel!=null&&(r=_X(r)),r}function IA(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Pr(t.s.c)+":"+(t.e.cRel?"":"$")+Pr(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+zr(t.s.r)+":"+(t.e.rRel?"":"$")+zr(t.e.r):Zm(t.s,e.biff)+":"+Zm(t.e,e.biff)}function KP(t){return parseInt(bX(t),10)-1}function zr(t){return""+(t+1)}function _X(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function bX(t){return t.replace(/\$(\d+)$/,"$1")}function YP(t){for(var e=AX(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function Pr(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function SX(t){return t.replace(/^([A-Z])/,"$$$1")}function AX(t){return t.replace(/^\$([A-Z])/,"$1")}function TX(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ir(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function et(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function Ki(t){var e=t.indexOf(":");return e==-1?{s:Ir(t),e:Ir(t)}:{s:Ir(t.slice(0,e)),e:Ir(t.slice(e+1))}}function ft(t,e){return typeof e>"u"||typeof e=="number"?ft(t.s,t.e):(typeof t!="string"&&(t=et(t)),typeof e!="string"&&(e=et(e)),t==e?t:t+":"+e)}function Nt(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=t.length;for(r=0;n<a&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<a&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===a||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=a&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=a&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function RN(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=ts(t.z,r?wn(e):e)}catch{}try{return t.w=ts((t.XF||{}).numFmtId||(r?14:0),r?wn(e):e)}catch{return""+e}}function Rl(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?zl[t.v]||t.v:e==null?RN(t,t.v):RN(t,e))}function mu(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function u$(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,a=t||(i?[]:{}),s=0,o=0;if(a&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Ir(n.origin):n.origin;s=l.r,o=l.c}a["!ref"]||(a["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var u=Nt(a["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),s==-1&&(c.e.r=s=u.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=e[f].length;++d)if(!(typeof e[f][d]>"u")){var h={v:e[f][d]},m=s+f,p=o+d;if(c.s.r>m&&(c.s.r=m),c.s.c>p&&(c.s.c=p),c.e.r<m&&(c.e.r=m),c.e.c<p&&(c.e.c=p),e[f][d]&&typeof e[f][d]=="object"&&!Array.isArray(e[f][d])&&!(e[f][d]instanceof Date))h=e[f][d];else if(Array.isArray(h.v)&&(h.f=e[f][d][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(n.nullError)h.t="e",h.v=0;else if(n.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=n.dateNF||Qe[14],n.cellDates?(h.t="d",h.w=ts(h.z,wn(h.v))):(h.t="n",h.v=wn(h.v),h.w=ts(h.z,h.v))):h.t="s";if(i)a[m]||(a[m]=[]),a[m][p]&&a[m][p].z&&(h.z=a[m][p].z),a[m][p]=h;else{var y=et({c:p,r:m});a[y]&&a[y].z&&(h.z=a[y].z),a[y]=h}}}return c.s.c<1e7&&(a["!ref"]=ft(c)),a}function Ep(t,e){return u$(null,t,e)}function EX(t){return t.read_shift(4,"i")}function js(t,e){return e||(e=pe(4)),e.write_shift(4,t),e}function di(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function On(t,e){var r=!1;return e==null&&(r=!0,e=pe(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function CX(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function kX(t,e){return e||(e=pe(4)),e.write_shift(2,0),e.write_shift(2,0),e}function JP(t,e){var r=t.l,n=t.read_shift(1),i=di(t),a=[],s={t:i,h:i};if(n&1){for(var o=t.read_shift(4),l=0;l!=o;++l)a.push(CX(t));s.r=a}else s.r=[{ich:0,ifnt:0}];return t.l=r+e,s}function PX(t,e){var r=!1;return e==null&&(r=!0,e=pe(15+4*t.t.length)),e.write_shift(1,0),On(t.t,e),r?e.slice(0,e.l):e}var IX=JP;function OX(t,e){var r=!1;return e==null&&(r=!0,e=pe(23+4*t.t.length)),e.write_shift(1,1),On(t.t,e),e.write_shift(4,1),kX({},e),r?e.slice(0,e.l):e}function is(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function Cd(t,e){return e==null&&(e=pe(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function kd(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Pd(t,e){return e==null&&(e=pe(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var MX=di,f$=On;function ZP(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function Uw(t,e){var r=!1;return e==null&&(r=!0,e=pe(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var NX=di,_E=ZP,QP=Uw;function eI(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?jw([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Lu(e,0)>>2;return r?i/100:i}function d$(t,e){e==null&&(e=pe(4));var r=0,n=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?i:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function h$(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function RX(t,e){return e||(e=pe(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Id=h$,Cp=RX;function ui(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function sd(t,e){return(e||pe(8)).write_shift(8,t,"f")}function DX(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),a=t.read_shift(2,"i"),s=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var c=qf[i];c&&(e.rgb=jg(c));break;case 2:e.rgb=jg([s,o,l]);break;case 3:e.theme=i;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function Vw(t,e){if(e||(e=pe(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function FX(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function LX(t,e){e||(e=pe(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}function p$(t,e){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=t.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[t.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function $X(t){return p$(t,1)}function BX(t){return p$(t,2)}var tI=2,$i=3,jx=11,DN=12,Hw=19,Ux=64,jX=65,UX=71,VX=4108,HX=4126,Cn=80,m$=81,WX=[Cn,m$],bE={1:{n:"CodePage",t:tI},2:{n:"Category",t:Cn},3:{n:"PresentationFormat",t:Cn},4:{n:"ByteCount",t:$i},5:{n:"LineCount",t:$i},6:{n:"ParagraphCount",t:$i},7:{n:"SlideCount",t:$i},8:{n:"NoteCount",t:$i},9:{n:"HiddenCount",t:$i},10:{n:"MultimediaClipCount",t:$i},11:{n:"ScaleCrop",t:jx},12:{n:"HeadingPairs",t:VX},13:{n:"TitlesOfParts",t:HX},14:{n:"Manager",t:Cn},15:{n:"Company",t:Cn},16:{n:"LinksUpToDate",t:jx},17:{n:"CharacterCount",t:$i},19:{n:"SharedDoc",t:jx},22:{n:"HyperlinksChanged",t:jx},23:{n:"AppVersion",t:$i,p:"version"},24:{n:"DigSig",t:jX},26:{n:"ContentType",t:Cn},27:{n:"ContentStatus",t:Cn},28:{n:"Language",t:Cn},29:{n:"Version",t:Cn},255:{},2147483648:{n:"Locale",t:Hw},2147483651:{n:"Behavior",t:Hw},1919054434:{}},SE={1:{n:"CodePage",t:tI},2:{n:"Title",t:Cn},3:{n:"Subject",t:Cn},4:{n:"Author",t:Cn},5:{n:"Keywords",t:Cn},6:{n:"Comments",t:Cn},7:{n:"Template",t:Cn},8:{n:"LastAuthor",t:Cn},9:{n:"RevNumber",t:Cn},10:{n:"EditTime",t:Ux},11:{n:"LastPrinted",t:Ux},12:{n:"CreatedDate",t:Ux},13:{n:"ModifiedDate",t:Ux},14:{n:"PageCount",t:$i},15:{n:"WordCount",t:$i},16:{n:"CharCount",t:$i},17:{n:"Thumbnail",t:UX},18:{n:"Application",t:Cn},19:{n:"DocSecurity",t:$i},255:{},2147483648:{n:"Locale",t:Hw},2147483651:{n:"Behavior",t:Hw},1919054434:{}},FN={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},zX=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function GX(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var qX=GX([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),qf=hr(qX),zl={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},g$={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},AE={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Vx={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function rI(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function XX(t){var e=rI();if(!t||!t.match)return e;var r={};if((t.match(mi)||[]).forEach(function(n){var i=tt(n);switch(i[0].replace(iX,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[i.Extension]=i.ContentType;break;case"<Override":e[AE[i.ContentType]]!==void 0&&e[AE[i.ContentType]].push(i.PartName);break}}),e.xmlns!==mn.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=r,delete e.calcchains,e}function v$(t,e){var r=Xq(AE),n=[],i;n[n.length]=qr,n[n.length]=Te("Types",null,{xmlns:mn.CT,"xmlns:xsd":mn.xsd,"xmlns:xsi":mn.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return Te("Default",null,{Extension:l[0],ContentType:l[1]})}));var a=function(l){t[l]&&t[l].length>0&&(i=t[l][0],n[n.length]=Te("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Vx[l][e.bookType]||Vx[l].xlsx}))},s=function(l){(t[l]||[]).forEach(function(c){n[n.length]=Te("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:Vx[l][e.bookType]||Vx[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(c){n[n.length]=Te("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:r[l][0]})})};return a("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var bt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Bg(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Qm(t,e){var r={"!id":{}};if(!t)return r;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(t.match(mi)||[]).forEach(function(i){var a=tt(i);if(a[0]==="<Relationship"){var s={};s.Type=a.Type,s.Target=a.Target,s.Id=a.Id,a.TargetMode&&(s.TargetMode=a.TargetMode);var o=a.TargetMode==="External"?a.Target:_m(a.Target,e);r[o]=s,n[a.Id]=s}}),r["!id"]=n,r}function Ih(t){var e=[qr,Te("Relationships",null,{xmlns:mn.RELS})];return Br(t["!id"]).forEach(function(r){e[e.length]=Te("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Wt(t,e,r,n,i,a){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=r,[bt.HLINK,bt.XPATH,bt.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}var KX="application/vnd.oasis.opendocument.spreadsheet";function YX(t,e){for(var r=GP(t),n,i;n=$g.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(i=tt(n[0],!1),i.path=="/"&&i.type!==KX)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}function JX(t){var e=[qr];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function LN(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function ZX(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function QX(t){var e=[qr];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(LN(t[r][0],t[r][1])),e.push(ZX("",t[r][0]));return e.push(LN("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function y$(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Dw.version+"</meta:generator></office:meta></office:document-meta>"}var Ka=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],eK=function(){for(var t=new Array(Ka.length),e=0;e<Ka.length;++e){var r=Ka[e],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);t[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return t}();function x$(t){var e={};t=Zt(t);for(var r=0;r<Ka.length;++r){var n=Ka[r],i=t.match(eK[r]);i!=null&&i.length>0&&(e[n[1]]=Ot(i[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=dr(e[n[1]]))}return e}function OA(t,e,r,n,i){i[t]!=null||e==null||e===""||(i[t]=e,e=Gt(e),n[n.length]=r?Te(t,e,r):Vn(t,e))}function w$(t,e){var r=e||{},n=[qr,Te("cp:coreProperties",null,{"xmlns:cp":mn.CORE_PROPS,"xmlns:dc":mn.dc,"xmlns:dcterms":mn.dcterms,"xmlns:dcmitype":mn.dcmitype,"xmlns:xsi":mn.xsi})],i={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&OA("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:wE(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),t.ModifiedDate!=null&&OA("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:wE(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var a=0;a!=Ka.length;++a){var s=Ka[a],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:t?t[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&OA(s[0],o,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Xf=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],_$=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function b$(t,e,r,n){var i=[];if(typeof t=="string")i=CN(t,n);else for(var a=0;a<t.length;++a)i=i.concat(t[a].map(function(u){return{v:u}}));var s=typeof e=="string"?CN(e,n).map(function(u){return u.v}):e,o=0,l=0;if(s.length>0)for(var c=0;c!==i.length;c+=2){switch(l=+i[c+1].v,i[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=l,r.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=s.slice(o,o+l);break}o+=l}}function tK(t,e,r){var n={};return e||(e={}),t=Zt(t),Xf.forEach(function(i){var a=(t.match(Fg(i[0]))||[])[1];switch(i[2]){case"string":a&&(e[i[1]]=Ot(a));break;case"bool":e[i[1]]=a==="true";break;case"raw":var s=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));s&&s.length>0&&(n[i[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&b$(n.HeadingPairs,n.TitlesOfParts,e,r),e}function S$(t){var e=[],r=Te;return t||(t={}),t.Application="SheetJS",e[e.length]=qr,e[e.length]=Te("Properties",null,{xmlns:mn.EXT_PROPS,"xmlns:vt":mn.vt}),Xf.forEach(function(n){if(t[n[1]]!==void 0){var i;switch(n[2]){case"string":i=Gt(String(t[n[1]]));break;case"bool":i=t[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=r(n[0],i))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+Gt(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var rK=/<[^>]+>[^<]*/g;function nK(t,e){var r={},n="",i=t.match(rK);if(i)for(var a=0;a!=i.length;++a){var s=i[a],o=tt(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Ot(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=Ot(u);break;case"bool":r[n]=cr(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=dr(u);break;case"cy":case"error":r[n]=Ot(u);break;default:if(c.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",s,c,l)}}else if(s.slice(0,2)!=="</"){if(e.WTF)throw new Error(s)}}}return r}function A$(t){var e=[qr,Te("Properties",null,{xmlns:mn.CUST_PROPS,"xmlns:vt":mn.vt})];if(!t)return e.join("");var r=1;return Br(t).forEach(function(i){++r,e[e.length]=Te("property",dX(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Gt(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var TE={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},MA;function iK(t,e,r){MA||(MA=zb(TE)),e=MA[e]||e,t[e]=r}function aK(t,e){var r=[];return Br(TE).map(function(n){for(var i=0;i<Ka.length;++i)if(Ka[i][1]==n)return Ka[i];for(i=0;i<Xf.length;++i)if(Xf[i][1]==n)return Xf[i];throw n}).forEach(function(n){if(t[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(Vn(TE[n[1]]||n[1],i))}}),Te("DocumentProperties",r.join(""),{xmlns:fa.o})}function sK(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return t&&Br(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)){for(var s=0;s<Ka.length;++s)if(a==Ka[s][1])return;for(s=0;s<Xf.length;++s)if(a==Xf[s][1])return;for(s=0;s<r.length;++s)if(a==r[s])return;var o=t[a],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(Te(SN(a),o,{"dt:dt":l}))}}),e&&Br(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)&&!(t&&Object.prototype.hasOwnProperty.call(t,a))){var s=e[a],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),i.push(Te(SN(a),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+fa.o+'">'+i.join("")+"</"+n+">"}function nI(t){var e=t.read_shift(4),r=t.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function oK(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),i+=a);var s=pe(8);return s.write_shift(4,n),s.write_shift(4,i),s}function T$(t,e,r){var n=t.l,i=t.read_shift(0,"lpstr-cp");if(r)for(;t.l-n&3;)++t.l;return i}function E$(t,e,r){var n=t.read_shift(0,"lpwstr");return n}function C$(t,e,r){return e===31?E$(t):T$(t,e,r)}function EE(t,e,r){return C$(t,e,r===!1?0:4)}function lK(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return C$(t,e,0)}function cK(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n){var i=t.l;r[n]=t.read_shift(0,"lpwstr").replace(Ei,""),t.l-i&2&&(t.l+=2)}return r}function uK(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n)r[n]=t.read_shift(0,"lpstr-cp").replace(Ei,"");return r}function fK(t){var e=t.l,r=Ww(t,m$);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var n=Ww(t,$i);return[r,n]}function dK(t){for(var e=t.read_shift(4),r=[],n=0;n<e/2;++n)r.push(fK(t));return r}function $N(t,e){for(var r=t.read_shift(4),n={},i=0;i!=r;++i){var a=t.read_shift(4),s=t.read_shift(4);n[a]=t.read_shift(s,e===1200?"utf16le":"utf8").replace(Ei,"").replace(wm,"!"),e===1200&&s%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),n}function k$(t){var e=t.read_shift(4),r=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),r}function hK(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function Ww(t,e,r){var n=t.read_shift(2),i,a=r||{};if(t.l+=2,e!==DN&&n!==e&&WX.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===DN?n:e){case 2:return i=t.read_shift(2,"i"),a.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return T$(t,n,4).replace(Ei,"");case 31:return E$(t);case 64:return nI(t);case 65:return k$(t);case 71:return hK(t);case 80:return EE(t,n,!a.raw).replace(Ei,"");case 81:return lK(t,n).replace(Ei,"");case 4108:return dK(t);case 4126:case 4127:return n==4127?cK(t):uK(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function BN(t,e){var r=pe(4),n=pe(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=pe(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=oK(e);break;case 31:case 80:for(n=pe(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return In([r,n])}function jN(t,e){var r=t.l,n=t.read_shift(4),i=t.read_shift(4),a=[],s=0,o=0,l=-1,c={};for(s=0;s!=i;++s){var u=t.read_shift(4),f=t.read_shift(4);a[s]=[u,f+r]}a.sort(function(b,_){return b[1]-_[1]});var d={};for(s=0;s!=i;++s){if(t.l!==a[s][1]){var h=!0;if(s>0&&e)switch(e[a[s-1][0]].t){case 2:t.l+2===a[s][1]&&(t.l+=2,h=!1);break;case 80:t.l<=a[s][1]&&(t.l=a[s][1],h=!1);break;case 4108:t.l<=a[s][1]&&(t.l=a[s][1],h=!1);break}if((!e||s==0)&&t.l<=a[s][1]&&(h=!1,t.l=a[s][1]),h)throw new Error("Read Error: Expected address "+a[s][1]+" at "+t.l+" :"+s)}if(e){var m=e[a[s][0]];if(d[m.n]=Ww(t,m.t,{raw:!0}),m.p==="version"&&(d[m.n]=String(d[m.n]>>16)+"."+("0000"+String(d[m.n]&65535)).slice(-4)),m.n=="CodePage")switch(d[m.n]){case 0:d[m.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Ns(o=d[m.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+d[m.n])}}else if(a[s][0]===1){if(o=d.CodePage=Ww(t,tI),Ns(o),l!==-1){var p=t.l;t.l=a[l][1],c=$N(t,o),t.l=p}}else if(a[s][0]===0){if(o===0){l=s,t.l=a[s+1][1];continue}c=$N(t,o)}else{var y=c[a[s][0]],w;switch(t[t.l]){case 65:t.l+=4,w=k$(t);break;case 30:t.l+=4,w=EE(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,w=EE(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,w=t.read_shift(4,"i");break;case 19:t.l+=4,w=t.read_shift(4);break;case 5:t.l+=4,w=t.read_shift(8,"f");break;case 11:t.l+=4,w=Ur(t,4);break;case 64:t.l+=4,w=dr(nI(t));break;default:throw new Error("unparsed value: "+t[t.l])}d[y]=w}}return t.l=r+n,d}var P$=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function pK(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function UN(t,e,r){var n=pe(8),i=[],a=[],s=8,o=0,l=pe(8),c=pe(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),a.push(l),i.push(c),s+=8+l.length,!e){c=pe(8),c.write_shift(4,0),i.unshift(c);var u=[pe(4)];for(u[0].write_shift(4,t.length),o=0;o<t.length;++o){var f=t[o][0];for(l=pe(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=In(u),a.unshift(l),s+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(P$.indexOf(t[o][0])>-1||_$.indexOf(t[o][0])>-1)&&t[o][1]!=null){var d=t[o][1],h=0;if(e){h=+e[t[o][0]];var m=r[h];if(m.p=="version"&&typeof d=="string"){var p=d.split(".");d=(+p[0]<<16)+(+p[1]||0)}l=BN(m.t,d)}else{var y=pK(d);y==-1&&(y=31,d=String(d)),l=BN(y,d)}a.push(l),c=pe(8),c.write_shift(4,e?h:2+o),i.push(c),s+=8+l.length}var w=8*(a.length+1);for(o=0;o<a.length;++o)i[o].write_shift(4,w),w+=a[o].length;return n.write_shift(4,s),n.write_shift(4,a.length),In([n].concat(i).concat(a))}function VN(t,e,r){var n=t.content;if(!n)return{};Un(n,0);var i,a,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==Ye.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(a=n.read_shift(16),o=n.read_shift(4),i===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);i===2&&(s=n.read_shift(16),l=n.read_shift(4));var f=jN(n,e),d={SystemIdentifier:c};for(var h in f)d[h]=f[h];if(d.FMTID=a,i===1)return d;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var m;try{m=jN(n,null)}catch{}for(h in m)d[h]=m[h];return d.FMTID=[a,s],d}function HN(t,e,r,n,i,a){var s=pe(i?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,Ye.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,i?2:1),s.write_shift(16,e,"hex"),s.write_shift(4,i?68:48);var l=UN(t,r,n);if(o.push(l),i){var c=UN(i,null,null);s.write_shift(16,a,"hex"),s.write_shift(4,68+l.length),o.push(c)}return In(o)}function Ql(t,e){return t.read_shift(e),null}function mK(t,e){e||(e=pe(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function gK(t,e,r){for(var n=[],i=t.l+e;t.l<i;)n.push(r(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return n}function Ur(t,e){return t.read_shift(e)===1}function bi(t,e){return e||(e=pe(2)),e.write_shift(2,+!!t),e}function en(t){return t.read_shift(2,"u")}function ja(t,e){return e||(e=pe(2)),e.write_shift(2,t),e}function I$(t,e){return gK(t,e,en)}function vK(t){var e=t.read_shift(1),r=t.read_shift(1);return r===1?e:e===1}function O$(t,e,r){return r||(r=pe(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function Qy(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=t.read_shift(1);a&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var s=n?t.read_shift(n,i):"";return s}function yK(t){var e=t.read_shift(2),r=t.read_shift(1),n=r&4,i=r&8,a=1+(r&1),s=0,o,l={};i&&(s=t.read_shift(2)),n&&(o=t.read_shift(4));var c=a==2?"dbcs-cont":"sbcs-cont",u=e===0?"":t.read_shift(e,c);return i&&(t.l+=4*s),n&&(t.l+=o),l.t=u,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function xK(t){var e=t.t||"",r=pe(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=pe(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[r,n];return In(i)}function od(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function ex(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):od(t,n,r)}function Od(t,e,r){if(r.biff>5)return ex(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function M$(t,e,r){return r||(r=pe(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function wK(t){var e=t.read_shift(1);t.l++;var r=t.read_shift(2);return t.l+=2,[e,r]}function _K(t){var e=t.read_shift(4),r=t.l,n=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),t.l=r);var i=t.read_shift((n?e-24:e)>>1,"utf16le").replace(Ei,"");return n&&(t.l+=24),i}function bK(t){for(var e=t.read_shift(2),r="";e-- >0;)r+="../";var n=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return r+n.replace(/\\/g,"/");var a=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=t.read_shift(a>>1,"utf16le").replace(Ei,"");return r+s}function SK(t,e){var r=t.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return _K(t);case"0303000000000000c000000000000046":return bK(t);default:throw new Error("Unsupported Moniker "+r)}}function Hx(t){var e=t.read_shift(4),r=e>0?t.read_shift(e,"utf16le").replace(Ei,""):"";return r}function WN(t,e){e||(e=pe(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function AK(t,e){var r=t.l+e,n=t.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=t.read_shift(2);t.l+=2;var a,s,o,l,c="",u,f;i&16&&(a=Hx(t,r-t.l)),i&128&&(s=Hx(t,r-t.l)),(i&257)===257&&(o=Hx(t,r-t.l)),(i&257)===1&&(l=SK(t,r-t.l)),i&8&&(c=Hx(t,r-t.l)),i&32&&(u=t.read_shift(16)),i&64&&(f=nI(t)),t.l=r;var d=s||o||l||"";d&&c&&(d+="#"+c),d||(d="#"+c),i&2&&d.charAt(0)=="/"&&d.charAt(1)!="/"&&(d="file://"+d);var h={Target:d};return u&&(h.guid=u),f&&(h.time=f),a&&(h.Tooltip=a),h}function TK(t){var e=pe(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),a=i>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}e.write_shift(4,2),e.write_shift(4,a);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)e.write_shift(4,s[r]);if(a==28)n=n.slice(1),WN(n,e);else if(a&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)e.write_shift(1,parseInt(s[r],16));var o=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)e.write_shift(2,o.charCodeAt(r));e.write_shift(2,0),a&8&&WN(i>-1?n.slice(i+1):"",e)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)e.write_shift(1,parseInt(s[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)e.write_shift(1,n.charCodeAt(r+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function N$(t){var e=t.read_shift(1),r=t.read_shift(1),n=t.read_shift(1),i=t.read_shift(1);return[e,r,n,i]}function R$(t,e){var r=N$(t);return r[3]=0,r}function Io(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return{r:e,c:r,ixfe:n}}function ld(t,e,r,n){return n||(n=pe(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function EK(t){var e=t.read_shift(2),r=t.read_shift(2);return t.l+=8,{type:e,flags:r}}function CK(t,e,r){return e===0?"":Od(t,e,r)}function kK(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),a=t.read_shift(n,"i"),s=t.read_shift(n,"i");return[i,a,s]}function D$(t){var e=t.read_shift(2),r=eI(t);return[e,r]}function PK(t,e,r){t.l+=4,e-=4;var n=t.l+e,i=Qy(t,e,r),a=t.read_shift(2);if(n-=t.l,a!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+a);return t.l+=a,i}function Xb(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function F$(t,e){return e||(e=pe(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function L$(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(1),i=t.read_shift(1);return{s:{c:n,r:e},e:{c:i,r}}}var IK=L$;function $$(t){t.l+=4;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return t.l+=12,[r,e,n]}function OK(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function MK(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function Yn(t){t.l+=2,t.l+=t.read_shift(2)}var NK={0:Yn,4:Yn,5:Yn,6:Yn,7:MK,8:Yn,9:Yn,10:Yn,11:Yn,12:Yn,13:OK,14:Yn,15:Yn,16:Yn,17:Yn,18:Yn,19:Yn,20:Yn,21:$$};function RK(t,e){for(var r=t.l+e,n=[];t.l<r;){var i=t.read_shift(2);t.l-=2;try{n.push(NK[i](t,r-t.l))}catch{return t.l=r,n}}return t.l!=r&&(t.l=r),n}function Wx(t,e){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=t.read_shift(2),e-=2,e>=2&&(r.dt=t.read_shift(2),t.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return t.read_shift(e),r}function iI(t,e,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=pe(i);return a.write_shift(2,n),a.write_shift(2,e),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function DK(t,e){return e===0||t.read_shift(2),1200}function FK(t,e,r){if(r.enc)return t.l+=e,"";var n=t.l,i=Od(t,0,r);return t.read_shift(e+n-t.l),i}function LK(t,e){var r=!e||e.biff==8,n=pe(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function $K(t,e,r){var n=r&&r.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function BK(t,e,r){var n=t.read_shift(4),i=t.read_shift(1)&3,a=t.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var s=Qy(t,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:i,dt:a,name:s}}function jK(t,e){var r=!e||e.biff>=8?2:1,n=pe(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function UK(t,e){for(var r=t.l+e,n=t.read_shift(4),i=t.read_shift(4),a=[],s=0;s!=i&&t.l<r;++s)a.push(yK(t));return a.Count=n,a.Unique=i,a}function VK(t,e){var r=pe(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],i=0;i<t.length;++i)n[i]=xK(t[i]);var a=In([r].concat(n));return a.parts=[r.length].concat(n.map(function(s){return s.length})),a}function HK(t,e){var r={};return r.dsst=t.read_shift(2),t.l+=e-2,r}function WK(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var r=t.read_shift(2);t.l+=4;var n=t.read_shift(1);return t.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=r/20),e}function zK(t){var e=EK(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var r=t.read_shift(4);return r!==0}function GK(t){return t.read_shift(2),t.read_shift(4)}function zN(t,e,r){var n=0;r&&r.biff==2||(n=t.read_shift(2));var i=t.read_shift(2);r&&r.biff==2&&(n=1-(i>>15),i&=32767);var a={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[a,i]}function qK(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2),a=t.read_shift(2),s=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),c=t.read_shift(2);return{Pos:[e,r],Dim:[n,i],Flags:a,CurTab:s,FirstTab:o,Selected:l,TabRatio:c}}function XK(){var t=pe(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function KK(t,e,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=t.read_shift(2);return{RTL:n&64}}function YK(t){var e=pe(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function JK(){}function ZK(t,e,r){var n={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return n.name=Qy(t,0,r),n}function QK(t,e){var r=t.name||"Arial",n=e&&e.biff==5,i=n?15+r.length:16+2*r.length,a=pe(i);return a.write_shift(2,t.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}function eY(t){var e=Io(t);return e.isst=t.read_shift(4),e}function tY(t,e,r,n){var i=pe(10);return ld(t,e,n,i),i.write_shift(4,r),i}function rY(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=t.l+e,i=Io(t);r.biff==2&&t.l++;var a=ex(t,n-t.l,r);return i.val=a,i}function nY(t,e,r,n,i){var a=!i||i.biff==8,s=pe(8+ +a+(1+a)*r.length);return ld(t,e,n,s),s.write_shift(2,r.length),a&&s.write_shift(1,1),s.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),s}function iY(t,e,r){var n=t.read_shift(2),i=Od(t,0,r);return[n,i]}function aY(t,e,r,n){var i=r&&r.biff==5;n||(n=pe(i?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}var sY=Od;function GN(t,e,r){var n=t.l+e,i=r.biff==8||!r.biff?4:2,a=t.read_shift(i),s=t.read_shift(i),o=t.read_shift(2),l=t.read_shift(2);return t.l=n,{s:{r:a,c:o},e:{r:s,c:l}}}function oY(t,e){var r=e.biff==8||!e.biff?4:2,n=pe(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function lY(t){var e=t.read_shift(2),r=t.read_shift(2),n=D$(t);return{r:e,c:r,ixfe:n[0],rknum:n[1]}}function cY(t,e){for(var r=t.l+e-2,n=t.read_shift(2),i=t.read_shift(2),a=[];t.l<r;)a.push(D$(t));if(t.l!==r)throw new Error("MulRK read error");var s=t.read_shift(2);if(a.length!=s-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:s,rkrec:a}}function uY(t,e){for(var r=t.l+e-2,n=t.read_shift(2),i=t.read_shift(2),a=[];t.l<r;)a.push(t.read_shift(2));if(t.l!==r)throw new Error("MulBlank read error");var s=t.read_shift(2);if(a.length!=s-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:s,ixfe:a}}function fY(t,e,r,n){var i={},a=t.read_shift(4),s=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(2);return i.patternType=zX[o>>26],n.cellStyles&&(i.alc=a&7,i.fWrap=a>>3&1,i.alcV=a>>4&7,i.fJustLast=a>>7&1,i.trot=a>>8&255,i.cIndent=a>>16&15,i.fShrinkToFit=a>>20&1,i.iReadOrder=a>>22&2,i.fAtrNum=a>>26&1,i.fAtrFnt=a>>27&1,i.fAtrAlc=a>>28&1,i.fAtrBdr=a>>29&1,i.fAtrPat=a>>30&1,i.fAtrProt=a>>31&1,i.dgLeft=s&15,i.dgRight=s>>4&15,i.dgTop=s>>8&15,i.dgBottom=s>>12&15,i.icvLeft=s>>16&127,i.icvRight=s>>23&127,i.grbitDiag=s>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function dY(t,e,r){var n={};return n.ifnt=t.read_shift(2),n.numFmtId=t.read_shift(2),n.flags=t.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=fY(t,e,n.fStyle,r),n}function qN(t,e,r,n){var i=r&&r.biff==5;n||(n=pe(i?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var a=0;return t.numFmtId>0&&i&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function hY(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function pY(t){var e=pe(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function XN(t,e,r){var n=Io(t);(r.biff==2||e==9)&&++t.l;var i=vK(t);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function mY(t,e,r,n,i,a){var s=pe(8);return ld(t,e,n,s),O$(r,a,s),s}function gY(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Io(t),i=ui(t);return n.val=i,n}function vY(t,e,r,n){var i=pe(14);return ld(t,e,n,i),sd(r,i),i}var KN=CK;function yY(t,e,r){var n=t.l+e,i=t.read_shift(2),a=t.read_shift(2);if(r.sbcch=a,a==1025||a==14849)return[a,i];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var s=od(t,a),o=[];n>t.l;)o.push(ex(t));return[a,i,s,o]}function YN(t,e,r){var n=t.read_shift(2),i,a={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(i=PK(t,e-2,r)),a.body=i||t.read_shift(e-2),typeof i=="string"&&(a.Name=i),a}var xY=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function JN(t,e,r){var n=t.l+e,i=t.read_shift(2),a=t.read_shift(1),s=t.read_shift(1),o=t.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(t.l+=2),l=t.read_shift(2),r.biff==5&&(t.l+=2),t.l+=4);var c=od(t,s,r);i&32&&(c=xY[c.charCodeAt(0)]);var u=n-t.l;r&&r.biff==2&&--u;var f=n==t.l||o===0||!(u>0)?[]:Ree(t,u,r,o);return{chKey:a,Name:c,itab:l,rgce:f}}function B$(t,e,r){if(r.biff<8)return wY(t,e,r);for(var n=[],i=t.l+e,a=t.read_shift(r.biff>8?4:2);a--!==0;)n.push(kK(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function wY(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=Qy(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function _Y(t,e,r){if(r.biff<8){t.l+=e;return}var n=t.read_shift(2),i=t.read_shift(2),a=od(t,n,r),s=od(t,i,r);return[a,s]}function bY(t,e,r){var n=L$(t);t.l++;var i=t.read_shift(1);return e-=8,[Dee(t,e,r),i,n]}function ZN(t,e,r){var n=IK(t);switch(r.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[n,Mee(t,e,r)]}function SY(t){var e=t.read_shift(4)!==0,r=t.read_shift(4)!==0,n=t.read_shift(4);return[e,r,n]}function AY(t,e,r){if(!(r.biff<8)){var n=t.read_shift(2),i=t.read_shift(2),a=t.read_shift(2),s=t.read_shift(2),o=Od(t,0,r);return r.biff<8&&t.read_shift(1),[{r:n,c:i},o,s,a]}}function TY(t,e,r){return AY(t,e,r)}function EY(t,e){for(var r=[],n=t.read_shift(2);n--;)r.push(Xb(t));return r}function CY(t){var e=pe(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)F$(t[r],e);return e}function kY(t,e,r){if(r&&r.biff<8)return IY(t,e,r);var n=$$(t),i=RK(t,e-22,n[1]);return{cmo:n,ft:i}}var PY={8:function(t,e){var r=t.l+e;t.l+=10;var n=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=r,{fmt:n}}};function IY(t,e,r){t.l+=4;var n=t.read_shift(2),i=t.read_shift(2),a=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var s=[];return s.push((PY[n]||pi)(t,e,r)),{cmo:[i,n,a],ft:s}}function OY(t,e,r){var n=t.l,i="";try{t.l+=4;var a=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(a)==-1?t.l+=6:s=wK(t,6,r);var o=t.read_shift(2);t.read_shift(2),en(t,2);var l=t.read_shift(2);t.l+=l;for(var c=1;c<t.lens.length-1;++c){if(t.l-n!=t.lens[c])throw new Error("TxO: bad continue record");var u=t[t.l],f=od(t,t.lens[c+1]-t.lens[c]-1);if(i+=f,i.length>=(u?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return t.l=n+e,{t:i}}catch{return t.l=n+e,{t:i}}}function MY(t,e){var r=Xb(t);t.l+=16;var n=AK(t,e-24);return[r,n]}function NY(t){var e=pe(24),r=Ir(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return In([e,TK(t[1])])}function RY(t,e){t.read_shift(2);var r=Xb(t),n=t.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(Ei,""),[r,n]}function DY(t){var e=t[1].Tooltip,r=pe(10+2*(e.length+1));r.write_shift(2,2048);var n=Ir(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<e.length;++i)r.write_shift(2,e.charCodeAt(i));return r.write_shift(2,0),r}function FY(t){var e=[0,0],r;return r=t.read_shift(2),e[0]=FN[r]||r,r=t.read_shift(2),e[1]=FN[r]||r,e}function LY(t){return t||(t=pe(4)),t.write_shift(2,1),t.write_shift(2,1),t}function $Y(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(R$(t));return r}function BY(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(R$(t));return r}function jY(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function j$(t,e,r){if(!r.cellStyles)return pi(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),a=t.read_shift(n),s=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(2);n==2&&(t.l+=2);var c={s:i,e:a,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function UY(t,e){var r=pe(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function VY(t,e){var r={};return e<32||(t.l+=16,r.header=ui(t),r.footer=ui(t),t.l+=2),r}function HY(t,e,r){var n={area:!1};if(r.biff!=5)return t.l+=e,n;var i=t.read_shift(1);return t.l+=3,i&16&&(n.area=!0),n}function WY(t){for(var e=pe(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}var zY=Io,GY=I$,qY=ex;function XY(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i={fmt:e,env:r,len:n,data:t.slice(t.l,t.l+n)};return t.l+=n,i}function KY(t,e,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Io(t);++t.l;var i=Od(t,e-7,r);return n.t="str",n.val=i,n}function YY(t){var e=Io(t);++t.l;var r=ui(t);return e.t="n",e.val=r,e}function JY(t,e,r){var n=pe(15);return ix(n,t,e),n.write_shift(8,r,"f"),n}function ZY(t){var e=Io(t);++t.l;var r=t.read_shift(2);return e.t="n",e.val=r,e}function QY(t,e,r){var n=pe(9);return ix(n,t,e),n.write_shift(2,r),n}function eJ(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function tJ(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function rJ(t,e,r){var n=t.l+e,i=Io(t),a=t.read_shift(2),s=od(t,a,r);return t.l=n,i.t="str",i.val=s,i}var nJ=[2,3,48,49,131,139,140,245],CE=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=zb({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=ru(1);switch(l.type){case"base64":u=pa(_a(o));break;case"binary":u=pa(o);break;case"buffer":case"array":u=o;break}Un(u,0);var f=u.read_shift(1),d=!!(f&136),h=!1,m=!1;switch(f){case 2:break;case 3:break;case 48:h=!0,d=!0;break;case 49:h=!0,d=!0;break;case 131:break;case 139:break;case 140:m=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var p=0,y=521;f==2&&(p=u.read_shift(2)),u.l+=3,f!=2&&(p=u.read_shift(4)),p>1048576&&(p=1e6),f!=2&&(y=u.read_shift(2));var w=u.read_shift(2),b=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(b=t[u[u.l]]),u.l+=1,u.l+=2),m&&(u.l+=36);for(var _=[],A={},S=Math.min(u.length,f==2?521:y-10-(h?264:0)),T=m?32:11;u.l<S&&u[u.l]!=13;)switch(A={},A.name=Ng.utils.decode(b,u.slice(u.l,u.l+T)).replace(/[\u0000\r\n].*$/g,""),u.l+=T,A.type=String.fromCharCode(u.read_shift(1)),f!=2&&!m&&(A.offset=u.read_shift(4)),A.len=u.read_shift(1),f==2&&(A.offset=u.read_shift(2)),A.dec=u.read_shift(1),A.name.length&&_.push(A),f!=2&&(u.l+=m?13:14),A.type){case"B":(!h||A.len!=8)&&l.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+A.type)}if(u[u.l]!==13&&(u.l=y-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=y;var E=0,P=0;for(c[0]=[],P=0;P!=_.length;++P)c[0][P]=_[P].name;for(;p-- >0;){if(u[u.l]===42){u.l+=w;continue}for(++u.l,c[++E]=[],P=0,P=0;P!=_.length;++P){var k=u.slice(u.l,u.l+_[P].len);u.l+=_[P].len,Un(k,0);var N=Ng.utils.decode(b,k);switch(_[P].type){case"C":N.trim().length&&(c[E][P]=N.replace(/\s+$/,""));break;case"D":N.length===8?c[E][P]=new Date(+N.slice(0,4),+N.slice(4,6)-1,+N.slice(6,8)):c[E][P]=N;break;case"F":c[E][P]=parseFloat(N.trim());break;case"+":case"I":c[E][P]=m?k.read_shift(-4,"i")^2147483648:k.read_shift(4,"i");break;case"L":switch(N.trim().toUpperCase()){case"Y":case"T":c[E][P]=!0;break;case"N":case"F":c[E][P]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+N+"|")}break;case"M":if(!d)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[E][P]="##MEMO##"+(m?parseInt(N.trim(),10):k.read_shift(4));break;case"N":N=N.replace(/\u0000/g,"").trim(),N&&N!="."&&(c[E][P]=+N||0);break;case"@":c[E][P]=new Date(k.read_shift(-8,"f")-621356832e5);break;case"T":c[E][P]=new Date((k.read_shift(4)-2440588)*864e5+k.read_shift(4));break;case"Y":c[E][P]=k.read_shift(4,"i")/1e4+k.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[E][P]=-k.read_shift(-8,"f");break;case"B":if(h&&_[P].len==8){c[E][P]=k.read_shift(8,"f");break}case"G":case"P":k.l+=_[P].len;break;case"0":if(_[P].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+_[P].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=_,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=Ep(r(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function i(o,l){try{return mu(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&Ns(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=Xi(),f=qw(o,{header:1,raw:!0,cellDates:!0}),d=f[0],h=f.slice(1),m=o["!cols"]||[],p=0,y=0,w=0,b=1;for(p=0;p<d.length;++p){if(((m[p]||{}).DBF||{}).name){d[p]=m[p].DBF.name,++w;continue}if(d[p]!=null){if(++w,typeof d[p]=="number"&&(d[p]=d[p].toString(10)),typeof d[p]!="string")throw new Error("DBF Invalid column name "+d[p]+" |"+typeof d[p]+"|");if(d.indexOf(d[p])!==p){for(y=0;y<1024;++y)if(d.indexOf(d[p]+"_"+y)==-1){d[p]+="_"+y;break}}}}var _=Nt(o["!ref"]),A=[],S=[],T=[];for(p=0;p<=_.e.c-_.s.c;++p){var E="",P="",k=0,N=[];for(y=0;y<h.length;++y)h[y][p]!=null&&N.push(h[y][p]);if(N.length==0||d[p]==null){A[p]="?";continue}for(y=0;y<N.length;++y){switch(typeof N[y]){case"number":P="B";break;case"string":P="C";break;case"boolean":P="L";break;case"object":P=N[y]instanceof Date?"D":"C";break;default:P="C"}k=Math.max(k,String(N[y]).length),E=E&&E!=P?"C":P}k>250&&(k=250),P=((m[p]||{}).DBF||{}).type,P=="C"&&m[p].DBF.len>k&&(k=m[p].DBF.len),E=="B"&&P=="N"&&(E="N",T[p]=m[p].DBF.dec,k=m[p].DBF.len),S[p]=E=="C"||P=="N"?k:a[E]||0,b+=S[p],A[p]=E}var O=u.next(32);for(O.write_shift(4,318902576),O.write_shift(4,h.length),O.write_shift(2,296+32*w),O.write_shift(2,b),p=0;p<4;++p)O.write_shift(4,0);for(O.write_shift(4,0|(+e[P8]||3)<<8),p=0,y=0;p<d.length;++p)if(d[p]!=null){var R=u.next(32),W=(d[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);R.write_shift(1,W,"sbcs"),R.write_shift(1,A[p]=="?"?"C":A[p],"sbcs"),R.write_shift(4,y),R.write_shift(1,S[p]||a[A[p]]||0),R.write_shift(1,T[p]||0),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(1,0),R.write_shift(4,0),R.write_shift(4,0),y+=S[p]||a[A[p]]||0}var Q=u.next(264);for(Q.write_shift(4,13),p=0;p<65;++p)Q.write_shift(4,0);for(p=0;p<h.length;++p){var j=u.next(b);for(j.write_shift(1,0),y=0;y<d.length;++y)if(d[y]!=null)switch(A[y]){case"L":j.write_shift(1,h[p][y]==null?63:h[p][y]?84:70);break;case"B":j.write_shift(8,h[p][y]||0,"f");break;case"N":var Y="0";for(typeof h[p][y]=="number"&&(Y=h[p][y].toFixed(T[y]||0)),w=0;w<S[y]-Y.length;++w)j.write_shift(1,32);j.write_shift(1,Y,"sbcs");break;case"D":h[p][y]?(j.write_shift(4,("0000"+h[p][y].getFullYear()).slice(-4),"sbcs"),j.write_shift(2,("00"+(h[p][y].getMonth()+1)).slice(-2),"sbcs"),j.write_shift(2,("00"+h[p][y].getDate()).slice(-2),"sbcs")):j.write_shift(8,"00000000","sbcs");break;case"C":var J=String(h[p][y]!=null?h[p][y]:"").slice(0,S[y]);for(j.write_shift(1,J,"sbcs"),w=0;w<S[y]-J.length;++w)j.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:i,to_sheet:n,from_sheet:s}}(),U$=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Br(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(d,h){var m=t[h];return typeof m=="number"?cN(m):m},n=function(d,h,m){var p=h.charCodeAt(0)-32<<4|m.charCodeAt(0)-48;return p==59?d:cN(p)};t["|"]=254;function i(d,h){switch(h.type){case"base64":return a(_a(d),h);case"binary":return a(d,h);case"buffer":return a(xt&&Buffer.isBuffer(d)?d.toString("binary"):pu(d),h);case"array":return a(ad(d),h)}throw new Error("Unrecognized type "+h.type)}function a(d,h){var m=d.split(/[\n\r]+/),p=-1,y=-1,w=0,b=0,_=[],A=[],S=null,T={},E=[],P=[],k=[],N=0,O;for(+h.codepage>=0&&Ns(+h.codepage);w!==m.length;++w){N=0;var R=m[w].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),W=R.replace(/;;/g,"\0").split(";").map(function(ee){return ee.replace(/\u0000/g,";")}),Q=W[0],j;if(R.length>0)switch(Q){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":W[1].charAt(0)=="P"&&A.push(R.slice(3).replace(/;;/g,";"));break;case"C":var Y=!1,J=!1,Z=!1,V=!1,te=-1,se=-1;for(b=1;b<W.length;++b)switch(W[b].charAt(0)){case"A":break;case"X":y=parseInt(W[b].slice(1))-1,J=!0;break;case"Y":for(p=parseInt(W[b].slice(1))-1,J||(y=0),O=_.length;O<=p;++O)_[O]=[];break;case"K":j=W[b].slice(1),j.charAt(0)==='"'?j=j.slice(1,j.length-1):j==="TRUE"?j=!0:j==="FALSE"?j=!1:isNaN(Bs(j))?isNaN(H0(j).getDate())||(j=dr(j)):(j=Bs(j),S!==null&&Ap(S)&&(j=qb(j))),Y=!0;break;case"E":V=!0;var D=Oh(W[b].slice(1),{r:p,c:y});_[p][y]=[_[p][y],D];break;case"S":Z=!0,_[p][y]=[_[p][y],"S5S"];break;case"G":break;case"R":te=parseInt(W[b].slice(1))-1;break;case"C":se=parseInt(W[b].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+R)}if(Y&&(_[p][y]&&_[p][y].length==2?_[p][y][0]=j:_[p][y]=j,S=null),Z){if(V)throw new Error("SYLK shared formula cannot have own formula");var q=te>-1&&_[te][se];if(!q||!q[1])throw new Error("SYLK shared formula cannot find base");_[p][y][1]=aB(q[1],{r:p-te,c:y-se})}break;case"F":var X=0;for(b=1;b<W.length;++b)switch(W[b].charAt(0)){case"X":y=parseInt(W[b].slice(1))-1,++X;break;case"Y":for(p=parseInt(W[b].slice(1))-1,O=_.length;O<=p;++O)_[O]=[];break;case"M":N=parseInt(W[b].slice(1))/20;break;case"F":break;case"G":break;case"P":S=A[parseInt(W[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(k=W[b].slice(1).split(" "),O=parseInt(k[0],10);O<=parseInt(k[1],10);++O)N=parseInt(k[2],10),P[O-1]=N===0?{hidden:!0}:{wch:N},nu(P[O-1]);break;case"C":y=parseInt(W[b].slice(1))-1,P[y]||(P[y]={});break;case"R":p=parseInt(W[b].slice(1))-1,E[p]||(E[p]={}),N>0?(E[p].hpt=N,E[p].hpx=z0(N)):N===0&&(E[p].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+R)}X<1&&(S=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+R)}}return E.length>0&&(T["!rows"]=E),P.length>0&&(T["!cols"]=P),h&&h.sheetRows&&(_=_.slice(0,h.sheetRows)),[_,T]}function s(d,h){var m=i(d,h),p=m[0],y=m[1],w=Ep(p,h);return Br(y).forEach(function(b){w[b]=y[b]}),w}function o(d,h){return mu(s(d,h),h)}function l(d,h,m,p){var y="C;Y"+(m+1)+";X"+(p+1)+";K";switch(d.t){case"n":y+=d.v||0,d.f&&!d.F&&(y+=";E"+uI(d.f,{r:m,c:p}));break;case"b":y+=d.v?"TRUE":"FALSE";break;case"e":y+=d.w||d.v;break;case"d":y+='"'+(d.w||d.v)+'"';break;case"s":y+='"'+d.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function c(d,h){h.forEach(function(m,p){var y="F;W"+(p+1)+" "+(p+1)+" ";m.hidden?y+="0":(typeof m.width=="number"&&!m.wpx&&(m.wpx=Ug(m.width)),typeof m.wpx=="number"&&!m.wch&&(m.wch=Vg(m.wpx)),typeof m.wch=="number"&&(y+=Math.round(m.wch))),y.charAt(y.length-1)!=" "&&d.push(y)})}function u(d,h){h.forEach(function(m,p){var y="F;";m.hidden?y+="M0;":m.hpt?y+="M"+20*m.hpt+";":m.hpx&&(y+="M"+20*Hg(m.hpx)+";"),y.length>2&&d.push(y+"R"+(p+1))})}function f(d,h){var m=["ID;PWXL;N;E"],p=[],y=Nt(d["!ref"]),w,b=Array.isArray(d),_=`\r
`;m.push("P;PGeneral"),m.push("F;P0;DG0G8;M255"),d["!cols"]&&c(m,d["!cols"]),d["!rows"]&&u(m,d["!rows"]),m.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var A=y.s.r;A<=y.e.r;++A)for(var S=y.s.c;S<=y.e.c;++S){var T=et({r:A,c:S});w=b?(d[A]||[])[S]:d[T],!(!w||w.v==null&&(!w.f||w.F))&&p.push(l(w,d,A,S))}return m.join(_)+_+p.join(_)+_+"E"+_}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),V$=function(){function t(a,s){switch(s.type){case"base64":return e(_a(a),s);case"binary":return e(a,s);case"buffer":return e(xt&&Buffer.isBuffer(a)?a.toString("binary"):pu(a),s);case"array":return e(ad(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){for(var o=a.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var d=o[u].trim().split(","),h=d[0],m=d[1];++u;for(var p=o[u]||"";(p.match(/["]/g)||[]).length&1&&u<o.length-1;)p+=`
`+o[++u];switch(p=p.trim(),+h){case-1:if(p==="BOT"){f[++l]=[],c=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?f[l][c]=!0:p==="FALSE"?f[l][c]=!1:isNaN(Bs(m))?isNaN(H0(m).getDate())?f[l][c]=m:f[l][c]=dr(m):f[l][c]=Bs(m),++c;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),f[l][c++]=p!==""?p:null;break}if(p==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(a,s){return Ep(t(a,s),s)}function n(a,s){return mu(r(a,s),s)}var i=function(){var a=function(l,c,u,f,d){l.push(c),l.push(u+","+f),l.push('"'+d.replace(/"/g,'""')+'"')},s=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=Nt(l["!ref"]),f,d=Array.isArray(l);a(c,"TABLE",0,1,"sheetjs"),a(c,"VECTORS",0,u.e.r-u.s.r+1,""),a(c,"TUPLES",0,u.e.c-u.s.c+1,""),a(c,"DATA",0,0,"");for(var h=u.s.r;h<=u.e.r;++h){s(c,-1,0,"BOT");for(var m=u.s.c;m<=u.e.c;++m){var p=et({r:h,c:m});if(f=d?(l[h]||[])[m]:l[p],!f){s(c,1,0,"");continue}switch(f.t){case"n":var y=f.w;!y&&f.v!=null&&(y=f.v),y==null?f.f&&!f.F?s(c,1,0,"="+f.f):s(c,1,0,""):s(c,0,y,"V");break;case"b":s(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=ts(f.z||Qe[14],wn(dr(f.v)))),s(c,0,f.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var w=`\r
`,b=c.join(w);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),H$=function(){function t(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,d){for(var h=f.split(`
`),m=-1,p=-1,y=0,w=[];y!==h.length;++y){var b=h[y].trim().split(":");if(b[0]==="cell"){var _=Ir(b[1]);if(w.length<=_.r)for(m=w.length;m<=_.r;++m)w[m]||(w[m]=[]);switch(m=_.r,p=_.c,b[2]){case"t":w[m][p]=t(b[3]);break;case"v":w[m][p]=+b[3];break;case"vtf":var A=b[b.length-1];case"vtc":switch(b[3]){case"nl":w[m][p]=!!+b[4];break;default:w[m][p]=+b[4];break}b[2]=="vtf"&&(w[m][p]=[w[m][p],A])}}}return d&&d.sheetRows&&(w=w.slice(0,d.sheetRows)),w}function n(f,d){return Ep(r(f,d),d)}function i(f,d){return mu(n(f,d),d)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var d=[],h=[],m,p="",y=Ki(f["!ref"]),w=Array.isArray(f),b=y.s.r;b<=y.e.r;++b)for(var _=y.s.c;_<=y.e.c;++_)if(p=et({r:b,c:_}),m=w?(f[b]||[])[_]:f[p],!(!m||m.v==null||m.t==="z")){switch(h=["cell",p,"t"],m.t){case"s":case"str":h.push(e(m.v));break;case"n":m.f?(h[2]="vtf",h[3]="n",h[4]=m.v,h[5]=e(m.f)):(h[2]="v",h[3]=m.v);break;case"b":h[2]="vt"+(m.f?"f":"c"),h[3]="nl",h[4]=m.v?"1":"0",h[5]=e(m.f||(m.v?"TRUE":"FALSE"));break;case"d":var A=wn(dr(m.v));h[2]="vtc",h[3]="nd",h[4]=""+A,h[5]=m.w||ts(m.z||Qe[14],A);break;case"e":continue}d.push(h.join(":"))}return d.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),d.push("valueformat:1:text-wiki"),d.join(`
`)}function u(f){return[a,s,o,s,c(f),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:u}}(),W0=function(){function t(u,f,d,h,m){m.raw?f[d][h]=u:u===""||(u==="TRUE"?f[d][h]=!0:u==="FALSE"?f[d][h]=!1:isNaN(Bs(u))?isNaN(H0(u).getDate())?f[d][h]=u:f[d][h]=dr(u):f[d][h]=Bs(u))}function e(u,f){var d=f||{},h=[];if(!u||u.length===0)return h;for(var m=u.split(/[\r\n]/),p=m.length-1;p>=0&&m[p].length===0;)--p;for(var y=10,w=0,b=0;b<=p;++b)w=m[b].indexOf(" "),w==-1?w=m[b].length:w++,y=Math.max(y,w);for(b=0;b<=p;++b){h[b]=[];var _=0;for(t(m[b].slice(0,y).trim(),h,b,_,d),_=1;_<=(m[b].length-y)/10+1;++_)t(m[b].slice(y+(_-1)*10,y+_*10).trim(),h,b,_,d)}return d.sheetRows&&(h=h.slice(0,d.sheetRows)),h}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(u){for(var f={},d=!1,h=0,m=0;h<u.length;++h)(m=u.charCodeAt(h))==34?d=!d:!d&&m in r&&(f[m]=(f[m]||0)+1);m=[];for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&m.push([f[h],h]);if(!m.length){f=n;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&m.push([f[h],h])}return m.sort(function(p,y){return p[0]-y[0]||n[p[1]]-n[y[1]]}),r[m.pop()[1]]||44}function a(u,f){var d=f||{},h="",m=d.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(h=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(h=u.charAt(4),u=u.slice(6)):h=i(u.slice(0,1024)):d&&d.FS?h=d.FS:h=i(u.slice(0,1024));var y=0,w=0,b=0,_=0,A=0,S=h.charCodeAt(0),T=!1,E=0,P=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var k=d.dateNF!=null?Hq(d.dateNF):null;function N(){var O=u.slice(_,A),R={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)R.t="z";else if(d.raw)R.t="s",R.v=O;else if(O.trim().length===0)R.t="s",R.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(R.t="s",R.v=O.slice(2,-1).replace(/""/g,'"')):yQ(O)?(R.t="n",R.f=O.slice(1)):(R.t="s",R.v=O);else if(O=="TRUE")R.t="b",R.v=!0;else if(O=="FALSE")R.t="b",R.v=!1;else if(!isNaN(b=Bs(O)))R.t="n",d.cellText!==!1&&(R.w=O),R.v=b;else if(!isNaN(H0(O).getDate())||k&&O.match(k)){R.z=d.dateNF||Qe[14];var W=0;k&&O.match(k)&&(O=Wq(O,d.dateNF,O.match(k)||[]),W=1),d.cellDates?(R.t="d",R.v=dr(O,W)):(R.t="n",R.v=wn(dr(O,W))),d.cellText!==!1&&(R.w=ts(R.z,R.v instanceof Date?wn(R.v):R.v)),d.cellNF||delete R.z}else R.t="s",R.v=O;if(R.t=="z"||(d.dense?(m[y]||(m[y]=[]),m[y][w]=R):m[et({c:w,r:y})]=R),_=A+1,P=u.charCodeAt(_),p.e.c<w&&(p.e.c=w),p.e.r<y&&(p.e.r=y),E==S)++w;else if(w=0,++y,d.sheetRows&&d.sheetRows<=y)return!0}e:for(;A<u.length;++A)switch(E=u.charCodeAt(A)){case 34:P===34&&(T=!T);break;case S:case 10:case 13:if(!T&&N())break e;break}return A-_>0&&N(),m["!ref"]=ft(p),m}function s(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?a(u,f):Ep(e(u,f),f)}function o(u,f){var d="",h=f.type=="string"?[0,0,0,0]:yI(u,f);switch(f.type){case"base64":d=_a(u);break;case"binary":d=u;break;case"buffer":f.codepage==65001?d=u.toString("utf8"):f.codepage&&typeof Ng<"u"||(d=xt&&Buffer.isBuffer(u)?u.toString("binary"):pu(u));break;case"array":d=ad(u);break;case"string":d=u;break;default:throw new Error("Unrecognized type "+f.type)}return h[0]==239&&h[1]==187&&h[2]==191?d=Zt(d.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?d=Zt(d):f.type=="binary"&&typeof Ng<"u",d.slice(0,19)=="socialcalc:version:"?H$.to_sheet(f.type=="string"?d:Zt(d),f):s(d,f)}function l(u,f){return mu(o(u,f),f)}function c(u){for(var f=[],d=Nt(u["!ref"]),h,m=Array.isArray(u),p=d.s.r;p<=d.e.r;++p){for(var y=[],w=d.s.c;w<=d.e.c;++w){var b=et({r:p,c:w});if(h=m?(u[p]||[])[w]:u[b],!h||h.v==null){y.push("          ");continue}for(var _=(h.w||(Rl(h),h.w)||"").slice(0,10);_.length<10;)_+=" ";y.push(_+(w===0?" ":""))}f.push(y.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function iJ(t,e){var r=e||{},n=!!r.WTF;r.WTF=!0;try{var i=U$.to_workbook(t,r);return r.WTF=n,i}catch(a){if(r.WTF=n,!a.message.match(/SYLK bad record ID/)&&n)throw a;return W0.to_workbook(t,e)}}var Kf=function(){function t(D,q,X){if(D){Un(D,D.l||0);for(var ee=X.Enum||te;D.l<D.length;){var ae=D.read_shift(2),ue=ee[ae]||ee[65535],ve=D.read_shift(2),ie=D.l+ve,ce=ue.f&&ue.f(D,ve,X);if(D.l=ie,q(ce,ue,ae))return}}}function e(D,q){switch(q.type){case"base64":return r(pa(_a(D)),q);case"binary":return r(pa(D),q);case"buffer":case"array":return r(D,q)}throw"Unsupported type "+q.type}function r(D,q){if(!D)return D;var X=q||{},ee=X.dense?[]:{},ae="Sheet1",ue="",ve=0,ie={},ce=[],be=[],L={s:{r:0,c:0},e:{r:0,c:0}},Ue=X.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)X.Enum=te,t(D,function(xe,Tt,He){switch(He){case 0:X.vers=xe,xe>=4096&&(X.qpro=!0);break;case 6:L=xe;break;case 204:xe&&(ue=xe);break;case 222:ue=xe;break;case 15:case 51:X.qpro||(xe[1].v=xe[1].v.slice(1));case 13:case 14:case 16:He==14&&(xe[2]&112)==112&&(xe[2]&15)>1&&(xe[2]&15)<15&&(xe[1].z=X.dateNF||Qe[14],X.cellDates&&(xe[1].t="d",xe[1].v=qb(xe[1].v))),X.qpro&&xe[3]>ve&&(ee["!ref"]=ft(L),ie[ae]=ee,ce.push(ae),ee=X.dense?[]:{},L={s:{r:0,c:0},e:{r:0,c:0}},ve=xe[3],ae=ue||"Sheet"+(ve+1),ue="");var Nr=X.dense?(ee[xe[0].r]||[])[xe[0].c]:ee[et(xe[0])];if(Nr){Nr.t=xe[1].t,Nr.v=xe[1].v,xe[1].z!=null&&(Nr.z=xe[1].z),xe[1].f!=null&&(Nr.f=xe[1].f);break}X.dense?(ee[xe[0].r]||(ee[xe[0].r]=[]),ee[xe[0].r][xe[0].c]=xe[1]):ee[et(xe[0])]=xe[1];break}},X);else if(D[2]==26||D[2]==14)X.Enum=se,D[2]==14&&(X.qpro=!0,D.l=0),t(D,function(xe,Tt,He){switch(He){case 204:ae=xe;break;case 22:xe[1].v=xe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(xe[3]>ve&&(ee["!ref"]=ft(L),ie[ae]=ee,ce.push(ae),ee=X.dense?[]:{},L={s:{r:0,c:0},e:{r:0,c:0}},ve=xe[3],ae="Sheet"+(ve+1)),Ue>0&&xe[0].r>=Ue)break;X.dense?(ee[xe[0].r]||(ee[xe[0].r]=[]),ee[xe[0].r][xe[0].c]=xe[1]):ee[et(xe[0])]=xe[1],L.e.c<xe[0].c&&(L.e.c=xe[0].c),L.e.r<xe[0].r&&(L.e.r=xe[0].r);break;case 27:xe[14e3]&&(be[xe[14e3][0]]=xe[14e3][1]);break;case 1537:be[xe[0]]=xe[1],xe[0]==ve&&(ae=xe[1]);break}},X);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(ee["!ref"]=ft(L),ie[ue||ae]=ee,ce.push(ue||ae),!be.length)return{SheetNames:ce,Sheets:ie};for(var Ce={},Ve=[],Be=0;Be<be.length;++Be)ie[ce[Be]]?(Ve.push(be[Be]||ce[Be]),Ce[be[Be]]=ie[be[Be]]||ie[ce[Be]]):(Ve.push(be[Be]),Ce[be[Be]]={"!ref":"A1"});return{SheetNames:Ve,Sheets:Ce}}function n(D,q){var X=q||{};if(+X.codepage>=0&&Ns(+X.codepage),X.type=="string")throw new Error("Cannot write WK1 to JS string");var ee=Xi(),ae=Nt(D["!ref"]),ue=Array.isArray(D),ve=[];Ee(ee,0,a(1030)),Ee(ee,6,l(ae));for(var ie=Math.min(ae.e.r,8191),ce=ae.s.r;ce<=ie;++ce)for(var be=zr(ce),L=ae.s.c;L<=ae.e.c;++L){ce===ae.s.r&&(ve[L]=Pr(L));var Ue=ve[L]+be,Ce=ue?(D[ce]||[])[L]:D[Ue];if(!(!Ce||Ce.t=="z"))if(Ce.t=="n")(Ce.v|0)==Ce.v&&Ce.v>=-32768&&Ce.v<=32767?Ee(ee,13,h(ce,L,Ce.v)):Ee(ee,14,p(ce,L,Ce.v));else{var Ve=Rl(Ce);Ee(ee,15,f(ce,L,Ve.slice(0,239)))}}return Ee(ee,1),ee.end()}function i(D,q){var X=q||{};if(+X.codepage>=0&&Ns(+X.codepage),X.type=="string")throw new Error("Cannot write WK3 to JS string");var ee=Xi();Ee(ee,0,s(D));for(var ae=0,ue=0;ae<D.SheetNames.length;++ae)(D.Sheets[D.SheetNames[ae]]||{})["!ref"]&&Ee(ee,27,V(D.SheetNames[ae],ue++));var ve=0;for(ae=0;ae<D.SheetNames.length;++ae){var ie=D.Sheets[D.SheetNames[ae]];if(!(!ie||!ie["!ref"])){for(var ce=Nt(ie["!ref"]),be=Array.isArray(ie),L=[],Ue=Math.min(ce.e.r,8191),Ce=ce.s.r;Ce<=Ue;++Ce)for(var Ve=zr(Ce),Be=ce.s.c;Be<=ce.e.c;++Be){Ce===ce.s.r&&(L[Be]=Pr(Be));var xe=L[Be]+Ve,Tt=be?(ie[Ce]||[])[Be]:ie[xe];if(!(!Tt||Tt.t=="z"))if(Tt.t=="n")Ee(ee,23,N(Ce,Be,ve,Tt.v));else{var He=Rl(Tt);Ee(ee,22,E(Ce,Be,ve,He.slice(0,239)))}}++ve}}return Ee(ee,1),ee.end()}function a(D){var q=pe(2);return q.write_shift(2,D),q}function s(D){var q=pe(26);q.write_shift(2,4096),q.write_shift(2,4),q.write_shift(4,0);for(var X=0,ee=0,ae=0,ue=0;ue<D.SheetNames.length;++ue){var ve=D.SheetNames[ue],ie=D.Sheets[ve];if(!(!ie||!ie["!ref"])){++ae;var ce=Ki(ie["!ref"]);X<ce.e.r&&(X=ce.e.r),ee<ce.e.c&&(ee=ce.e.c)}}return X>8191&&(X=8191),q.write_shift(2,X),q.write_shift(1,ae),q.write_shift(1,ee),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(1,1),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(4,0),q}function o(D,q,X){var ee={s:{c:0,r:0},e:{c:0,r:0}};return q==8&&X.qpro?(ee.s.c=D.read_shift(1),D.l++,ee.s.r=D.read_shift(2),ee.e.c=D.read_shift(1),D.l++,ee.e.r=D.read_shift(2),ee):(ee.s.c=D.read_shift(2),ee.s.r=D.read_shift(2),q==12&&X.qpro&&(D.l+=2),ee.e.c=D.read_shift(2),ee.e.r=D.read_shift(2),q==12&&X.qpro&&(D.l+=2),ee.s.c==65535&&(ee.s.c=ee.e.c=ee.s.r=ee.e.r=0),ee)}function l(D){var q=pe(8);return q.write_shift(2,D.s.c),q.write_shift(2,D.s.r),q.write_shift(2,D.e.c),q.write_shift(2,D.e.r),q}function c(D,q,X){var ee=[{c:0,r:0},{t:"n",v:0},0,0];return X.qpro&&X.vers!=20768?(ee[0].c=D.read_shift(1),ee[3]=D.read_shift(1),ee[0].r=D.read_shift(2),D.l+=2):(ee[2]=D.read_shift(1),ee[0].c=D.read_shift(2),ee[0].r=D.read_shift(2)),ee}function u(D,q,X){var ee=D.l+q,ae=c(D,q,X);if(ae[1].t="s",X.vers==20768){D.l++;var ue=D.read_shift(1);return ae[1].v=D.read_shift(ue,"utf8"),ae}return X.qpro&&D.l++,ae[1].v=D.read_shift(ee-D.l,"cstr"),ae}function f(D,q,X){var ee=pe(7+X.length);ee.write_shift(1,255),ee.write_shift(2,q),ee.write_shift(2,D),ee.write_shift(1,39);for(var ae=0;ae<ee.length;++ae){var ue=X.charCodeAt(ae);ee.write_shift(1,ue>=128?95:ue)}return ee.write_shift(1,0),ee}function d(D,q,X){var ee=c(D,q,X);return ee[1].v=D.read_shift(2,"i"),ee}function h(D,q,X){var ee=pe(7);return ee.write_shift(1,255),ee.write_shift(2,q),ee.write_shift(2,D),ee.write_shift(2,X,"i"),ee}function m(D,q,X){var ee=c(D,q,X);return ee[1].v=D.read_shift(8,"f"),ee}function p(D,q,X){var ee=pe(13);return ee.write_shift(1,255),ee.write_shift(2,q),ee.write_shift(2,D),ee.write_shift(8,X,"f"),ee}function y(D,q,X){var ee=D.l+q,ae=c(D,q,X);if(ae[1].v=D.read_shift(8,"f"),X.qpro)D.l=ee;else{var ue=D.read_shift(2);A(D.slice(D.l,D.l+ue),ae),D.l+=ue}return ae}function w(D,q,X){var ee=q&32768;return q&=-32769,q=(ee?D:0)+(q>=8192?q-16384:q),(ee?"":"$")+(X?Pr(q):zr(q))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},_=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function A(D,q){Un(D,0);for(var X=[],ee=0,ae="",ue="",ve="",ie="";D.l<D.length;){var ce=D[D.l++];switch(ce){case 0:X.push(D.read_shift(8,"f"));break;case 1:ue=w(q[0].c,D.read_shift(2),!0),ae=w(q[0].r,D.read_shift(2),!1),X.push(ue+ae);break;case 2:{var be=w(q[0].c,D.read_shift(2),!0),L=w(q[0].r,D.read_shift(2),!1);ue=w(q[0].c,D.read_shift(2),!0),ae=w(q[0].r,D.read_shift(2),!1),X.push(be+L+":"+ue+ae)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:X.push("("+X.pop()+")");break;case 5:X.push(D.read_shift(2));break;case 6:{for(var Ue="";ce=D[D.l++];)Ue+=String.fromCharCode(ce);X.push('"'+Ue.replace(/"/g,'""')+'"')}break;case 8:X.push("-"+X.pop());break;case 23:X.push("+"+X.pop());break;case 22:X.push("NOT("+X.pop()+")");break;case 20:case 21:ie=X.pop(),ve=X.pop(),X.push(["AND","OR"][ce-20]+"("+ve+","+ie+")");break;default:if(ce<32&&_[ce])ie=X.pop(),ve=X.pop(),X.push(ve+_[ce]+ie);else if(b[ce]){if(ee=b[ce][1],ee==69&&(ee=D[D.l++]),ee>X.length){console.error("WK1 bad formula parse 0x"+ce.toString(16)+":|"+X.join("|")+"|");return}var Ce=X.slice(-ee);X.length-=ee,X.push(b[ce][0]+"("+Ce.join(",")+")")}else return ce<=7?console.error("WK1 invalid opcode "+ce.toString(16)):ce<=24?console.error("WK1 unsupported op "+ce.toString(16)):ce<=30?console.error("WK1 invalid opcode "+ce.toString(16)):ce<=115?console.error("WK1 unsupported function opcode "+ce.toString(16)):console.error("WK1 unrecognized opcode "+ce.toString(16))}}X.length==1?q[1].f=""+X[0]:console.error("WK1 bad formula parse |"+X.join("|")+"|")}function S(D){var q=[{c:0,r:0},{t:"n",v:0},0];return q[0].r=D.read_shift(2),q[3]=D[D.l++],q[0].c=D[D.l++],q}function T(D,q){var X=S(D);return X[1].t="s",X[1].v=D.read_shift(q-4,"cstr"),X}function E(D,q,X,ee){var ae=pe(6+ee.length);ae.write_shift(2,D),ae.write_shift(1,X),ae.write_shift(1,q),ae.write_shift(1,39);for(var ue=0;ue<ee.length;++ue){var ve=ee.charCodeAt(ue);ae.write_shift(1,ve>=128?95:ve)}return ae.write_shift(1,0),ae}function P(D,q){var X=S(D);X[1].v=D.read_shift(2);var ee=X[1].v>>1;if(X[1].v&1)switch(ee&7){case 0:ee=(ee>>3)*5e3;break;case 1:ee=(ee>>3)*500;break;case 2:ee=(ee>>3)/20;break;case 3:ee=(ee>>3)/200;break;case 4:ee=(ee>>3)/2e3;break;case 5:ee=(ee>>3)/2e4;break;case 6:ee=(ee>>3)/16;break;case 7:ee=(ee>>3)/64;break}return X[1].v=ee,X}function k(D,q){var X=S(D),ee=D.read_shift(4),ae=D.read_shift(4),ue=D.read_shift(2);if(ue==65535)return ee===0&&ae===3221225472?(X[1].t="e",X[1].v=15):ee===0&&ae===3489660928?(X[1].t="e",X[1].v=42):X[1].v=0,X;var ve=ue&32768;return ue=(ue&32767)-16446,X[1].v=(1-ve*2)*(ae*Math.pow(2,ue+32)+ee*Math.pow(2,ue)),X}function N(D,q,X,ee){var ae=pe(14);if(ae.write_shift(2,D),ae.write_shift(1,X),ae.write_shift(1,q),ee==0)return ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(2,65535),ae;var ue=0,ve=0,ie=0,ce=0;return ee<0&&(ue=1,ee=-ee),ve=Math.log2(ee)|0,ee/=Math.pow(2,ve-31),ce=ee>>>0,ce&2147483648||(ee/=2,++ve,ce=ee>>>0),ee-=ce,ce|=2147483648,ce>>>=0,ee*=Math.pow(2,32),ie=ee>>>0,ae.write_shift(4,ie),ae.write_shift(4,ce),ve+=16383+(ue?32768:0),ae.write_shift(2,ve),ae}function O(D,q){var X=k(D);return D.l+=q-14,X}function R(D,q){var X=S(D),ee=D.read_shift(4);return X[1].v=ee>>6,X}function W(D,q){var X=S(D),ee=D.read_shift(8,"f");return X[1].v=ee,X}function Q(D,q){var X=W(D);return D.l+=q-10,X}function j(D,q){return D[D.l+q-1]==0?D.read_shift(q,"cstr"):""}function Y(D,q){var X=D[D.l++];X>q-1&&(X=q-1);for(var ee="";ee.length<X;)ee+=String.fromCharCode(D[D.l++]);return ee}function J(D,q,X){if(!(!X.qpro||q<21)){var ee=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var ae=D.read_shift(q-21,"cstr");return[ee,ae]}}function Z(D,q){for(var X={},ee=D.l+q;D.l<ee;){var ae=D.read_shift(2);if(ae==14e3){for(X[ae]=[0,""],X[ae][0]=D.read_shift(2);D[D.l];)X[ae][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return X}function V(D,q){var X=pe(5+D.length);X.write_shift(2,14e3),X.write_shift(2,q);for(var ee=0;ee<D.length;++ee){var ae=D.charCodeAt(ee);X[X.l++]=ae>127?95:ae}return X[X.l++]=0,X}var te={0:{n:"BOF",f:en},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:d},14:{n:"NUMBER",f:m},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:j},222:{n:"SHEETNAMELP",f:Y},65535:{n:""}},se={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:T},23:{n:"NUMBER17",f:k},24:{n:"NUMBER18",f:P},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Z},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:R},38:{n:"??"},39:{n:"NUMBER27",f:W},40:{n:"FORMULA28",f:Q},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:j},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:J},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}}();function aJ(t){var e={},r=t.match(mi),n=0,i=!1;if(r)for(;n!=r.length;++n){var a=tt(r[n]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;e.cp=DP[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=a.val;break;case"<sz":e.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":a.rgb&&(e.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+a[0])}}return e}var sJ=function(){var t=Fg("t"),e=Fg("rPr");function r(a){var s=a.match(t);if(!s)return{t:"s",v:""};var o={t:"s",v:Ot(s[1])},l=a.match(e);return l&&(o.s=aJ(l[1])),o}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(i).map(r).filter(function(o){return o.v})}}(),oJ=function(){var e=/(\r\n|\n)/g;function r(i,a,s){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),a.push('<span style="'+o.join("")+'">'),i.b&&(a.push("<b>"),s.push("</b>")),i.i&&(a.push("<i>"),s.push("</i>")),i.strike&&(a.push("<s>"),s.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(a.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),i}function n(i){var a=[[],i.v,[]];return i.v?(i.s&&r(i.s,a[0],a[2]),a[0].join("")+a[1].replace(e,"<br/>")+a[2].join("")):""}return function(a){return a.map(n).join("")}}(),lJ=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,cJ=/<(?:\w+:)?r>/,uJ=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function aI(t,e){var r=e?e.cellHTML:!0,n={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Ot(Zt(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Zt(t),r&&(n.h=zP(n.t))):t.match(cJ)&&(n.r=Zt(t),n.t=Ot(Zt((t.replace(uJ,"").match(lJ)||[]).join("").replace(mi,""))),r&&(n.h=oJ(sJ(n.r)))),n):{t:""}}var fJ=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,dJ=/<(?:\w+:)?(?:si|sstItem)>/g,hJ=/<\/(?:\w+:)?(?:si|sstItem)>/;function pJ(t,e){var r=[],n="";if(!t)return r;var i=t.match(fJ);if(i){n=i[2].replace(dJ,"").split(hJ);for(var a=0;a!=n.length;++a){var s=aI(n[a].trim(),e);s!=null&&(r[r.length]=s)}i=tt(i[1]),r.Count=i.count,r.Unique=i.uniqueCount}return r}var mJ=/^\s|\s$|[\t\n\r]/;function W$(t,e){if(!e.bookSST)return"";var r=[qr];r[r.length]=Te("sst",null,{xmlns:Ed[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var i=t[n],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(mJ)&&(a+=' xml:space="preserve"'),a+=">"+Gt(i.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function gJ(t){return[t.read_shift(4),t.read_shift(4)]}function vJ(t,e){var r=[],n=!1;return Wl(t,function(a,s,o){switch(o){case 159:r.Count=a[0],r.Unique=a[1];break;case 19:r.push(a);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function yJ(t,e){return e||(e=pe(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var xJ=PX;function wJ(t){var e=Xi();ye(e,159,yJ(t));for(var r=0;r<t.length;++r)ye(e,19,xJ(t[r]));return ye(e,160),e.end()}function z$(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function bl(t,e){var r={};return r.Major=t.read_shift(2),r.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),r}function _J(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=bl(t,4),e.U=bl(t,4),e.W=bl(t,4),e}function bJ(t){for(var e=t.read_shift(4),r=t.l+e-4,n={},i=t.read_shift(4),a=[];i-- >0;)a.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(n.name=t.read_shift(0,"lpp4"),n.comps=a,t.l!=r)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+r);return n}function SJ(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(bJ(t));return e}function AJ(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function TJ(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=bl(t,4),e.U=bl(t,4),e.W=bl(t,4),e}function EJ(t){var e=TJ(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function G$(t,e){var r=t.l+e,n={};n.Flags=t.read_shift(4)&63,t.l+=4,n.AlgID=t.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=t.read_shift(4),n.KeySize=t.read_shift(4),n.ProviderType=t.read_shift(4),t.l+=8,n.CSPName=t.read_shift(r-t.l>>1,"utf16le"),t.l=r,n}function q$(t,e){var r={},n=t.l+e;return t.l+=4,r.Salt=t.slice(t.l,t.l+16),t.l+=16,r.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),r.VerifierHash=t.slice(t.l,n),t.l=n,r}function CJ(t){var e=bl(t);switch(e.Minor){case 2:return[e.Minor,kJ(t)];case 3:return[e.Minor,PJ()];case 4:return[e.Minor,IJ(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function kJ(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var r=t.read_shift(4),n=G$(t,r),i=q$(t,t.length-t.l);return{t:"Std",h:n,v:i}}function PJ(){throw new Error("File is password-protected: ECMA-376 Extensible")}function IJ(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var r=t.read_shift(t.length-t.l,"utf8"),n={};return r.replace(mi,function(a){var s=tt(a);switch(Po(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function OJ(t,e){var r={},n=r.EncryptionVersionInfo=bl(t,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,r.EncryptionHeader=G$(t,i),e-=i,r.EncryptionVerifier=q$(t,e),r}function MJ(t){var e={},r=e.EncryptionVersionInfo=bl(t,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function sI(t){var e=0,r,n=z$(t),i=n.length+1,a,s,o,l,c;for(r=ru(i),r[0]=n.length,a=1;a!=i;++a)r[a]=n[a-1];for(a=i-1;a>=0;--a)s=r[a],o=e&16384?1:0,l=e<<1&32767,c=o|l,e=c^s;return e^52811}var X$=function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},i=function(s,o){return n(s^o)},a=function(s){for(var o=e[s.length-1],l=104,c=s.length-1;c>=0;--c)for(var u=s[c],f=0;f!=7;++f)u&64&&(o^=r[l]),u*=2,--l;return o};return function(s){for(var o=z$(s),l=a(o),c=o.length,u=ru(16),f=0;f!=16;++f)u[f]=0;var d,h,m;for((c&1)===1&&(d=l>>8,u[c]=i(t[0],d),--c,d=l&255,h=o[o.length-1],u[c]=i(h,d));c>0;)--c,d=l>>8,u[c]=i(o[c],d),--c,d=l&255,u[c]=i(o[c],d);for(c=15,m=15-o.length;m>0;)d=l>>8,u[c]=i(t[m],d),--c,--m,d=l&255,u[c]=i(o[c],d),--c,--m;return u}}(),NJ=function(t,e,r,n,i){i||(i=e),n||(n=X$(t));var a,s;for(a=0;a!=e.length;++a)s=e[a],s^=n[r],s=(s>>5|s<<3)&255,i[a]=s,++r;return[i,r,n]},RJ=function(t){var e=0,r=X$(t);return function(n){var i=NJ("",n,e,r);return e=i[1],i[0]}};function DJ(t,e,r,n){var i={key:en(t),verificationBytes:en(t)};return r.password&&(i.verifier=sI(r.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=RJ(r.password)),i}function FJ(t,e,r){var n=r||{};return n.Info=t.read_shift(2),t.l-=2,n.Info===1?n.Data=MJ(t):n.Data=OJ(t,e),n}function LJ(t,e,r){var n={Type:r.biff>=8?t.read_shift(2):0};return n.Type?FJ(t,e-2,n):DJ(t,r.biff>=8?e:e-2,r,n),n}var K$=function(){function t(i,a){switch(a.type){case"base64":return e(_a(i),a);case"binary":return e(i,a);case"buffer":return e(xt&&Buffer.isBuffer(i)?i.toString("binary"):pu(i),a);case"array":return e(ad(i),a)}throw new Error("Unrecognized type "+a.type)}function e(i,a){var s=a||{},o=s.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var d=/\\\w+\b/g,h=0,m,p=-1;m=d.exec(u);){switch(m[0]){case"\\cell":var y=u.slice(h,d.lastIndex-m[0].length);if(y[0]==" "&&(y=y.slice(1)),++p,y.length){var w={v:y,t:"s"};Array.isArray(o)?o[f][p]=w:o[et({r:f,c:p})]=w}break}h=d.lastIndex}p>c.e.c&&(c.e.c=p)}),o["!ref"]=ft(c),o}function r(i,a){return mu(t(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],s=Nt(i["!ref"]),o,l=Array.isArray(i),c=s.s.r;c<=s.e.r;++c){a.push("\\trowd\\trautofit1");for(var u=s.s.c;u<=s.e.c;++u)a.push("\\cellx"+(u+1));for(a.push("\\pard\\intbl"),u=s.s.c;u<=s.e.c;++u){var f=et({r:c,c:u});o=l?(i[c]||[])[u]:i[f],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(Rl(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function $J(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function jg(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}function BJ(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(e,r,n),a=Math.min(e,r,n),s=i-a;if(s===0)return[0,0,e];var o=0,l=0,c=i+a;switch(l=s/(c>1?2-c:c),i){case e:o=((r-n)/s+6)%6;break;case r:o=(n-e)/s+2;break;case n:o=(e-r)/s+4;break}return[o/6,l,c/2]}function jJ(t){var e=t[0],r=t[1],n=t[2],i=r*2*(n<.5?n:1-n),a=n-i/2,s=[a,a,a],o=6*e,l;if(r!==0)switch(o|0){case 0:case 6:l=i*o,s[0]+=i,s[1]+=l;break;case 1:l=i*(2-o),s[0]+=l,s[1]+=i;break;case 2:l=i*(o-2),s[1]+=i,s[2]+=l;break;case 3:l=i*(4-o),s[1]+=l,s[2]+=i;break;case 4:l=i*(o-4),s[2]+=i,s[0]+=l;break;case 5:l=i*(6-o),s[2]+=l,s[0]+=i;break}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function zw(t,e){if(e===0)return t;var r=BJ($J(t));return e<0?r[2]=r[2]*(1+e):r[2]=1-(1-r[2])*(1-e),jg(jJ(r))}var Y$=6,UJ=15,VJ=1,oi=Y$;function Ug(t){return Math.floor((t+Math.round(128/oi)/256)*oi)}function Vg(t){return Math.floor((t-5)/oi*100+.5)/100}function Gw(t){return Math.round((t*oi+5)/oi*256)/256}function NA(t){return Gw(Vg(Ug(t)))}function oI(t){var e=Math.abs(t-NA(t)),r=oi;if(e>.005)for(oi=VJ;oi<UJ;++oi)Math.abs(t-NA(t))<=e&&(e=Math.abs(t-NA(t)),r=oi);oi=r}function nu(t){t.width?(t.wpx=Ug(t.width),t.wch=Vg(t.wpx),t.MDW=oi):t.wpx?(t.wch=Vg(t.wpx),t.width=Gw(t.wch),t.MDW=oi):typeof t.wch=="number"&&(t.width=Gw(t.wch),t.wpx=Ug(t.width),t.MDW=oi),t.customWidth&&delete t.customWidth}var HJ=96,J$=HJ;function Hg(t){return t*96/J$}function z0(t){return t*J$/96}var WJ={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function zJ(t,e,r,n){e.Borders=[];var i={},a=!1;(t[0].match(mi)||[]).forEach(function(s){var o=tt(s);switch(Po(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=cr(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=cr(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in borders")}})}function GJ(t,e,r,n){e.Fills=[];var i={},a=!1;(t[0].match(mi)||[]).forEach(function(s){var o=tt(s);switch(Po(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fills")}})}function qJ(t,e,r,n){e.Fonts=[];var i={},a=!1;(t[0].match(mi)||[]).forEach(function(s){var o=tt(s);switch(Po(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=Zt(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?cr(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?cr(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?cr(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?cr(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?cr(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?cr(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?cr(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=DP[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=cr(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var l=qf[i.color.index];i.color.index==81&&(l=qf[1]),l||(l=qf[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(i.color.rgb=zw(r.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fonts")}})}function XJ(t,e,r){e.NumberFmt=[];for(var n=Br(Qe),i=0;i<n.length;++i)e.NumberFmt[n[i]]=Qe[n[i]];var a=t[0].match(mi);if(a)for(i=0;i<a.length;++i){var s=tt(a[i]);switch(Po(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Ot(Zt(s.formatCode)),l=parseInt(s.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}_l(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}function KJ(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=Te("numFmt",null,{numFmtId:n,formatCode:Gt(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Te("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var zx=["numFmtId","fillId","fontId","borderId","xfId"],Gx=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function YJ(t,e,r){e.CellXf=[];var n,i=!1;(t[0].match(mi)||[]).forEach(function(a){var s=tt(a),o=0;switch(Po(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<zx.length;++o)n[zx[o]]&&(n[zx[o]]=parseInt(n[zx[o]],10));for(o=0;o<Gx.length;++o)n[Gx[o]]&&(n[Gx[o]]=cr(n[Gx[o]]));if(e.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[o]){n.numFmtId=o;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=cr(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}function JJ(t){var e=[];return e[e.length]=Te("cellXfs",null),t.forEach(function(r){e[e.length]=Te("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Te("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var ZJ=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(e))&&XJ(f,u,c),(f=o.match(i))&&qJ(f,u,l,c),(f=o.match(n))&&GJ(f,u,l,c),(f=o.match(a))&&zJ(f,u,l,c),(f=o.match(r))&&YJ(f,u,c),u}}();function Z$(t,e){var r=[qr,Te("styleSheet",null,{xmlns:Ed[0],"xmlns:vt":mn.vt})],n;return t.SSF&&(n=KJ(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=JJ(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function QJ(t,e){var r=t.read_shift(2),n=di(t);return[r,n]}function eZ(t,e,r){r||(r=pe(6+4*e.length)),r.write_shift(2,t),On(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function tZ(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=FX(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=t.read_shift(2);switch(a===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=t.read_shift(1);s!=0&&(n.underline=s);var o=t.read_shift(1);o>0&&(n.family=o);var l=t.read_shift(1);switch(l>0&&(n.charset=l),t.l++,n.color=DX(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=di(t),n}function rZ(t,e){e||(e=pe(25+4*32)),e.write_shift(2,t.sz*20),LX(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),Vw(t.color,e);var n=0;return n=2,e.write_shift(1,n),On(t.name,e),e.length>e.l?e.slice(0,e.l):e}var nZ=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],RA,iZ=pi;function QN(t,e){e||(e=pe(4*3+8*7+16*1)),RA||(RA=zb(nZ));var r=RA[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(Vw({auto:1},e),Vw({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function aZ(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}function Q$(t,e,r){r||(r=pe(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function em(t,e){return e||(e=pe(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var sZ=pi;function oZ(t,e){return e||(e=pe(51)),e.write_shift(1,0),em(null,e),em(null,e),em(null,e),em(null,e),em(null,e),e.length>e.l?e.slice(0,e.l):e}function lZ(t,e){return e||(e=pe(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),Uw(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function cZ(t,e,r){var n=pe(2052);return n.write_shift(4,t),Uw(e,n),Uw(r,n),n.length>n.l?n.slice(0,n.l):n}function uZ(t,e,r){var n={};n.NumberFmt=[];for(var i in Qe)n.NumberFmt[i]=Qe[i];n.CellXf=[],n.Fonts=[];var a=[],s=!1;return Wl(t,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],_l(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=zw(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:a.push(u),s=!0;break;case 38:a.pop(),s=!1;break;default:if(c.T>0)a.push(u);else if(c.T<0)a.pop();else if(!s||r.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}function fZ(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++r}),r!=0&&(ye(t,615,js(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&ye(t,44,eZ(i,e[i]))}),ye(t,616))}}function dZ(t){var e=1;ye(t,611,js(e)),ye(t,43,rZ({sz:12,color:{theme:1},name:"Calibri",family:2})),ye(t,612)}function hZ(t){var e=2;ye(t,603,js(e)),ye(t,45,QN({patternType:"none"})),ye(t,45,QN({patternType:"gray125"})),ye(t,604)}function pZ(t){var e=1;ye(t,613,js(e)),ye(t,46,oZ()),ye(t,614)}function mZ(t){var e=1;ye(t,626,js(e)),ye(t,47,Q$({numFmtId:0},65535)),ye(t,627)}function gZ(t,e){ye(t,617,js(e.length)),e.forEach(function(r){ye(t,47,Q$(r,0))}),ye(t,618)}function vZ(t){var e=1;ye(t,619,js(e)),ye(t,48,lZ({xfId:0,name:"Normal"})),ye(t,620)}function yZ(t){var e=0;ye(t,505,js(e)),ye(t,506)}function xZ(t){var e=0;ye(t,508,cZ(e,"TableStyleMedium9","PivotStyleMedium4")),ye(t,509)}function wZ(t,e){var r=Xi();return ye(r,278),fZ(r,t.SSF),dZ(r),hZ(r),pZ(r),mZ(r),gZ(r,e.cellXfs),vZ(r),yZ(r),xZ(r),ye(r,279),r.end()}var _Z=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function bZ(t,e,r){e.themeElements.clrScheme=[];var n={};(t[0].match(mi)||[]).forEach(function(i){var a=tt(i);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=a.val;break;case"<a:sysClr":n.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(e.themeElements.clrScheme[_Z.indexOf(a[0])]=n,n={}):n.name=a[0].slice(3,a[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function SZ(){}function AZ(){}var TZ=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,EZ=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,CZ=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function kZ(t,e,r){e.themeElements={};var n;[["clrScheme",TZ,bZ],["fontScheme",EZ,SZ],["fmtScheme",CZ,AZ]].forEach(function(i){if(!(n=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,e,r)})}var PZ=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function eB(t,e){(!t||t.length===0)&&(t=lI());var r,n={};if(!(r=t.match(PZ)))throw new Error("themeElements not found in theme");return kZ(r[0],n,e),n.raw=t,n}function lI(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[qr];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function IZ(t,e,r){var n=t.l+e,i=t.read_shift(4);if(i!==124226){if(!r.cellStyles){t.l=n;return}var a=t.slice(t.l);t.l=n;var s;try{s=G8(a,{type:"array"})}catch{return}var o=ma(s,"theme/theme/theme1.xml",!0);if(o)return eB(o,r)}}function OZ(t){return t.read_shift(4)}function MZ(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=NZ(t,4);break;case 2:e.xclrValue=N$(t);break;case 3:e.xclrValue=OZ(t);break;case 4:t.l+=4;break}return t.l+=8,e}function NZ(t,e){return pi(t,e)}function RZ(t,e){return pi(t,e)}function DZ(t){var e=t.read_shift(2),r=t.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=MZ(t);break;case 6:n[1]=RZ(t,r);break;case 14:case 15:n[1]=t.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+r)}return n}function FZ(t,e){var r=t.l+e;t.l+=2;var n=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),a=[];i-- >0;)a.push(DZ(t,r-t.l));return{ixfe:n,ext:a}}function LZ(t,e){e.forEach(function(r){switch(r[0]){}})}function $Z(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:di(t)}}function BZ(t){var e=pe(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),On(t.name,e),e.slice(0,e.l)}function jZ(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function UZ(t){var e=pe(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function VZ(t,e){var r=pe(8+2*e.length);return r.write_shift(4,t),On(e,r),r.slice(0,r.l)}function HZ(t){return t.l+=4,t.read_shift(4)!=0}function WZ(t,e){var r=pe(8);return r.write_shift(4,t),r.write_shift(4,1),r}function zZ(t,e,r){var n={Types:[],Cell:[],Value:[]},i=r||{},a=[],s=!1,o=2;return Wl(t,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:a.push(u),s=!0;break;case 36:a.pop(),s=!1;break;default:if(!c.T){if(!s||i.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function GZ(){var t=Xi();return ye(t,332),ye(t,334,js(1)),ye(t,335,BZ({name:"XLDAPR",version:12e4,flags:3496657072})),ye(t,336),ye(t,339,VZ(1,"XLDAPR")),ye(t,52),ye(t,35,js(514)),ye(t,4096,js(0)),ye(t,4097,ja(1)),ye(t,36),ye(t,53),ye(t,340),ye(t,337,WZ(1)),ye(t,51,UZ([[1,0]])),ye(t,338),ye(t,333),t.end()}function qZ(t,e,r){var n={Types:[],Cell:[],Value:[]};if(!t)return n;var i=!1,a=2,s;return t.replace(mi,function(o){var l=tt(o);switch(Po(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(s=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):a==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!i&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function tB(){var t=[qr];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function XZ(t){var e=[];if(!t)return e;var r=1;return(t.match(mi)||[]).forEach(function(n){var i=tt(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?r=i.i:i.i=r,e.push(i);break}}),e}function KZ(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=et(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function YZ(t,e,r){var n=[];return Wl(t,function(a,s,o){switch(o){case 63:n.push(a);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function JZ(t,e,r,n){if(!t)return t;var i=n||{},a=!1;Wl(t,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!l.T){if(!a||i.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},i)}function ZZ(t,e){if(!t)return"??";var r=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][r].Target}var vh=1024;function rB(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[Te("xml",null,{"xmlns:v":fa.v,"xmlns:o":fa.o,"xmlns:x":fa.x,"xmlns:mv":fa.mv}).replace(/\/>/,">"),Te("o:shapelayout",Te("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Te("v:shapetype",[Te("v:stroke",null,{joinstyle:"miter"}),Te("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];vh<t*1e3;)vh+=1e3;return e.forEach(function(a){var s=Ir(a[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?Te("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=Te("v:fill",l,o),u={on:"t",obscured:"t"};++vh,i=i.concat(["<v:shape"+Lg({id:"_x0000_s"+vh,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,Te("v:shadow",null,u),Te("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Vn("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),Vn("x:AutoFill","False"),Vn("x:Row",String(s.r)),Vn("x:Column",String(s.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function eR(t,e,r,n){var i=Array.isArray(t),a;e.forEach(function(s){var o=Ir(s.ref);if(i?(t[o.r]||(t[o.r]=[]),a=t[o.r][o.c]):a=t[s.ref],!a){a={t:"z"},i?t[o.r][o.c]=a:t[s.ref]=a;var l=Nt(t["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=ft(l);c!==t["!ref"]&&(t["!ref"]=c)}a.c||(a.c=[]);var u={a:s.author,t:s.t,r:s.r,T:r};s.h&&(u.h=s.h);for(var f=a.c.length-1;f>=0;--f){if(!r&&a.c[f].T)return;r&&!a.c[f].T&&a.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(u.a==n[f].id){u.a=n[f].name||u.a;break}}a.c.push(u)})}function QZ(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var a=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=tt(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=Ir(l.ref);if(!(e.sheetRows&&e.sheetRows<=u.r)){var f=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),d=!!f&&!!f[1]&&aI(f[1])||{r:"",t:"",h:""};c.r=d.r,d.r=="<t></t>"&&(d.t=d.h=""),c.t=(d.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(c.h=d.h),n.push(c)}}}}),n}function nB(t){var e=[qr,Te("comments",null,{xmlns:Ed[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(i){var a=Gt(i.a);r.indexOf(a)==-1&&(r.push(a),e.push("<author>"+a+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var i=0,a=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(i=r.indexOf(Gt(l.a))),a.push(l.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),a.length<=1)e.push(Vn("t",Gt(a[0]||"")));else{for(var s=`Comment:
    `+a[0]+`
`,o=1;o<a.length;++o)s+=`Reply:
    `+a[o]+`
`;e.push(Vn("t",Gt(s)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function eQ(t,e){var r=[],n=!1,i={},a=0;return t.replace(mi,function(o,l){var c=tt(o);switch(Po(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":i.t!=null&&r.push(i);break;case"<text>":case"<text":a=l+o.length;break;case"</text>":i.t=t.slice(a,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function tQ(t,e,r){var n=[qr,Te("ThreadedComments",null,{xmlns:mn.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var a="";(i[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&e.indexOf(s.a)==-1&&e.push(s.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?a=l.id:l.parentId=a,s.ID=l.id,s.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(s.a)).slice(-12)+"}"),n.push(Te("threadedComment",Vn("text",s.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function rQ(t,e){var r=[],n=!1;return t.replace(mi,function(a){var s=tt(a);switch(Po(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return a}),r}function nQ(t){var e=[qr,Te("personList",null,{xmlns:mn.TCMNT,"xmlns:x":Ed[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(Te("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function iQ(t){var e={};e.iauthor=t.read_shift(4);var r=Id(t);return e.rfx=r.s,e.ref=et(r.s),t.l+=16,e}function aQ(t,e){return e==null&&(e=pe(36)),e.write_shift(4,t[1].iauthor),Cp(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var sQ=di;function oQ(t){return On(t.slice(0,54))}function lQ(t,e){var r=[],n=[],i={},a=!1;return Wl(t,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,r.push(i);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!a||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}function cQ(t){var e=Xi(),r=[];return ye(e,628),ye(e,630),t.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),ye(e,632,oQ(i.a)))})}),ye(e,631),ye(e,633),t.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var a={s:Ir(n[0]),e:Ir(n[0])};ye(e,635,aQ([a,i])),i.t&&i.t.length>0&&ye(e,637,OX(i)),ye(e,636),delete i.iauthor})}),ye(e,634),ye(e,629),e.end()}var uQ="application/vnd.ms-office.vbaProject";function fQ(t){var e=Ye.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var i=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Ye.utils.cfb_add(e,i,t.FileIndex[n].content)}}),Ye.write(e)}function dQ(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Ye.utils.cfb_add(t,i,e.FileIndex[n].content)}})}var iB=["xlsb","xlsm","xlam","biff8","xla"];function hQ(){return{"!type":"dialog"}}function pQ(){return{"!type":"dialog"}}function mQ(){return{"!type":"macro"}}function gQ(){return{"!type":"macro"}}var Oh=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,a,s){var o=!1,l=!1;a.length==0?l=!0:a.charAt(0)=="["&&(l=!0,a=a.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=a.length>0?parseInt(a,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return o?u+=e.c:--u,l?c+=e.r:--c,i+(o?"":"$")+Pr(u)+(l?"":"$")+zr(c)}return function(i,a){return e=a,i.replace(t,r)}}(),cI=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,uI=function(){return function(e,r){return e.replace(cI,function(n,i,a,s,o,l){var c=YP(s)-(a?0:r.c),u=KP(l)-(o?0:r.r),f=u==0?"":o?u+1:"["+u+"]",d=c==0?"":a?c+1:"["+c+"]";return i+"R"+f+"C"+d})}}();function aB(t,e){return t.replace(cI,function(r,n,i,a,s,o){return n+(i=="$"?i+a:Pr(YP(a)+e.c))+(s=="$"?s+o:zr(KP(o)+e.r))})}function vQ(t,e,r){var n=Ki(e),i=n.s,a=Ir(r),s={r:a.r-i.r,c:a.c-i.c};return aB(t,s)}function yQ(t){return t.length!=1}function tR(t){return t.replace(/_xlfn\./g,"")}function Yr(t){t.l+=1}function iu(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function sB(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return oB(t);r.biff==12&&(n=4)}var i=t.read_shift(n),a=t.read_shift(n),s=iu(t),o=iu(t);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function oB(t){var e=iu(t),r=iu(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function xQ(t,e,r){if(r.biff<8)return oB(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),a=iu(t),s=iu(t);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function lB(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return wQ(t);var n=t.read_shift(r&&r.biff==12?4:2),i=iu(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function wQ(t){var e=iu(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function _Q(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function bQ(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return SQ(t);var i=t.read_shift(n>=12?4:2),a=t.read_shift(2),s=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:o}}function SQ(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function AQ(t,e,r){var n=(t[t.l++]&96)>>5,i=sB(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function TQ(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}var s=sB(t,a,r);return[n,i,s]}function EQ(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function CQ(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}return t.l+=a,[n,i]}function kQ(t,e,r){var n=(t[t.l++]&96)>>5,i=xQ(t,e-1,r);return[n,i]}function PQ(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function rR(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function IQ(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function OQ(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function MQ(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function NQ(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function RQ(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function cB(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function DQ(t){return t.read_shift(2),cB(t)}function FQ(t){return t.read_shift(2),cB(t)}function LQ(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=lB(t,0,r);return[n,i]}function $Q(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=bQ(t,0,r);return[n,i]}function BQ(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var a=lB(t,0,r);return[n,i,a]}function jQ(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[Hee[i],dB[i],n]}function UQ(t,e,r){var n=t[t.l++],i=t.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:VQ(t);return[i,(a[0]===0?dB:Vee)[a[1]]]}function VQ(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function HQ(t,e,r){t.l+=r&&r.biff==2?3:4}function WQ(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function zQ(t){return t.l++,zl[t.read_shift(1)]}function GQ(t){return t.l++,t.read_shift(2)}function qQ(t){return t.l++,t.read_shift(1)!==0}function XQ(t){return t.l++,ui(t)}function KQ(t,e,r){return t.l++,Qy(t,e-1,r)}function YQ(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Ur(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=zl[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=ui(t);break;case 2:r[1]=Od(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function JQ(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((r.biff==12?Id:Xb)(t));return i}function ZQ(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var a=0,s=[];a!=n&&(s[a]=[]);++a)for(var o=0;o!=i;++o)s[a][o]=YQ(t,r.biff);return s}function QQ(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,a]}function eee(t,e,r){if(r.biff==5)return tee(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),a=t.read_shift(4);return[n,i,a]}function tee(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function ree(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function nee(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function iee(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function aee(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return t.l+=a,[n,i]}var see=pi,oee=pi,lee=pi;function tx(t,e,r){return t.l+=2,[_Q(t)]}function fI(t){return t.l+=6,[]}var cee=tx,uee=fI,fee=fI,dee=tx;function uB(t){return t.l+=2,[en(t),t.read_shift(2)&1]}var hee=tx,pee=uB,mee=fI,gee=tx,vee=tx,yee=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function xee(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),a=t.read_shift(2),s=yee[r>>2&31];return{ixti:e,coltype:r&3,rt:s,idx:n,c:i,C:a}}function wee(t){return t.l+=2,[t.read_shift(4)]}function _ee(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function bee(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function See(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function Aee(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function Tee(t){return t.l+=4,[0,0]}var nR={1:{n:"PtgExp",f:WQ},2:{n:"PtgTbl",f:lee},3:{n:"PtgAdd",f:Yr},4:{n:"PtgSub",f:Yr},5:{n:"PtgMul",f:Yr},6:{n:"PtgDiv",f:Yr},7:{n:"PtgPower",f:Yr},8:{n:"PtgConcat",f:Yr},9:{n:"PtgLt",f:Yr},10:{n:"PtgLe",f:Yr},11:{n:"PtgEq",f:Yr},12:{n:"PtgGe",f:Yr},13:{n:"PtgGt",f:Yr},14:{n:"PtgNe",f:Yr},15:{n:"PtgIsect",f:Yr},16:{n:"PtgUnion",f:Yr},17:{n:"PtgRange",f:Yr},18:{n:"PtgUplus",f:Yr},19:{n:"PtgUminus",f:Yr},20:{n:"PtgPercent",f:Yr},21:{n:"PtgParen",f:Yr},22:{n:"PtgMissArg",f:Yr},23:{n:"PtgStr",f:KQ},26:{n:"PtgSheet",f:_ee},27:{n:"PtgEndSheet",f:bee},28:{n:"PtgErr",f:zQ},29:{n:"PtgBool",f:qQ},30:{n:"PtgInt",f:GQ},31:{n:"PtgNum",f:XQ},32:{n:"PtgArray",f:PQ},33:{n:"PtgFunc",f:jQ},34:{n:"PtgFuncVar",f:UQ},35:{n:"PtgName",f:QQ},36:{n:"PtgRef",f:LQ},37:{n:"PtgArea",f:AQ},38:{n:"PtgMemArea",f:ree},39:{n:"PtgMemErr",f:see},40:{n:"PtgMemNoMem",f:oee},41:{n:"PtgMemFunc",f:nee},42:{n:"PtgRefErr",f:iee},43:{n:"PtgAreaErr",f:EQ},44:{n:"PtgRefN",f:$Q},45:{n:"PtgAreaN",f:kQ},46:{n:"PtgMemAreaN",f:See},47:{n:"PtgMemNoMemN",f:Aee},57:{n:"PtgNameX",f:eee},58:{n:"PtgRef3d",f:BQ},59:{n:"PtgArea3d",f:TQ},60:{n:"PtgRefErr3d",f:aee},61:{n:"PtgAreaErr3d",f:CQ},255:{}},Eee={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Cee={1:{n:"PtgElfLel",f:uB},2:{n:"PtgElfRw",f:gee},3:{n:"PtgElfCol",f:cee},6:{n:"PtgElfRwV",f:vee},7:{n:"PtgElfColV",f:dee},10:{n:"PtgElfRadical",f:hee},11:{n:"PtgElfRadicalS",f:mee},13:{n:"PtgElfColS",f:uee},15:{n:"PtgElfColSV",f:fee},16:{n:"PtgElfRadicalLel",f:pee},25:{n:"PtgList",f:xee},29:{n:"PtgSxName",f:wee},255:{}},kee={0:{n:"PtgAttrNoop",f:Tee},1:{n:"PtgAttrSemi",f:RQ},2:{n:"PtgAttrIf",f:MQ},4:{n:"PtgAttrChoose",f:IQ},8:{n:"PtgAttrGoto",f:OQ},16:{n:"PtgAttrSum",f:HQ},32:{n:"PtgAttrBaxcel",f:rR},33:{n:"PtgAttrBaxcel",f:rR},64:{n:"PtgAttrSpace",f:DQ},65:{n:"PtgAttrSpaceSemi",f:FQ},128:{n:"PtgAttrIfError",f:NQ},255:{}};function rx(t,e,r,n){if(n.biff<8)return pi(t,e);for(var i=t.l+e,a=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=ZQ(t,0,n),a.push(r[s][1]);break;case"PtgMemArea":r[s][2]=JQ(t,r[s][1],n),a.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=t.read_shift(4),a.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return e=i-t.l,e!==0&&a.push(pi(t,e)),a}function nx(t,e,r){for(var n=t.l+e,i,a,s=[];n!=t.l;)e=n-t.l,a=t[t.l],i=nR[a]||nR[Eee[a]],(a===24||a===25)&&(i=(a===24?Cee:kee)[t[t.l+1]]),!i||!i.f?pi(t,e):s.push([i.n,i.f(t,e,r)]);return s}function Pee(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],a=0;a<n.length;++a){var s=n[a];if(s)switch(s[0]){case 2:i.push('"'+s[1].replace(/"/g,'""')+'"');break;default:i.push(s[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var Iee={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Oee(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function fB(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function iR(t,e,r){var n=fB(t,e,r);return n=="#REF"?n:Oee(n,r)}function ai(t,e,r,n,i){var a=i&&i.biff||8,s={s:{c:0,r:0}},o=[],l,c,u,f=0,d=0,h,m="";if(!t[0]||!t[0][0])return"";for(var p=-1,y="",w=0,b=t[0].length;w<b;++w){var _=t[0][w];switch(_[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),p>=0){switch(t[0][p][1][0]){case 0:y=Fr(" ",t[0][p][1][1]);break;case 1:y=Fr("\r",t[0][p][1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][p][1][0])}c=c+y,p=-1}o.push(c+Iee[_[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Jm(_[1][1],s,i),o.push(Zm(u,a));break;case"PtgRefN":u=r?Jm(_[1][1],r,i):_[1][1],o.push(Zm(u,a));break;case"PtgRef3d":f=_[1][1],u=Jm(_[1][2],s,i),m=iR(n,f,i),o.push(m+"!"+Zm(u,a));break;case"PtgFunc":case"PtgFuncVar":var A=_[1][0],S=_[1][1];A||(A=0),A&=127;var T=A==0?[]:o.slice(-A);o.length-=A,S==="User"&&(S=T.shift()),o.push(S+"("+T.join(",")+")");break;case"PtgBool":o.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(_[1]);break;case"PtgNum":o.push(String(_[1]));break;case"PtgStr":o.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(_[1]);break;case"PtgAreaN":h=NN(_[1][1],r?{s:r}:s,i),o.push(IA(h,i));break;case"PtgArea":h=NN(_[1][1],s,i),o.push(IA(h,i));break;case"PtgArea3d":f=_[1][1],h=_[1][2],m=iR(n,f,i),o.push(m+"!"+IA(h,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":d=_[1][2];var E=(n.names||[])[d-1]||(n[0]||[])[d],P=E?E.Name:"SH33TJSNAME"+String(d);P&&P.slice(0,6)=="_xlfn."&&!i.xlfn&&(P=P.slice(6)),o.push(P);break;case"PtgNameX":var k=_[1][1];d=_[1][2];var N;if(i.biff<=5)k<0&&(k=-k),n[k]&&(N=n[k][d]);else{var O="";if(((n[k]||[])[0]||[])[0]==14849||(((n[k]||[])[0]||[])[0]==1025?n[k][d]&&n[k][d].itab>0&&(O=n.SheetNames[n[k][d].itab-1]+"!"):O=n.SheetNames[d-1]+"!"),n[k]&&n[k][d])O+=n[k][d].Name;else if(n[0]&&n[0][d])O+=n[0][d].Name;else{var R=(fB(n,k,i)||"").split(";;");R[d-1]?O=R[d-1]:O+="SH33TJSERRX"}o.push(O);break}N||(N={Name:"SH33TJSERRY"}),o.push(N.Name);break;case"PtgParen":var W="(",Q=")";if(p>=0){switch(y="",t[0][p][1][0]){case 2:W=Fr(" ",t[0][p][1][1])+W;break;case 3:W=Fr("\r",t[0][p][1][1])+W;break;case 4:Q=Fr(" ",t[0][p][1][1])+Q;break;case 5:Q=Fr("\r",t[0][p][1][1])+Q;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][p][1][0])}p=-1}o.push(W+o.pop()+Q);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:_[1][1],r:_[1][0]};var j={c:r.c,r:r.r};if(n.sharedf[et(u)]){var Y=n.sharedf[et(u)];o.push(ai(Y,s,j,n,i))}else{var J=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(ai(c[1],s,j,n,i)),J=!0;break}J||o.push(_[1])}break;case"PtgArray":o.push("{"+Pee(_[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=w;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(_));default:throw new Error("Unrecognized Formula Token: "+String(_))}var Z=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&p>=0&&Z.indexOf(t[0][w][0])==-1){_=t[0][p];var V=!0;switch(_[1][0]){case 4:V=!1;case 0:y=Fr(" ",_[1][1]);break;case 5:V=!1;case 1:y=Fr("\r",_[1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}o.push((V?y:"")+o.pop()+(V?"":y)),p=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function Mee(t,e,r){var n=t.l+e,i=r.biff==2?1:2,a,s=t.read_shift(i);if(s==65535)return[[],pi(t,e-2)];var o=nx(t,s,r);return e!==s+i&&(a=rx(t,e-s-i,o,r)),t.l=n,[o,a]}function Nee(t,e,r){var n=t.l+e,i=r.biff==2?1:2,a,s=t.read_shift(i);if(s==65535)return[[],pi(t,e-2)];var o=nx(t,s,r);return e!==s+i&&(a=rx(t,e-s-i,o,r)),t.l=n,[o,a]}function Ree(t,e,r,n){var i=t.l+e,a=nx(t,n,r),s;return i!==t.l&&(s=rx(t,i-t.l,a,r)),[a,s]}function Dee(t,e,r){var n=t.l+e,i,a=t.read_shift(2),s=nx(t,a,r);return a==65535?[[],pi(t,e-2)]:(e!==a+2&&(i=rx(t,n-a-2,s,r)),[s,i])}function Fee(t){var e;if(ml(t,t.l+6)!==65535)return[ui(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function Lee(t){if(t==null){var e=pe(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return sd(t);return sd(0)}function DA(t,e,r){var n=t.l+e,i=Io(t);r.biff==2&&++t.l;var a=Fee(t),s=t.read_shift(1);r.biff!=2&&(t.read_shift(1),r.biff>=5&&t.read_shift(4));var o=Nee(t,n-t.l,r);return{cell:i,val:a[0],formula:o,shared:s>>3&1,tt:a[1]}}function $ee(t,e,r,n,i){var a=ld(e,r,i),s=Lee(t.v),o=pe(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=pe(t.bf.length),u=0;u<t.bf.length;++u)c[u]=t.bf[u];var f=In([a,s,o,c]);return f}function Kb(t,e,r){var n=t.read_shift(4),i=nx(t,n,r),a=t.read_shift(4),s=a>0?rx(t,a,i,r):null;return[i,s]}var Bee=Kb,Yb=Kb,jee=Kb,Uee=Kb,Vee={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},dB={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Hee={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function aR(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,r){return r.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function Wee(t){var e="of:="+t.replace(cI,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function FA(t){var e=t.split(":"),r=e[0].split(".")[0];return[r,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function zee(t){return t.replace(/\./,"!")}var eg={},Mh={},tg=typeof Map<"u";function dI(t,e,r){var n=0,i=t.length;if(r){if(tg?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var a=tg?r.get(e):r[e];n<a.length;++n)if(t[a[n]].t===e)return t.Count++,a[n]}}else for(;n<i;++n)if(t[n].t===e)return t.Count++,n;return t[i]={t:e},t.Count++,t.Unique++,r&&(tg?(r.has(e)||r.set(e,[]),r.get(e).push(i)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(i))),i}function Jb(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(oi=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=Vg(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=Gw(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function Yf(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(r=[1,1,1,1,.5,.5]),t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function gu(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],i=60,a=t.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){_l(e.z,i),r.ssf[i]=e.z,r.revssf[e.z]=n=i;break}}for(i=0;i!=a;++i)if(t[i].numFmtId===n)return i;return t[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function hB(t,e,r,n,i,a){try{n.cellNF&&(t.z=Qe[e])}catch(o){if(n.WTF)throw o}if(!(t.t==="z"&&!n.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=dr(t.v)),(!n||n.cellText!==!1)&&t.t!=="z")try{if(Qe[e]==null&&_l(Vq[e]||"General",e),t.t==="e")t.w=t.w||zl[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Dg(t.v);else if(t.t==="d"){var s=wn(t.v);(s|0)===s?t.w=s.toString(10):t.w=Dg(s)}else{if(t.v===void 0)return"";t.w=id(t.v,Mh)}else t.t==="d"?t.w=ts(e,wn(t.v),Mh):t.w=ts(e,t.v,Mh)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{t.s=a.Fills[r],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=zw(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),n.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=zw(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),n.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&a.Fills)throw o}}}function Gee(t,e,r){if(t&&t["!ref"]){var n=Nt(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function qee(t,e){var r=Nt(e);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(t["!ref"]=ft(r))}var Xee=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Kee=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Yee=/<(?:\w:)?hyperlink [^>]*>/mg,Jee=/"(\w*:\w*)"/,Zee=/<(?:\w:)?col\b[^>]*[\/]?>/g,Qee=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,ete=/<(?:\w:)?pageMargins[^>]*\/>/g,pB=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,tte=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,rte=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function nte(t,e,r,n,i,a,s){if(!t)return t;n||(n={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=t.match(Kee);f?(c=t.slice(0,f.index),u=t.slice(f.index+f[0].length)):c=u=t;var d=c.match(pB);d?hI(d[0],o,i,r):(d=c.match(tte))&&ate(d[0],d[1]||"",o,i,r);var h=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(h>0){var m=c.slice(h,h+50).match(Jee);m&&qee(o,m[1])}var p=c.match(rte);p&&p[1]&&yte(p[1],i);var y=[];if(e.cellStyles){var w=c.match(Zee);w&&hte(y,w)}f&&_te(f[1],o,e,l,a,s);var b=u.match(Qee);b&&(o["!autofilter"]=mte(b[0]));var _=[],A=u.match(Xee);if(A)for(h=0;h!=A.length;++h)_[h]=Nt(A[h].slice(A[h].indexOf('"')+1));var S=u.match(Yee);S&&ute(o,S,n);var T=u.match(ete);if(T&&(o["!margins"]=fte(tt(T[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=ft(l)),e.sheetRows>0&&o["!ref"]){var E=Nt(o["!ref"]);e.sheetRows<=+E.e.r&&(E.e.r=e.sheetRows-1,E.e.r>l.e.r&&(E.e.r=l.e.r),E.e.r<E.s.r&&(E.s.r=E.e.r),E.e.c>l.e.c&&(E.e.c=l.e.c),E.e.c<E.s.c&&(E.s.c=E.e.c),o["!fullref"]=o["!ref"],o["!ref"]=ft(E))}return y.length>0&&(o["!cols"]=y),_.length>0&&(o["!merges"]=_),o}function ite(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+ft(t[r])+'"/>';return e+"</mergeCells>"}function hI(t,e,r,n){var i=tt(t);r.Sheets[n]||(r.Sheets[n]={}),i.codeName&&(r.Sheets[n].CodeName=Ot(Zt(i.codeName)))}function ate(t,e,r,n,i){hI(t.slice(0,t.indexOf(">")),r,n,i)}function ste(t,e,r,n,i){var a=!1,s={},o=null;if(n.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[r];try{e.Workbook&&(l=e.Workbook.Sheets[r].CodeName||l)}catch{}a=!0,s.codeName=yo(Gt(l))}if(t&&t["!outline"]){var c={summaryBelow:1,summaryRight:1};t["!outline"].above&&(c.summaryBelow=0),t["!outline"].left&&(c.summaryRight=0),o=(o||"")+Te("outlinePr",null,c)}!a&&!o||(i[i.length]=Te("sheetPr",o,s))}var ote=["objects","scenarios","selectLockedCells","selectUnlockedCells"],lte=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function cte(t){var e={sheet:1};return ote.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),lte.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=sI(t.password).toString(16).toUpperCase()),Te("sheetProtection",null,e)}function ute(t,e,r){for(var n=Array.isArray(t),i=0;i!=e.length;++i){var a=tt(Zt(e[i]),!0);if(!a.ref)return;var s=((r||{})["!id"]||[])[a.id];s?(a.Target=s.Target,a.location&&(a.Target+="#"+Ot(a.location))):(a.Target="#"+Ot(a.location),s={Target:a.Target,TargetMode:"Internal"}),a.Rel=s,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var o=Nt(a.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=et({c,r:l});n?(t[l]||(t[l]=[]),t[l][c]||(t[l][c]={t:"z",v:void 0}),t[l][c].l=a):(t[u]||(t[u]={t:"z",v:void 0}),t[u].l=a)}}}function fte(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(r){t[r]&&(e[r]=parseFloat(t[r]))}),e}function dte(t){return Yf(t),Te("pageMargins",null,t)}function hte(t,e){for(var r=!1,n=0;n!=e.length;++n){var i=tt(e[n],!0);i.hidden&&(i.hidden=cr(i.hidden));var a=parseInt(i.min,10)-1,s=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!r&&i.width&&(r=!0,oI(i.width)),nu(i);a<=s;)t[a++]=hr(i)}}function pte(t,e){for(var r=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(r[r.length]=Te("col",null,Jb(i,n)));return r[r.length]="</cols>",r.join("")}function mte(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}function gte(t,e,r,n){var i=typeof t.ref=="string"?t.ref:ft(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,s=Ki(i);s.s.r==s.e.r&&(s.e.r=Ki(e["!ref"]).e.r,i=ft(s));for(var o=0;o<a.length;++o){var l=a[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return o==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Te("autoFilter",null,{ref:i})}var vte=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function yte(t,e){e.Views||(e.Views=[{}]),(t.match(vte)||[]).forEach(function(r,n){var i=tt(r);e.Views[n]||(e.Views[n]={}),+i.zoomScale&&(e.Views[n].zoom=+i.zoomScale),cr(i.rightToLeft)&&(e.Views[n].RTL=!0)})}function xte(t,e,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Te("sheetViews",Te("sheetView",null,i),{})}function wte(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",a=t.t,s=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=zl[t.v];break;case"d":n&&n.cellDates?i=dr(t.v,-1).toISOString():(t=hr(t),t.t="n",i=""+(t.v=wn(dr(t.v)))),typeof t.z>"u"&&(t.z=Qe[14]);break;default:i=t.v;break}var o=Vn("v",Gt(i)),l={r:e},c=gu(n.cellXfs,t,n);switch(c!==0&&(l.s=c),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=Vn("v",""+dI(n.Strings,t.v,n.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=a&&(t.t=a,t.v=s),typeof t.f=="string"&&t.f){var u=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=Te("f",Gt(t.f),u)+(t.v!=null?o:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(l.cm=1),Te("c",o,l)}var _te=function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,a=Fg("v"),s=Fg("f");return function(l,c,u,f,d,h){for(var m=0,p="",y=[],w=[],b=0,_=0,A=0,S="",T,E,P=0,k=0,N,O,R=0,W=0,Q=Array.isArray(h.CellXf),j,Y=[],J=[],Z=Array.isArray(c),V=[],te={},se=!1,D=!!u.sheetStubs,q=l.split(e),X=0,ee=q.length;X!=ee;++X){p=q[X].trim();var ae=p.length;if(ae!==0){var ue=0;e:for(m=0;m<ae;++m)switch(p[m]){case">":if(p[m-1]!="/"){++m;break e}if(u&&u.cellStyles){if(E=tt(p.slice(ue,m),!0),P=E.r!=null?parseInt(E.r,10):P+1,k=-1,u.sheetRows&&u.sheetRows<P)continue;te={},se=!1,E.ht&&(se=!0,te.hpt=parseFloat(E.ht),te.hpx=z0(te.hpt)),E.hidden=="1"&&(se=!0,te.hidden=!0),E.outlineLevel!=null&&(se=!0,te.level=+E.outlineLevel),se&&(V[P-1]=te)}break;case"<":ue=m;break}if(ue>=m)break;if(E=tt(p.slice(ue,m),!0),P=E.r!=null?parseInt(E.r,10):P+1,k=-1,!(u.sheetRows&&u.sheetRows<P)){f.s.r>P-1&&(f.s.r=P-1),f.e.r<P-1&&(f.e.r=P-1),u&&u.cellStyles&&(te={},se=!1,E.ht&&(se=!0,te.hpt=parseFloat(E.ht),te.hpx=z0(te.hpt)),E.hidden=="1"&&(se=!0,te.hidden=!0),E.outlineLevel!=null&&(se=!0,te.level=+E.outlineLevel),se&&(V[P-1]=te)),y=p.slice(m).split(t);for(var ve=0;ve!=y.length&&y[ve].trim().charAt(0)=="<";++ve);for(y=y.slice(ve),m=0;m!=y.length;++m)if(p=y[m].trim(),p.length!==0){if(w=p.match(r),b=m,_=0,A=0,p="<c "+(p.slice(0,1)=="<"?">":"")+p,w!=null&&w.length===2){for(b=0,S=w[1],_=0;_!=S.length&&!((A=S.charCodeAt(_)-64)<1||A>26);++_)b=26*b+A;--b,k=b}else++k;for(_=0;_!=p.length&&p.charCodeAt(_)!==62;++_);if(++_,E=tt(p.slice(0,_),!0),E.r||(E.r=et({r:P-1,c:k})),S=p.slice(_),T={t:""},(w=S.match(a))!=null&&w[1]!==""&&(T.v=Ot(w[1])),u.cellFormula){if((w=S.match(s))!=null&&w[1]!==""){if(T.f=Ot(Zt(w[1])).replace(/\r\n/g,`
`),u.xlfn||(T.f=tR(T.f)),w[0].indexOf('t="array"')>-1)T.F=(S.match(i)||[])[1],T.F.indexOf(":")>-1&&Y.push([Nt(T.F),T.F]);else if(w[0].indexOf('t="shared"')>-1){O=tt(w[0]);var ie=Ot(Zt(w[1]));u.xlfn||(ie=tR(ie)),J[parseInt(O.si,10)]=[O,ie,E.r]}}else(w=S.match(/<f[^>]*\/>/))&&(O=tt(w[0]),J[O.si]&&(T.f=vQ(J[O.si][1],J[O.si][2],E.r)));var ce=Ir(E.r);for(_=0;_<Y.length;++_)ce.r>=Y[_][0].s.r&&ce.r<=Y[_][0].e.r&&ce.c>=Y[_][0].s.c&&ce.c<=Y[_][0].e.c&&(T.F=Y[_][1])}if(E.t==null&&T.v===void 0)if(T.f||T.F)T.v=0,T.t="n";else if(D)T.t="z";else continue;else T.t=E.t||"n";switch(f.s.c>k&&(f.s.c=k),f.e.c<k&&(f.e.c=k),T.t){case"n":if(T.v==""||T.v==null){if(!D)continue;T.t="z"}else T.v=parseFloat(T.v);break;case"s":if(typeof T.v>"u"){if(!D)continue;T.t="z"}else N=eg[parseInt(T.v,10)],T.v=N.t,T.r=N.r,u.cellHTML&&(T.h=N.h);break;case"str":T.t="s",T.v=T.v!=null?Zt(T.v):"",u.cellHTML&&(T.h=zP(T.v));break;case"inlineStr":w=S.match(n),T.t="s",w!=null&&(N=aI(w[1]))?(T.v=N.t,u.cellHTML&&(T.h=N.h)):T.v="";break;case"b":T.v=cr(T.v);break;case"d":u.cellDates?T.v=dr(T.v,1):(T.v=wn(dr(T.v,1)),T.t="n");break;case"e":(!u||u.cellText!==!1)&&(T.w=T.v),T.v=g$[T.v];break}if(R=W=0,j=null,Q&&E.s!==void 0&&(j=h.CellXf[E.s],j!=null&&(j.numFmtId!=null&&(R=j.numFmtId),u.cellStyles&&j.fillId!=null&&(W=j.fillId))),hB(T,R,W,u,d,h),u.cellDates&&Q&&T.t=="n"&&Ap(Qe[R])&&(T.t="d",T.v=qb(T.v)),E.cm&&u.xlmeta){var be=(u.xlmeta.Cell||[])[+E.cm-1];be&&be.type=="XLDAPR"&&(T.D=!0)}if(Z){var L=Ir(E.r);c[L.r]||(c[L.r]=[]),c[L.r][L.c]=T}else c[E.r]=T}}}}V.length>0&&(c["!rows"]=V)}}();function bte(t,e,r,n){var i=[],a=[],s=Nt(t["!ref"]),o="",l,c="",u=[],f=0,d=0,h=t["!rows"],m=Array.isArray(t),p={r:c},y,w=-1;for(d=s.s.c;d<=s.e.c;++d)u[d]=Pr(d);for(f=s.s.r;f<=s.e.r;++f){for(a=[],c=zr(f),d=s.s.c;d<=s.e.c;++d){l=u[d]+c;var b=m?(t[f]||[])[d]:t[l];b!==void 0&&(o=wte(b,l,t,e))!=null&&a.push(o)}(a.length>0||h&&h[f])&&(p={r:c},h&&h[f]&&(y=h[f],y.hidden&&(p.hidden=1),w=-1,y.hpx?w=Hg(y.hpx):y.hpt&&(w=y.hpt),w>-1&&(p.ht=w,p.customHeight=1),y.level&&(p.outlineLevel=y.level)),i[i.length]=Te("row",a.join(""),p))}if(h)for(;f<h.length;++f)h&&h[f]&&(p={r:f+1},y=h[f],y.hidden&&(p.hidden=1),w=-1,y.hpx?w=Hg(y.hpx):y.hpt&&(w=y.hpt),w>-1&&(p.ht=w,p.customHeight=1),y.level&&(p.outlineLevel=y.level),i[i.length]=Te("row","",p));return i.join("")}function mB(t,e,r,n){var i=[qr,Te("worksheet",null,{xmlns:Ed[0],"xmlns:r":mn.r})],a=r.SheetNames[t],s=0,o="",l=r.Sheets[a];l==null&&(l={});var c=l["!ref"]||"A1",u=Nt(c);if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=ft(u)}n||(n={}),l["!comments"]=[];var f=[];ste(l,r,t,e,i),i[i.length]=Te("dimension",null,{ref:c}),i[i.length]=xte(l,e,t,r),e.sheetFormat&&(i[i.length]=Te("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=pte(l,l["!cols"])),i[s=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=bte(l,e),o.length>0&&(i[i.length]=o)),i.length>s+1&&(i[i.length]="</sheetData>",i[s]=i[s].replace("/>",">")),l["!protect"]&&(i[i.length]=cte(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=gte(l["!autofilter"],l,r,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=ite(l["!merges"]));var d=-1,h,m=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(p){p[1].Target&&(h={ref:p[0]},p[1].Target.charAt(0)!="#"&&(m=Wt(n,-1,Gt(p[1].Target).replace(/#.*$/,""),bt.HLINK),h["r:id"]="rId"+m),(d=p[1].Target.indexOf("#"))>-1&&(h.location=Gt(p[1].Target.slice(d+1))),p[1].Tooltip&&(h.tooltip=Gt(p[1].Tooltip)),i[i.length]=Te("hyperlink",null,h))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=dte(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=Vn("ignoredErrors",Te("ignoredError",null,{numberStoredAsText:1,sqref:c}))),f.length>0&&(m=Wt(n,-1,"../drawings/drawing"+(t+1)+".xml",bt.DRAW),i[i.length]=Te("drawing",null,{"r:id":"rId"+m}),l["!drawing"]=f),l["!comments"].length>0&&(m=Wt(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",bt.VML),i[i.length]=Te("legacyDrawing",null,{"r:id":"rId"+m}),l["!legacy"]=m),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function Ste(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var a=t.read_shift(1);return t.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}function Ate(t,e,r){var n=pe(145),i=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var a=320;i.hpx?a=Hg(i.hpx)*20:i.hpt&&(a=i.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var s=0;i.level&&(s|=i.level),i.hidden&&(s|=16),(i.hpx||i.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var c={r:t,c:0},u=0;u<16;++u)if(!(e.s.c>u+1<<10||e.e.c<u<<10)){for(var f=-1,d=-1,h=u<<10;h<u+1<<10;++h){c.c=h;var m=Array.isArray(r)?(r[c.r]||[])[c.c]:r[et(c)];m&&(f<0&&(f=h),d=h)}f<0||(++o,n.write_shift(4,f),n.write_shift(4,d))}var p=n.l;return n.l=l,n.write_shift(4,o),n.l=p,n.length>n.l?n.slice(0,n.l):n}function Tte(t,e,r,n){var i=Ate(n,r,e);(i.length>17||(e["!rows"]||[])[n])&&ye(t,0,i)}var Ete=Id,Cte=Cp;function kte(){}function Pte(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=MX(t),r}function Ite(t,e,r){r==null&&(r=pe(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return Vw({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),f$(t,r),r.slice(0,r.l)}function Ote(t){var e=is(t);return[e]}function Mte(t,e,r){return r==null&&(r=pe(8)),Cd(e,r)}function Nte(t){var e=kd(t);return[e]}function Rte(t,e,r){return r==null&&(r=pe(4)),Pd(e,r)}function Dte(t){var e=is(t),r=t.read_shift(1);return[e,r,"b"]}function Fte(t,e,r){return r==null&&(r=pe(9)),Cd(e,r),r.write_shift(1,t.v?1:0),r}function Lte(t){var e=kd(t),r=t.read_shift(1);return[e,r,"b"]}function $te(t,e,r){return r==null&&(r=pe(5)),Pd(e,r),r.write_shift(1,t.v?1:0),r}function Bte(t){var e=is(t),r=t.read_shift(1);return[e,r,"e"]}function jte(t,e,r){return r==null&&(r=pe(9)),Cd(e,r),r.write_shift(1,t.v),r}function Ute(t){var e=kd(t),r=t.read_shift(1);return[e,r,"e"]}function Vte(t,e,r){return r==null&&(r=pe(8)),Pd(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function Hte(t){var e=is(t),r=t.read_shift(4);return[e,r,"s"]}function Wte(t,e,r){return r==null&&(r=pe(12)),Cd(e,r),r.write_shift(4,e.v),r}function zte(t){var e=kd(t),r=t.read_shift(4);return[e,r,"s"]}function Gte(t,e,r){return r==null&&(r=pe(8)),Pd(e,r),r.write_shift(4,e.v),r}function qte(t){var e=is(t),r=ui(t);return[e,r,"n"]}function Xte(t,e,r){return r==null&&(r=pe(16)),Cd(e,r),sd(t.v,r),r}function gB(t){var e=kd(t),r=ui(t);return[e,r,"n"]}function Kte(t,e,r){return r==null&&(r=pe(12)),Pd(e,r),sd(t.v,r),r}function Yte(t){var e=is(t),r=eI(t);return[e,r,"n"]}function Jte(t,e,r){return r==null&&(r=pe(12)),Cd(e,r),d$(t.v,r),r}function Zte(t){var e=kd(t),r=eI(t);return[e,r,"n"]}function Qte(t,e,r){return r==null&&(r=pe(8)),Pd(e,r),d$(t.v,r),r}function ere(t){var e=is(t),r=JP(t);return[e,r,"is"]}function tre(t){var e=is(t),r=di(t);return[e,r,"str"]}function rre(t,e,r){return r==null&&(r=pe(12+4*t.v.length)),Cd(e,r),On(t.v,r),r.length>r.l?r.slice(0,r.l):r}function nre(t){var e=kd(t),r=di(t);return[e,r,"str"]}function ire(t,e,r){return r==null&&(r=pe(8+4*t.v.length)),Pd(e,r),On(t.v,r),r.length>r.l?r.slice(0,r.l):r}function are(t,e,r){var n=t.l+e,i=is(t);i.r=r["!row"];var a=t.read_shift(1),s=[i,a,"b"];if(r.cellFormula){t.l+=2;var o=Yb(t,n-t.l,r);s[3]=ai(o,null,i,r.supbooks,r)}else t.l=n;return s}function sre(t,e,r){var n=t.l+e,i=is(t);i.r=r["!row"];var a=t.read_shift(1),s=[i,a,"e"];if(r.cellFormula){t.l+=2;var o=Yb(t,n-t.l,r);s[3]=ai(o,null,i,r.supbooks,r)}else t.l=n;return s}function ore(t,e,r){var n=t.l+e,i=is(t);i.r=r["!row"];var a=ui(t),s=[i,a,"n"];if(r.cellFormula){t.l+=2;var o=Yb(t,n-t.l,r);s[3]=ai(o,null,i,r.supbooks,r)}else t.l=n;return s}function lre(t,e,r){var n=t.l+e,i=is(t);i.r=r["!row"];var a=di(t),s=[i,a,"str"];if(r.cellFormula){t.l+=2;var o=Yb(t,n-t.l,r);s[3]=ai(o,null,i,r.supbooks,r)}else t.l=n;return s}var cre=Id,ure=Cp;function fre(t,e){return e==null&&(e=pe(4)),e.write_shift(4,t),e}function dre(t,e){var r=t.l+e,n=Id(t),i=ZP(t),a=di(t),s=di(t),o=di(t);t.l=r;var l={rfx:n,relId:i,loc:a,display:o};return s&&(l.Tooltip=s),l}function hre(t,e){var r=pe(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Cp({s:Ir(t[0]),e:Ir(t[0])},r),QP("rId"+e,r);var n=t[1].Target.indexOf("#"),i=n==-1?"":t[1].Target.slice(n+1);return On(i||"",r),On(t[1].Tooltip||"",r),On("",r),r.slice(0,r.l)}function pre(){}function mre(t,e,r){var n=t.l+e,i=h$(t),a=t.read_shift(1),s=[i];if(s[2]=a,r.cellFormula){var o=Bee(t,n-t.l,r);s[1]=o}else t.l=n;return s}function gre(t,e,r){var n=t.l+e,i=Id(t),a=[i];if(r.cellFormula){var s=Uee(t,n-t.l,r);a[1]=s,t.l=n}else t.l=n;return a}function vre(t,e,r){r==null&&(r=pe(18));var n=Jb(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),r.write_shift(2,i),r}var vB=["left","right","top","bottom","header","footer"];function yre(t){var e={};return vB.forEach(function(r){e[r]=ui(t)}),e}function xre(t,e){return e==null&&(e=pe(6*8)),Yf(t),vB.forEach(function(r){sd(t[r],e)}),e}function wre(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function _re(t,e,r){r==null&&(r=pe(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function bre(t){var e=pe(24);return e.write_shift(4,4),e.write_shift(4,1),Cp(t,e),e}function Sre(t,e){return e==null&&(e=pe(16*4+2)),e.write_shift(2,t.password?sI(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function Are(){}function Tre(){}function Ere(t,e,r,n,i,a,s){if(!t)return t;var o=e||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,d=!1,h,m,p,y,w,b,_,A,S,T=[];o.biff=12,o["!row"]=0;var E=0,P=!1,k=[],N={},O=o.supbooks||i.supbooks||[[]];if(O.sharedf=N,O.arrayf=k,O.SheetNames=i.SheetNames||i.Sheets.map(function(Z){return Z.name}),!o.supbooks&&(o.supbooks=O,i.Names))for(var R=0;R<i.Names.length;++R)O[0][R+1]=i.Names[R];var W=[],Q=[],j=!1;Wg[16]={n:"BrtShortReal",f:gB};var Y;if(Wl(t,function(V,te,se){if(!d)switch(se){case 148:c=V;break;case 0:h=V,o.sheetRows&&o.sheetRows<=h.r&&(d=!0),A=zr(y=h.r),o["!row"]=h.r,(V.hidden||V.hpt||V.level!=null)&&(V.hpt&&(V.hpx=z0(V.hpt)),Q[V.r]=V);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(m={t:V[2]},V[2]){case"n":m.v=V[1];break;case"s":_=eg[V[1]],m.v=_.t,m.r=_.r;break;case"b":m.v=!!V[1];break;case"e":m.v=V[1],o.cellText!==!1&&(m.w=zl[m.v]);break;case"str":m.t="s",m.v=V[1];break;case"is":m.t="s",m.v=V[1].t;break}if((p=s.CellXf[V[0].iStyleRef])&&hB(m,p.numFmtId,null,o,a,s),w=V[0].c==-1?w+1:V[0].c,o.dense?(l[y]||(l[y]=[]),l[y][w]=m):l[Pr(w)+A]=m,o.cellFormula){for(P=!1,E=0;E<k.length;++E){var D=k[E];h.r>=D[0].s.r&&h.r<=D[0].e.r&&w>=D[0].s.c&&w<=D[0].e.c&&(m.F=ft(D[0]),P=!0)}!P&&V.length>3&&(m.f=V[3])}if(u.s.r>h.r&&(u.s.r=h.r),u.s.c>w&&(u.s.c=w),u.e.r<h.r&&(u.e.r=h.r),u.e.c<w&&(u.e.c=w),o.cellDates&&p&&m.t=="n"&&Ap(Qe[p.numFmtId])){var q=Hu(m.v);q&&(m.t="d",m.v=new Date(q.y,q.m-1,q.d,q.H,q.M,q.S,q.u))}Y&&(Y.type=="XLDAPR"&&(m.D=!0),Y=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;m={t:"z",v:void 0},w=V[0].c==-1?w+1:V[0].c,o.dense?(l[y]||(l[y]=[]),l[y][w]=m):l[Pr(w)+A]=m,u.s.r>h.r&&(u.s.r=h.r),u.s.c>w&&(u.s.c=w),u.e.r<h.r&&(u.e.r=h.r),u.e.c<w&&(u.e.c=w),Y&&(Y.type=="XLDAPR"&&(m.D=!0),Y=void 0);break;case 176:T.push(V);break;case 49:Y=((o.xlmeta||{}).Cell||[])[V-1];break;case 494:var X=n["!id"][V.relId];for(X?(V.Target=X.Target,V.loc&&(V.Target+="#"+V.loc),V.Rel=X):V.relId==""&&(V.Target="#"+V.loc),y=V.rfx.s.r;y<=V.rfx.e.r;++y)for(w=V.rfx.s.c;w<=V.rfx.e.c;++w)o.dense?(l[y]||(l[y]=[]),l[y][w]||(l[y][w]={t:"z",v:void 0}),l[y][w].l=V):(b=et({c:w,r:y}),l[b]||(l[b]={t:"z",v:void 0}),l[b].l=V);break;case 426:if(!o.cellFormula)break;k.push(V),S=o.dense?l[y][w]:l[Pr(w)+A],S.f=ai(V[1],u,{r:h.r,c:w},O,o),S.F=ft(V[0]);break;case 427:if(!o.cellFormula)break;N[et(V[0].s)]=V[1],S=o.dense?l[y][w]:l[Pr(w)+A],S.f=ai(V[1],u,{r:h.r,c:w},O,o);break;case 60:if(!o.cellStyles)break;for(;V.e>=V.s;)W[V.e--]={width:V.w/256,hidden:!!(V.flags&1),level:V.level},j||(j=!0,oI(V.w/256)),nu(W[V.e+1]);break;case 161:l["!autofilter"]={ref:ft(V)};break;case 476:l["!margins"]=V;break;case 147:i.Sheets[r]||(i.Sheets[r]={}),V.name&&(i.Sheets[r].CodeName=V.name),(V.above||V.left)&&(l["!outline"]={above:V.above,left:V.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),V.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!te.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+se.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=ft(c||u)),o.sheetRows&&l["!ref"]){var J=Nt(l["!ref"]);o.sheetRows<=+J.e.r&&(J.e.r=o.sheetRows-1,J.e.r>u.e.r&&(J.e.r=u.e.r),J.e.r<J.s.r&&(J.s.r=J.e.r),J.e.c>u.e.c&&(J.e.c=u.e.c),J.e.c<J.s.c&&(J.s.c=J.e.c),l["!fullref"]=l["!ref"],l["!ref"]=ft(J))}return T.length>0&&(l["!merges"]=T),W.length>0&&(l["!cols"]=W),Q.length>0&&(l["!rows"]=Q),l}function Cre(t,e,r,n,i,a,s){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=hr(e),e.z=e.z||Qe[14],e.v=wn(dr(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r,c:n};switch(l.s=gu(i.cellXfs,e,i),e.l&&a["!links"].push([et(l),e.l]),e.c&&a["!comments"].push([et(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=dI(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,s?ye(t,18,Gte(e,l)):ye(t,7,Wte(e,l))):(l.t="str",s?ye(t,17,ire(e,l)):ye(t,6,rre(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?s?ye(t,13,Qte(e,l)):ye(t,2,Jte(e,l)):s?ye(t,16,Kte(e,l)):ye(t,5,Xte(e,l)),!0;case"b":return l.t="b",s?ye(t,15,$te(e,l)):ye(t,4,Fte(e,l)),!0;case"e":return l.t="e",s?ye(t,14,Vte(e,l)):ye(t,3,jte(e,l)),!0}return s?ye(t,12,Rte(e,l)):ye(t,1,Mte(e,l)),!0}function kre(t,e,r,n){var i=Nt(e["!ref"]||"A1"),a,s="",o=[];ye(t,145);var l=Array.isArray(e),c=i.e.r;e["!rows"]&&(c=Math.max(i.e.r,e["!rows"].length-1));for(var u=i.s.r;u<=c;++u){s=zr(u),Tte(t,e,i,u);var f=!1;if(u<=i.e.r)for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(o[d]=Pr(d)),a=o[d]+s;var h=l?(e[u]||[])[d]:e[a];if(!h){f=!1;continue}f=Cre(t,h,u,d,n,e,f)}}ye(t,146)}function Pre(t,e){!e||!e["!merges"]||(ye(t,177,fre(e["!merges"].length)),e["!merges"].forEach(function(r){ye(t,176,ure(r))}),ye(t,178))}function Ire(t,e){!e||!e["!cols"]||(ye(t,390),e["!cols"].forEach(function(r,n){r&&ye(t,60,vre(n,r))}),ye(t,391))}function Ore(t,e){!e||!e["!ref"]||(ye(t,648),ye(t,649,bre(Nt(e["!ref"]))),ye(t,650))}function Mre(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var i=Wt(r,-1,n[1].Target.replace(/#.*$/,""),bt.HLINK);ye(t,494,hre(n,i))}}),delete e["!links"]}function Nre(t,e,r,n){if(e["!comments"].length>0){var i=Wt(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",bt.VML);ye(t,551,QP("rId"+i)),e["!legacy"]=i}}function Rre(t,e,r,n){if(e["!autofilter"]){var i=e["!autofilter"],a=typeof i.ref=="string"?i.ref:ft(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=Ki(a);o.s.r==o.e.r&&(o.e.r=Ki(e["!ref"]).e.r,a=ft(o));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),ye(t,161,Cp(Nt(a))),ye(t,162)}}function Dre(t,e,r){ye(t,133),ye(t,137,_re(e,r)),ye(t,138),ye(t,134)}function Fre(t,e){e["!protect"]&&ye(t,535,Sre(e["!protect"]))}function Lre(t,e,r,n){var i=Xi(),a=r.SheetNames[t],s=r.Sheets[a]||{},o=a;try{r&&r.Workbook&&(o=r.Workbook.Sheets[t].CodeName||o)}catch{}var l=Nt(s["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],ye(i,129),(r.vbaraw||s["!outline"])&&ye(i,147,Ite(o,s["!outline"])),ye(i,148,Cte(l)),Dre(i,s,r.Workbook),Ire(i,s),kre(i,s,t,e),Fre(i,s),Rre(i,s,r,t),Pre(i,s),Mre(i,s,n),s["!margins"]&&ye(i,476,xre(s["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&Ore(i,s),Nre(i,s,t,n),ye(i,130),i.end()}function $re(t){var e=[],r=t.match(/^<c:numCache>/),n;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var s=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(e[+s[1]]=r?+s[2]:s[2])});var i=Ot((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){n=a.replace(/<.*?>/g,"")}),[e,i,n]}function Bre(t,e,r,n,i,a){var s=a||{"!type":"chart"};if(!t)return a;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var d=$re(f);u.s.r=u.s.c=0,u.e.c=o,c=Pr(o),d[0].forEach(function(h,m){s[c+zr(m)]={t:"n",v:h,z:d[1]},l=m}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(s["!ref"]=ft(u)),s}function jre(t,e,r,n,i){if(!t)return t;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s,o=t.match(pB);return o&&hI(o[0],a,i,r),(s=t.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=s[1]),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}function Ure(t,e){t.l+=10;var r=di(t);return{name:r}}function Vre(t,e,r,n,i){if(!t)return t;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s=!1;return Wl(t,function(l,c,u){switch(u){case 550:a["!rel"]=l;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),l.name&&(i.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!s||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},e),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}var pI=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Hre=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Wre=[],zre=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function sR(t,e){for(var r=0;r!=t.length;++r)for(var n=t[r],i=0;i!=e.length;++i){var a=e[i];if(n[a[0]]==null)n[a[0]]=a[1];else switch(a[2]){case"bool":typeof n[a[0]]=="string"&&(n[a[0]]=cr(n[a[0]]));break;case"int":typeof n[a[0]]=="string"&&(n[a[0]]=parseInt(n[a[0]],10));break}}}function oR(t,e){for(var r=0;r!=e.length;++r){var n=e[r];if(t[n[0]]==null)t[n[0]]=n[1];else switch(n[2]){case"bool":typeof t[n[0]]=="string"&&(t[n[0]]=cr(t[n[0]]));break;case"int":typeof t[n[0]]=="string"&&(t[n[0]]=parseInt(t[n[0]],10));break}}}function yB(t){oR(t.WBProps,pI),oR(t.CalcPr,zre),sR(t.WBView,Hre),sR(t.Sheets,Wre),Mh.date1904=cr(t.WBProps.date1904)}function Gre(t){return!t.Workbook||!t.Workbook.WBProps?"false":cr(t.Workbook.WBProps.date1904)?"true":"false"}var qre="][*?/\\".split("");function xB(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return qre.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Xre(t,e,r){t.forEach(function(n,i){xB(n);for(var a=0;a<i;++a)if(n==t[a])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=e&&e[i]&&e[i].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function Kre(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];Xre(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)Gee(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}var Yre=/<\w+:workbook/;function Jre(t,e){if(!t)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",a={},s=0;if(t.replace(mi,function(l,c){var u=tt(l);switch(Po(u[0])){case"<?xml":break;case"<workbook":l.match(Yre)&&(i="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=u[i];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":pI.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=cr(u[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:r.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(r.WBProps.CodeName=Zt(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Ot(Zt(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":a={},a.Name=Zt(u.name),u.comment&&(a.Comment=u.comment),u.localSheetId&&(a.Sheet=+u.localSheetId),cr(u.hidden||"0")&&(a.Hidden=!0),s=c+l.length;break;case"</definedName>":a.Ref=Ot(Zt(t.slice(s,c))),r.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),Ed.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return yB(r),r}function wB(t){var e=[qr];e[e.length]=Te("workbook",null,{xmlns:Ed[0],"xmlns:r":mn.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(pI.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=Te("workbookPr",null,n);var i=t.Workbook&&t.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",a=0;a!=t.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==t.SheetNames.length&&(a=0),e[e.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",a=0;a!=t.SheetNames.length;++a){var s={name:Gt(t.SheetNames[a].slice(0,31))};if(s.sheetId=""+(a+1),s["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}e[e.length]=Te("sheet",null,s)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=Te("definedName",Gt(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function Zre(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=_E(t),r.name=di(t),r}function Qre(t,e){return e||(e=pe(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),QP(t.strRelID,e),On(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function ene(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?di(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function tne(t,e){e||(e=pe(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),f$(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function rne(t,e){var r={};return t.read_shift(4),r.ArchID=t.read_shift(4),t.l+=e-8,r}function nne(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),a=NX(t),s=jee(t,0,r),o=ZP(t);t.l=n;var l={Name:a,Ptg:s};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function ine(t,e){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;e||(e={}),e.biff=12;var a=[],s=[[]];return s.SheetNames=[],s.XTI=[],Wg[16]={n:"BrtFRTArchID$",f:rne},Wl(t,function(l,c,u){switch(u){case 156:s.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=ai(l.Ptg,null,null,s,e),delete e.SID,delete l.Ptg,a.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([u,l]):s[0]=[u,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(u),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!c.T){if(!i||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},e),yB(r),r.Names=a,r.supbooks=s,r}function ane(t,e){ye(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};ye(t,156,Qre(i))}ye(t,144)}function sne(t,e){e||(e=pe(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return On("SheetJS",e),On(Dw.version,e),On(Dw.version,e),On("7262",e),e.length>e.l?e.slice(0,e.l):e}function one(t,e){e||(e=pe(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function lne(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,i=-1,a=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&a==-1&&(a=n);a>i||(ye(t,135),ye(t,158,one(i)),ye(t,136))}}function cne(t,e){var r=Xi();return ye(r,131),ye(r,128,sne()),ye(r,153,tne(t.Workbook&&t.Workbook.WBProps||null)),lne(r,t),ane(r,t),ye(r,132),r.end()}function une(t,e,r){return e.slice(-4)===".bin"?ine(t,r):Jre(t,r)}function fne(t,e,r,n,i,a,s,o){return e.slice(-4)===".bin"?Ere(t,n,r,i,a,s,o):nte(t,n,r,i,a,s,o)}function dne(t,e,r,n,i,a,s,o){return e.slice(-4)===".bin"?Vre(t,n,r,i,a):jre(t,n,r,i,a)}function hne(t,e,r,n,i,a,s,o){return e.slice(-4)===".bin"?mQ():gQ()}function pne(t,e,r,n,i,a,s,o){return e.slice(-4)===".bin"?hQ():pQ()}function mne(t,e,r,n){return e.slice(-4)===".bin"?uZ(t,r,n):ZJ(t,r,n)}function gne(t,e,r){return eB(t,r)}function vne(t,e,r){return e.slice(-4)===".bin"?vJ(t,r):pJ(t,r)}function yne(t,e,r){return e.slice(-4)===".bin"?lQ(t,r):QZ(t,r)}function xne(t,e,r){return e.slice(-4)===".bin"?YZ(t):XZ(t)}function wne(t,e,r,n){return r.slice(-4)===".bin"?JZ(t,e,r,n):void 0}function _ne(t,e,r){return e.slice(-4)===".bin"?zZ(t,e,r):qZ(t,e,r)}function bne(t,e,r){return(e.slice(-4)===".bin"?cne:wB)(t)}function Sne(t,e,r,n,i){return(e.slice(-4)===".bin"?Lre:mB)(t,r,n,i)}function Ane(t,e,r){return(e.slice(-4)===".bin"?wZ:Z$)(t,r)}function Tne(t,e,r){return(e.slice(-4)===".bin"?wJ:W$)(t,r)}function Ene(t,e,r){return(e.slice(-4)===".bin"?cQ:nB)(t)}function Cne(t){return(t.slice(-4)===".bin"?GZ:tB)()}var _B=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,bB=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function cs(t,e){var r=t.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var i=t.match(_B),a,s,o,l;if(i)for(l=0;l!=i.length;++l)a=i[l].match(bB),(s=a[1].indexOf(":"))===-1?n[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(s+1),n[o]=a[2].slice(1,a[2].length-1));return n}function kne(t){var e=t.split(/\s+/),r={};if(e.length===1)return r;var n=t.match(_B),i,a,s,o;if(n)for(o=0;o!=n.length;++o)i=n[o].match(bB),(a=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?s="xmlns"+i[1].slice(6):s=i[1].slice(a+1),r[s]=i[2].slice(1,i[2].length-1));return r}var rg;function Pne(t,e){var r=rg[t]||Ot(t);return r==="General"?id(e):ts(r,e)}function Ine(t,e,r,n){var i=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=cr(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=dr(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}t[Ot(e)]=i}function One(t,e,r){if(t.t!=="z"){if(!r||r.cellText!==!1)try{t.t==="e"?t.w=t.w||zl[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Dg(t.v):t.w=id(t.v):t.w=Pne(e||"General",t.v)}catch(a){if(r.WTF)throw a}try{var n=rg[e]||e||"General";if(r.cellNF&&(t.z=n),r.cellDates&&t.t=="n"&&Ap(n)){var i=Hu(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(a){if(r.WTF)throw a}}}function Mne(t,e,r){if(r.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=WJ[n.Pattern]||n.Pattern)}t[e.ID]=e}function Nne(t,e,r,n,i,a,s,o,l,c){var u="General",f=n.StyleID,d={};c=c||{};var h=[],m=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&s&&(f=s.StyleID);a[f]!==void 0&&(a[f].nf&&(u=a[f].nf),a[f].Interior&&h.push(a[f].Interior),!!a[f].Parent);)f=a[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=cr(t);break;case"String":n.t="s",n.r=AN(Ot(t)),n.v=t.indexOf("<")>-1?Ot(e||t).replace(/<.*?>/g,""):n.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),n.v=(dr(t)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Ot(t):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+t),n.t||(n.t="n");break;case"Error":n.t="e",n.v=g$[t],c.cellText!==!1&&(n.w=t);break;default:t==""&&e==""?n.t="z":(n.t="s",n.v=AN(e||t));break}if(One(n,u,c),c.cellFormula!==!1)if(n.Formula){var p=Ot(n.Formula);p.charCodeAt(0)==61&&(p=p.slice(1)),n.f=Oh(p,i),delete n.Formula,n.ArrayRange=="RC"?n.F=Oh("RC:RC",i):n.ArrayRange&&(n.F=Oh(n.ArrayRange,i),l.push([Nt(n.F),n.F]))}else for(m=0;m<l.length;++m)i.r>=l[m][0].s.r&&i.r<=l[m][0].e.r&&i.c>=l[m][0].s.c&&i.c<=l[m][0].e.c&&(n.F=l[m][1]);c.cellStyles&&(h.forEach(function(y){!d.patternType&&y.patternType&&(d.patternType=y.patternType)}),n.s=d),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function Rne(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function LA(t,e){var r=e||{};Tp();var n=xm(GP(t));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Zt(n));var i=n.slice(0,1024).toLowerCase(),a=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var s=hr(r);return s.type="string",W0.to_workbook(n,s)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Tt){i.indexOf("<"+Tt)>=0&&(a=!0)}),a)return xie(n,r);rg={"General Number":"General","General Date":Qe[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Qe[15],"Short Date":Qe[14],"Long Time":Qe[19],"Medium Time":Qe[18],"Short Time":Qe[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Qe[2],Standard:Qe[4],Percent:Qe[10],Scientific:Qe[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],d=r.dense?[]:{},h="",m={},p={},y=cs('<Data ss:Type="String">'),w=0,b=0,_=0,A={s:{r:2e6,c:2e6},e:{r:0,c:0}},S={},T={},E="",P=0,k=[],N={},O={},R=0,W=[],Q=[],j={},Y=[],J,Z=!1,V=[],te=[],se={},D=0,q=0,X={Sheets:[],WBProps:{date1904:!1}},ee={};$g.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ae="";o=$g.exec(n);)switch(o[3]=(ae=o[3]).toLowerCase()){case"data":if(ae=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?Nne(n.slice(w,o.index),E,y,l[l.length-1][0]=="comment"?j:m,{c:b,r:_},S,Y[b],p,V,r):(E="",y=cs(o[0]),w=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(Q.length>0&&(m.c=Q),(!r.sheetRows||r.sheetRows>_)&&m.v!==void 0&&(r.dense?(d[_]||(d[_]=[]),d[_][b]=m):d[Pr(b)+zr(_)]=m),m.HRef&&(m.l={Target:Ot(m.HRef)},m.HRefScreenTip&&(m.l.Tooltip=m.HRefScreenTip),delete m.HRef,delete m.HRefScreenTip),(m.MergeAcross||m.MergeDown)&&(D=b+(parseInt(m.MergeAcross,10)|0),q=_+(parseInt(m.MergeDown,10)|0),k.push({s:{c:b,r:_},e:{c:D,r:q}})),!r.sheetStubs)m.MergeAcross?b=D+1:++b;else if(m.MergeAcross||m.MergeDown){for(var ue=b;ue<=D;++ue)for(var ve=_;ve<=q;++ve)(ue>b||ve>_)&&(r.dense?(d[ve]||(d[ve]=[]),d[ve][ue]={t:"z"}):d[Pr(ue)+zr(ve)]={t:"z"});b=D+1}else++b;else m=kne(o[0]),m.Index&&(b=+m.Index-1),b<A.s.c&&(A.s.c=b),b>A.e.c&&(A.e.c=b),o[0].slice(-2)==="/>"&&++b,Q=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(_<A.s.r&&(A.s.r=_),_>A.e.r&&(A.e.r=_),o[0].slice(-2)==="/>"&&(p=cs(o[0]),p.Index&&(_=+p.Index-1)),b=0,++_):(p=cs(o[0]),p.Index&&(_=+p.Index-1),se={},(p.AutoFitHeight=="0"||p.Height)&&(se.hpx=parseInt(p.Height,10),se.hpt=Hg(se.hpx),te[_]=se),p.Hidden=="1"&&(se.hidden=!0,te[_]=se));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(h),A.s.r<=A.e.r&&A.s.c<=A.e.c&&(d["!ref"]=ft(A),r.sheetRows&&r.sheetRows<=A.e.r&&(d["!fullref"]=d["!ref"],A.e.r=r.sheetRows-1,d["!ref"]=ft(A))),k.length&&(d["!merges"]=k),Y.length>0&&(d["!cols"]=Y),te.length>0&&(d["!rows"]=te),u[h]=d}else A={s:{r:2e6,c:2e6},e:{r:0,c:0}},_=b=0,l.push([o[3],!1]),c=cs(o[0]),h=Ot(c.Name),d=r.dense?[]:{},k=[],V=[],te=[],ee={name:h,Hidden:0},X.Sheets.push(ee);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),Y=[],Z=!1}break;case"style":o[1]==="/"?Mne(S,T,r):T=cs(o[0]);break;case"numberformat":T.nf=Ot(cs(o[0]).Format||"General"),rg[T.nf]&&(T.nf=rg[T.nf]);for(var ie=0;ie!=392&&Qe[ie]!=T.nf;++ie);if(ie==392){for(ie=57;ie!=392;++ie)if(Qe[ie]==null){_l(T.nf,ie);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(J=cs(o[0]),J.Hidden&&(J.hidden=!0,delete J.Hidden),J.Width&&(J.wpx=parseInt(J.Width,10)),!Z&&J.wpx>10){Z=!0,oi=Y$;for(var ce=0;ce<Y.length;++ce)Y[ce]&&nu(Y[ce])}Z&&nu(J),Y[J.Index-1||Y.length]=J;for(var be=0;be<+J.Span;++be)Y[Y.length]=hr(J);break;case"namedrange":if(o[1]==="/")break;X.Names||(X.Names=[]);var L=tt(o[0]),Ue={Name:L.Name,Ref:Oh(L.RefersTo.slice(1),{r:0,c:0})};X.Sheets.length>0&&(Ue.Sheet=X.Sheets.length-1),X.Names.push(Ue);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?E+=n.slice(P,o.index):P=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;T.Interior=cs(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?iK(N,ae,n.slice(R,o.index)):R=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));Rne(j),Q.push(j)}else l.push([o[3],!1]),c=cs(o[0]),j={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ce=cs(o[0]);d["!autofilter"]={ref:Oh(Ce.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return dR(n,r);var Ve=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ve=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ve=!1}break;case"excelworkbook":switch(o[3]){case"date1904":X.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ve=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Ve=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(R,o.index)){case"SheetHidden":ee.Hidden=1;break;case"SheetVeryHidden":ee.Hidden=2;break}else R=o.index+o[0].length;break;case"header":d["!margins"]||Yf(d["!margins"]={},"xlml"),isNaN(+tt(o[0]).Margin)||(d["!margins"].header=+tt(o[0]).Margin);break;case"footer":d["!margins"]||Yf(d["!margins"]={},"xlml"),isNaN(+tt(o[0]).Margin)||(d["!margins"].footer=+tt(o[0]).Margin);break;case"pagemargins":var Be=tt(o[0]);d["!margins"]||Yf(d["!margins"]={},"xlml"),isNaN(+Be.Top)||(d["!margins"].top=+Be.Top),isNaN(+Be.Left)||(d["!margins"].left=+Be.Left),isNaN(+Be.Right)||(d["!margins"].right=+Be.Right),isNaN(+Be.Bottom)||(d["!margins"].bottom=+Be.Bottom);break;case"displayrighttoleft":X.Views||(X.Views=[]),X.Views[0]||(X.Views[0]={}),X.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ve=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ve=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ve=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ve=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ve=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ve=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ve=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ve=!1}break;case"smarttags":break;default:Ve=!1;break}if(Ve||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?Ine(O,ae,W,n.slice(R,o.index)):(W=o,R=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var xe={};return!r.bookSheets&&!r.bookProps&&(xe.Sheets=u),xe.SheetNames=f,xe.Workbook=X,xe.SSF=hr(Qe),xe.Props=N,xe.Custprops=O,xe}function kE(t,e){switch(gI(e=e||{}),e.type||"base64"){case"base64":return LA(_a(t),e);case"binary":case"buffer":case"file":return LA(t,e);case"array":return LA(pu(t),e)}}function Dne(t,e){var r=[];return t.Props&&r.push(aK(t.Props,e)),t.Custprops&&r.push(sK(t.Props,t.Custprops)),r.join("")}function Fne(){return""}function Lne(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var a=[];a.push(Te("NumberFormat",null,{"ss:Format":Gt(Qe[n.numFmtId])}));var s={"ss:ID":"s"+(21+i)};r.push(Te("Style",a.join(""),s))}),Te("Styles",r.join(""))}function SB(t){return Te("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+uI(t.Ref,{r:0,c:0})})}function $ne(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(SB(i)))}return Te("Names",r.join(""))}function Bne(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,a=[],s=0;s<i.length;++s){var o=i[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||a.push(SB(o)))}return a.join("")}function jne(t,e,r,n){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(Te("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(Te("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(Te("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(Te("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(Vn("ProtectContents","True")),t["!protect"].objects&&i.push(Vn("ProtectObjects","True")),t["!protect"].scenarios&&i.push(Vn("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(Vn("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(Vn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){t["!protect"][s[0]]&&i.push("<"+s[1]+"/>")})),i.length==0?"":Te("WorksheetOptions",i.join(""),{xmlns:fa.x})}function Une(t){return t.map(function(e){var r=lX(e.t||""),n=Te("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Te("Comment",n,{"ss:Author":e.a})}).join("")}function Vne(t,e,r,n,i,a,s){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+Gt(uI(t.f,s))),t.F&&t.F.slice(0,e.length)==e){var l=Ir(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=Gt(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=Gt(t.l.Tooltip))),r["!merges"])for(var c=r["!merges"],u=0;u!=c.length;++u)c[u].s.c!=s.c||c[u].s.r!=s.r||(c[u].e.c>c[u].s.c&&(o["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(o["ss:MergeDown"]=c[u].e.r-c[u].s.r));var f="",d="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",d=String(t.v);break;case"b":f="Boolean",d=t.v?"1":"0";break;case"e":f="Error",d=zl[t.v];break;case"d":f="DateTime",d=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Qe[14]);break;case"s":f="String",d=oX(t.v||"");break}var h=gu(n.cellXfs,t,n);o["ss:StyleID"]="s"+(21+h),o["ss:Index"]=s.c+1;var m=t.v!=null?d:"",p=t.t=="z"?"":'<Data ss:Type="'+f+'">'+m+"</Data>";return(t.c||[]).length>0&&(p+=Une(t.c)),Te("Cell",p,o)}function Hne(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=z0(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Wne(t,e,r,n){if(!t["!ref"])return"";var i=Nt(t["!ref"]),a=t["!merges"]||[],s=0,o=[];t["!cols"]&&t["!cols"].forEach(function(y,w){nu(y);var b=!!y.width,_=Jb(w,y),A={"ss:Index":w+1};b&&(A["ss:Width"]=Ug(_.width)),y.hidden&&(A["ss:Hidden"]="1"),o.push(Te("Column",null,A))});for(var l=Array.isArray(t),c=i.s.r;c<=i.e.r;++c){for(var u=[Hne(c,(t["!rows"]||[])[c])],f=i.s.c;f<=i.e.c;++f){var d=!1;for(s=0;s!=a.length;++s)if(!(a[s].s.c>f)&&!(a[s].s.r>c)&&!(a[s].e.c<f)&&!(a[s].e.r<c)){(a[s].s.c!=f||a[s].s.r!=c)&&(d=!0);break}if(!d){var h={r:c,c:f},m=et(h),p=l?(t[c]||[])[f]:t[m];u.push(Vne(p,m,t,e,r,n,h))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function zne(t,e,r){var n=[],i=r.SheetNames[t],a=r.Sheets[i],s=a?Bne(a,e,t,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=a?Wne(a,e,t,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(jne(a,e,t,r)),n.join("")}function Gne(t,e){e||(e={}),t.SSF||(t.SSF=hr(Qe)),t.SSF&&(Tp(),Wb(t.SSF),e.revssf=Gb(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],gu(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Dne(t,e)),r.push(Fne()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(Te("Worksheet",zne(n,e,t),{"ss:Name":Gt(t.SheetNames[n])}));return r[2]=Lne(t,e),r[3]=$ne(t),qr+Te("Workbook",r.join(""),{xmlns:fa.ss,"xmlns:o":fa.o,"xmlns:x":fa.x,"xmlns:ss":fa.ss,"xmlns:dt":fa.dt,"xmlns:html":fa.html})}function qne(t){var e={},r=t.content;if(r.l=28,e.AnsiUserType=r.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=$X(r),r.length-r.l<=4)return e;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,e.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=BX(r),n=r.read_shift(4),n==0||n>40))return e;r.l-=4,e.Reserved2=r.read_shift(0,"lpwstr")}var Xne=[60,1084,2066,2165,2175];function Kne(t,e,r,n,i){var a=n,s=[],o=r.slice(r.l,r.l+a);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}s.push(o),r.l+=a;for(var l=ml(r,r.l),c=PE[l],u=0;c!=null&&Xne.indexOf(l)>-1;)a=ml(r,r.l+2),u=r.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=r.slice(u,r.l+4+a),s.push(o),r.l+=4+a,c=PE[l=ml(r,r.l)];var f=In(s);Un(f,0);var d=0;f.lens=[];for(var h=0;h<s.length;++h)f.lens.push(d),d+=s[h].length;if(f.length<n)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+f.length+" < "+n;return e.f(f,f.length,i)}function Gs(t,e,r){if(t.t!=="z"&&t.XF){var n=0;try{n=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=Qe[n])}catch(a){if(e.WTF)throw a}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||zl[t.v]:n===0||n=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Dg(t.v):t.w=id(t.v):t.w=ts(n,t.v,{date1904:!!r,dateNF:e&&e.dateNF})}catch(a){if(e.WTF)throw a}if(e.cellDates&&n&&t.t=="n"&&Ap(Qe[n]||String(n))){var i=Hu(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function qx(t,e,r){return{v:t,ixfe:e,t:r}}function Yne(t,e){var r={opts:{}},n={},i=e.dense?[]:{},a={},s={},o=null,l=[],c="",u={},f,d="",h,m,p,y,w={},b=[],_,A,S=[],T=[],E={Sheets:[],WBProps:{date1904:!1},Views:[{}]},P={},k=function(Me){return Me<8?qf[Me]:Me<64&&T[Me-8]||qf[Me]},N=function(Me,wt,Kt){var ar=wt.XF.data;if(!(!ar||!ar.patternType||!Kt||!Kt.cellStyles)){wt.s={},wt.s.patternType=ar.patternType;var Ta;(Ta=jg(k(ar.icvFore)))&&(wt.s.fgColor={rgb:Ta}),(Ta=jg(k(ar.icvBack)))&&(wt.s.bgColor={rgb:Ta})}},O=function(Me,wt,Kt){if(!(se>1)&&!(Kt.sheetRows&&Me.r>=Kt.sheetRows)){if(Kt.cellStyles&&wt.XF&&wt.XF.data&&N(Me,wt,Kt),delete wt.ixfe,delete wt.XF,f=Me,d=et(Me),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),Me.r<s.s.r&&(s.s.r=Me.r),Me.c<s.s.c&&(s.s.c=Me.c),Me.r+1>s.e.r&&(s.e.r=Me.r+1),Me.c+1>s.e.c&&(s.e.c=Me.c+1),Kt.cellFormula&&wt.f){for(var ar=0;ar<b.length;++ar)if(!(b[ar][0].s.c>Me.c||b[ar][0].s.r>Me.r)&&!(b[ar][0].e.c<Me.c||b[ar][0].e.r<Me.r)){wt.F=ft(b[ar][0]),(b[ar][0].s.c!=Me.c||b[ar][0].s.r!=Me.r)&&delete wt.f,wt.f&&(wt.f=""+ai(b[ar][1],s,Me,V,R));break}}Kt.dense?(i[Me.r]||(i[Me.r]=[]),i[Me.r][Me.c]=wt):i[d]=wt}},R={enc:!1,sbcch:0,snames:[],sharedf:w,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(R.password=e.password);var W,Q=[],j=[],Y=[],J=[],Z=!1,V=[];V.SheetNames=R.snames,V.sharedf=R.sharedf,V.arrayf=R.arrayf,V.names=[],V.XTI=[];var te=0,se=0,D=0,q=[],X=[],ee;R.codepage=1200,Ns(1200);for(var ae=!1;t.l<t.length-1;){var ue=t.l,ve=t.read_shift(2);if(ve===0&&te===10)break;var ie=t.l===t.length?0:t.read_shift(2),ce=PE[ve];if(ce&&ce.f){if(e.bookSheets&&te===133&&ve!==133)break;if(te=ve,ce.r===2||ce.r==12){var be=t.read_shift(2);if(ie-=2,!R.enc&&be!==ve&&((be&255)<<8|be>>8)!==ve)throw new Error("rt mismatch: "+be+"!="+ve);ce.r==12&&(t.l+=10,ie-=10)}var L={};if(ve===10?L=ce.f(t,ie,R):L=Kne(ve,ce,t,ie,R),se==0&&[9,521,1033,2057].indexOf(te)===-1)continue;switch(ve){case 34:r.opts.Date1904=E.WBProps.date1904=L;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(R.enc||(t.l=0),R.enc=L,!e.password)throw new Error("File is password-protected");if(L.valid==null)throw new Error("Encryption scheme unsupported");if(!L.valid)throw new Error("Password is incorrect");break;case 92:R.lastuser=L;break;case 66:var Ue=Number(L);switch(Ue){case 21010:Ue=1200;break;case 32768:Ue=1e4;break;case 32769:Ue=1252;break}Ns(R.codepage=Ue),ae=!0;break;case 317:R.rrtabid=L;break;case 25:R.winlocked=L;break;case 439:r.opts.RefreshAll=L;break;case 12:r.opts.CalcCount=L;break;case 16:r.opts.CalcDelta=L;break;case 17:r.opts.CalcIter=L;break;case 13:r.opts.CalcMode=L;break;case 14:r.opts.CalcPrecision=L;break;case 95:r.opts.CalcSaveRecalc=L;break;case 15:R.CalcRefMode=L;break;case 2211:r.opts.FullCalc=L;break;case 129:L.fDialog&&(i["!type"]="dialog"),L.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),L.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:S.push(L);break;case 430:V.push([L]),V[V.length-1].XTI=[];break;case 35:case 547:V[V.length-1].push(L);break;case 24:case 536:ee={Name:L.Name,Ref:ai(L.rgce,s,null,V,R)},L.itab>0&&(ee.Sheet=L.itab-1),V.names.push(ee),V[0]||(V[0]=[],V[0].XTI=[]),V[V.length-1].push(L),L.Name=="_xlnm._FilterDatabase"&&L.itab>0&&L.rgce&&L.rgce[0]&&L.rgce[0][0]&&L.rgce[0][0][0]=="PtgArea3d"&&(X[L.itab-1]={ref:ft(L.rgce[0][0][1][2])});break;case 22:R.ExternCount=L;break;case 23:V.length==0&&(V[0]=[],V[0].XTI=[]),V[V.length-1].XTI=V[V.length-1].XTI.concat(L),V.XTI=V.XTI.concat(L);break;case 2196:if(R.biff<8)break;ee!=null&&(ee.Comment=L[1]);break;case 18:i["!protect"]=L;break;case 19:L!==0&&R.WTF&&console.error("Password verifier: "+L);break;case 133:a[L.pos]=L,R.snames.push(L.name);break;case 10:{if(--se)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,i["!ref"]=ft(s),e.sheetRows&&e.sheetRows<=s.e.r){var Ce=s.e.r;s.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=ft(s),s.e.r=Ce}s.e.r++,s.e.c++}Q.length>0&&(i["!merges"]=Q),j.length>0&&(i["!objects"]=j),Y.length>0&&(i["!cols"]=Y),J.length>0&&(i["!rows"]=J),E.Sheets.push(P)}c===""?u=i:n[c]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(R.biff===8&&(R.biff={9:2,521:3,1033:4}[ve]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[L.BIFFVer]||8),R.biffguess=L.BIFFVer==0,L.BIFFVer==0&&L.dt==4096&&(R.biff=5,ae=!0,Ns(R.codepage=28591)),R.biff==8&&L.BIFFVer==0&&L.dt==16&&(R.biff=2),se++)break;if(i=e.dense?[]:{},R.biff<8&&!ae&&(ae=!0,Ns(R.codepage=e.codepage||1252)),R.biff<5||L.BIFFVer==0&&L.dt==4096){c===""&&(c="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var Ve={pos:t.l-ie,name:c};a[Ve.pos]=Ve,R.snames.push(c)}else c=(a[ue]||{name:""}).name;L.dt==32&&(i["!type"]="chart"),L.dt==64&&(i["!type"]="macro"),Q=[],j=[],R.arrayf=b=[],Y=[],J=[],Z=!1,P={Hidden:(a[ue]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[L.r]||[])[L.c]:i[et({c:L.c,r:L.r})])&&++L.c,_={ixfe:L.ixfe,XF:S[L.ixfe]||{},v:L.val,t:"n"},D>0&&(_.z=q[_.ixfe>>8&63]),Gs(_,e,r.opts.Date1904),O({c:L.c,r:L.r},_,e);break;case 5:case 517:_={ixfe:L.ixfe,XF:S[L.ixfe],v:L.val,t:L.t},D>0&&(_.z=q[_.ixfe>>8&63]),Gs(_,e,r.opts.Date1904),O({c:L.c,r:L.r},_,e);break;case 638:_={ixfe:L.ixfe,XF:S[L.ixfe],v:L.rknum,t:"n"},D>0&&(_.z=q[_.ixfe>>8&63]),Gs(_,e,r.opts.Date1904),O({c:L.c,r:L.r},_,e);break;case 189:for(var Be=L.c;Be<=L.C;++Be){var xe=L.rkrec[Be-L.c][0];_={ixfe:xe,XF:S[xe],v:L.rkrec[Be-L.c][1],t:"n"},D>0&&(_.z=q[_.ixfe>>8&63]),Gs(_,e,r.opts.Date1904),O({c:Be,r:L.r},_,e)}break;case 6:case 518:case 1030:{if(L.val=="String"){o=L;break}if(_=qx(L.val,L.cell.ixfe,L.tt),_.XF=S[_.ixfe],e.cellFormula){var Tt=L.formula;if(Tt&&Tt[0]&&Tt[0][0]&&Tt[0][0][0]=="PtgExp"){var He=Tt[0][0][1][0],Nr=Tt[0][0][1][1],mr=et({r:He,c:Nr});w[mr]?_.f=""+ai(L.formula,s,L.cell,V,R):_.F=((e.dense?(i[He]||[])[Nr]:i[mr])||{}).F}else _.f=""+ai(L.formula,s,L.cell,V,R)}D>0&&(_.z=q[_.ixfe>>8&63]),Gs(_,e,r.opts.Date1904),O(L.cell,_,e),o=L}break;case 7:case 519:if(o)o.val=L,_=qx(L,o.cell.ixfe,"s"),_.XF=S[_.ixfe],e.cellFormula&&(_.f=""+ai(o.formula,s,o.cell,V,R)),D>0&&(_.z=q[_.ixfe>>8&63]),Gs(_,e,r.opts.Date1904),O(o.cell,_,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(L);var xr=et(L[0].s);if(h=e.dense?(i[L[0].s.r]||[])[L[0].s.c]:i[xr],e.cellFormula&&h){if(!o||!xr||!h)break;h.f=""+ai(L[1],s,L[0],V,R),h.F=ft(L[0])}}break;case 1212:{if(!e.cellFormula)break;if(d){if(!o)break;w[et(o.cell)]=L[0],h=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[et(o.cell)],(h||{}).f=""+ai(L[0],s,f,V,R)}}break;case 253:_=qx(l[L.isst].t,L.ixfe,"s"),l[L.isst].h&&(_.h=l[L.isst].h),_.XF=S[_.ixfe],D>0&&(_.z=q[_.ixfe>>8&63]),Gs(_,e,r.opts.Date1904),O({c:L.c,r:L.r},_,e);break;case 513:e.sheetStubs&&(_={ixfe:L.ixfe,XF:S[L.ixfe],t:"z"},D>0&&(_.z=q[_.ixfe>>8&63]),Gs(_,e,r.opts.Date1904),O({c:L.c,r:L.r},_,e));break;case 190:if(e.sheetStubs)for(var Xr=L.c;Xr<=L.C;++Xr){var wr=L.ixfe[Xr-L.c];_={ixfe:wr,XF:S[wr],t:"z"},D>0&&(_.z=q[_.ixfe>>8&63]),Gs(_,e,r.opts.Date1904),O({c:Xr,r:L.r},_,e)}break;case 214:case 516:case 4:_=qx(L.val,L.ixfe,"s"),_.XF=S[_.ixfe],D>0&&(_.z=q[_.ixfe>>8&63]),Gs(_,e,r.opts.Date1904),O({c:L.c,r:L.r},_,e);break;case 0:case 512:se===1&&(s=L);break;case 252:l=L;break;case 1054:if(R.biff==4){q[D++]=L[1];for(var jr=0;jr<D+163&&Qe[jr]!=L[1];++jr);jr>=163&&_l(L[1],D+163)}else _l(L[1],L[0]);break;case 30:{q[D++]=L;for(var he=0;he<D+163&&Qe[he]!=L;++he);he>=163&&_l(L,D+163)}break;case 229:Q=Q.concat(L);break;case 93:j[L.cmo[0]]=R.lastobj=L;break;case 438:R.lastobj.TxO=L;break;case 127:R.lastobj.ImData=L;break;case 440:for(y=L[0].s.r;y<=L[0].e.r;++y)for(p=L[0].s.c;p<=L[0].e.c;++p)h=e.dense?(i[y]||[])[p]:i[et({c:p,r:y})],h&&(h.l=L[1]);break;case 2048:for(y=L[0].s.r;y<=L[0].e.r;++y)for(p=L[0].s.c;p<=L[0].e.c;++p)h=e.dense?(i[y]||[])[p]:i[et({c:p,r:y})],h&&h.l&&(h.l.Tooltip=L[1]);break;case 28:{if(R.biff<=5&&R.biff>=2)break;h=e.dense?(i[L[0].r]||[])[L[0].c]:i[et(L[0])];var qe=j[L[2]];h||(e.dense?(i[L[0].r]||(i[L[0].r]=[]),h=i[L[0].r][L[0].c]={t:"z"}):h=i[et(L[0])]={t:"z"},s.e.r=Math.max(s.e.r,L[0].r),s.s.r=Math.min(s.s.r,L[0].r),s.e.c=Math.max(s.e.c,L[0].c),s.s.c=Math.min(s.s.c,L[0].c)),h.c||(h.c=[]),m={a:L[1],t:qe.TxO.t},h.c.push(m)}break;case 2173:LZ(S[L.ixfe],L.ext);break;case 125:{if(!R.cellStyles)break;for(;L.e>=L.s;)Y[L.e--]={width:L.w/256,level:L.level||0,hidden:!!(L.flags&1)},Z||(Z=!0,oI(L.w/256)),nu(Y[L.e+1])}break;case 520:{var Xe={};L.level!=null&&(J[L.r]=Xe,Xe.level=L.level),L.hidden&&(J[L.r]=Xe,Xe.hidden=!0),L.hpt&&(J[L.r]=Xe,Xe.hpt=L.hpt,Xe.hpx=z0(L.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Yf(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ve]]=L;break;case 161:i["!margins"]||Yf(i["!margins"]={}),i["!margins"].header=L.header,i["!margins"].footer=L.footer;break;case 574:L.RTL&&(E.Views[0].RTL=!0);break;case 146:T=L;break;case 2198:W=L;break;case 140:A=L;break;case 442:c?P.CodeName=L||P.name:E.WBProps.CodeName=L||"ThisWorkbook";break}}else ce||console.error("Missing Info for XLS Record 0x"+ve.toString(16)),t.l+=ie}return r.SheetNames=Br(a).sort(function(it,Me){return Number(it)-Number(Me)}).map(function(it){return a[it].name}),e.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&X.forEach(function(it,Me){r.Sheets[r.SheetNames[Me]]["!autofilter"]=it}),r.Strings=l,r.SSF=hr(Qe),R.enc&&(r.Encryption=R.enc),W&&(r.Themes=W),r.Metadata={},A!==void 0&&(r.Metadata.Country=A),V.names.length>0&&(E.Names=V.names),r.Workbook=E,r}var ng={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Jne(t,e,r){var n=Ye.find(t,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=VN(n,bE,ng.DSI);for(var a in i)e[a]=i[a]}catch(c){if(r.WTF)throw c}var s=Ye.find(t,"/!SummaryInformation");if(s&&s.size>0)try{var o=VN(s,SE,ng.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(c){if(r.WTF)throw c}e.HeadingPairs&&e.TitlesOfParts&&(b$(e.HeadingPairs,e.TitlesOfParts,e,r),delete e.HeadingPairs,delete e.TitlesOfParts)}function Zne(t,e){var r=[],n=[],i=[],a=0,s,o=yN(bE,"n"),l=yN(SE,"n");if(t.Props)for(s=Br(t.Props),a=0;a<s.length;++a)(Object.prototype.hasOwnProperty.call(o,s[a])?r:Object.prototype.hasOwnProperty.call(l,s[a])?n:i).push([s[a],t.Props[s[a]]]);if(t.Custprops)for(s=Br(t.Custprops),a=0;a<s.length;++a)Object.prototype.hasOwnProperty.call(t.Props||{},s[a])||(Object.prototype.hasOwnProperty.call(o,s[a])?r:Object.prototype.hasOwnProperty.call(l,s[a])?n:i).push([s[a],t.Custprops[s[a]]]);var c=[];for(a=0;a<i.length;++a)P$.indexOf(i[a][0])>-1||_$.indexOf(i[a][0])>-1||i[a][1]!=null&&c.push(i[a]);n.length&&Ye.utils.cfb_add(e,"/SummaryInformation",HN(n,ng.SI,l,SE)),(r.length||c.length)&&Ye.utils.cfb_add(e,"/DocumentSummaryInformation",HN(r,ng.DSI,o,bE,c.length?c:null,ng.UDI))}function AB(t,e){e||(e={}),gI(e),LP(),e.codepage&&FP(e.codepage);var r,n;if(t.FullPaths){if(Ye.find(t,"/encryption"))throw new Error("File is password-protected");r=Ye.find(t,"!CompObj"),n=Ye.find(t,"/Workbook")||Ye.find(t,"/Book")}else{switch(e.type){case"base64":t=pa(_a(t));break;case"binary":t=pa(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}Un(t,0),n={content:t}}var i,a;if(r&&qne(r),e.bookProps&&!e.bookSheets)i={};else{var s=xt?"buffer":"array";if(n&&n.content)i=Yne(n.content,e);else if((a=Ye.find(t,"PerfectOffice_MAIN"))&&a.content)i=Kf.to_workbook(a.content,(e.type=s,e));else if((a=Ye.find(t,"NativeContent_MAIN"))&&a.content)i=Kf.to_workbook(a.content,(e.type=s,e));else throw(a=Ye.find(t,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Ye.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=fQ(t))}var o={};return t.FullPaths&&Jne(t,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=t),i}function Qne(t,e){var r=e||{},n=Ye.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Ye.utils.cfb_add(n,i,TB(t,r)),r.biff==8&&(t.Props||t.Custprops)&&Zne(t,n),r.biff==8&&t.vbaraw&&dQ(n,Ye.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var Wg={0:{f:Ste},1:{f:Ote},2:{f:Yte},3:{f:Bte},4:{f:Dte},5:{f:qte},6:{f:tre},7:{f:Hte},8:{f:lre},9:{f:ore},10:{f:are},11:{f:sre},12:{f:Nte},13:{f:Zte},14:{f:Ute},15:{f:Lte},16:{f:gB},17:{f:nre},18:{f:zte},19:{f:JP},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:nne},40:{},42:{},43:{f:tZ},44:{f:QJ},45:{f:iZ},46:{f:sZ},47:{f:aZ},48:{},49:{f:EX},50:{},51:{f:jZ},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:j$},62:{f:ere},63:{f:KZ},64:{f:Are},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:pi,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:wre},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Pte},148:{f:Ete,p:16},151:{f:pre},152:{},153:{f:ene},154:{},155:{},156:{f:Zre},157:{},158:{},159:{T:1,f:gJ},160:{T:-1},161:{T:1,f:Id},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:cre},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:$Z},336:{T:-1},337:{f:HZ,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:_E},357:{},358:{},359:{},360:{T:1},361:{},362:{f:B$},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:mre},427:{f:gre},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:yre},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:kte},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:dre},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:_E},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:sQ},633:{T:1},634:{T:-1},635:{T:1,f:iQ},636:{T:-1},637:{f:IX},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Ure},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Tre},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},PE={6:{f:DA},10:{f:Ql},12:{f:en},13:{f:en},14:{f:Ur},15:{f:Ur},16:{f:ui},17:{f:Ur},18:{f:Ur},19:{f:en},20:{f:KN},21:{f:KN},23:{f:B$},24:{f:JN},25:{f:Ur},26:{},27:{},28:{f:TY},29:{},34:{f:Ur},35:{f:YN},38:{f:ui},39:{f:ui},40:{f:ui},41:{f:ui},42:{f:Ur},43:{f:Ur},47:{f:LJ},49:{f:ZK},51:{f:en},60:{},61:{f:qK},64:{f:Ur},65:{f:JK},66:{f:en},77:{},80:{},81:{},82:{},85:{f:en},89:{},90:{},91:{},92:{f:FK},93:{f:kY},94:{},95:{f:Ur},96:{},97:{},99:{f:Ur},125:{f:j$},128:{f:hY},129:{f:$K},130:{f:en},131:{f:Ur},132:{f:Ur},133:{f:BK},134:{},140:{f:FY},141:{f:en},144:{},146:{f:BY},151:{},152:{},153:{},154:{},155:{},156:{f:en},157:{},158:{},160:{f:GY},161:{f:VY},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:cY},190:{f:uY},193:{f:Ql},197:{},198:{},199:{},200:{},201:{},202:{f:Ur},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:en},220:{},221:{f:Ur},222:{},224:{f:dY},225:{f:DK},226:{f:Ql},227:{},229:{f:EY},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:UK},253:{f:eY},255:{f:HK},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:I$},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Ur},353:{f:Ql},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:yY},431:{f:Ur},432:{},433:{},434:{},437:{},438:{f:OY},439:{f:Ur},440:{f:MY},441:{},442:{f:ex},443:{},444:{f:en},445:{},446:{},448:{f:Ql},449:{f:GK,r:2},450:{f:Ql},512:{f:GN},513:{f:zY},515:{f:gY},516:{f:rY},517:{f:XN},519:{f:qY},520:{f:WK},523:{},545:{f:ZN},549:{f:zN},566:{},574:{f:KK},638:{f:lY},659:{},1048:{},1054:{f:iY},1084:{},1212:{f:bY},2048:{f:RY},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Wx},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Ql},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:jY,r:12},2173:{f:FZ,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Ur,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:_Y,r:12},2197:{},2198:{f:IZ,r:12},2199:{},2200:{},2201:{},2202:{f:SY,r:12},2203:{f:Ql},2204:{},2205:{},2206:{},2207:{},2211:{f:zK},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:en},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:HY},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:$Y},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:GN},1:{},2:{f:ZY},3:{f:YY},4:{f:KY},5:{f:XN},7:{f:eJ},8:{},9:{f:Wx},11:{},22:{f:en},30:{f:sY},31:{},32:{},33:{f:ZN},36:{},37:{f:zN},50:{f:tJ},62:{},52:{},67:{},68:{f:en},69:{},86:{},126:{},127:{f:XY},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:rJ},223:{},234:{},354:{},421:{},518:{f:DA},521:{f:Wx},536:{f:JN},547:{f:YN},561:{},579:{},1030:{f:DA},1033:{f:Wx},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Ee(t,e,r,n){var i=e;if(!isNaN(i)){var a=n||(r||[]).length||0,s=t.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&XP(r)&&t.push(r)}}function eie(t,e,r,n){var i=(r||[]).length||0;if(i<=8224)return Ee(t,e,r,i);var a=e;if(!isNaN(a)){for(var s=r.parts||[],o=0,l=0,c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;var u=t.next(4);for(u.write_shift(2,a),u.write_shift(2,c),t.push(r.slice(l,l+c)),l+=c;l<i;){for(u=t.next(4),u.write_shift(2,60),c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;u.write_shift(2,c),t.push(r.slice(l,l+c)),l+=c}}}function ix(t,e,r){return t||(t=pe(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function tie(t,e,r,n){var i=pe(9);return ix(i,t,e),O$(r,n||"b",i),i}function rie(t,e,r){var n=pe(8+2*r.length);return ix(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function nie(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?wn(dr(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?Ee(t,2,QY(r,n,i)):Ee(t,3,JY(r,n,i));return;case"b":case"e":Ee(t,5,tie(r,n,e.v,e.t));return;case"s":case"str":Ee(t,4,rie(r,n,(e.v||"").slice(0,255)));return}Ee(t,1,ix(null,r,n))}function iie(t,e,r,n){var i=Array.isArray(e),a=Nt(e["!ref"]||"A1"),s,o="",l=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),s=ft(a)}for(var c=a.s.r;c<=a.e.r;++c){o=zr(c);for(var u=a.s.c;u<=a.e.c;++u){c===a.s.r&&(l[u]=Pr(u)),s=l[u]+o;var f=i?(e[c]||[])[u]:e[s];f&&nie(t,f,c,u)}}}function aie(t,e){for(var r=e||{},n=Xi(),i=0,a=0;a<t.SheetNames.length;++a)t.SheetNames[a]==r.sheet&&(i=a);if(i==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Ee(n,r.biff==4?1033:r.biff==3?521:9,iI(t,16,r)),iie(n,t.Sheets[t.SheetNames[i]],i,r),Ee(n,10),n.end()}function sie(t,e,r){Ee(t,49,QK({sz:12,name:"Arial"},r))}function oie(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&Ee(t,1054,aY(i,e[i],r))})}function lie(t,e){var r=pe(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Ee(t,2151,r),r=pe(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),F$(Nt(e["!ref"]||"A1"),r),r.write_shift(4,4),Ee(t,2152,r)}function cie(t,e){for(var r=0;r<16;++r)Ee(t,224,qN({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){Ee(t,224,qN(n,0,e))})}function uie(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];Ee(t,440,NY(n)),n[1].Tooltip&&Ee(t,2048,DY(n))}delete e["!links"]}function fie(t,e){if(e){var r=0;e.forEach(function(n,i){++r<=256&&n&&Ee(t,125,UY(Jb(i,n),i))})}}function die(t,e,r,n,i){var a=16+gu(i.cellXfs,e,i);if(e.v==null&&!e.bf){Ee(t,513,ld(r,n,a));return}if(e.bf)Ee(t,6,$ee(e,r,n,i,a));else switch(e.t){case"d":case"n":var s=e.t=="d"?wn(dr(e.v)):e.v;Ee(t,515,vY(r,n,s,a));break;case"b":case"e":Ee(t,517,mY(r,n,e.v,a,i,e.t));break;case"s":case"str":if(i.bookSST){var o=dI(i.Strings,e.v,i.revStrings);Ee(t,253,tY(r,n,o,a))}else Ee(t,516,nY(r,n,(e.v||"").slice(0,255),a,i));break;default:Ee(t,513,ld(r,n,a))}}function hie(t,e,r){var n=Xi(),i=r.SheetNames[t],a=r.Sheets[i]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[t]||{},l=Array.isArray(a),c=e.biff==8,u,f="",d=[],h=Nt(a["!ref"]||"A1"),m=c?65536:16384;if(h.e.c>255||h.e.r>=m){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");h.e.c=Math.min(h.e.c,255),h.e.r=Math.min(h.e.c,m-1)}Ee(n,2057,iI(r,16,e)),Ee(n,13,ja(1)),Ee(n,12,ja(100)),Ee(n,15,bi(!0)),Ee(n,17,bi(!1)),Ee(n,16,sd(.001)),Ee(n,95,bi(!0)),Ee(n,42,bi(!1)),Ee(n,43,bi(!1)),Ee(n,130,ja(1)),Ee(n,128,pY()),Ee(n,131,bi(!1)),Ee(n,132,bi(!1)),c&&fie(n,a["!cols"]),Ee(n,512,oY(h,e)),c&&(a["!links"]=[]);for(var p=h.s.r;p<=h.e.r;++p){f=zr(p);for(var y=h.s.c;y<=h.e.c;++y){p===h.s.r&&(d[y]=Pr(y)),u=d[y]+f;var w=l?(a[p]||[])[y]:a[u];w&&(die(n,w,p,y,e),c&&w.l&&a["!links"].push([u,w.l]))}}var b=o.CodeName||o.name||i;return c&&Ee(n,574,YK((s.Views||[])[0])),c&&(a["!merges"]||[]).length&&Ee(n,229,CY(a["!merges"])),c&&uie(n,a),Ee(n,442,M$(b)),c&&lie(n,a),Ee(n,10),n.end()}function pie(t,e,r){var n=Xi(),i=(t||{}).Workbook||{},a=i.Sheets||[],s=i.WBProps||{},o=r.biff==8,l=r.biff==5;if(Ee(n,2057,iI(t,5,r)),r.bookType=="xla"&&Ee(n,135),Ee(n,225,o?ja(1200):null),Ee(n,193,mK(2)),l&&Ee(n,191),l&&Ee(n,192),Ee(n,226),Ee(n,92,LK("SheetJS",r)),Ee(n,66,ja(o?1200:1252)),o&&Ee(n,353,ja(0)),o&&Ee(n,448),Ee(n,317,WY(t.SheetNames.length)),o&&t.vbaraw&&Ee(n,211),o&&t.vbaraw){var c=s.CodeName||"ThisWorkbook";Ee(n,442,M$(c))}Ee(n,156,ja(17)),Ee(n,25,bi(!1)),Ee(n,18,bi(!1)),Ee(n,19,ja(0)),o&&Ee(n,431,bi(!1)),o&&Ee(n,444,ja(0)),Ee(n,61,XK()),Ee(n,64,bi(!1)),Ee(n,141,ja(0)),Ee(n,34,bi(Gre(t)=="true")),Ee(n,14,bi(!0)),o&&Ee(n,439,bi(!1)),Ee(n,218,ja(0)),sie(n,t,r),oie(n,t.SSF,r),cie(n,r),o&&Ee(n,352,bi(!1));var u=n.end(),f=Xi();o&&Ee(f,140,LY()),o&&r.Strings&&eie(f,252,VK(r.Strings)),Ee(f,10);var d=f.end(),h=Xi(),m=0,p=0;for(p=0;p<t.SheetNames.length;++p)m+=(o?12:11)+(o?2:1)*t.SheetNames[p].length;var y=u.length+m+d.length;for(p=0;p<t.SheetNames.length;++p){var w=a[p]||{};Ee(h,133,jK({pos:y,hs:w.Hidden||0,dt:0,name:t.SheetNames[p]},r)),y+=e[p].length}var b=h.end();if(m!=b.length)throw new Error("BS8 "+m+" != "+b.length);var _=[];return u.length&&_.push(u),b.length&&_.push(b),d.length&&_.push(d),In(_)}function mie(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=hr(Qe)),t&&t.SSF&&(Tp(),Wb(t.SSF),r.revssf=Gb(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,vI(r),r.cellXfs=[],gu(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)n[n.length]=hie(i,r,t);return n.unshift(pie(t,n,r)),In(n)}function TB(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var i=Ki(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var a=e||{};switch(a.biff||2){case 8:case 5:return mie(t,e);case 4:case 3:case 2:return aie(t,e)}throw new Error("invalid type "+a.bookType+" for BIFF")}function lR(t,e){var r=e||{},n=r.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var a=t.match(/<\/table/i),s=i.index,o=a&&a.index||t.length,l=Qq(t.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,d=0,h={s:{r:1e7,c:1e7},e:{r:0,c:0}},m=[];for(s=0;s<l.length;++s){var p=l[s].trim(),y=p.slice(0,3).toLowerCase();if(y=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0;continue}if(!(y!="<td"&&y!="<th")){var w=p.split(/<\/t[dh]>/i);for(o=0;o<w.length;++o){var b=w[o].trim();if(b.match(/<t[dh]/i)){for(var _=b,A=0;_.charAt(0)=="<"&&(A=_.indexOf(">"))>-1;)_=_.slice(A+1);for(var S=0;S<m.length;++S){var T=m[S];T.s.c==u&&T.s.r<c&&c<=T.e.r&&(u=T.e.c+1,S=-1)}var E=tt(b.slice(0,b.indexOf(">")));d=E.colspan?+E.colspan:1,((f=+E.rowspan)>1||d>1)&&m.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+d-1}});var P=E.t||E["data-t"]||"";if(!_.length){u+=d;continue}if(_=K8(_),h.s.r>c&&(h.s.r=c),h.e.r<c&&(h.e.r=c),h.s.c>u&&(h.s.c=u),h.e.c<u&&(h.e.c=u),!_.length){u+=d;continue}var k={t:"s",v:_};r.raw||!_.trim().length||P=="s"||(_==="TRUE"?k={t:"b",v:!0}:_==="FALSE"?k={t:"b",v:!1}:isNaN(Bs(_))?isNaN(H0(_).getDate())||(k={t:"d",v:dr(_)},r.cellDates||(k={t:"n",v:wn(k.v)}),k.z=r.dateNF||Qe[14]):k={t:"n",v:Bs(_)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=k):n[et({r:c,c:u})]=k,u+=d}}}}return n["!ref"]=ft(h),m.length&&(n["!merges"]=m),n}function gie(t,e,r,n){for(var i=t["!merges"]||[],a=[],s=e.s.c;s<=e.e.c;++s){for(var o=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>r||i[c].s.c>s)&&!(i[c].e.r<r||i[c].e.c<s)){if(i[c].s.r<r||i[c].s.c<s){o=-1;break}o=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var u=et({r,c:s}),f=n.dense?(t[r]||[])[s]:t[u],d=f&&f.v!=null&&(f.h||zP(f.w||(Rl(f),f.w)||""))||"",h={};o>1&&(h.rowspan=o),l>1&&(h.colspan=l),n.editable?d='<span contenteditable="true">'+d+"</span>":f&&(h["data-t"]=f&&f.t||"z",f.v!=null&&(h["data-v"]=f.v),f.z!=null&&(h["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(d='<a href="'+f.l.Target+'">'+d+"</a>")),h.id=(n.id||"sjs")+"-"+u,a.push(Te("td",d,h))}}var m="<tr>";return m+a.join("")+"</tr>"}var vie='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',yie="</body></html>";function xie(t,e){var r=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return mu(lR(r[0],e),e);var n=wI();return r.forEach(function(i,a){_I(n,lR(i,e),"Sheet"+(a+1))}),n}function wie(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function EB(t,e){var r=e||{},n=r.header!=null?r.header:vie,i=r.footer!=null?r.footer:yie,a=[n],s=Ki(t["!ref"]);r.dense=Array.isArray(t),a.push(wie(t,s,r));for(var o=s.s.r;o<=s.e.r;++o)a.push(gie(t,s,o,r));return a.push("</table>"+i),a.join("")}function CB(t,e,r){var n=r||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var s=typeof n.origin=="string"?Ir(n.origin):n.origin;i=s.r,a=s.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:a}};if(t["!ref"]){var u=Ki(t["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),i==-1&&(c.e.r=i=u.e.r+1)}var f=[],d=0,h=t["!rows"]||(t["!rows"]=[]),m=0,p=0,y=0,w=0,b=0,_=0;for(t["!cols"]||(t["!cols"]=[]);m<o.length&&p<l;++m){var A=o[m];if(cR(A)){if(n.display)continue;h[p]={hidden:!0}}var S=A.children;for(y=w=0;y<S.length;++y){var T=S[y];if(!(n.display&&cR(T))){var E=T.hasAttribute("data-v")?T.getAttribute("data-v"):T.hasAttribute("v")?T.getAttribute("v"):K8(T.innerHTML),P=T.getAttribute("data-z")||T.getAttribute("z");for(d=0;d<f.length;++d){var k=f[d];k.s.c==w+a&&k.s.r<p+i&&p+i<=k.e.r&&(w=k.e.c+1-a,d=-1)}_=+T.getAttribute("colspan")||1,((b=+T.getAttribute("rowspan")||1)>1||_>1)&&f.push({s:{r:p+i,c:w+a},e:{r:p+i+(b||1)-1,c:w+a+(_||1)-1}});var N={t:"s",v:E},O=T.getAttribute("data-t")||T.getAttribute("t")||"";E!=null&&(E.length==0?N.t=O||"z":n.raw||E.trim().length==0||O=="s"||(E==="TRUE"?N={t:"b",v:!0}:E==="FALSE"?N={t:"b",v:!1}:isNaN(Bs(E))?isNaN(H0(E).getDate())||(N={t:"d",v:dr(E)},n.cellDates||(N={t:"n",v:wn(N.v)}),N.z=n.dateNF||Qe[14]):N={t:"n",v:Bs(E)})),N.z===void 0&&P!=null&&(N.z=P);var R="",W=T.getElementsByTagName("A");if(W&&W.length)for(var Q=0;Q<W.length&&!(W[Q].hasAttribute("href")&&(R=W[Q].getAttribute("href"),R.charAt(0)!="#"));++Q);R&&R.charAt(0)!="#"&&(N.l={Target:R}),n.dense?(t[p+i]||(t[p+i]=[]),t[p+i][w+a]=N):t[et({c:w+a,r:p+i})]=N,c.e.c<w+a&&(c.e.c=w+a),w+=_}}++p}return f.length&&(t["!merges"]=(t["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,p-1+i),t["!ref"]=ft(c),p>=l&&(t["!fullref"]=ft((c.e.r=o.length-m+p-1+i,c))),t}function kB(t,e){var r=e||{},n=r.dense?[]:{};return CB(n,t,e)}function _ie(t,e){return mu(kB(t,e),e)}function cR(t){var e="",r=bie(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function bie(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Sie(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Ot(e.replace(/<[^>]*>/g,""));return[r]}var uR={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function PB(t,e){var r=e||{},n=GP(t),i=[],a,s,o={name:""},l="",c=0,u,f,d={},h=[],m=r.dense?[]:{},p,y,w={value:""},b="",_=0,A=[],S=-1,T=-1,E={s:{r:1e6,c:1e7},e:{r:0,c:0}},P=0,k={},N=[],O={},R=0,W=0,Q=[],j=1,Y=1,J=[],Z={Names:[]},V={},te=["",""],se=[],D={},q="",X=0,ee=!1,ae=!1,ue=0;for($g.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");p=$g.exec(n);)switch(p[3]=p[3].replace(/_.*$/,"")){case"table":case"":p[1]==="/"?(E.e.c>=E.s.c&&E.e.r>=E.s.r?m["!ref"]=ft(E):m["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=E.e.r&&(m["!fullref"]=m["!ref"],E.e.r=r.sheetRows-1,m["!ref"]=ft(E)),N.length&&(m["!merges"]=N),Q.length&&(m["!rows"]=Q),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),h.push(u.name),d[u.name]=m,ae=!1):p[0].charAt(p[0].length-2)!=="/"&&(u=tt(p[0],!1),S=T=-1,E.s.r=E.s.c=1e7,E.e.r=E.e.c=0,m=r.dense?[]:{},N=[],Q=[],ae=!0);break;case"table-row-group":p[1]==="/"?--P:++P;break;case"table-row":case"":if(p[1]==="/"){S+=j,j=1;break}if(f=tt(p[0],!1),f.?S=f.-1:S==-1&&(S=0),j=+f["number-rows-repeated"]||1,j<10)for(ue=0;ue<j;++ue)P>0&&(Q[S+ue]={level:P});T=-1;break;case"covered-table-cell":p[1]!=="/"&&++T,r.sheetStubs&&(r.dense?(m[S]||(m[S]=[]),m[S][T]={t:"z"}):m[et({r:S,c:T})]={t:"z"}),b="",A=[];break;case"table-cell":case"":if(p[0].charAt(p[0].length-2)==="/")++T,w=tt(p[0],!1),Y=parseInt(w["number-columns-repeated"]||"1",10),y={t:"z",v:null},w.formula&&r.cellFormula!=!1&&(y.f=aR(Ot(w.formula))),(w.||w["value-type"])=="string"&&(y.t="s",y.v=Ot(w["string-value"]||""),r.dense?(m[S]||(m[S]=[]),m[S][T]=y):m[et({r:S,c:T})]=y),T+=Y-1;else if(p[1]!=="/"){++T,b="",_=0,A=[],Y=1;var ve=j?S+j-1:S;if(T>E.e.c&&(E.e.c=T),T<E.s.c&&(E.s.c=T),S<E.s.r&&(E.s.r=S),ve>E.e.r&&(E.e.r=ve),w=tt(p[0],!1),se=[],D={},y={t:w.||w["value-type"],v:null},r.cellFormula)if(w.formula&&(w.formula=Ot(w.formula)),w["number-matrix-columns-spanned"]&&w["number-matrix-rows-spanned"]&&(R=parseInt(w["number-matrix-rows-spanned"],10)||0,W=parseInt(w["number-matrix-columns-spanned"],10)||0,O={s:{r:S,c:T},e:{r:S+R-1,c:T+W-1}},y.F=ft(O),J.push([O,y.F])),w.formula)y.f=aR(w.formula);else for(ue=0;ue<J.length;++ue)S>=J[ue][0].s.r&&S<=J[ue][0].e.r&&T>=J[ue][0].s.c&&T<=J[ue][0].e.c&&(y.F=J[ue][1]);switch((w["number-columns-spanned"]||w["number-rows-spanned"])&&(R=parseInt(w["number-rows-spanned"],10)||0,W=parseInt(w["number-columns-spanned"],10)||0,O={s:{r:S,c:T},e:{r:S+R-1,c:T+W-1}},N.push(O)),w["number-columns-repeated"]&&(Y=parseInt(w["number-columns-repeated"],10)),y.t){case"boolean":y.t="b",y.v=cr(w["boolean-value"]);break;case"float":y.t="n",y.v=parseFloat(w.value);break;case"percentage":y.t="n",y.v=parseFloat(w.value);break;case"currency":y.t="n",y.v=parseFloat(w.value);break;case"date":y.t="d",y.v=dr(w["date-value"]),r.cellDates||(y.t="n",y.v=wn(y.v)),y.z="m/d/yy";break;case"time":y.t="n",y.v=Yq(w["time-value"])/86400,r.cellDates&&(y.t="d",y.v=qb(y.v)),y.z="HH:MM:SS";break;case"number":y.t="n",y.v=parseFloat(w.);break;default:if(y.t==="string"||y.t==="text"||!y.t)y.t="s",w["string-value"]!=null&&(b=Ot(w["string-value"]),A=[]);else throw new Error("Unsupported value type "+y.t)}}else{if(ee=!1,y.t==="s"&&(y.v=b||"",A.length&&(y.R=A),ee=_==0),V.Target&&(y.l=V),se.length>0&&(y.c=se,se=[]),b&&r.cellText!==!1&&(y.w=b),ee&&(y.t="z",delete y.v),(!ee||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=S))for(var ie=0;ie<j;++ie){if(Y=parseInt(w["number-columns-repeated"]||"1",10),r.dense)for(m[S+ie]||(m[S+ie]=[]),m[S+ie][T]=ie==0?y:hr(y);--Y>0;)m[S+ie][T+Y]=hr(y);else for(m[et({r:S+ie,c:T})]=y;--Y>0;)m[et({r:S+ie,c:T+Y})]=hr(y);E.e.c<=T&&(E.e.c=T)}Y=parseInt(w["number-columns-repeated"]||"1",10),T+=Y-1,Y=0,y={},b="",A=[]}V={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(p[1]==="/"){if((a=i.pop())[0]!==p[3])throw"Bad state: "+a}else p[0].charAt(p[0].length-2)!=="/"&&i.push([p[3],!0]);break;case"annotation":if(p[1]==="/"){if((a=i.pop())[0]!==p[3])throw"Bad state: "+a;D.t=b,A.length&&(D.R=A),D.a=q,se.push(D)}else p[0].charAt(p[0].length-2)!=="/"&&i.push([p[3],!1]);q="",X=0,b="",_=0,A=[];break;case"creator":p[1]==="/"?q=n.slice(X,p.index):X=p.index+p[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(p[1]==="/"){if((a=i.pop())[0]!==p[3])throw"Bad state: "+a}else p[0].charAt(p[0].length-2)!=="/"&&i.push([p[3],!1]);b="",_=0,A=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(p[1]==="/"){if(k[o.name]=l,(a=i.pop())[0]!==p[3])throw"Bad state: "+a}else p[0].charAt(p[0].length-2)!=="/"&&(l="",o=tt(p[0],!1),i.push([p[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":s=tt(p[0],!1),l+=uR[p[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":s=tt(p[0],!1),l+=uR[p[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(p[0].slice(-2)==="/>")break;if(p[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,p.index);break}else c=p.index+p[0].length;break;case"named-range":s=tt(p[0],!1),te=FA(s["cell-range-address"]);var ce={Name:s.name,Ref:te[0]+"!"+te[1]};ae&&(ce.Sheet=h.length),Z.Names.push(ce);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(p[1]==="/"&&(!w||!w["string-value"])){var be=Sie(n.slice(_,p.index));b=(b.length>0?b+`
`:"")+be[0]}else tt(p[0],!1),_=p.index+p[0].length;break;case"s":break;case"database-range":if(p[1]==="/")break;try{te=FA(tt(p[0])["target-range-address"]),d[te[0]]["!autofilter"]={ref:te[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(p[1]!=="/"){if(V=tt(p[0],!1),!V.href)break;V.Target=Ot(V.href),delete V.href,V.Target.charAt(0)=="#"&&V.Target.indexOf(".")>-1?(te=FA(V.Target.slice(1)),V.Target="#"+te[0]+"!"+te[1]):V.Target.match(/^\.\.[\\\/]/)&&(V.Target=V.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(p[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(p)}}var L={Sheets:d,SheetNames:h,Workbook:Z};return r.bookSheets&&delete L.Sheets,L}function fR(t,e){e=e||{},Ra(t,"META-INF/manifest.xml")&&YX(Qr(t,"META-INF/manifest.xml"),e);var r=ma(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=PB(Zt(r),e);return Ra(t,"meta.xml")&&(n.Props=x$(Qr(t,"meta.xml"))),n}function dR(t,e){return PB(t,e)}var Aie=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Lg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return qr+e}}(),hR=function(){var t=function(a){return Gt(a).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(a,s,o){var l=[];l.push('      <table:table table:name="'+Gt(s.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,u=0,f=Ki(a["!ref"]||"A1"),d=a["!merges"]||[],h=0,m=Array.isArray(a);if(a["!cols"])for(u=0;u<=f.e.c;++u)l.push("        <table:table-column"+(a["!cols"][u]?' table:style-name="co'+a["!cols"][u].ods+'"':"")+`></table:table-column>
`);var p="",y=a["!rows"]||[];for(c=0;c<f.s.r;++c)p=y[c]?' table:style-name="ro'+y[c].ods+'"':"",l.push("        <table:table-row"+p+`></table:table-row>
`);for(;c<=f.e.r;++c){for(p=y[c]?' table:style-name="ro'+y[c].ods+'"':"",l.push("        <table:table-row"+p+`>
`),u=0;u<f.s.c;++u)l.push(e);for(;u<=f.e.c;++u){var w=!1,b={},_="";for(h=0;h!=d.length;++h)if(!(d[h].s.c>u)&&!(d[h].s.r>c)&&!(d[h].e.c<u)&&!(d[h].e.r<c)){(d[h].s.c!=u||d[h].s.r!=c)&&(w=!0),b["table:number-columns-spanned"]=d[h].e.c-d[h].s.c+1,b["table:number-rows-spanned"]=d[h].e.r-d[h].s.r+1;break}if(w){l.push(r);continue}var A=et({r:c,c:u}),S=m?(a[c]||[])[u]:a[A];if(S&&S.f&&(b["table:formula"]=Gt(Wee(S.f)),S.F&&S.F.slice(0,A.length)==A)){var T=Ki(S.F);b["table:number-matrix-columns-spanned"]=T.e.c-T.s.c+1,b["table:number-matrix-rows-spanned"]=T.e.r-T.s.r+1}if(!S){l.push(e);continue}switch(S.t){case"b":_=S.v?"TRUE":"FALSE",b["office:value-type"]="boolean",b["office:boolean-value"]=S.v?"true":"false";break;case"n":_=S.w||String(S.v||0),b["office:value-type"]="float",b["office:value"]=S.v||0;break;case"s":case"str":_=S.v==null?"":S.v,b["office:value-type"]="string";break;case"d":_=S.w||dr(S.v).toISOString(),b["office:value-type"]="date",b["office:date-value"]=dr(S.v).toISOString(),b["table:style-name"]="ce1";break;default:l.push(e);continue}var E=t(_);if(S.l&&S.l.Target){var P=S.l.Target;P=P.charAt(0)=="#"?"#"+zee(P.slice(1)):P,P.charAt(0)!="#"&&!P.match(/^\w+:/)&&(P="../"+P),E=Te("text:a",E,{"xlink:href":P.replace(/&/g,"&amp;")})}l.push("          "+Te("table:table-cell",Te("text:p",E,{}),b)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(a,s){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var f=c["!cols"][u];if(f.width==null&&f.wpx==null&&f.wch==null)continue;nu(f),f.ods=o;var d=c["!cols"][u].wpx+"px";a.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+d+`"/>
`),a.push(`  </style:style>
`),++o}}});var l=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=l;var f=c["!rows"][u].hpx+"px";a.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),a.push(`  </style:style>
`),++l}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(s,o){var l=[qr],c=Lg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=Lg({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+u+`>
`),l.push(y$().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),i(l,s),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=s.SheetNames.length;++f)l.push(n(s.Sheets[s.SheetNames[f]],s,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function IB(t,e){if(e.bookType=="fods")return hR(t,e);var r=VP(),n="",i=[],a=[];return n="mimetype",dt(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",dt(r,n,hR(t,e)),i.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",dt(r,n,Aie(t,e)),i.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",dt(r,n,qr+y$()),i.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",dt(r,n,QX(a)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",dt(r,n,JX(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function cd(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function IE(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Zt(pu(t))}function Tie(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):pa(yo(t))}function Eie(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function au(t){var e=t.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function pR(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function Cie(t,e){for(var r=(t[e+15]&127)<<7|t[e+14]>>1,n=t[e+14]&1,i=e+13;i>=e;--i)n=n*256+t[i];return(t[e+15]&128?-n:n)*Math.pow(10,r-6176)}function kie(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var a=0;i>=1;++a,i/=256)t[e+a]=i&255;t[e+15]|=r>=0?0:128}function zg(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function Ht(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function $r(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Rt(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=zg(t,r),a=i&7;i=Math.floor(i/8);var s=0,o;if(i==0)break;switch(a){case 0:{for(var l=r[0];t[r[0]++]>=128;);o=t.slice(l,r[0])}break;case 5:s=4,o=t.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=t.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=zg(t,r),o=t.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var c={data:o,type:a};e[i]==null?e[i]=[c]:e[i].push(c)}return e}function Rn(t){var e=[];return t.forEach(function(r,n){r.forEach(function(i){i.data&&(e.push(Ht(n*8+i.type)),i.type==2&&e.push(Ht(i.data.length)),e.push(i.data))})}),au(e)}function mI(t,e){return(t==null?void 0:t.map(function(r){return e(r.data)}))||[]}function Ma(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=zg(t,n),a=Rt(t.slice(n[0],n[0]+i));n[0]+=i;var s={id:$r(a[1][0].data),messages:[]};a[2].forEach(function(o){var l=Rt(o.data),c=$r(l[3][0].data);s.messages.push({meta:l,data:t.slice(n[0],n[0]+c)}),n[0]+=c}),(e=a[3])!=null&&e[0]&&(s.merge=$r(a[3][0].data)>>>0>0),r.push(s)}return r}function Vd(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:Ht(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Ht(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(s){i.push(s.data),s.meta[3]=[{type:0,data:Ht(s.data.length)}],n[2].push({data:Rn(s.meta),type:2})});var a=Rn(n);e.push(Ht(a.length)),e.push(a),i.forEach(function(s){return e.push(s)})}),au(e)}function Pie(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=zg(e,r),i=[];r[0]<e.length;){var a=e[r[0]]&3;if(a==0){var s=e[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=e[r[0]],o>1&&(s|=e[r[0]+1]<<8),o>2&&(s|=e[r[0]+2]<<16),o>3&&(s|=e[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}i.push(e.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,c=0;if(a==1?(c=(e[r[0]]>>2&7)+4,l=(e[r[0]++]&224)<<3,l|=e[r[0]++]):(c=(e[r[0]++]>>2)+1,a==2?(l=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(l=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[au(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var u=au(i);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function Na(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(Pie(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return au(e)}function Hd(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),i=new Uint8Array(4);e.push(i);var a=Ht(n),s=a.length;e.push(a),n<=60?(s++,e.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),s+=n,i[0]=0,i[1]=s&255,i[2]=s>>8&255,i[3]=s>>16&255,r+=n}return au(e)}function Iie(t,e,r,n){var i=cd(t),a=i.getUint32(4,!0),s=(n>1?12:8)+pR(a&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);a&512&&(o=i.getUint32(s,!0),s+=4),s+=pR(a&(n>1?12288:4096))*4,a&16&&(l=i.getUint32(s,!0),s+=4),a&32&&(c=i.getFloat64(s,!0),s+=8),a&64&&(u.setTime(u.getTime()+i.getFloat64(s,!0)*1e3),s+=8);var f;switch(t[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:e[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(l>-1)f={t:"s",v:e[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return f}function Oie(t,e,r){var n=cd(t),i=n.getUint32(8,!0),a=12,s=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);i&1&&(l=Cie(t,a),a+=16),i&2&&(c=n.getFloat64(a,!0),a+=8),i&4&&(u.setTime(u.getTime()+n.getFloat64(a,!0)*1e3),a+=8),i&8&&(o=n.getUint32(a,!0),a+=4),i&16&&(s=n.getUint32(a,!0),a+=4);var f;switch(t[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:e[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return f}function $A(t,e){var r=new Uint8Array(32),n=cd(r),i=12,a=0;switch(r[0]=5,t.t){case"n":r[1]=2,kie(r,i,t.v),a|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,t.v?1:0,!0),a|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(i,e.indexOf(t.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,a,!0),r.slice(0,i)}function BA(t,e){var r=new Uint8Array(32),n=cd(r),i=12,a=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(i,t.v,!0),a|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,t.v?1:0,!0),a|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(i,e.indexOf(t.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,a,!0),r.slice(0,i)}function Mie(t,e,r){switch(t[0]){case 0:case 1:case 2:case 3:return Iie(t,e,r,t[0]);case 5:return Oie(t,e,r);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function ii(t){var e=Rt(t);return zg(e[1][0].data)}function mR(t,e){var r=Rt(e.data),n=$r(r[1][0].data),i=r[3],a=[];return(i||[]).forEach(function(s){var o=Rt(s.data),l=$r(o[1][0].data)>>>0;switch(n){case 1:a[l]=IE(o[3][0].data);break;case 8:{var c=t[ii(o[9][0].data)][0],u=Rt(c.data),f=t[ii(u[1][0].data)][0],d=$r(f.meta[1][0].data);if(d!=2001)throw new Error("2000 unexpected reference to ".concat(d));var h=Rt(f.data);a[l]=h[3].map(function(m){return IE(m.data)}).join("")}break}}),a}function Nie(t,e){var r,n,i,a,s,o,l,c,u,f,d,h,m,p,y=Rt(t),w=$r(y[1][0].data)>>>0,b=$r(y[2][0].data)>>>0,_=((n=(r=y[8])==null?void 0:r[0])==null?void 0:n.data)&&$r(y[8][0].data)>0||!1,A,S;if((a=(i=y[7])==null?void 0:i[0])!=null&&a.data&&e!=0)A=(o=(s=y[7])==null?void 0:s[0])==null?void 0:o.data,S=(c=(l=y[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=y[4])==null?void 0:u[0])!=null&&f.data&&e!=1)A=(h=(d=y[4])==null?void 0:d[0])==null?void 0:h.data,S=(p=(m=y[3])==null?void 0:m[0])==null?void 0:p.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var T=_?4:1,E=cd(A),P=[],k=0;k<A.length/2;++k){var N=E.getUint16(k*2,!0);N<65535&&P.push([k,N])}if(P.length!=b)throw"Expected ".concat(b," cells, found ").concat(P.length);var O=[];for(k=0;k<P.length-1;++k)O[P[k][0]]=S.subarray(P[k][1]*T,P[k+1][1]*T);return P.length>=1&&(O[P[P.length-1][0]]=S.subarray(P[P.length-1][1]*T)),{R:w,cells:O}}function Rie(t,e){var r,n=Rt(e.data),i=(r=n==null?void 0:n[7])!=null&&r[0]?$r(n[7][0].data)>>>0>0?1:0:-1,a=mI(n[5],function(s){return Nie(s,i)});return{nrows:$r(n[4][0].data)>>>0,data:a.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,c){if(s[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));s[o.R][c]=l}),s},[])}}function Die(t,e,r){var n,i=Rt(e.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=($r(i[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(a.e.c=($r(i[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));r["!ref"]=ft(a);var s=Rt(i[4][0].data),o=mR(t,t[ii(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?mR(t,t[ii(s[17][0].data)][0]):[],c=Rt(s[3][0].data),u=0;c[1].forEach(function(f){var d=Rt(f.data),h=t[ii(d[2][0].data)][0],m=$r(h.meta[1][0].data);if(m!=6002)throw new Error("6001 unexpected reference to ".concat(m));var p=Rie(t,h);p.data.forEach(function(y,w){y.forEach(function(b,_){var A=et({r:u+w,c:_}),S=Mie(b,o,l);S&&(r[A]=S)})}),u+=p.nrows})}function Fie(t,e){var r=Rt(e.data),n={"!ref":"A1"},i=t[ii(r[2][0].data)],a=$r(i[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return Die(t,i[0],n),n}function Lie(t,e){var r,n=Rt(e.data),i={name:(r=n[1])!=null&&r[0]?IE(n[1][0].data):"",sheets:[]},a=mI(n[2],ii);return a.forEach(function(s){t[s].forEach(function(o){var l=$r(o.meta[1][0].data);l==6e3&&i.sheets.push(Fie(t,o))})}),i}function $ie(t,e){var r=wI(),n=Rt(e.data),i=mI(n[1],ii);if(i.forEach(function(a){t[a].forEach(function(s){var o=$r(s.meta[1][0].data);if(o==2){var l=Lie(t,s);l.sheets.forEach(function(c,u){_I(r,c,u==0?l.name:l.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function jA(t){var e,r,n,i,a={},s=[];if(t.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=Na(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=Ma(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){a[f.id]=f.messages,s.push(f.id)})}}),!s.length)throw new Error("File has no messages");var o=((i=(n=(r=(e=a==null?void 0:a[1])==null?void 0:e[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&$r(a[1][0].meta[1][0].data)==1&&a[1][0];if(o||s.forEach(function(l){a[l].forEach(function(c){var u=$r(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return $ie(a,o)}function Bie(t,e,r){var n,i,a,s;if(!((n=t[6])!=null&&n[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(a=t[8])==null?void 0:a[0])==null?void 0:s.data)&&$r(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=cd(t[7][0].data),u=0,f=[],d=cd(t[4][0].data),h=0,m=[],p=0;p<e.length;++p){if(e[p]==null){c.setUint16(p*2,65535,!0),d.setUint16(p*2,65535);continue}c.setUint16(p*2,u,!0),d.setUint16(p*2,h,!0);var y,w;switch(typeof e[p]){case"string":y=$A({t:"s",v:e[p]},r),w=BA({t:"s",v:e[p]},r);break;case"number":y=$A({t:"n",v:e[p]},r),w=BA({t:"n",v:e[p]},r);break;case"boolean":y=$A({t:"b",v:e[p]},r),w=BA({t:"b",v:e[p]},r);break;default:throw new Error("Unsupported value "+e[p])}f.push(y),u+=y.length,m.push(w),h+=w.length,++l}for(t[2][0].data=Ht(l);p<t[7][0].data.length/2;++p)c.setUint16(p*2,65535,!0),d.setUint16(p*2,65535,!0);return t[6][0].data=au(f),t[3][0].data=au(m),l}function jie(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Ki(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(ft(n)));var a=qw(r,{range:n,header:1}),s=["~Sh33tJ5~"];a.forEach(function(q){return q.forEach(function(X){typeof X=="string"&&s.push(X)})});var o={},l=[],c=Ye.read(e.numbers,{type:"base64"});c.FileIndex.map(function(q,X){return[q,c.FullPaths[X]]}).forEach(function(q){var X=q[0],ee=q[1];if(X.type==2&&X.name.match(/\.iwa/)){var ae=X.content,ue=Na(ae),ve=Ma(ue);ve.forEach(function(ie){l.push(ie.id),o[ie.id]={deps:[],location:ee,type:$r(ie.messages[0].meta[1][0].data)}})}}),l.sort(function(q,X){return q-X});var u=l.filter(function(q){return q>1}).map(function(q){return[q,Ht(q)]});c.FileIndex.map(function(q,X){return[q,c.FullPaths[X]]}).forEach(function(q){var X=q[0];if(q[1],!!X.name.match(/\.iwa/)){var ee=Ma(Na(X.content));ee.forEach(function(ae){ae.messages.forEach(function(ue){u.forEach(function(ve){ae.messages.some(function(ie){return $r(ie.meta[1][0].data)!=11006&&Eie(ie.data,ve[1])})&&o[ve[0]].deps.push(ae.id)})})})}});for(var f=Ye.find(c,o[1].location),d=Ma(Na(f.content)),h,m=0;m<d.length;++m){var p=d[m];p.id==1&&(h=p)}var y=ii(Rt(h.messages[0].data)[1][0].data);for(f=Ye.find(c,o[y].location),d=Ma(Na(f.content)),m=0;m<d.length;++m)p=d[m],p.id==y&&(h=p);for(y=ii(Rt(h.messages[0].data)[2][0].data),f=Ye.find(c,o[y].location),d=Ma(Na(f.content)),m=0;m<d.length;++m)p=d[m],p.id==y&&(h=p);for(y=ii(Rt(h.messages[0].data)[2][0].data),f=Ye.find(c,o[y].location),d=Ma(Na(f.content)),m=0;m<d.length;++m)p=d[m],p.id==y&&(h=p);var w=Rt(h.messages[0].data);{w[6][0].data=Ht(n.e.r+1),w[7][0].data=Ht(n.e.c+1);var b=ii(w[46][0].data),_=Ye.find(c,o[b].location),A=Ma(Na(_.content));{for(var S=0;S<A.length&&A[S].id!=b;++S);if(A[S].id!=b)throw"Bad ColumnRowUIDMapArchive";var T=Rt(A[S].messages[0].data);T[1]=[],T[2]=[],T[3]=[];for(var E=0;E<=n.e.c;++E){var P=[];P[1]=P[2]=[{type:0,data:Ht(E+420690)}],T[1].push({type:2,data:Rn(P)}),T[2].push({type:0,data:Ht(E)}),T[3].push({type:0,data:Ht(E)})}T[4]=[],T[5]=[],T[6]=[];for(var k=0;k<=n.e.r;++k)P=[],P[1]=P[2]=[{type:0,data:Ht(k+726270)}],T[4].push({type:2,data:Rn(P)}),T[5].push({type:0,data:Ht(k)}),T[6].push({type:0,data:Ht(k)});A[S].messages[0].data=Rn(T)}_.content=Hd(Vd(A)),_.size=_.content.length,delete w[46];var N=Rt(w[4][0].data);{N[7][0].data=Ht(n.e.r+1);var O=Rt(N[1][0].data),R=ii(O[2][0].data);_=Ye.find(c,o[R].location),A=Ma(Na(_.content));{if(A[0].id!=R)throw"Bad HeaderStorageBucket";var W=Rt(A[0].messages[0].data);for(k=0;k<a.length;++k){var Q=Rt(W[2][0].data);Q[1][0].data=Ht(k),Q[4][0].data=Ht(a[k].length),W[2][k]={type:W[2][0].type,data:Rn(Q)}}A[0].messages[0].data=Rn(W)}_.content=Hd(Vd(A)),_.size=_.content.length;var j=ii(N[2][0].data);_=Ye.find(c,o[j].location),A=Ma(Na(_.content));{if(A[0].id!=j)throw"Bad HeaderStorageBucket";for(W=Rt(A[0].messages[0].data),E=0;E<=n.e.c;++E)Q=Rt(W[2][0].data),Q[1][0].data=Ht(E),Q[4][0].data=Ht(n.e.r+1),W[2][E]={type:W[2][0].type,data:Rn(Q)};A[0].messages[0].data=Rn(W)}_.content=Hd(Vd(A)),_.size=_.content.length;var Y=ii(N[4][0].data);(function(){for(var q=Ye.find(c,o[Y].location),X=Ma(Na(q.content)),ee,ae=0;ae<X.length;++ae){var ue=X[ae];ue.id==Y&&(ee=ue)}var ve=Rt(ee.messages[0].data);{ve[3]=[];var ie=[];s.forEach(function(L,Ue){ie[1]=[{type:0,data:Ht(Ue)}],ie[2]=[{type:0,data:Ht(1)}],ie[3]=[{type:2,data:Tie(L)}],ve[3].push({type:2,data:Rn(ie)})})}ee.messages[0].data=Rn(ve);var ce=Vd(X),be=Hd(ce);q.content=be,q.size=q.content.length})();var J=Rt(N[3][0].data);{var Z=J[1][0];delete J[2];var V=Rt(Z.data);{var te=ii(V[2][0].data);(function(){for(var q=Ye.find(c,o[te].location),X=Ma(Na(q.content)),ee,ae=0;ae<X.length;++ae){var ue=X[ae];ue.id==te&&(ee=ue)}var ve=Rt(ee.messages[0].data);{delete ve[6],delete J[7];var ie=new Uint8Array(ve[5][0].data);ve[5]=[];for(var ce=0,be=0;be<=n.e.r;++be){var L=Rt(ie);ce+=Bie(L,a[be],s),L[1][0].data=Ht(be),ve[5].push({data:Rn(L),type:2})}ve[1]=[{type:0,data:Ht(n.e.c+1)}],ve[2]=[{type:0,data:Ht(n.e.r+1)}],ve[3]=[{type:0,data:Ht(ce)}],ve[4]=[{type:0,data:Ht(n.e.r+1)}]}ee.messages[0].data=Rn(ve);var Ue=Vd(X),Ce=Hd(Ue);q.content=Ce,q.size=q.content.length})()}Z.data=Rn(V)}N[3][0].data=Rn(J)}w[4][0].data=Rn(N)}h.messages[0].data=Rn(w);var se=Vd(d),D=Hd(se);return f.content=D,f.size=f.content.length,c}function OB(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function gI(t){OB([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function vI(t){OB([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function Uie(t){return bt.WS.indexOf(t)>-1?"sheet":t==bt.CS?"chart":t==bt.DS?"dialog":t==bt.MS?"macro":t&&t.length?t:"sheet"}function Vie(t,e){if(!t)return 0;try{t=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,t["!id"][n.id].Target,Uie(t["!id"][n.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function Hie(t,e,r,n,i,a,s,o,l,c,u,f){try{a[n]=Qm(ma(t,r,!0),e);var d=Qr(t,e),h;switch(o){case"sheet":h=fne(d,e,i,l,a[n],c,u,f);break;case"chart":if(h=dne(d,e,i,l,a[n],c,u,f),!h||!h["!drawel"])break;var m=_m(h["!drawel"].Target,e),p=Bg(m),y=ZZ(ma(t,m,!0),Qm(ma(t,p,!0),m)),w=_m(y,m),b=Bg(w);h=Bre(ma(t,w,!0),w,l,Qm(ma(t,b,!0),w),c,h);break;case"macro":h=hne(d,e,i,l,a[n],c,u,f);break;case"dialog":h=pne(d,e,i,l,a[n],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=h;var _=[];a&&a[n]&&Br(a[n]).forEach(function(A){var S="";if(a[n][A].Type==bt.CMNT){S=_m(a[n][A].Target,e);var T=yne(Qr(t,S,!0),S,l);if(!T||!T.length)return;eR(h,T,!1)}a[n][A].Type==bt.TCMNT&&(S=_m(a[n][A].Target,e),_=_.concat(eQ(Qr(t,S,!0),l)))}),_&&_.length&&eR(h,_,!0,l.people||[])}catch(A){if(l.WTF)throw A}}function Ea(t){return t.charAt(0)=="/"?t.slice(1):t}function Wie(t,e){if(Tp(),e=e||{},gI(e),Ra(t,"META-INF/manifest.xml")||Ra(t,"objectdata.xml"))return fR(t,e);if(Ra(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof jA<"u"){if(t.FileIndex)return jA(t);var r=Ye.utils.cfb_new();return _N(t).forEach(function(Q){dt(r,Q,tX(t,Q))}),jA(r)}throw new Error("Unsupported NUMBERS file")}if(!Ra(t,"[Content_Types].xml"))throw Ra(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ra(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=_N(t),i=XX(ma(t,"[Content_Types].xml")),a=!1,s,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",Qr(t,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!Qr(t,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),a=!0}i.workbooks[0].slice(-3)=="bin"&&(a=!0);var l={},c={};if(!e.bookSheets&&!e.bookProps){if(eg=[],i.sst)try{eg=vne(Qr(t,Ea(i.sst)),i.sst,e)}catch(Q){if(e.WTF)throw Q}e.cellStyles&&i.themes.length&&(l=gne(ma(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(c=mne(Qr(t,Ea(i.style)),i.style,l,e))}i.links.map(function(Q){try{var j=Qm(ma(t,Bg(Ea(Q))),Q);return wne(Qr(t,Ea(Q)),j,Q,e)}catch{}});var u=une(Qr(t,Ea(i.workbooks[0])),i.workbooks[0],e),f={},d="";i.coreprops.length&&(d=Qr(t,Ea(i.coreprops[0]),!0),d&&(f=x$(d)),i.extprops.length!==0&&(d=Qr(t,Ea(i.extprops[0]),!0),d&&tK(d,f,e)));var h={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(d=ma(t,Ea(i.custprops[0]),!0),d&&(h=nK(d,e)));var m={};if((e.bookSheets||e.bookProps)&&(u.Sheets?s=u.Sheets.map(function(j){return j.name}):f.Worksheets&&f.SheetNames.length>0&&(s=f.SheetNames),e.bookProps&&(m.Props=f,m.Custprops=h),e.bookSheets&&typeof s<"u"&&(m.SheetNames=s),e.bookSheets?m.SheetNames:e.bookProps))return m;s={};var p={};e.bookDeps&&i.calcchain&&(p=xne(Qr(t,Ea(i.calcchain)),i.calcchain));var y=0,w={},b,_;{var A=u.Sheets;f.Worksheets=A.length,f.SheetNames=[];for(var S=0;S!=A.length;++S)f.SheetNames[S]=A[S].name}var T=a?"bin":"xml",E=i.workbooks[0].lastIndexOf("/"),P=(i.workbooks[0].slice(0,E+1)+"_rels/"+i.workbooks[0].slice(E+1)+".rels").replace(/^\//,"");Ra(t,P)||(P="xl/_rels/workbook."+T+".rels");var k=Qm(ma(t,P,!0),P.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=_ne(Qr(t,Ea(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=rQ(Qr(t,Ea(i.people[0])),e)),k&&(k=Vie(k,u.Sheets));var N=Qr(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=f.Worksheets;++y){var O="sheet";if(k&&k[y]?(b="xl/"+k[y][1].replace(/[\/]?xl\//,""),Ra(t,b)||(b=k[y][1]),Ra(t,b)||(b=P.replace(/_rels\/.*$/,"")+k[y][1]),O=k[y][2]):(b="xl/worksheets/sheet"+(y+1-N)+"."+T,b=b.replace(/sheet0\./,"sheet.")),_=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(y!=e.sheets)continue e;break;case"string":if(f.SheetNames[y].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var R=!1,W=0;W!=e.sheets.length;++W)typeof e.sheets[W]=="number"&&e.sheets[W]==y&&(R=1),typeof e.sheets[W]=="string"&&e.sheets[W].toLowerCase()==f.SheetNames[y].toLowerCase()&&(R=1);if(!R)continue e}}Hie(t,b,_,f.SheetNames[y],y,w,s,O,e,u,l,c)}return m={Directory:i,Workbook:u,Props:f,Custprops:h,Deps:p,Sheets:s,SheetNames:f.SheetNames,Strings:eg,Styles:c,Themes:l,SSF:hr(Qe)},e&&e.bookFiles&&(t.files?(m.keys=n,m.files=t.files):(m.keys=[],m.files={},t.FullPaths.forEach(function(Q,j){Q=Q.replace(/^Root Entry[\/]/,""),m.keys.push(Q),m.files[Q]=t.FileIndex[j]}))),e&&e.bookVBA&&(i.vba.length>0?m.vbaraw=Qr(t,Ea(i.vba[0]),!0):i.defaults&&i.defaults.bin===uQ&&(m.vbaraw=Qr(t,"xl/vbaProject.bin",!0))),m}function zie(t,e){var r=e||{},n="Workbook",i=Ye.find(t,n);try{if(n="/!DataSpaces/Version",i=Ye.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(_J(i.content),n="/!DataSpaces/DataSpaceMap",i=Ye.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=SJ(i.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Ye.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=AJ(i.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Ye.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);EJ(i.content)}catch{}if(n="/EncryptionInfo",i=Ye.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=CJ(i.content);if(n="/EncryptedPackage",i=Ye.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,r.password||"",r);throw new Error("File is password-protected")}function Gie(t,e){return e.bookType=="ods"?IB(t,e):e.bookType=="numbers"?jie(t,e):e.bookType=="xlsb"?qie(t,e):Xie(t,e)}function qie(t,e){vh=1024,t&&!t.SSF&&(t.SSF=hr(Qe)),t&&t.SSF&&(Tp(),Wb(t.SSF),e.revssf=Gb(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,tg?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=iB.indexOf(e.bookType)>-1,i=rI();vI(e=e||{});var a=VP(),s="",o=0;if(e.cellXfs=[],gu(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",dt(a,s,w$(t.Props,e)),i.coreprops.push(s),Wt(e.rels,2,s,bt.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,dt(a,s,S$(t.Props)),i.extprops.push(s),Wt(e.rels,3,s,bt.EXT_PROPS),t.Custprops!==t.Props&&Br(t.Custprops||{}).length>0&&(s="docProps/custom.xml",dt(a,s,A$(t.Custprops)),i.custprops.push(s),Wt(e.rels,4,s,bt.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var u={"!id":{}},f=t.Sheets[t.SheetNames[o-1]],d=(f||{})["!type"]||"sheet";switch(d){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,dt(a,s,Sne(o-1,s,e,t,u)),i.sheets.push(s),Wt(e.wbrels,-1,"worksheets/sheet"+o+"."+r,bt.WS[0])}if(f){var h=f["!comments"],m=!1,p="";h&&h.length>0&&(p="xl/comments"+o+"."+r,dt(a,p,Ene(h,p)),i.comments.push(p),Wt(u,-1,"../comments"+o+"."+r,bt.CMNT),m=!0),f["!legacy"]&&m&&dt(a,"xl/drawings/vmlDrawing"+o+".vml",rB(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&dt(a,Bg(s),Ih(u))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+r,dt(a,s,Tne(e.Strings,s,e)),i.strs.push(s),Wt(e.wbrels,-1,"sharedStrings."+r,bt.SST)),s="xl/workbook."+r,dt(a,s,bne(t,s)),i.workbooks.push(s),Wt(e.rels,1,s,bt.WB),s="xl/theme/theme1.xml",dt(a,s,lI(t.Themes,e)),i.themes.push(s),Wt(e.wbrels,-1,"theme/theme1.xml",bt.THEME),s="xl/styles."+r,dt(a,s,Ane(t,s,e)),i.styles.push(s),Wt(e.wbrels,-1,"styles."+r,bt.STY),t.vbaraw&&n&&(s="xl/vbaProject.bin",dt(a,s,t.vbaraw),i.vba.push(s),Wt(e.wbrels,-1,"vbaProject.bin",bt.VBA)),s="xl/metadata."+r,dt(a,s,Cne(s)),i.metadata.push(s),Wt(e.wbrels,-1,"metadata."+r,bt.XLMETA),dt(a,"[Content_Types].xml",v$(i,e)),dt(a,"_rels/.rels",Ih(e.rels)),dt(a,"xl/_rels/workbook."+r+".rels",Ih(e.wbrels)),delete e.revssf,delete e.ssf,a}function Xie(t,e){vh=1024,t&&!t.SSF&&(t.SSF=hr(Qe)),t&&t.SSF&&(Tp(),Wb(t.SSF),e.revssf=Gb(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,tg?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=iB.indexOf(e.bookType)>-1,i=rI();vI(e=e||{});var a=VP(),s="",o=0;if(e.cellXfs=[],gu(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",dt(a,s,w$(t.Props,e)),i.coreprops.push(s),Wt(e.rels,2,s,bt.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,dt(a,s,S$(t.Props)),i.extprops.push(s),Wt(e.rels,3,s,bt.EXT_PROPS),t.Custprops!==t.Props&&Br(t.Custprops||{}).length>0&&(s="docProps/custom.xml",dt(a,s,A$(t.Custprops)),i.custprops.push(s),Wt(e.rels,4,s,bt.CUST_PROPS));var u=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var f={"!id":{}},d=t.Sheets[t.SheetNames[o-1]],h=(d||{})["!type"]||"sheet";switch(h){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,dt(a,s,mB(o-1,e,t,f)),i.sheets.push(s),Wt(e.wbrels,-1,"worksheets/sheet"+o+"."+r,bt.WS[0])}if(d){var m=d["!comments"],p=!1,y="";if(m&&m.length>0){var w=!1;m.forEach(function(b){b[1].forEach(function(_){_.T==!0&&(w=!0)})}),w&&(y="xl/threadedComments/threadedComment"+o+"."+r,dt(a,y,tQ(m,u,e)),i.threadedcomments.push(y),Wt(f,-1,"../threadedComments/threadedComment"+o+"."+r,bt.TCMNT)),y="xl/comments"+o+"."+r,dt(a,y,nB(m)),i.comments.push(y),Wt(f,-1,"../comments"+o+"."+r,bt.CMNT),p=!0}d["!legacy"]&&p&&dt(a,"xl/drawings/vmlDrawing"+o+".vml",rB(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}f["!id"].rId1&&dt(a,Bg(s),Ih(f))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+r,dt(a,s,W$(e.Strings,e)),i.strs.push(s),Wt(e.wbrels,-1,"sharedStrings."+r,bt.SST)),s="xl/workbook."+r,dt(a,s,wB(t)),i.workbooks.push(s),Wt(e.rels,1,s,bt.WB),s="xl/theme/theme1.xml",dt(a,s,lI(t.Themes,e)),i.themes.push(s),Wt(e.wbrels,-1,"theme/theme1.xml",bt.THEME),s="xl/styles."+r,dt(a,s,Z$(t,e)),i.styles.push(s),Wt(e.wbrels,-1,"styles."+r,bt.STY),t.vbaraw&&n&&(s="xl/vbaProject.bin",dt(a,s,t.vbaraw),i.vba.push(s),Wt(e.wbrels,-1,"vbaProject.bin",bt.VBA)),s="xl/metadata."+r,dt(a,s,tB()),i.metadata.push(s),Wt(e.wbrels,-1,"metadata."+r,bt.XLMETA),u.length>1&&(s="xl/persons/person.xml",dt(a,s,nQ(u)),i.people.push(s),Wt(e.wbrels,-1,"persons/person.xml",bt.PEOPLE)),dt(a,"[Content_Types].xml",v$(i,e)),dt(a,"_rels/.rels",Ih(e.rels)),dt(a,"xl/_rels/workbook."+r+".rels",Ih(e.wbrels)),delete e.revssf,delete e.ssf,a}function yI(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=_a(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Kie(t,e){return Ye.find(t,"EncryptedPackage")?zie(t,e):AB(t,e)}function Yie(t,e){var r,n=t,i=e||{};return i.type||(i.type=xt&&Buffer.isBuffer(t)?"buffer":"base64"),r=G8(n,i),Wie(r,i)}function MB(t,e){var r=0;e:for(;r<t.length;)switch(t.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return kE(t.slice(r),e);default:break e}return W0.to_workbook(t,e)}function Jie(t,e){var r="",n=yI(t,e);switch(e.type){case"base64":r=_a(t);break;case"binary":r=t;break;case"buffer":r=t.toString("binary");break;case"array":r=ad(t);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Zt(r)),e.type="binary",MB(r,e)}function Zie(t,e){var r=t;return e.type=="base64"&&(r=_a(r)),r=Ng.utils.decode(1200,r.slice(2),"str"),e.type="binary",MB(r,e)}function Qie(t){return t.match(/[^\x00-\x7F]/)?yo(t):t}function UA(t,e,r,n){return n?(r.type="string",W0.to_workbook(t,r)):W0.to_workbook(e,r)}function OE(t,e){LP();var r=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return OE(new Uint8Array(t),(r=hr(r),r.type="array",r));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=t,i=[0,0,0,0],a=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Mh={},r.dateNF&&(Mh.dateNF=r.dateNF),r.type||(r.type=xt&&Buffer.isBuffer(t)?"buffer":"base64"),r.type=="file"&&(r.type=xt?"buffer":"binary",n=qq(t),typeof Uint8Array<"u"&&!xt&&(r.type="array")),r.type=="string"&&(a=!0,r.type="binary",r.codepage=65001,n=Qie(t)),r.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=hr(r),r.type="array",OE($P(n),r)}switch((i=yI(n,r))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return Kie(Ye.read(n,r),r);break;case 9:if(i[1]<=8)return AB(n,r);break;case 60:return kE(n,r);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return iJ(n,r);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return V$.to_workbook(n,r);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?Yie(n,r):UA(t,n,r,a);case 239:return i[3]===60?kE(n,r):UA(t,n,r,a);case 255:if(i[1]===254)return Zie(n,r);if(i[1]===0&&i[2]===2&&i[3]===0)return Kf.to_workbook(n,r);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Kf.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return CE.to_workbook(n,r);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return K$.to_workbook(n,r);break;case 10:case 13:case 32:return Jie(n,r);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return nJ.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?CE.to_workbook(n,r):UA(t,n,r,a)}function NB(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Jy(e.file,Ye.write(t,{type:xt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Ye.write(t,e)}function eae(t,e){var r=hr(e||{}),n=Gie(t,r);return tae(n,r)}function tae(t,e){var r={},n=xt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?Ye.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(Hb(i))}return e.password&&typeof encrypt_agile<"u"?NB(encrypt_agile(i,e.password),e):e.type==="file"?Jy(e.file,i):e.type=="string"?Zt(i):i}function rae(t,e){var r=e||{},n=Qne(t,r);return NB(n,r)}function Ks(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return Rg(yo(n));case"binary":return yo(n);case"string":return t;case"file":return Jy(e.file,n,"utf8");case"buffer":return xt?Hl(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Ks(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function nae(t,e){switch(e.type){case"base64":return Rg(t);case"binary":return t;case"string":return t;case"file":return Jy(e.file,t,"binary");case"buffer":return xt?Hl(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Xx(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?Rg(r):e.type=="string"?Zt(r):r;case"file":return Jy(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function RB(t,e){LP(),Kre(t);var r=hr(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=RB(t,r);return r.type="array",Hb(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=t.SheetNames.indexOf(r.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Ks(Gne(t,r),r);case"slk":case"sylk":return Ks(U$.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"htm":case"html":return Ks(EB(t.Sheets[t.SheetNames[i]],r),r);case"txt":return nae(DB(t.Sheets[t.SheetNames[i]],r),r);case"csv":return Ks(xI(t.Sheets[t.SheetNames[i]],r),r,"\uFEFF");case"dif":return Ks(V$.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"dbf":return Xx(CE.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"prn":return Ks(W0.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"rtf":return Ks(K$.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"eth":return Ks(H$.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"fods":return Ks(IB(t,r),r);case"wk1":return Xx(Kf.sheet_to_wk1(t.Sheets[t.SheetNames[i]],r),r);case"wk3":return Xx(Kf.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Xx(TB(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),rae(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return eae(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function iae(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function aae(t,e,r){var n={};return n.type="file",n.file=e,iae(n),RB(t,n)}function sae(t,e,r,n,i,a,s,o){var l=zr(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,d=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:r,enumerable:!1})}catch{d.__rowNum__=r}else d.__rowNum__=r;if(!s||t[r])for(var h=e.s.c;h<=e.e.c;++h){var m=s?t[r][h]:t[n[h]+l];if(m===void 0||m.t===void 0){if(c===void 0)continue;a[h]!=null&&(d[a[h]]=c);continue}var p=m.v;switch(m.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+m.t)}if(a[h]!=null){if(p==null)if(m.t=="e"&&p===null)d[a[h]]=null;else if(c!==void 0)d[a[h]]=c;else if(u&&p===null)d[a[h]]=null;else continue;else d[a[h]]=u&&(m.t!=="n"||m.t==="n"&&o.rawNumbers!==!1)?p:Rl(m,p,o);p!=null&&(f=!1)}}return{row:d,isempty:f}}function qw(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,a=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},u=c.range!=null?c.range:t["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=Nt(u);break;case"number":l=Nt(t["!ref"]),l.s.r=u;break;default:l=u}n>0&&(i=0);var f=zr(l.s.r),d=[],h=[],m=0,p=0,y=Array.isArray(t),w=l.s.r,b=0,_={};y&&!t[w]&&(t[w]=[]);var A=c.skipHidden&&t["!cols"]||[],S=c.skipHidden&&t["!rows"]||[];for(b=l.s.c;b<=l.e.c;++b)if(!(A[b]||{}).hidden)switch(d[b]=Pr(b),r=y?t[w][b]:t[d[b]+f],n){case 1:a[b]=b-l.s.c;break;case 2:a[b]=d[b];break;case 3:a[b]=c.header[b-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=Rl(r,null,c),p=_[s]||0,!p)_[s]=1;else{do o=s+"_"+p++;while(_[o]);_[s]=p,_[o]=1}a[b]=o}for(w=l.s.r+i;w<=l.e.r;++w)if(!(S[w]||{}).hidden){var T=sae(t,l,w,d,n,a,y,c);(T.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(h[m++]=T.row)}return h.length=m,h}var gR=/"/g;function oae(t,e,r,n,i,a,s,o){for(var l=!0,c=[],u="",f=zr(r),d=e.s.c;d<=e.e.c;++d)if(n[d]){var h=o.dense?(t[r]||[])[d]:t[n[d]+f];if(h==null)u="";else if(h.v!=null){l=!1,u=""+(o.rawNumbers&&h.t=="n"?h.v:Rl(h,null,o));for(var m=0,p=0;m!==u.length;++m)if((p=u.charCodeAt(m))===i||p===a||p===34||o.forceQuotes){u='"'+u.replace(gR,'""')+'"';break}u=="ID"&&(u='"ID"')}else h.f!=null&&!h.F?(l=!1,u="="+h.f,u.indexOf(",")>=0&&(u='"'+u.replace(gR,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(s)}function xI(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=Nt(t["!ref"]),a=n.FS!==void 0?n.FS:",",s=a.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((a=="|"?"\\|":a)+"+$"),u="",f=[];n.dense=Array.isArray(t);for(var d=n.skipHidden&&t["!cols"]||[],h=n.skipHidden&&t["!rows"]||[],m=i.s.c;m<=i.e.c;++m)(d[m]||{}).hidden||(f[m]=Pr(m));for(var p=0,y=i.s.r;y<=i.e.r;++y)(h[y]||{}).hidden||(u=oae(t,i,y,f,s,l,a,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((p++?o:"")+u)));return delete n.dense,r.join("")}function DB(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=xI(t,e);return r}function lae(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=Nt(t["!ref"]),a="",s=[],o,l=[],c=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)s[o]=Pr(o);for(var u=i.s.r;u<=i.e.r;++u)for(a=zr(u),o=i.s.c;o<=i.e.c;++o)if(e=s[o]+a,r=c?(t[u]||[])[o]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=e+"="+n}return l}function FB(t,e,r){var n=r||{},i=+!n.skipHeader,a=t||{},s=0,o=0;if(a&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Ir(n.origin):n.origin;s=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:s+e.length-1+i}};if(a["!ref"]){var f=Nt(a["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),s==-1&&(s=f.e.r+1,u.e.r=s+e.length-1+i)}else s==-1&&(s=0,u.e.r=e.length-1+i);var d=n.header||[],h=0;e.forEach(function(p,y){Br(p).forEach(function(w){(h=d.indexOf(w))==-1&&(d[h=d.length]=w);var b=p[w],_="z",A="",S=et({c:o+h,r:s+y+i});c=Gg(a,S),b&&typeof b=="object"&&!(b instanceof Date)?a[S]=b:(typeof b=="number"?_="n":typeof b=="boolean"?_="b":typeof b=="string"?_="s":b instanceof Date?(_="d",n.cellDates||(_="n",b=wn(b)),A=n.dateNF||Qe[14]):b===null&&n.nullError&&(_="e",b=0),c?(c.t=_,c.v=b,delete c.w,delete c.R,A&&(c.z=A)):a[S]=c={t:_,v:b},A&&(c.z=A))})}),u.e.c=Math.max(u.e.c,o+d.length-1);var m=zr(s);if(i)for(h=0;h<d.length;++h)a[Pr(h+o)+m]={t:"s",v:d[h]};return a["!ref"]=ft(u),a}function cae(t,e){return FB(null,t,e)}function Gg(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Ir(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Gg(t,et(e)):Gg(t,et({r:e,c:r||0}))}function uae(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function wI(){return{SheetNames:[],Sheets:{}}}function _I(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=s+i)!=-1;++i);}if(xB(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function fae(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=uae(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function dae(t,e){return t.z=e,t}function LB(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function hae(t,e,r){return LB(t,"#"+e,r)}function pae(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function mae(t,e,r,n){for(var i=typeof e!="string"?e:Nt(e),a=typeof e=="string"?e:ft(e),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var l=Gg(t,s,o);l.t="n",l.F=a,delete l.v,s==i.s.r&&o==i.s.c&&(l.f=r,n&&(l.D=!0))}return t}var I1={encode_col:Pr,encode_row:zr,encode_cell:et,encode_range:ft,decode_col:YP,decode_row:KP,split_cell:TX,decode_cell:Ir,decode_range:Ki,format_cell:Rl,sheet_add_aoa:u$,sheet_add_json:FB,sheet_add_dom:CB,aoa_to_sheet:Ep,json_to_sheet:cae,table_to_sheet:kB,table_to_book:_ie,sheet_to_csv:xI,sheet_to_txt:DB,sheet_to_json:qw,sheet_to_html:EB,sheet_to_formulae:lae,sheet_to_row_object_array:qw,sheet_get_cell:Gg,book_new:wI,book_append_sheet:_I,book_set_sheet_visibility:fae,cell_set_number_format:dae,cell_set_hyperlink:LB,cell_set_internal_link:hae,cell_add_comment:pae,sheet_set_array_formula:mae,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const gae=({onDataLoaded:t,currentFileName:e,onLoadDemo:r})=>{const[n,i]=re.useState(null),[a,s]=re.useState(!1),o=re.useRef(null),l=f=>{i(null);const d=new FileReader;d.onload=h=>{var m;try{const p=(m=h.target)==null?void 0:m.result;if(!p)throw new Error("Failed to read file");const y=OE(p,{type:"array"});if(y.SheetNames.length===0)throw new Error("Excel file is empty");const w=y.Sheets[y.SheetNames[0]],b=I1.sheet_to_json(w,{header:1});if(b.length<1)throw new Error("No data found in sheet");t(b,f.name)}catch(p){console.error(p),i("Invalid file format. Please try another .xlsx or .csv file.")}},d.onerror=()=>i("Error reading file."),d.readAsArrayBuffer(f)},c=f=>{f.target.files&&f.target.files[0]&&l(f.target.files[0])},u=f=>{f.preventDefault(),s(!1),f.dataTransfer.files&&f.dataTransfer.files[0]&&l(f.dataTransfer.files[0])};return C.jsxs("div",{className:"w-full",children:[C.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-6 text-center transition-all duration-200 ease-in-out cursor-pointer
                    ${a?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-indigo-400 hover:bg-gray-50"}
                `,onDragOver:f=>{f.preventDefault(),s(!0)},onDragLeave:()=>s(!1),onDrop:u,onClick:()=>{var f;return(f=o.current)==null?void 0:f.click()},children:[C.jsx("input",{type:"file",ref:o,className:"hidden",accept:".xlsx,.csv",onChange:c}),C.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[e?C.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:C.jsx(GG,{className:"h-6 w-6 text-green-600"})}):C.jsx("div",{className:"bg-gray-100 p-3 rounded-full",children:C.jsx(RP,{className:"h-6 w-6 text-gray-500"})}),C.jsx("div",{className:"text-sm font-medium text-gray-900",children:e||"Click or drag file here"}),C.jsx("p",{className:"text-xs text-gray-500",children:"Supports .xlsx, .csv"})]})]}),C.jsx("div",{className:"mt-3 flex justify-center",children:C.jsxs("button",{onClick:f=>{f.stopPropagation(),r()},className:"flex items-center text-xs text-indigo-600 hover:text-indigo-800 font-medium transition-colors",children:[C.jsx(HG,{className:"w-3 h-3 mr-1"}),"Load Demo Data"]})}),n&&C.jsxs("div",{className:"mt-2 flex items-center text-xs text-red-600 bg-red-50 p-2 rounded",children:[C.jsx(MP,{className:"w-4 h-4 mr-1 flex-shrink-0"}),n]})]})},Kx=({label:t,value:e,icon:r,colorClass:n,bgClass:i})=>C.jsx("div",{className:"bg-white overflow-hidden rounded-xl shadow-sm border border-gray-100",children:C.jsx("div",{className:"p-5",children:C.jsxs("div",{className:"flex items-center",children:[C.jsx("div",{className:`flex-shrink-0 rounded-md p-3 ${i}`,children:C.jsx(r,{className:`h-6 w-6 ${n}`,"aria-hidden":"true"})}),C.jsx("div",{className:"ml-5 w-0 flex-1",children:C.jsxs("dl",{children:[C.jsx("dt",{className:"truncate text-sm font-medium text-gray-500",children:t}),C.jsx("dd",{children:C.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e})})]})})]})})}),vae=({summary:t})=>C.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[C.jsx(Kx,{label:"Total Drivers",value:t.totalDrivers,icon:hq,colorClass:"text-gray-600",bgClass:"bg-gray-50"}),C.jsx(Kx,{label:"Drivers Needing Rescue",value:t.totalRescueNeeded,icon:RG,colorClass:"text-red-600",bgClass:"bg-red-50"}),C.jsx(Kx,{label:"Stops to Rescue",value:t.totalStopsToRescue,icon:tq,colorClass:"text-red-600",bgClass:"bg-red-50"}),C.jsx(Kx,{label:"Surplus Stops",value:t.totalStopsAvailable,icon:eq,colorClass:"text-green-600",bgClass:"bg-green-50"})]}),vR=({title:t,drivers:e,type:r,historicalStats:n,onLogRescue:i,rescueLogs:a,onDeleteRescueLog:s,onEditRescueLog:o})=>{const[l,c]=re.useState(""),u=r==="danger",f=e.filter(h=>h.name.toLowerCase().includes(l.toLowerCase())||h.routeId.toString().toLowerCase().includes(l.toLowerCase())),d=()=>{const h=I1.json_to_sheet(e.map(p=>{const y=a?a[p.name]||[]:[],w=y.reduce((_,A)=>_+A.stopsRemoved,0),b=y.map(_=>_.rescuerName).join(", ");return{Name:p.name,Route:p.routeId,Status:u?"Rescue Needed":"On Pace",RescuedBy:b,StopsTaken:w,Stops_Diff:p.diff,Pace:p.pace,Remaining:p.remaining,ETA:p.eta,RTS_Source:p.projectedRts||"N/A",Stalled:p.isStalled?"Yes":"No",Battery:p.batteryLevel||"N/A",BreakOwed:p.breakTimeRemaining}})),m=I1.book_new();I1.book_append_sheet(m,h,"Drivers"),aae(m,`Driver_List_${t}.xlsx`)};return C.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 flex flex-col h-full max-h-[700px]",children:[C.jsxs("div",{className:`px-4 py-3 border-b border-gray-100 ${u?"bg-red-50/50":"bg-green-50/50"} rounded-t-xl`,children:[C.jsxs("div",{className:"flex items-center justify-between mb-2",children:[C.jsxs("h3",{className:`font-bold flex items-center ${u?"text-red-900":"text-green-900"}`,children:[t,C.jsx("span",{className:`ml-2 text-xs px-2 py-0.5 rounded-full border ${u?"bg-red-100 border-red-200":"bg-green-100 border-green-200"}`,children:e.length})]}),C.jsx("button",{onClick:d,className:"text-xs font-medium text-indigo-600 hover:text-indigo-800",children:"Export"})]}),C.jsxs("div",{className:"relative",children:[C.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:C.jsx(sq,{className:"h-4 w-4 text-gray-400"})}),C.jsx("input",{type:"text",placeholder:"Filter by name...",className:"block w-full pl-9 pr-3 py-1.5 border border-gray-200 rounded-md leading-5 bg-white placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition duration-150 ease-in-out",value:l,onChange:h=>c(h.target.value)})]})]}),C.jsx("div",{className:"overflow-y-auto flex-1 p-3 space-y-3 custom-scrollbar",children:f.length===0?C.jsx("div",{className:"text-center py-10 text-gray-400",children:C.jsx("p",{className:"text-sm",children:"No drivers found."})}):f.map(h=>{const m=n?n[h.name]:null;m&&m.totalRescuesNeeded>=2;const p=a?a[h.name]||[]:[],y=p.length>0;return C.jsxs("div",{className:`group relative bg-white border border-gray-100 rounded-lg p-3 shadow-sm hover:shadow-md transition-all duration-200 
                                    hover:border-indigo-200`,children:[C.jsxs("div",{className:"flex justify-between items-start mb-1",children:[C.jsxs("div",{className:"flex items-center overflow-hidden flex-1 mr-2",children:[C.jsx("div",{className:`flex-shrink-0 p-1.5 rounded-full mr-2 ${u?"bg-red-50":"bg-green-50"}`,children:h.isDspInitiated?C.jsx(Mg,{className:`w-4 h-4 ${u?"text-red-600":"text-green-600"}`}):C.jsx(k8,{className:`w-4 h-4 ${u?"text-red-600":"text-green-600"}`})}),C.jsxs("div",{className:"min-w-0 flex-1",children:[C.jsx("h4",{className:"font-semibold text-gray-900 text-sm flex items-center flex-wrap leading-tight",children:C.jsx("span",{className:"mr-1 truncate flex-grow min-w-[60px]",title:h.name,children:h.name})}),C.jsxs("div",{className:"flex items-center space-x-2 text-[10px] text-gray-400 mt-0.5",children:[C.jsx("span",{className:"truncate max-w-[100px]",title:h.routeId,children:h.routeId}),h.breakTimeRemaining>0&&C.jsxs("span",{className:"text-orange-400 font-medium flex items-center whitespace-nowrap",children:[C.jsx(A8,{className:"w-3 h-3 mr-1"}),"-",h.breakTimeRemaining,"m"]})]})]})]}),C.jsx("div",{className:`flex-shrink-0 text-xs font-bold px-2 py-1 rounded-full ${u?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:u?`-${h.diff}`:`+${Math.abs(h.diff)}`})]}),C.jsxs("div",{className:"mt-2 mb-2",children:[C.jsxs("div",{className:"flex justify-between text-[10px] text-gray-500 mb-1",children:[C.jsx("span",{children:"Progress"}),C.jsxs("span",{children:[Math.min(100,h.progress),"%"]})]}),C.jsx("div",{className:"w-full bg-gray-100 rounded-full h-1.5 overflow-hidden",children:C.jsx("div",{className:`h-1.5 rounded-full ${u?"bg-red-500":"bg-green-500"}`,style:{width:`${Math.min(100,h.progress)}%`}})})]}),y&&C.jsx("div",{className:"mt-2 space-y-1.5",children:p.map((w,b)=>C.jsxs("div",{className:"bg-green-50/80 border border-green-100 rounded px-2 py-1.5 flex justify-between items-center",children:[C.jsxs("div",{className:"flex items-center text-[10px] text-green-800 overflow-hidden flex-1 min-w-0",children:[C.jsx(Mg,{className:"w-3 h-3 mr-1.5 flex-shrink-0 opacity-70"}),C.jsx("span",{className:"truncate font-medium",children:w.rescuerName})]}),C.jsxs("div",{className:"flex items-center space-x-1",children:[C.jsxs("div",{className:"flex items-center text-[10px] font-bold text-green-700 mr-1 bg-white px-1.5 rounded border border-green-100",children:[C.jsx(DG,{className:"w-3 h-3 mr-1"}),C.jsx("span",{children:w.stopsRemoved})]}),o&&C.jsx("button",{onClick:_=>o(h,w,b,_),className:"p-1 text-green-500 hover:text-indigo-600",children:C.jsx(nq,{className:"w-3 h-3"})}),s&&C.jsx("button",{onClick:()=>s(h.name,b),className:"p-1 text-green-500 hover:text-red-600",children:C.jsx(So,{className:"w-3 h-3"})})]})]},b))}),!y&&C.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[C.jsxs("div",{className:"bg-gray-50 p-1.5 rounded border border-gray-100",children:[C.jsxs("div",{className:"text-[10px] text-gray-500 flex items-center",children:[C.jsx(rq,{className:"w-3 h-3 mr-1"})," Left"]}),C.jsx("div",{className:"text-sm font-bold text-gray-800",children:h.remaining})]}),C.jsxs("div",{className:"bg-gray-50 p-1.5 rounded border border-gray-100",children:[C.jsxs("div",{className:"text-[10px] text-gray-500 flex items-center",children:[C.jsx(NG,{className:"w-3 h-3 mr-1"})," Pace"]}),C.jsx("div",{className:"text-sm font-bold text-gray-800",children:h.pace.toFixed(0)})]})]}),i&&C.jsxs("button",{onClick:w=>i(h,w),className:"mt-2 w-full flex items-center justify-center py-1.5 bg-indigo-50 hover:bg-indigo-100 text-indigo-700 rounded text-xs font-medium transition-colors",children:[C.jsx(b8,{className:"w-3 h-3 mr-1.5"}),"Log Rescue"]})]},h.id)})})]})};function $B(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=$B(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Mt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=$B(t))&&(n&&(n+=" "),n+=e);return n}var yae=Array.isArray,Yi=yae,xae=typeof wx=="object"&&wx&&wx.Object===Object&&wx,BB=xae,wae=BB,_ae=typeof self=="object"&&self&&self.Object===Object&&self,bae=wae||_ae||Function("return this")(),Oo=bae,Sae=Oo,Aae=Sae.Symbol,ax=Aae,yR=ax,jB=Object.prototype,Tae=jB.hasOwnProperty,Eae=jB.toString,tm=yR?yR.toStringTag:void 0;function Cae(t){var e=Tae.call(t,tm),r=t[tm];try{t[tm]=void 0;var n=!0}catch{}var i=Eae.call(t);return n&&(e?t[tm]=r:delete t[tm]),i}var kae=Cae,Pae=Object.prototype,Iae=Pae.toString;function Oae(t){return Iae.call(t)}var Mae=Oae,xR=ax,Nae=kae,Rae=Mae,Dae="[object Null]",Fae="[object Undefined]",wR=xR?xR.toStringTag:void 0;function Lae(t){return t==null?t===void 0?Fae:Dae:wR&&wR in Object(t)?Nae(t):Rae(t)}var Gl=Lae;function $ae(t){return t!=null&&typeof t=="object"}var ql=$ae,Bae=Gl,jae=ql,Uae="[object Symbol]";function Vae(t){return typeof t=="symbol"||jae(t)&&Bae(t)==Uae}var kp=Vae,Hae=Yi,Wae=kp,zae=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gae=/^\w*$/;function qae(t,e){if(Hae(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Wae(t)?!0:Gae.test(t)||!zae.test(t)||e!=null&&t in Object(e)}var bI=qae;function Xae(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var vu=Xae;const Pp=tr(vu);var Kae=Gl,Yae=vu,Jae="[object AsyncFunction]",Zae="[object Function]",Qae="[object GeneratorFunction]",ese="[object Proxy]";function tse(t){if(!Yae(t))return!1;var e=Kae(t);return e==Zae||e==Qae||e==Jae||e==ese}var SI=tse;const vt=tr(SI);var rse=Oo,nse=rse["__core-js_shared__"],ise=nse,VA=ise,_R=function(){var t=/[^.]+$/.exec(VA&&VA.keys&&VA.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function ase(t){return!!_R&&_R in t}var sse=ase,ose=Function.prototype,lse=ose.toString;function cse(t){if(t!=null){try{return lse.call(t)}catch{}try{return t+""}catch{}}return""}var UB=cse,use=SI,fse=sse,dse=vu,hse=UB,pse=/[\\^$.*+?()[\]{}|]/g,mse=/^\[object .+?Constructor\]$/,gse=Function.prototype,vse=Object.prototype,yse=gse.toString,xse=vse.hasOwnProperty,wse=RegExp("^"+yse.call(xse).replace(pse,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _se(t){if(!dse(t)||fse(t))return!1;var e=use(t)?wse:mse;return e.test(hse(t))}var bse=_se;function Sse(t,e){return t==null?void 0:t[e]}var Ase=Sse,Tse=bse,Ese=Ase;function Cse(t,e){var r=Ese(t,e);return Tse(r)?r:void 0}var Md=Cse,kse=Md,Pse=kse(Object,"create"),Zb=Pse,bR=Zb;function Ise(){this.__data__=bR?bR(null):{},this.size=0}var Ose=Ise;function Mse(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Nse=Mse,Rse=Zb,Dse="__lodash_hash_undefined__",Fse=Object.prototype,Lse=Fse.hasOwnProperty;function $se(t){var e=this.__data__;if(Rse){var r=e[t];return r===Dse?void 0:r}return Lse.call(e,t)?e[t]:void 0}var Bse=$se,jse=Zb,Use=Object.prototype,Vse=Use.hasOwnProperty;function Hse(t){var e=this.__data__;return jse?e[t]!==void 0:Vse.call(e,t)}var Wse=Hse,zse=Zb,Gse="__lodash_hash_undefined__";function qse(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=zse&&e===void 0?Gse:e,this}var Xse=qse,Kse=Ose,Yse=Nse,Jse=Bse,Zse=Wse,Qse=Xse;function Ip(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ip.prototype.clear=Kse;Ip.prototype.delete=Yse;Ip.prototype.get=Jse;Ip.prototype.has=Zse;Ip.prototype.set=Qse;var eoe=Ip;function toe(){this.__data__=[],this.size=0}var roe=toe;function noe(t,e){return t===e||t!==t&&e!==e}var AI=noe,ioe=AI;function aoe(t,e){for(var r=t.length;r--;)if(ioe(t[r][0],e))return r;return-1}var Qb=aoe,soe=Qb,ooe=Array.prototype,loe=ooe.splice;function coe(t){var e=this.__data__,r=soe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():loe.call(e,r,1),--this.size,!0}var uoe=coe,foe=Qb;function doe(t){var e=this.__data__,r=foe(e,t);return r<0?void 0:e[r][1]}var hoe=doe,poe=Qb;function moe(t){return poe(this.__data__,t)>-1}var goe=moe,voe=Qb;function yoe(t,e){var r=this.__data__,n=voe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var xoe=yoe,woe=roe,_oe=uoe,boe=hoe,Soe=goe,Aoe=xoe;function Op(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Op.prototype.clear=woe;Op.prototype.delete=_oe;Op.prototype.get=boe;Op.prototype.has=Soe;Op.prototype.set=Aoe;var eS=Op,Toe=Md,Eoe=Oo,Coe=Toe(Eoe,"Map"),TI=Coe,SR=eoe,koe=eS,Poe=TI;function Ioe(){this.size=0,this.__data__={hash:new SR,map:new(Poe||koe),string:new SR}}var Ooe=Ioe;function Moe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Noe=Moe,Roe=Noe;function Doe(t,e){var r=t.__data__;return Roe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var tS=Doe,Foe=tS;function Loe(t){var e=Foe(this,t).delete(t);return this.size-=e?1:0,e}var $oe=Loe,Boe=tS;function joe(t){return Boe(this,t).get(t)}var Uoe=joe,Voe=tS;function Hoe(t){return Voe(this,t).has(t)}var Woe=Hoe,zoe=tS;function Goe(t,e){var r=zoe(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var qoe=Goe,Xoe=Ooe,Koe=$oe,Yoe=Uoe,Joe=Woe,Zoe=qoe;function Mp(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Mp.prototype.clear=Xoe;Mp.prototype.delete=Koe;Mp.prototype.get=Yoe;Mp.prototype.has=Joe;Mp.prototype.set=Zoe;var EI=Mp,VB=EI,Qoe="Expected a function";function CI(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Qoe);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=t.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(CI.Cache||VB),r}CI.Cache=VB;var HB=CI;const ele=tr(HB);var tle=HB,rle=500;function nle(t){var e=tle(t,function(n){return r.size===rle&&r.clear(),n}),r=e.cache;return e}var ile=nle,ale=ile,sle=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ole=/\\(\\)?/g,lle=ale(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(sle,function(r,n,i,a){e.push(i?a.replace(ole,"$1"):n||r)}),e}),cle=lle;function ule(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var kI=ule,AR=ax,fle=kI,dle=Yi,hle=kp,TR=AR?AR.prototype:void 0,ER=TR?TR.toString:void 0;function WB(t){if(typeof t=="string")return t;if(dle(t))return fle(t,WB)+"";if(hle(t))return ER?ER.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var ple=WB,mle=ple;function gle(t){return t==null?"":mle(t)}var zB=gle,vle=Yi,yle=bI,xle=cle,wle=zB;function _le(t,e){return vle(t)?t:yle(t,e)?[t]:xle(wle(t))}var GB=_le,ble=kp;function Sle(t){if(typeof t=="string"||ble(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var rS=Sle,Ale=GB,Tle=rS;function Ele(t,e){e=Ale(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Tle(e[r++])];return r&&r==n?t:void 0}var PI=Ele,Cle=PI;function kle(t,e,r){var n=t==null?void 0:Cle(t,e);return n===void 0?r:n}var qB=kle;const Ya=tr(qB);function Ple(t){return t==null}var Ile=Ple;const St=tr(Ile);var Ole=Gl,Mle=Yi,Nle=ql,Rle="[object String]";function Dle(t){return typeof t=="string"||!Mle(t)&&Nle(t)&&Ole(t)==Rle}var Fle=Dle;const ud=tr(Fle);var XB={exports:{}},Xt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var II=Symbol.for("react.element"),OI=Symbol.for("react.portal"),nS=Symbol.for("react.fragment"),iS=Symbol.for("react.strict_mode"),aS=Symbol.for("react.profiler"),sS=Symbol.for("react.provider"),oS=Symbol.for("react.context"),Lle=Symbol.for("react.server_context"),lS=Symbol.for("react.forward_ref"),cS=Symbol.for("react.suspense"),uS=Symbol.for("react.suspense_list"),fS=Symbol.for("react.memo"),dS=Symbol.for("react.lazy"),$le=Symbol.for("react.offscreen"),KB;KB=Symbol.for("react.module.reference");function as(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case II:switch(t=t.type,t){case nS:case aS:case iS:case cS:case uS:return t;default:switch(t=t&&t.$$typeof,t){case Lle:case oS:case lS:case dS:case fS:case sS:return t;default:return e}}case OI:return e}}}Xt.ContextConsumer=oS;Xt.ContextProvider=sS;Xt.Element=II;Xt.ForwardRef=lS;Xt.Fragment=nS;Xt.Lazy=dS;Xt.Memo=fS;Xt.Portal=OI;Xt.Profiler=aS;Xt.StrictMode=iS;Xt.Suspense=cS;Xt.SuspenseList=uS;Xt.isAsyncMode=function(){return!1};Xt.isConcurrentMode=function(){return!1};Xt.isContextConsumer=function(t){return as(t)===oS};Xt.isContextProvider=function(t){return as(t)===sS};Xt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===II};Xt.isForwardRef=function(t){return as(t)===lS};Xt.isFragment=function(t){return as(t)===nS};Xt.isLazy=function(t){return as(t)===dS};Xt.isMemo=function(t){return as(t)===fS};Xt.isPortal=function(t){return as(t)===OI};Xt.isProfiler=function(t){return as(t)===aS};Xt.isStrictMode=function(t){return as(t)===iS};Xt.isSuspense=function(t){return as(t)===cS};Xt.isSuspenseList=function(t){return as(t)===uS};Xt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===nS||t===aS||t===iS||t===cS||t===uS||t===$le||typeof t=="object"&&t!==null&&(t.$$typeof===dS||t.$$typeof===fS||t.$$typeof===sS||t.$$typeof===oS||t.$$typeof===lS||t.$$typeof===KB||t.getModuleId!==void 0)};Xt.typeOf=as;XB.exports=Xt;var Ble=XB.exports,jle=Gl,Ule=ql,Vle="[object Number]";function Hle(t){return typeof t=="number"||Ule(t)&&jle(t)==Vle}var YB=Hle;const Wle=tr(YB);var zle=YB;function Gle(t){return zle(t)&&t!=+t}var qle=Gle;const sx=tr(qle);var Ds=function(e){return e===0?0:e>0?1:-1},Wu=function(e){return ud(e)&&e.indexOf("%")===e.length-1},ke=function(e){return Wle(e)&&!sx(e)},Xle=function(e){return St(e)},yn=function(e){return ke(e)||ud(e)},Kle=0,ox=function(e){var r=++Kle;return"".concat(e||"").concat(r)},fd=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ke(e)&&!ud(e))return n;var a;if(Wu(e)){var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return sx(a)&&(a=n),i&&a>r&&(a=r),a},lc=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Yle=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Os=function(e,r){return ke(e)&&ke(r)?function(n){return e+n*(r-e)}:function(){return r}};function Xw(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Ya(n,e))===r})}var Jle=function(e,r){return ke(e)&&ke(r)?e-r:ud(e)&&ud(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Nh(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function ME(t){"@babel/helpers - typeof";return ME=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ME(t)}var Zle=["viewBox","children"],Qle=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],CR=["points","pathLength"],HA={svg:Zle,polygon:CR,polyline:CR},MI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Kw=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(re.isValidElement(e)&&(n=e.props),!Pp(n))return null;var i={};return Object.keys(n).forEach(function(a){MI.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},ece=function(e,r,n){return function(i){return e(r,n,i),null}},Yw=function(e,r,n){if(!Pp(e)||ME(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];MI.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=ece(s,r,n))}),i},tce=["children"],rce=["children"];function kR(t,e){if(t==null)return{};var r=nce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function NE(t){"@babel/helpers - typeof";return NE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NE(t)}var PR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Sl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},IR=null,WA=null,NI=function t(e){if(e===IR&&Array.isArray(WA))return WA;var r=[];return re.Children.forEach(e,function(n){St(n)||(Ble.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),WA=r,IR=e,r};function Ja(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Sl(i)}):n=[Sl(e)],NI(t).forEach(function(i){var a=Ya(i,"type.displayName")||Ya(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function ua(t,e){var r=Ja(t,e);return r&&r[0]}var OR=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ke(n)||n<=0||!ke(i)||i<=0)},ice=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ace=function(e){return e&&e.type&&ud(e.type)&&ice.indexOf(e.type)>=0},sce=function(e){return e&&NE(e)==="object"&&"clipDot"in e},oce=function(e,r,n,i){var a,s=(a=HA==null?void 0:HA[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!vt(e)&&(i&&s.includes(r)||Qle.includes(r))||n&&MI.includes(r)},kt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(re.isValidElement(e)&&(i=e.props),!Pp(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;oce((o=i)===null||o===void 0?void 0:o[s],s,r,n)&&(a[s]=i[s])}),a},RE=function t(e,r){if(e===r)return!0;var n=re.Children.count(e);if(n!==re.Children.count(r))return!1;if(n===0)return!0;if(n===1)return MR(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!MR(a,s))return!1}return!0},MR=function(e,r){if(St(e)&&St(r))return!0;if(!St(e)&&!St(r)){var n=e.props||{},i=n.children,a=kR(n,tce),s=r.props||{},o=s.children,l=kR(s,rce);return i&&o?Nh(a,l)&&RE(i,o):!i&&!o?Nh(a,l):!1}return!1},NR=function(e,r){var n=[],i={};return NI(e).forEach(function(a,s){if(ace(a))n.push(a);else if(a){var o=Sl(a.type),l=r[o]||{},c=l.handler,u=l.once;if(c&&(!u||!i[o])){var f=c(a,o,s);n.push(f),i[o]=!0}}}),n},lce=function(e){var r=e&&e.type;return r&&PR[r]?PR[r]:null},cce=function(e,r){return NI(r).indexOf(e)},uce=["children","width","height","viewBox","className","style","title","desc"];function DE(){return DE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DE.apply(this,arguments)}function fce(t,e){if(t==null)return{};var r=dce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function FE(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,c=fce(t,uce),u=i||{width:r,height:n,x:0,y:0},f=Mt("recharts-surface",a);return ne.createElement("svg",DE({},kt(c,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),ne.createElement("title",null,o),ne.createElement("desc",null,l),e)}var hce=["children","className"];function LE(){return LE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},LE.apply(this,arguments)}function pce(t,e){if(t==null)return{};var r=mce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Wr=ne.forwardRef(function(t,e){var r=t.children,n=t.className,i=pce(t,hce),a=Mt("recharts-layer",n);return ne.createElement("g",LE({className:a},kt(i,!0),{ref:e}),r)}),Al=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function gce(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var vce=gce,yce=vce;function xce(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:yce(t,e,r)}var wce=xce,_ce="\\ud800-\\udfff",bce="\\u0300-\\u036f",Sce="\\ufe20-\\ufe2f",Ace="\\u20d0-\\u20ff",Tce=bce+Sce+Ace,Ece="\\ufe0e\\ufe0f",Cce="\\u200d",kce=RegExp("["+Cce+_ce+Tce+Ece+"]");function Pce(t){return kce.test(t)}var JB=Pce;function Ice(t){return t.split("")}var Oce=Ice,ZB="\\ud800-\\udfff",Mce="\\u0300-\\u036f",Nce="\\ufe20-\\ufe2f",Rce="\\u20d0-\\u20ff",Dce=Mce+Nce+Rce,Fce="\\ufe0e\\ufe0f",Lce="["+ZB+"]",$E="["+Dce+"]",BE="\\ud83c[\\udffb-\\udfff]",$ce="(?:"+$E+"|"+BE+")",QB="[^"+ZB+"]",ej="(?:\\ud83c[\\udde6-\\uddff]){2}",tj="[\\ud800-\\udbff][\\udc00-\\udfff]",Bce="\\u200d",rj=$ce+"?",nj="["+Fce+"]?",jce="(?:"+Bce+"(?:"+[QB,ej,tj].join("|")+")"+nj+rj+")*",Uce=nj+rj+jce,Vce="(?:"+[QB+$E+"?",$E,ej,tj,Lce].join("|")+")",Hce=RegExp(BE+"(?="+BE+")|"+Vce+Uce,"g");function Wce(t){return t.match(Hce)||[]}var zce=Wce,Gce=Oce,qce=JB,Xce=zce;function Kce(t){return qce(t)?Xce(t):Gce(t)}var Yce=Kce,Jce=wce,Zce=JB,Qce=Yce,eue=zB;function tue(t){return function(e){e=eue(e);var r=Zce(e)?Qce(e):void 0,n=r?r[0]:e.charAt(0),i=r?Jce(r,1).join(""):e.slice(1);return n[t]()+i}}var rue=tue,nue=rue,iue=nue("toUpperCase"),aue=iue;const hS=tr(aue);function nr(t){return function(){return t}}const ij=Math.cos,Jw=Math.sin,Ws=Math.sqrt,Zw=Math.PI,pS=2*Zw,jE=Math.PI,UE=2*jE,Iu=1e-6,sue=UE-Iu;function aj(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function oue(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return aj;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class lue{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?aj:oue(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-e,c=i-r,u=s-e,f=o-r,d=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(d>Iu)if(!(Math.abs(f*l-c*u)>Iu)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-s,m=i-o,p=l*l+c*c,y=h*h+m*m,w=Math.sqrt(p),b=Math.sqrt(d),_=a*Math.tan((jE-Math.acos((p+d-y)/(2*w*b)))/2),A=_/b,S=_/w;Math.abs(A-1)>Iu&&this._append`L${e+A*u},${r+A*f}`,this._append`A${a},${a},0,0,${+(f*h>u*m)},${this._x1=e+S*l},${this._y1=r+S*c}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),c=e+o,u=r+l,f=1^s,d=s?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Iu||Math.abs(this._y1-u)>Iu)&&this._append`L${c},${u}`,n&&(d<0&&(d=d%UE+UE),d>sue?this._append`A${n},${n},0,1,${f},${e-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:d>Iu&&this._append`A${n},${n},0,${+(d>=jE)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function RI(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new lue(e)}function DI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function sj(t){this._context=t}sj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function mS(t){return new sj(t)}function oj(t){return t[0]}function lj(t){return t[1]}function cj(t,e){var r=nr(!0),n=null,i=mS,a=null,s=RI(o);t=typeof t=="function"?t:t===void 0?oj:nr(t),e=typeof e=="function"?e:e===void 0?lj:nr(e);function o(l){var c,u=(l=DI(l)).length,f,d=!1,h;for(n==null&&(a=i(h=s())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+t(f,c,l),+e(f,c,l));if(h)return a=null,h+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:nr(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:nr(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:nr(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function Yx(t,e,r){var n=null,i=nr(!0),a=null,s=mS,o=null,l=RI(c);t=typeof t=="function"?t:t===void 0?oj:nr(+t),e=typeof e=="function"?e:nr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?lj:nr(+r);function c(f){var d,h,m,p=(f=DI(f)).length,y,w=!1,b,_=new Array(p),A=new Array(p);for(a==null&&(o=s(b=l())),d=0;d<=p;++d){if(!(d<p&&i(y=f[d],d,f))===w)if(w=!w)h=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=d-1;m>=h;--m)o.point(_[m],A[m]);o.lineEnd(),o.areaEnd()}w&&(_[d]=+t(y,d,f),A[d]=+e(y,d,f),o.point(n?+n(y,d,f):_[d],r?+r(y,d,f):A[d]))}if(b)return o=null,b+""||null}function u(){return cj().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:nr(+f),n=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:nr(+f),c):t},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:nr(+f),c):n},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:nr(+f),r=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:nr(+f),c):e},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:nr(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(r)},c.lineX1=function(){return u().x(n).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:nr(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class uj{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function cue(t){return new uj(t,!0)}function uue(t){return new uj(t,!1)}const FI={draw(t,e){const r=Ws(e/Zw);t.moveTo(r,0),t.arc(0,0,r,0,pS)}},fue={draw(t,e){const r=Ws(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},fj=Ws(1/3),due=fj*2,hue={draw(t,e){const r=Ws(e/due),n=r*fj;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},pue={draw(t,e){const r=Ws(e),n=-r/2;t.rect(n,n,r,r)}},mue=.8908130915292852,dj=Jw(Zw/10)/Jw(7*Zw/10),gue=Jw(pS/10)*dj,vue=-ij(pS/10)*dj,yue={draw(t,e){const r=Ws(e*mue),n=gue*r,i=vue*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=pS*a/5,o=ij(s),l=Jw(s);t.lineTo(l*r,-o*r),t.lineTo(o*n-l*i,l*n+o*i)}t.closePath()}},zA=Ws(3),xue={draw(t,e){const r=-Ws(e/(zA*3));t.moveTo(0,r*2),t.lineTo(-zA*r,-r),t.lineTo(zA*r,-r),t.closePath()}},Ca=-.5,ka=Ws(3)/2,VE=1/Ws(12),wue=(VE/2+1)*3,_ue={draw(t,e){const r=Ws(e/wue),n=r/2,i=r*VE,a=n,s=r*VE+r,o=-a,l=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(Ca*n-ka*i,ka*n+Ca*i),t.lineTo(Ca*a-ka*s,ka*a+Ca*s),t.lineTo(Ca*o-ka*l,ka*o+Ca*l),t.lineTo(Ca*n+ka*i,Ca*i-ka*n),t.lineTo(Ca*a+ka*s,Ca*s-ka*a),t.lineTo(Ca*o+ka*l,Ca*l-ka*o),t.closePath()}};function bue(t,e){let r=null,n=RI(i);t=typeof t=="function"?t:nr(t||FI),e=typeof e=="function"?e:nr(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:nr(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:nr(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Qw(){}function e_(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function hj(t){this._context=t}hj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:e_(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:e_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Sue(t){return new hj(t)}function pj(t){this._context=t}pj.prototype={areaStart:Qw,areaEnd:Qw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:e_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Aue(t){return new pj(t)}function mj(t){this._context=t}mj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:e_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Tue(t){return new mj(t)}function gj(t){this._context=t}gj.prototype={areaStart:Qw,areaEnd:Qw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Eue(t){return new gj(t)}function RR(t){return t<0?-1:1}function DR(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(RR(a)+RR(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function FR(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function GA(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-n)/3;t._context.bezierCurveTo(n+o,i+o*e,a-o,s-o*r,a,s)}function t_(t){this._context=t}t_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:GA(this,this._t0,FR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,GA(this,FR(this,r=DR(this,t,e)),r);break;default:GA(this,this._t0,r=DR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function vj(t){this._context=new yj(t)}(vj.prototype=Object.create(t_.prototype)).point=function(t,e){t_.prototype.point.call(this,e,t)};function yj(t){this._context=t}yj.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function Cue(t){return new t_(t)}function kue(t){return new vj(t)}function xj(t){this._context=t}xj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=LR(t),i=LR(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function LR(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Pue(t){return new xj(t)}function gS(t,e){this._context=t,this._t=e}gS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Iue(t){return new gS(t,.5)}function Oue(t){return new gS(t,0)}function Mue(t){return new gS(t,1)}function G0(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,o=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function HE(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Nue(t,e){return t[e]}function Rue(t){const e=[];return e.key=t,e}function Due(){var t=nr([]),e=HE,r=G0,n=Nue;function i(a){var s=Array.from(t.apply(this,arguments),Rue),o,l=s.length,c=-1,u;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,a)]).data=f;for(o=0,u=DI(e(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:nr(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:nr(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?HE:typeof a=="function"?a:nr(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??G0,i):r},i}function Fue(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}G0(t,e)}}function Lue(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}G0(t,e)}}function $ue(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=t[e[o]],f=u[n][1]||0,d=u[n-1][1]||0,h=(f-d)/2,m=0;m<o;++m){var p=t[e[m]],y=p[n][1]||0,w=p[n-1][1]||0;h+=y-w}l+=f,c+=h*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,G0(t,e)}}function qg(t){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qg(t)}var Bue=["type","size","sizeType"];function WE(){return WE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WE.apply(this,arguments)}function $R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function BR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(r),!0).forEach(function(n){jue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$R(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jue(t,e,r){return e=Uue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uue(t){var e=Vue(t,"string");return qg(e)=="symbol"?e:e+""}function Vue(t,e){if(qg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hue(t,e){if(t==null)return{};var r=Wue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var wj={symbolCircle:FI,symbolCross:fue,symbolDiamond:hue,symbolSquare:pue,symbolStar:yue,symbolTriangle:xue,symbolWye:_ue},zue=Math.PI/180,Gue=function(e){var r="symbol".concat(hS(e));return wj[r]||FI},que=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*zue;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Xue=function(e,r){wj["symbol".concat(hS(e))]=r},LI=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=Hue(e,Bue),c=BR(BR({},l),{},{type:n,size:a,sizeType:o}),u=function(){var y=Gue(n),w=bue().type(y).size(que(a,o,n));return w()},f=c.className,d=c.cx,h=c.cy,m=kt(c,!0);return d===+d&&h===+h&&a===+a?ne.createElement("path",WE({},m,{className:Mt("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(h,")"),d:u()})):null};LI.registerSymbol=Xue;function q0(t){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q0(t)}function zE(){return zE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zE.apply(this,arguments)}function jR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kue(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(r),!0).forEach(function(n){Xg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bj(n.key),n)}}function Zue(t,e,r){return e&&Jue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Que(t,e,r){return e=r_(e),efe(t,_j()?Reflect.construct(e,r||[],r_(t).constructor):e.apply(t,r))}function efe(t,e){if(e&&(q0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tfe(t)}function tfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _j(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_j=function(){return!!t})()}function r_(t){return r_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},r_(t)}function rfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GE(t,e)}function GE(t,e){return GE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},GE(t,e)}function Xg(t,e,r){return e=bj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bj(t){var e=nfe(t,"string");return q0(e)=="symbol"?e:e+""}function nfe(t,e){if(q0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(q0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pa=32,$I=function(t){function e(){return Yue(this,e),Que(this,e,arguments)}return rfe(e,t),Zue(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Pa/2,s=Pa/6,o=Pa/3,l=n.inactive?i:n.color;if(n.type==="plainline")return ne.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Pa,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return ne.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Pa,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return ne.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Pa/8,"h").concat(Pa,"v").concat(Pa*3/4,"h").concat(-Pa,"z"),className:"recharts-legend-icon"});if(ne.isValidElement(n.legendIcon)){var c=Kue({},n);return delete c.legendIcon,ne.cloneElement(n.legendIcon,c)}return ne.createElement(LI,{fill:l,cx:a,cy:a,size:Pa,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:Pa,height:Pa},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(h,m){var p=h.formatter||l,y=Mt(Xg(Xg({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",h.inactive));if(h.type==="none")return null;var w=vt(h.value)?null:h.value;Al(!vt(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=h.inactive?c:h.color;return ne.createElement("li",zE({className:y,style:f,key:"legend-item-".concat(m)},Yw(n.props,h,m)),ne.createElement(FE,{width:s,height:s,viewBox:u,style:d},n.renderIcon(h)),ne.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},p?p(w,h,m):w))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return ne.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(re.PureComponent);Xg($I,"displayName","Legend");Xg($I,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ife=eS;function afe(){this.__data__=new ife,this.size=0}var sfe=afe;function ofe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var lfe=ofe;function cfe(t){return this.__data__.get(t)}var ufe=cfe;function ffe(t){return this.__data__.has(t)}var dfe=ffe,hfe=eS,pfe=TI,mfe=EI,gfe=200;function vfe(t,e){var r=this.__data__;if(r instanceof hfe){var n=r.__data__;if(!pfe||n.length<gfe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new mfe(n)}return r.set(t,e),this.size=r.size,this}var yfe=vfe,xfe=eS,wfe=sfe,_fe=lfe,bfe=ufe,Sfe=dfe,Afe=yfe;function Np(t){var e=this.__data__=new xfe(t);this.size=e.size}Np.prototype.clear=wfe;Np.prototype.delete=_fe;Np.prototype.get=bfe;Np.prototype.has=Sfe;Np.prototype.set=Afe;var Sj=Np,Tfe="__lodash_hash_undefined__";function Efe(t){return this.__data__.set(t,Tfe),this}var Cfe=Efe;function kfe(t){return this.__data__.has(t)}var Pfe=kfe,Ife=EI,Ofe=Cfe,Mfe=Pfe;function n_(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Ife;++e<r;)this.add(t[e])}n_.prototype.add=n_.prototype.push=Ofe;n_.prototype.has=Mfe;var Aj=n_;function Nfe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var Tj=Nfe;function Rfe(t,e){return t.has(e)}var Ej=Rfe,Dfe=Aj,Ffe=Tj,Lfe=Ej,$fe=1,Bfe=2;function jfe(t,e,r,n,i,a){var s=r&$fe,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var f=-1,d=!0,h=r&Bfe?new Dfe:void 0;for(a.set(t,e),a.set(e,t);++f<o;){var m=t[f],p=e[f];if(n)var y=s?n(p,m,f,e,t,a):n(m,p,f,t,e,a);if(y!==void 0){if(y)continue;d=!1;break}if(h){if(!Ffe(e,function(w,b){if(!Lfe(h,b)&&(m===w||i(m,w,r,n,a)))return h.push(b)})){d=!1;break}}else if(!(m===p||i(m,p,r,n,a))){d=!1;break}}return a.delete(t),a.delete(e),d}var Cj=jfe,Ufe=Oo,Vfe=Ufe.Uint8Array,Hfe=Vfe;function Wfe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var zfe=Wfe;function Gfe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var BI=Gfe,UR=ax,VR=Hfe,qfe=AI,Xfe=Cj,Kfe=zfe,Yfe=BI,Jfe=1,Zfe=2,Qfe="[object Boolean]",ede="[object Date]",tde="[object Error]",rde="[object Map]",nde="[object Number]",ide="[object RegExp]",ade="[object Set]",sde="[object String]",ode="[object Symbol]",lde="[object ArrayBuffer]",cde="[object DataView]",HR=UR?UR.prototype:void 0,qA=HR?HR.valueOf:void 0;function ude(t,e,r,n,i,a,s){switch(r){case cde:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case lde:return!(t.byteLength!=e.byteLength||!a(new VR(t),new VR(e)));case Qfe:case ede:case nde:return qfe(+t,+e);case tde:return t.name==e.name&&t.message==e.message;case ide:case sde:return t==e+"";case rde:var o=Kfe;case ade:var l=n&Jfe;if(o||(o=Yfe),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;n|=Zfe,s.set(t,e);var u=Xfe(o(t),o(e),n,i,a,s);return s.delete(t),u;case ode:if(qA)return qA.call(t)==qA.call(e)}return!1}var fde=ude;function dde(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var kj=dde,hde=kj,pde=Yi;function mde(t,e,r){var n=e(t);return pde(t)?n:hde(n,r(t))}var gde=mde;function vde(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var s=t[r];e(s,r,t)&&(a[i++]=s)}return a}var yde=vde;function xde(){return[]}var wde=xde,_de=yde,bde=wde,Sde=Object.prototype,Ade=Sde.propertyIsEnumerable,WR=Object.getOwnPropertySymbols,Tde=WR?function(t){return t==null?[]:(t=Object(t),_de(WR(t),function(e){return Ade.call(t,e)}))}:bde,Ede=Tde;function Cde(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var kde=Cde,Pde=Gl,Ide=ql,Ode="[object Arguments]";function Mde(t){return Ide(t)&&Pde(t)==Ode}var Nde=Mde,zR=Nde,Rde=ql,Pj=Object.prototype,Dde=Pj.hasOwnProperty,Fde=Pj.propertyIsEnumerable,Lde=zR(function(){return arguments}())?zR:function(t){return Rde(t)&&Dde.call(t,"callee")&&!Fde.call(t,"callee")},jI=Lde,i_={exports:{}};function $de(){return!1}var Bde=$de;i_.exports;(function(t,e){var r=Oo,n=Bde,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;t.exports=c})(i_,i_.exports);var Ij=i_.exports,jde=9007199254740991,Ude=/^(?:0|[1-9]\d*)$/;function Vde(t,e){var r=typeof t;return e=e??jde,!!e&&(r=="number"||r!="symbol"&&Ude.test(t))&&t>-1&&t%1==0&&t<e}var UI=Vde,Hde=9007199254740991;function Wde(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Hde}var VI=Wde,zde=Gl,Gde=VI,qde=ql,Xde="[object Arguments]",Kde="[object Array]",Yde="[object Boolean]",Jde="[object Date]",Zde="[object Error]",Qde="[object Function]",ehe="[object Map]",the="[object Number]",rhe="[object Object]",nhe="[object RegExp]",ihe="[object Set]",ahe="[object String]",she="[object WeakMap]",ohe="[object ArrayBuffer]",lhe="[object DataView]",che="[object Float32Array]",uhe="[object Float64Array]",fhe="[object Int8Array]",dhe="[object Int16Array]",hhe="[object Int32Array]",phe="[object Uint8Array]",mhe="[object Uint8ClampedArray]",ghe="[object Uint16Array]",vhe="[object Uint32Array]",or={};or[che]=or[uhe]=or[fhe]=or[dhe]=or[hhe]=or[phe]=or[mhe]=or[ghe]=or[vhe]=!0;or[Xde]=or[Kde]=or[ohe]=or[Yde]=or[lhe]=or[Jde]=or[Zde]=or[Qde]=or[ehe]=or[the]=or[rhe]=or[nhe]=or[ihe]=or[ahe]=or[she]=!1;function yhe(t){return qde(t)&&Gde(t.length)&&!!or[zde(t)]}var xhe=yhe;function whe(t){return function(e){return t(e)}}var Oj=whe,a_={exports:{}};a_.exports;(function(t,e){var r=BB,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(a_,a_.exports);var _he=a_.exports,bhe=xhe,She=Oj,GR=_he,qR=GR&&GR.isTypedArray,Ahe=qR?She(qR):bhe,Mj=Ahe,The=kde,Ehe=jI,Che=Yi,khe=Ij,Phe=UI,Ihe=Mj,Ohe=Object.prototype,Mhe=Ohe.hasOwnProperty;function Nhe(t,e){var r=Che(t),n=!r&&Ehe(t),i=!r&&!n&&khe(t),a=!r&&!n&&!i&&Ihe(t),s=r||n||i||a,o=s?The(t.length,String):[],l=o.length;for(var c in t)(e||Mhe.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Phe(c,l)))&&o.push(c);return o}var Rhe=Nhe,Dhe=Object.prototype;function Fhe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Dhe;return t===r}var Lhe=Fhe;function $he(t,e){return function(r){return t(e(r))}}var Nj=$he,Bhe=Nj,jhe=Bhe(Object.keys,Object),Uhe=jhe,Vhe=Lhe,Hhe=Uhe,Whe=Object.prototype,zhe=Whe.hasOwnProperty;function Ghe(t){if(!Vhe(t))return Hhe(t);var e=[];for(var r in Object(t))zhe.call(t,r)&&r!="constructor"&&e.push(r);return e}var qhe=Ghe,Xhe=SI,Khe=VI;function Yhe(t){return t!=null&&Khe(t.length)&&!Xhe(t)}var lx=Yhe,Jhe=Rhe,Zhe=qhe,Qhe=lx;function e0e(t){return Qhe(t)?Jhe(t):Zhe(t)}var vS=e0e,t0e=gde,r0e=Ede,n0e=vS;function i0e(t){return t0e(t,n0e,r0e)}var a0e=i0e,XR=a0e,s0e=1,o0e=Object.prototype,l0e=o0e.hasOwnProperty;function c0e(t,e,r,n,i,a){var s=r&s0e,o=XR(t),l=o.length,c=XR(e),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var d=o[f];if(!(s?d in e:l0e.call(e,d)))return!1}var h=a.get(t),m=a.get(e);if(h&&m)return h==e&&m==t;var p=!0;a.set(t,e),a.set(e,t);for(var y=s;++f<l;){d=o[f];var w=t[d],b=e[d];if(n)var _=s?n(b,w,d,e,t,a):n(w,b,d,t,e,a);if(!(_===void 0?w===b||i(w,b,r,n,a):_)){p=!1;break}y||(y=d=="constructor")}if(p&&!y){var A=t.constructor,S=e.constructor;A!=S&&"constructor"in t&&"constructor"in e&&!(typeof A=="function"&&A instanceof A&&typeof S=="function"&&S instanceof S)&&(p=!1)}return a.delete(t),a.delete(e),p}var u0e=c0e,f0e=Md,d0e=Oo,h0e=f0e(d0e,"DataView"),p0e=h0e,m0e=Md,g0e=Oo,v0e=m0e(g0e,"Promise"),y0e=v0e,x0e=Md,w0e=Oo,_0e=x0e(w0e,"Set"),Rj=_0e,b0e=Md,S0e=Oo,A0e=b0e(S0e,"WeakMap"),T0e=A0e,qE=p0e,XE=TI,KE=y0e,YE=Rj,JE=T0e,Dj=Gl,Rp=UB,KR="[object Map]",E0e="[object Object]",YR="[object Promise]",JR="[object Set]",ZR="[object WeakMap]",QR="[object DataView]",C0e=Rp(qE),k0e=Rp(XE),P0e=Rp(KE),I0e=Rp(YE),O0e=Rp(JE),Ou=Dj;(qE&&Ou(new qE(new ArrayBuffer(1)))!=QR||XE&&Ou(new XE)!=KR||KE&&Ou(KE.resolve())!=YR||YE&&Ou(new YE)!=JR||JE&&Ou(new JE)!=ZR)&&(Ou=function(t){var e=Dj(t),r=e==E0e?t.constructor:void 0,n=r?Rp(r):"";if(n)switch(n){case C0e:return QR;case k0e:return KR;case P0e:return YR;case I0e:return JR;case O0e:return ZR}return e});var M0e=Ou,XA=Sj,N0e=Cj,R0e=fde,D0e=u0e,eD=M0e,tD=Yi,rD=Ij,F0e=Mj,L0e=1,nD="[object Arguments]",iD="[object Array]",Jx="[object Object]",$0e=Object.prototype,aD=$0e.hasOwnProperty;function B0e(t,e,r,n,i,a){var s=tD(t),o=tD(e),l=s?iD:eD(t),c=o?iD:eD(e);l=l==nD?Jx:l,c=c==nD?Jx:c;var u=l==Jx,f=c==Jx,d=l==c;if(d&&rD(t)){if(!rD(e))return!1;s=!0,u=!1}if(d&&!u)return a||(a=new XA),s||F0e(t)?N0e(t,e,r,n,i,a):R0e(t,e,l,r,n,i,a);if(!(r&L0e)){var h=u&&aD.call(t,"__wrapped__"),m=f&&aD.call(e,"__wrapped__");if(h||m){var p=h?t.value():t,y=m?e.value():e;return a||(a=new XA),i(p,y,r,n,a)}}return d?(a||(a=new XA),D0e(t,e,r,n,i,a)):!1}var j0e=B0e,U0e=j0e,sD=ql;function Fj(t,e,r,n,i){return t===e?!0:t==null||e==null||!sD(t)&&!sD(e)?t!==t&&e!==e:U0e(t,e,r,n,Fj,i)}var HI=Fj,V0e=Sj,H0e=HI,W0e=1,z0e=2;function G0e(t,e,r,n){var i=r.length,a=i,s=!n;if(t==null)return!a;for(t=Object(t);i--;){var o=r[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=r[i];var l=o[0],c=t[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in t))return!1}else{var f=new V0e;if(n)var d=n(c,u,l,t,e,f);if(!(d===void 0?H0e(u,c,W0e|z0e,n,f):d))return!1}}return!0}var q0e=G0e,X0e=vu;function K0e(t){return t===t&&!X0e(t)}var Lj=K0e,Y0e=Lj,J0e=vS;function Z0e(t){for(var e=J0e(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Y0e(i)]}return e}var Q0e=Z0e;function epe(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var $j=epe,tpe=q0e,rpe=Q0e,npe=$j;function ipe(t){var e=rpe(t);return e.length==1&&e[0][2]?npe(e[0][0],e[0][1]):function(r){return r===t||tpe(r,t,e)}}var ape=ipe;function spe(t,e){return t!=null&&e in Object(t)}var ope=spe,lpe=GB,cpe=jI,upe=Yi,fpe=UI,dpe=VI,hpe=rS;function ppe(t,e,r){e=lpe(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var s=hpe(e[n]);if(!(a=t!=null&&r(t,s)))break;t=t[s]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&dpe(i)&&fpe(s,i)&&(upe(t)||cpe(t)))}var mpe=ppe,gpe=ope,vpe=mpe;function ype(t,e){return t!=null&&vpe(t,e,gpe)}var xpe=ype,wpe=HI,_pe=qB,bpe=xpe,Spe=bI,Ape=Lj,Tpe=$j,Epe=rS,Cpe=1,kpe=2;function Ppe(t,e){return Spe(t)&&Ape(e)?Tpe(Epe(t),e):function(r){var n=_pe(r,t);return n===void 0&&n===e?bpe(r,t):wpe(e,n,Cpe|kpe)}}var Ipe=Ppe;function Ope(t){return t}var Dp=Ope;function Mpe(t){return function(e){return e==null?void 0:e[t]}}var Npe=Mpe,Rpe=PI;function Dpe(t){return function(e){return Rpe(e,t)}}var Fpe=Dpe,Lpe=Npe,$pe=Fpe,Bpe=bI,jpe=rS;function Upe(t){return Bpe(t)?Lpe(jpe(t)):$pe(t)}var Vpe=Upe,Hpe=ape,Wpe=Ipe,zpe=Dp,Gpe=Yi,qpe=Vpe;function Xpe(t){return typeof t=="function"?t:t==null?zpe:typeof t=="object"?Gpe(t)?Wpe(t[0],t[1]):Hpe(t):qpe(t)}var yu=Xpe;function Kpe(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var Bj=Kpe;function Ype(t){return t!==t}var Jpe=Ype;function Zpe(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var Qpe=Zpe,eme=Bj,tme=Jpe,rme=Qpe;function nme(t,e,r){return e===e?rme(t,e,r):eme(t,tme,r)}var ime=nme,ame=ime;function sme(t,e){var r=t==null?0:t.length;return!!r&&ame(t,e,0)>-1}var ome=sme;function lme(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var cme=lme;function ume(){}var fme=ume,KA=Rj,dme=fme,hme=BI,pme=1/0,mme=KA&&1/hme(new KA([,-0]))[1]==pme?function(t){return new KA(t)}:dme,gme=mme,vme=Aj,yme=ome,xme=cme,wme=Ej,_me=gme,bme=BI,Sme=200;function Ame(t,e,r){var n=-1,i=yme,a=t.length,s=!0,o=[],l=o;if(r)s=!1,i=xme;else if(a>=Sme){var c=e?null:_me(t);if(c)return bme(c);s=!1,i=wme,l=new vme}else l=e?[]:o;e:for(;++n<a;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,s&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),o.push(u)}else i(l,f,r)||(l!==o&&l.push(f),o.push(u))}return o}var Tme=Ame,Eme=yu,Cme=Tme;function kme(t,e){return t&&t.length?Cme(t,Eme(e)):[]}var Pme=kme;const oD=tr(Pme);function jj(t,e,r){return e===!0?oD(t,r):vt(e)?oD(t,e):t}function X0(t){"@babel/helpers - typeof";return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X0(t)}var Ime=["ref"];function lD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ro(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lD(Object(r),!0).forEach(function(n){yS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ome(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Vj(n.key),n)}}function Mme(t,e,r){return e&&cD(t.prototype,e),r&&cD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nme(t,e,r){return e=s_(e),Rme(t,Uj()?Reflect.construct(e,r||[],s_(t).constructor):e.apply(t,r))}function Rme(t,e){if(e&&(X0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dme(t)}function Dme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uj=function(){return!!t})()}function s_(t){return s_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},s_(t)}function Fme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZE(t,e)}function ZE(t,e){return ZE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZE(t,e)}function yS(t,e,r){return e=Vj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vj(t){var e=Lme(t,"string");return X0(e)=="symbol"?e:e+""}function Lme(t,e){if(X0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(X0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $me(t,e){if(t==null)return{};var r=Bme(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Bme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jme(t){return t.value}function Ume(t,e){if(ne.isValidElement(t))return ne.cloneElement(t,e);if(typeof t=="function")return ne.createElement(t,e);e.ref;var r=$me(e,Ime);return ne.createElement($I,r)}var uD=1,Tl=function(t){function e(){var r;Ome(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Nme(this,e,[].concat(i)),yS(r,"lastBoundingBox",{width:-1,height:-1}),r}return Fme(e,t),Mme(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>uD||Math.abs(i.height-this.lastBoundingBox.height)>uD)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ro({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,d;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var h=this.getBBoxSnapshot();f={left:((c||0)-h.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var m=this.getBBoxSnapshot();d={top:((u||0)-m.height)/2}}else d=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ro(Ro({},f),d)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=Ro(Ro({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return ne.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},Ume(a,Ro(Ro({},this.props),{},{payload:jj(u,c,jme)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Ro(Ro({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&ke(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(re.PureComponent);yS(Tl,"displayName","Legend");yS(Tl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var fD=ax,Vme=jI,Hme=Yi,dD=fD?fD.isConcatSpreadable:void 0;function Wme(t){return Hme(t)||Vme(t)||!!(dD&&t&&t[dD])}var zme=Wme,Gme=kj,qme=zme;function Hj(t,e,r,n,i){var a=-1,s=t.length;for(r||(r=qme),i||(i=[]);++a<s;){var o=t[a];e>0&&r(o)?e>1?Hj(o,e-1,r,n,i):Gme(i,o):n||(i[i.length]=o)}return i}var Wj=Hj;function Xme(t){return function(e,r,n){for(var i=-1,a=Object(e),s=n(e),o=s.length;o--;){var l=s[t?o:++i];if(r(a[l],l,a)===!1)break}return e}}var Kme=Xme,Yme=Kme,Jme=Yme(),Zme=Jme,Qme=Zme,ege=vS;function tge(t,e){return t&&Qme(t,e,ege)}var zj=tge,rge=lx;function nge(t,e){return function(r,n){if(r==null)return r;if(!rge(r))return t(r,n);for(var i=r.length,a=e?i:-1,s=Object(r);(e?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var ige=nge,age=zj,sge=ige,oge=sge(age),WI=oge,lge=WI,cge=lx;function uge(t,e){var r=-1,n=cge(t)?Array(t.length):[];return lge(t,function(i,a,s){n[++r]=e(i,a,s)}),n}var Gj=uge;function fge(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var dge=fge,hD=kp;function hge(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=hD(t),s=e!==void 0,o=e===null,l=e===e,c=hD(e);if(!o&&!c&&!a&&t>e||a&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!i)return 1;if(!n&&!a&&!c&&t<e||c&&r&&i&&!n&&!a||o&&r&&i||!s&&i||!l)return-1}return 0}var pge=hge,mge=pge;function gge(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,s=i.length,o=r.length;++n<s;){var l=mge(i[n],a[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return t.index-e.index}var vge=gge,YA=kI,yge=PI,xge=yu,wge=Gj,_ge=dge,bge=Oj,Sge=vge,Age=Dp,Tge=Yi;function Ege(t,e,r){e.length?e=YA(e,function(a){return Tge(a)?function(s){return yge(s,a.length===1?a[0]:a)}:a}):e=[Age];var n=-1;e=YA(e,bge(xge));var i=wge(t,function(a,s,o){var l=YA(e,function(c){return c(a)});return{criteria:l,index:++n,value:a}});return _ge(i,function(a,s){return Sge(a,s,r)})}var Cge=Ege;function kge(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var Pge=kge,Ige=Pge,pD=Math.max;function Oge(t,e,r){return e=pD(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=pD(n.length-e,0),s=Array(a);++i<a;)s[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(s),Ige(t,this,o)}}var Mge=Oge;function Nge(t){return function(){return t}}var Rge=Nge,Dge=Md,Fge=function(){try{var t=Dge(Object,"defineProperty");return t({},"",{}),t}catch{}}(),qj=Fge,Lge=Rge,mD=qj,$ge=Dp,Bge=mD?function(t,e){return mD(t,"toString",{configurable:!0,enumerable:!1,value:Lge(e),writable:!0})}:$ge,jge=Bge,Uge=800,Vge=16,Hge=Date.now;function Wge(t){var e=0,r=0;return function(){var n=Hge(),i=Vge-(n-r);if(r=n,i>0){if(++e>=Uge)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var zge=Wge,Gge=jge,qge=zge,Xge=qge(Gge),Kge=Xge,Yge=Dp,Jge=Mge,Zge=Kge;function Qge(t,e){return Zge(Jge(t,e,Yge),t+"")}var eve=Qge,tve=AI,rve=lx,nve=UI,ive=vu;function ave(t,e,r){if(!ive(r))return!1;var n=typeof e;return(n=="number"?rve(r)&&nve(e,r.length):n=="string"&&e in r)?tve(r[e],t):!1}var xS=ave,sve=Wj,ove=Cge,lve=eve,gD=xS,cve=lve(function(t,e){if(t==null)return[];var r=e.length;return r>1&&gD(t,e[0],e[1])?e=[]:r>2&&gD(e[0],e[1],e[2])&&(e=[e[0]]),ove(t,sve(e,1),[])}),uve=cve;const zI=tr(uve);function Kg(t){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kg(t)}function QE(){return QE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QE.apply(this,arguments)}function fve(t,e){return mve(t)||pve(t,e)||hve(t,e)||dve()}function dve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hve(t,e){if(t){if(typeof t=="string")return vD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vD(t,e)}}function vD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function mve(t){if(Array.isArray(t))return t}function yD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yD(Object(r),!0).forEach(function(n){gve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gve(t,e,r){return e=vve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vve(t){var e=yve(t,"string");return Kg(e)=="symbol"?e:e+""}function yve(t,e){if(Kg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xve(t){return Array.isArray(t)&&yn(t[0])&&yn(t[1])?t.join(" ~ "):t}var wve=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,f=e.formatter,d=e.itemSorter,h=e.wrapperClassName,m=e.labelClassName,p=e.label,y=e.labelFormatter,w=e.accessibilityLayer,b=w===void 0?!1:w,_=function(){if(u&&u.length){var R={padding:0,margin:0},W=(d?zI(u,d):u).map(function(Q,j){if(Q.type==="none")return null;var Y=JA({display:"block",paddingTop:4,paddingBottom:4,color:Q.color||"#000"},o),J=Q.formatter||f||xve,Z=Q.value,V=Q.name,te=Z,se=V;if(J&&te!=null&&se!=null){var D=J(Z,V,Q,j,u);if(Array.isArray(D)){var q=fve(D,2);te=q[0],se=q[1]}else te=D}return ne.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(j),style:Y},yn(se)?ne.createElement("span",{className:"recharts-tooltip-item-name"},se):null,yn(se)?ne.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ne.createElement("span",{className:"recharts-tooltip-item-value"},te),ne.createElement("span",{className:"recharts-tooltip-item-unit"},Q.unit||""))});return ne.createElement("ul",{className:"recharts-tooltip-item-list",style:R},W)}return null},A=JA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=JA({margin:0},c),T=!St(p),E=T?p:"",P=Mt("recharts-default-tooltip",h),k=Mt("recharts-tooltip-label",m);T&&y&&u!==void 0&&u!==null&&(E=y(p,u));var N=b?{role:"status","aria-live":"assertive"}:{};return ne.createElement("div",QE({className:P,style:A},N),ne.createElement("p",{className:k,style:S},ne.isValidElement(E)?E:"".concat(E)),_())};function Yg(t){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yg(t)}function Zx(t,e,r){return e=_ve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ve(t){var e=bve(t,"string");return Yg(e)=="symbol"?e:e+""}function bve(t,e){if(Yg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rm="recharts-tooltip-wrapper",Sve={visibility:"hidden"};function Ave(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Mt(rm,Zx(Zx(Zx(Zx({},"".concat(rm,"-right"),ke(r)&&e&&ke(e.x)&&r>=e.x),"".concat(rm,"-left"),ke(r)&&e&&ke(e.x)&&r<e.x),"".concat(rm,"-bottom"),ke(n)&&e&&ke(e.y)&&n>=e.y),"".concat(rm,"-top"),ke(n)&&e&&ke(e.y)&&n<e.y))}function xD(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&ke(a[n]))return a[n];var u=r[n]-o-i,f=r[n]+i;if(e[n])return s[n]?u:f;if(s[n]){var d=u,h=l[n];return d<h?Math.max(f,l[n]):Math.max(u,l[n])}var m=f+o,p=l[n]+c;return m>p?Math.max(u,l[n]):Math.max(f,l[n])}function Tve(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Eve(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,u,f;return s.height>0&&s.width>0&&r?(u=xD({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=xD({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=Tve({translateX:u,translateY:f,useTranslate3d:o})):c=Sve,{cssProperties:c,cssClasses:Ave({translateX:u,translateY:f,coordinate:r})}}function K0(t){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K0(t)}function wD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _D(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wD(Object(r),!0).forEach(function(n){t2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Kj(n.key),n)}}function Pve(t,e,r){return e&&kve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ive(t,e,r){return e=o_(e),Ove(t,Xj()?Reflect.construct(e,r||[],o_(t).constructor):e.apply(t,r))}function Ove(t,e){if(e&&(K0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mve(t)}function Mve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xj=function(){return!!t})()}function o_(t){return o_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},o_(t)}function Nve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e2(t,e)}function e2(t,e){return e2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},e2(t,e)}function t2(t,e,r){return e=Kj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kj(t){var e=Rve(t,"string");return K0(e)=="symbol"?e:e+""}function Rve(t,e){if(K0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(K0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bD=1,Dve=function(t){function e(){var r;Cve(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Ive(this,e,[].concat(i)),t2(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),t2(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return Nve(e,t),Pve(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>bD||Math.abs(n.height-this.state.lastBoundingBox.height)>bD)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,h=i.offset,m=i.position,p=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,b=i.wrapperStyle,_=Eve({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:h,position:m,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:w}),A=_.cssClasses,S=_.cssProperties,T=_D(_D({transition:d&&a?"transform ".concat(o,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return ne.createElement("div",{tabIndex:-1,className:A,style:T,ref:function(P){n.wrapperNode=P}},c)}}])}(re.PureComponent),Fve=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Fp={isSsr:Fve()};function Y0(t){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y0(t)}function SD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SD(Object(r),!0).forEach(function(n){GI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $ve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Jj(n.key),n)}}function Bve(t,e,r){return e&&$ve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jve(t,e,r){return e=l_(e),Uve(t,Yj()?Reflect.construct(e,r||[],l_(t).constructor):e.apply(t,r))}function Uve(t,e){if(e&&(Y0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vve(t)}function Vve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yj=function(){return!!t})()}function l_(t){return l_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},l_(t)}function Hve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r2(t,e)}function r2(t,e){return r2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},r2(t,e)}function GI(t,e,r){return e=Jj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jj(t){var e=Wve(t,"string");return Y0(e)=="symbol"?e:e+""}function Wve(t,e){if(Y0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Y0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zve(t){return t.dataKey}function Gve(t,e){return ne.isValidElement(t)?ne.cloneElement(t,e):typeof t=="function"?ne.createElement(t,e):ne.createElement(wve,e)}var Ua=function(t){function e(){return Lve(this,e),jve(this,e,arguments)}return Hve(e,t),Bve(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,d=i.isAnimationActive,h=i.offset,m=i.payload,p=i.payloadUniqBy,y=i.position,w=i.reverseDirection,b=i.useTranslate3d,_=i.viewBox,A=i.wrapperStyle,S=m??[];f&&S.length&&(S=jj(m.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),p,zve));var T=S.length>0;return ne.createElement(Dve,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:d,active:a,coordinate:u,hasPayload:T,offset:h,position:y,reverseDirection:w,useTranslate3d:b,viewBox:_,wrapperStyle:A},Gve(c,AD(AD({},this.props),{},{payload:S})))}}])}(re.PureComponent);GI(Ua,"displayName","Tooltip");GI(Ua,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Fp.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var qve=Oo,Xve=function(){return qve.Date.now()},Kve=Xve,Yve=/\s/;function Jve(t){for(var e=t.length;e--&&Yve.test(t.charAt(e)););return e}var Zve=Jve,Qve=Zve,eye=/^\s+/;function tye(t){return t&&t.slice(0,Qve(t)+1).replace(eye,"")}var rye=tye,nye=rye,TD=vu,iye=kp,ED=NaN,aye=/^[-+]0x[0-9a-f]+$/i,sye=/^0b[01]+$/i,oye=/^0o[0-7]+$/i,lye=parseInt;function cye(t){if(typeof t=="number")return t;if(iye(t))return ED;if(TD(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=TD(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=nye(t);var r=sye.test(t);return r||oye.test(t)?lye(t.slice(2),r?2:8):aye.test(t)?ED:+t}var Zj=cye,uye=vu,ZA=Kve,CD=Zj,fye="Expected a function",dye=Math.max,hye=Math.min;function pye(t,e,r){var n,i,a,s,o,l,c=0,u=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(fye);e=CD(e)||0,uye(r)&&(u=!!r.leading,f="maxWait"in r,a=f?dye(CD(r.maxWait)||0,e):a,d="trailing"in r?!!r.trailing:d);function h(T){var E=n,P=i;return n=i=void 0,c=T,s=t.apply(P,E),s}function m(T){return c=T,o=setTimeout(w,e),u?h(T):s}function p(T){var E=T-l,P=T-c,k=e-E;return f?hye(k,a-P):k}function y(T){var E=T-l,P=T-c;return l===void 0||E>=e||E<0||f&&P>=a}function w(){var T=ZA();if(y(T))return b(T);o=setTimeout(w,p(T))}function b(T){return o=void 0,d&&n?h(T):(n=i=void 0,s)}function _(){o!==void 0&&clearTimeout(o),c=0,n=l=i=o=void 0}function A(){return o===void 0?s:b(ZA())}function S(){var T=ZA(),E=y(T);if(n=arguments,i=this,l=T,E){if(o===void 0)return m(l);if(f)return clearTimeout(o),o=setTimeout(w,e),h(l)}return o===void 0&&(o=setTimeout(w,e)),s}return S.cancel=_,S.flush=A,S}var mye=pye,gye=mye,vye=vu,yye="Expected a function";function xye(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(yye);return vye(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),gye(t,e,{leading:n,maxWait:e,trailing:i})}var wye=xye;const Qj=tr(wye);function Jg(t){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jg(t)}function kD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kD(Object(r),!0).forEach(function(n){_ye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _ye(t,e,r){return e=bye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bye(t){var e=Sye(t,"string");return Jg(e)=="symbol"?e:e+""}function Sye(t,e){if(Jg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aye(t,e){return kye(t)||Cye(t,e)||Eye(t,e)||Tye()}function Tye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eye(t,e){if(t){if(typeof t=="string")return PD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PD(t,e)}}function PD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Cye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function kye(t){if(Array.isArray(t))return t}var eU=re.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,u=c===void 0?0:c,f=t.minHeight,d=t.maxHeight,h=t.children,m=t.debounce,p=m===void 0?0:m,y=t.id,w=t.className,b=t.onResize,_=t.style,A=_===void 0?{}:_,S=re.useRef(null),T=re.useRef();T.current=b,re.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var E=re.useState({containerWidth:i.width,containerHeight:i.height}),P=Aye(E,2),k=P[0],N=P[1],O=re.useCallback(function(W,Q){N(function(j){var Y=Math.round(W),J=Math.round(Q);return j.containerWidth===Y&&j.containerHeight===J?j:{containerWidth:Y,containerHeight:J}})},[]);re.useEffect(function(){var W=function(V){var te,se=V[0].contentRect,D=se.width,q=se.height;O(D,q),(te=T.current)===null||te===void 0||te.call(T,D,q)};p>0&&(W=Qj(W,p,{trailing:!0,leading:!1}));var Q=new ResizeObserver(W),j=S.current.getBoundingClientRect(),Y=j.width,J=j.height;return O(Y,J),Q.observe(S.current),function(){Q.disconnect()}},[O,p]);var R=re.useMemo(function(){var W=k.containerWidth,Q=k.containerHeight;if(W<0||Q<0)return null;Al(Wu(s)||Wu(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Al(!r||r>0,"The aspect(%s) must be greater than zero.",r);var j=Wu(s)?W:s,Y=Wu(l)?Q:l;r&&r>0&&(j?Y=j/r:Y&&(j=Y*r),d&&Y>d&&(Y=d)),Al(j>0||Y>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,Y,s,l,u,f,r);var J=!Array.isArray(h)&&Sl(h.type).endsWith("Chart");return ne.Children.map(h,function(Z){return ne.isValidElement(Z)?re.cloneElement(Z,Qx({width:j,height:Y},J?{style:Qx({height:"100%",width:"100%",maxHeight:Y,maxWidth:j},Z.props.style)}:{})):Z})},[r,h,l,d,f,u,k,s]);return ne.createElement("div",{id:y?"".concat(y):void 0,className:Mt("recharts-responsive-container",w),style:Qx(Qx({},A),{},{width:s,height:l,minWidth:u,minHeight:f,maxHeight:d}),ref:S},R)}),tU=function(e){return null};tU.displayName="Cell";function Zg(t){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zg(t)}function ID(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function n2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ID(Object(r),!0).forEach(function(n){Pye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ID(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pye(t,e,r){return e=Iye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Iye(t){var e=Oye(t,"string");return Zg(e)=="symbol"?e:e+""}function Oye(t,e){if(Zg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wd={widthCache:{},cacheCount:0},Mye=2e3,Nye={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},OD="recharts_measurement_span";function Rye(t){var e=n2({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var ig=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Fp.isSsr)return{width:0,height:0};var n=Rye(r),i=JSON.stringify({text:e,copyStyle:n});if(Wd.widthCache[i])return Wd.widthCache[i];try{var a=document.getElementById(OD);a||(a=document.createElement("span"),a.setAttribute("id",OD),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=n2(n2({},Nye),n);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return Wd.widthCache[i]=l,++Wd.cacheCount>Mye&&(Wd.cacheCount=0,Wd.widthCache={}),l}catch{return{width:0,height:0}}},Dye=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Qg(t){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qg(t)}function c_(t,e){return Bye(t)||$ye(t,e)||Lye(t,e)||Fye()}function Fye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lye(t,e){if(t){if(typeof t=="string")return MD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MD(t,e)}}function MD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $ye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Bye(t){if(Array.isArray(t))return t}function jye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ND(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Vye(n.key),n)}}function Uye(t,e,r){return e&&ND(t.prototype,e),r&&ND(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vye(t){var e=Hye(t,"string");return Qg(e)=="symbol"?e:e+""}function Hye(t,e){if(Qg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var RD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Wye=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,zye=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,rU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Gye=Object.keys(rU),yh="NaN";function qye(t,e){return t*rU[e]}var e1=function(){function t(e,r){jye(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!Wye.test(r)&&(this.num=NaN,this.unit=""),Gye.includes(r)&&(this.num=qye(e,r),this.unit="px")}return Uye(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=zye.exec(r))!==null&&n!==void 0?n:[],a=c_(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function nU(t){if(t.includes(yh))return yh;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=RD.exec(e))!==null&&r!==void 0?r:[],i=c_(n,4),a=i[1],s=i[2],o=i[3],l=e1.parse(a??""),c=e1.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return yh;e=e.replace(RD,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,d=(f=DD.exec(e))!==null&&f!==void 0?f:[],h=c_(d,4),m=h[1],p=h[2],y=h[3],w=e1.parse(m??""),b=e1.parse(y??""),_=p==="+"?w.add(b):w.subtract(b);if(_.isNaN())return yh;e=e.replace(DD,_.toString())}return e}var FD=/\(([^()]*)\)/;function Xye(t){for(var e=t;e.includes("(");){var r=FD.exec(e),n=c_(r,2),i=n[1];e=e.replace(FD,nU(i))}return e}function Kye(t){var e=t.replace(/\s+/g,"");return e=Xye(e),e=nU(e),e}function Yye(t){try{return Kye(t)}catch{return yh}}function QA(t){var e=Yye(t.slice(5,-1));return e===yh?"":e}var Jye=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Zye=["dx","dy","angle","className","breakAll"];function i2(){return i2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i2.apply(this,arguments)}function LD(t,e){if(t==null)return{};var r=Qye(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $D(t,e){return nxe(t)||rxe(t,e)||txe(t,e)||exe()}function exe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function txe(t,e){if(t){if(typeof t=="string")return BD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BD(t,e)}}function BD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rxe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function nxe(t){if(Array.isArray(t))return t}var iU=/[ \f\n\r\t\v\u2028\u2029]+/,aU=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];St(r)||(n?a=r.toString().split(""):a=r.toString().split(iU));var s=a.map(function(l){return{word:l,width:ig(l,i).width}}),o=n?0:ig("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},ixe=function(e,r,n,i,a){var s=e.maxLines,o=e.children,l=e.style,c=e.breakAll,u=ke(s),f=o,d=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return j.reduce(function(Y,J){var Z=J.word,V=J.width,te=Y[Y.length-1];if(te&&(i==null||a||te.width+V+n<Number(i)))te.words.push(Z),te.width+=V+n;else{var se={words:[Z],width:V};Y.push(se)}return Y},[])},h=d(r),m=function(j){return j.reduce(function(Y,J){return Y.width>J.width?Y:J})};if(!u)return h;for(var p="",y=function(j){var Y=f.slice(0,j),J=aU({breakAll:c,style:l,children:Y+p}).wordsWithComputedWidth,Z=d(J),V=Z.length>s||m(Z).width>Number(i);return[V,Z]},w=0,b=f.length-1,_=0,A;w<=b&&_<=f.length-1;){var S=Math.floor((w+b)/2),T=S-1,E=y(T),P=$D(E,2),k=P[0],N=P[1],O=y(S),R=$D(O,1),W=R[0];if(!k&&!W&&(w=S+1),k&&W&&(b=S-1),!k&&W){A=N;break}_++}return A||h},jD=function(e){var r=St(e)?[]:e.toString().split(iU);return[{words:r}]},axe=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((r||n)&&!Fp.isSsr){var l,c,u=aU({breakAll:s,children:i,style:a});if(u){var f=u.wordsWithComputedWidth,d=u.spaceWidth;l=f,c=d}else return jD(i);return ixe({breakAll:s,children:i,maxLines:o,style:a},l,c,r,n)}return jD(i)},UD="#808080",u_=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,f=u===void 0?!1:u,d=e.textAnchor,h=d===void 0?"start":d,m=e.verticalAnchor,p=m===void 0?"end":m,y=e.fill,w=y===void 0?UD:y,b=LD(e,Jye),_=re.useMemo(function(){return axe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),A=b.dx,S=b.dy,T=b.angle,E=b.className,P=b.breakAll,k=LD(b,Zye);if(!yn(n)||!yn(a))return null;var N=n+(ke(A)?A:0),O=a+(ke(S)?S:0),R;switch(p){case"start":R=QA("calc(".concat(c,")"));break;case"middle":R=QA("calc(".concat((_.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:R=QA("calc(".concat(_.length-1," * -").concat(o,")"));break}var W=[];if(f){var Q=_[0].width,j=b.width;W.push("scale(".concat((ke(j)?j/Q:1)/Q,")"))}return T&&W.push("rotate(".concat(T,", ").concat(N,", ").concat(O,")")),W.length&&(k.transform=W.join(" ")),ne.createElement("text",i2({},kt(k,!0),{x:N,y:O,className:Mt("recharts-text",E),textAnchor:h,fill:w.includes("url")?UD:w}),_.map(function(Y,J){var Z=Y.words.join(P?"":" ");return ne.createElement("tspan",{x:N,dy:J===0?R:o,key:"".concat(Z,"-").concat(J)},Z)}))};function Yc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function sxe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function qI(t){let e,r,n;t.length!==2?(e=Yc,r=(o,l)=>Yc(t(o),l),n=(o,l)=>t(o)-l):(e=t===Yc||t===sxe?t:oxe,r=t,n=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=i(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function oxe(){return 0}function sU(t){return t===null?NaN:+t}function*lxe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const cxe=qI(Yc),cx=cxe.right;qI(sU).center;class VD extends Map{constructor(e,r=dxe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(HD(this,e))}has(e){return super.has(HD(this,e))}set(e,r){return super.set(uxe(this,e),r)}delete(e){return super.delete(fxe(this,e))}}function HD({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function uxe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function fxe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function dxe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function hxe(t=Yc){if(t===Yc)return oU;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function oU(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const pxe=Math.sqrt(50),mxe=Math.sqrt(10),gxe=Math.sqrt(2);function f_(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=pxe?10:a>=mxe?5:a>=gxe?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=r&&r<2?f_(t,e,r*2):[o,l,c]}function a2(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?f_(e,t,r):f_(t,e,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function s2(t,e,r){return e=+e,t=+t,r=+r,f_(t,e,r)[2]}function o2(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?s2(e,t,r):s2(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function WD(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function zD(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function lU(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?oU:hxe(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),h=Math.max(r,Math.floor(e-c*f/l+d)),m=Math.min(n,Math.floor(e+(l-c)*f/l+d));lU(t,e,h,m,i)}const a=t[e];let s=r,o=n;for(nm(t,r,e),i(t[n],a)>0&&nm(t,r,n);s<o;){for(nm(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[r],a)===0?nm(t,r,o):(++o,nm(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function nm(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function vxe(t,e,r){if(t=Float64Array.from(lxe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return zD(t);if(e>=1)return WD(t);var n,i=(n-1)*e,a=Math.floor(i),s=WD(lU(t,a).subarray(0,a+1)),o=zD(t.subarray(a+1));return s+(o-s)*(i-a)}}function yxe(t,e,r=sU){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),o=+r(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function xxe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function ss(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Xl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const l2=Symbol("implicit");function XI(){var t=new VD,e=[],r=[],n=l2;function i(a){let s=t.get(a);if(s===void 0){if(n!==l2)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new VD;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return XI(e,r).unknown(n)},ss.apply(i,arguments),i}function ev(){var t=XI().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,o=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var d=e().length,h=i<n,m=h?i:n,p=h?n:i;a=(p-m)/Math.max(1,d-l+c*2),o&&(a=Math.floor(a)),m+=(p-m-a*(d-l))*u,s=a*(1-l),o&&(m=Math.round(m),s=Math.round(s));var y=xxe(d).map(function(w){return m+a*w});return r(h?y.reverse():y)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([n,i]=d,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(d){return[n,i]=d,n=+n,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(d){return arguments.length?(o=!!d,f()):o},t.padding=function(d){return arguments.length?(l=Math.min(1,c=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(c=+d,f()):c},t.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),f()):u},t.copy=function(){return ev(e(),[n,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},ss.apply(f(),arguments)}function cU(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return cU(e())},t}function ag(){return cU(ev.apply(null,arguments).paddingInner(1))}function KI(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function uU(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function ux(){}var tv=.7,d_=1/tv,Rh="\\s*([+-]?\\d+)\\s*",rv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ao="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wxe=/^#([0-9a-f]{3,8})$/,_xe=new RegExp(`^rgb\\(${Rh},${Rh},${Rh}\\)$`),bxe=new RegExp(`^rgb\\(${Ao},${Ao},${Ao}\\)$`),Sxe=new RegExp(`^rgba\\(${Rh},${Rh},${Rh},${rv}\\)$`),Axe=new RegExp(`^rgba\\(${Ao},${Ao},${Ao},${rv}\\)$`),Txe=new RegExp(`^hsl\\(${rv},${Ao},${Ao}\\)$`),Exe=new RegExp(`^hsla\\(${rv},${Ao},${Ao},${rv}\\)$`),GD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};KI(ux,nv,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:qD,formatHex:qD,formatHex8:Cxe,formatHsl:kxe,formatRgb:XD,toString:XD});function qD(){return this.rgb().formatHex()}function Cxe(){return this.rgb().formatHex8()}function kxe(){return fU(this).formatHsl()}function XD(){return this.rgb().formatRgb()}function nv(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=wxe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?KD(e):r===3?new Vi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?t1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?t1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=_xe.exec(t))?new Vi(e[1],e[2],e[3],1):(e=bxe.exec(t))?new Vi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Sxe.exec(t))?t1(e[1],e[2],e[3],e[4]):(e=Axe.exec(t))?t1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Txe.exec(t))?ZD(e[1],e[2]/100,e[3]/100,1):(e=Exe.exec(t))?ZD(e[1],e[2]/100,e[3]/100,e[4]):GD.hasOwnProperty(t)?KD(GD[t]):t==="transparent"?new Vi(NaN,NaN,NaN,0):null}function KD(t){return new Vi(t>>16&255,t>>8&255,t&255,1)}function t1(t,e,r,n){return n<=0&&(t=e=r=NaN),new Vi(t,e,r,n)}function Pxe(t){return t instanceof ux||(t=nv(t)),t?(t=t.rgb(),new Vi(t.r,t.g,t.b,t.opacity)):new Vi}function c2(t,e,r,n){return arguments.length===1?Pxe(t):new Vi(t,e,r,n??1)}function Vi(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}KI(Vi,c2,uU(ux,{brighter(t){return t=t==null?d_:Math.pow(d_,t),new Vi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?tv:Math.pow(tv,t),new Vi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Vi(Jf(this.r),Jf(this.g),Jf(this.b),h_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:YD,formatHex:YD,formatHex8:Ixe,formatRgb:JD,toString:JD}));function YD(){return`#${zu(this.r)}${zu(this.g)}${zu(this.b)}`}function Ixe(){return`#${zu(this.r)}${zu(this.g)}${zu(this.b)}${zu((isNaN(this.opacity)?1:this.opacity)*255)}`}function JD(){const t=h_(this.opacity);return`${t===1?"rgb(":"rgba("}${Jf(this.r)}, ${Jf(this.g)}, ${Jf(this.b)}${t===1?")":`, ${t})`}`}function h_(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Jf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function zu(t){return t=Jf(t),(t<16?"0":"")+t.toString(16)}function ZD(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ms(t,e,r,n)}function fU(t){if(t instanceof Ms)return new Ms(t.h,t.s,t.l,t.opacity);if(t instanceof ux||(t=nv(t)),!t)return new Ms;if(t instanceof Ms)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-e)/o+2:s=(e-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Ms(s,o,l,t.opacity)}function Oxe(t,e,r,n){return arguments.length===1?fU(t):new Ms(t,e,r,n??1)}function Ms(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}KI(Ms,Oxe,uU(ux,{brighter(t){return t=t==null?d_:Math.pow(d_,t),new Ms(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?tv:Math.pow(tv,t),new Ms(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Vi(eT(t>=240?t-240:t+120,i,n),eT(t,i,n),eT(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Ms(QD(this.h),r1(this.s),r1(this.l),h_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=h_(this.opacity);return`${t===1?"hsl(":"hsla("}${QD(this.h)}, ${r1(this.s)*100}%, ${r1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function QD(t){return t=(t||0)%360,t<0?t+360:t}function r1(t){return Math.max(0,Math.min(1,t||0))}function eT(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const YI=t=>()=>t;function Mxe(t,e){return function(r){return t+r*e}}function Nxe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Rxe(t){return(t=+t)==1?dU:function(e,r){return r-e?Nxe(e,r,t):YI(isNaN(e)?r:e)}}function dU(t,e){var r=e-t;return r?Mxe(t,r):YI(isNaN(t)?e:t)}const eF=function t(e){var r=Rxe(e);function n(i,a){var s=r((i=c2(i)).r,(a=c2(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),c=dU(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=t,n}(1);function Dxe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function Fxe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Lxe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Lp(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function $xe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function p_(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Bxe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Lp(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var u2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tT=new RegExp(u2.source,"g");function jxe(t){return function(){return t}}function Uxe(t){return function(e){return t(e)+""}}function Vxe(t,e){var r=u2.lastIndex=tT.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(n=u2.exec(t))&&(i=tT.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:p_(n,i)})),r=tT.lastIndex;return r<e.length&&(a=e.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?Uxe(l[0].x):jxe(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function Lp(t,e){var r=typeof e,n;return e==null||r==="boolean"?YI(e):(r==="number"?p_:r==="string"?(n=nv(e))?(e=n,eF):Vxe:e instanceof nv?eF:e instanceof Date?$xe:Fxe(e)?Dxe:Array.isArray(e)?Lxe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Bxe:p_)(t,e)}function JI(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Hxe(t,e){e===void 0&&(e=t,t=Lp);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function Wxe(t){return function(){return t}}function m_(t){return+t}var tF=[0,1];function Ai(t){return t}function f2(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Wxe(isNaN(e)?NaN:.5)}function zxe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Gxe(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=f2(i,n),a=r(s,a)):(n=f2(n,i),a=r(a,s)),function(o){return a(n(o))}}function qxe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=f2(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(o){var l=cx(t,o,1,n)-1;return a[l](i[l](o))}}function fx(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function wS(){var t=tF,e=tF,r=Lp,n,i,a,s=Ai,o,l,c;function u(){var d=Math.min(t.length,e.length);return s!==Ai&&(s=zxe(t[0],t[d-1])),o=d>2?qxe:Gxe,l=c=null,f}function f(d){return d==null||isNaN(d=+d)?a:(l||(l=o(t.map(n),e,r)))(n(s(d)))}return f.invert=function(d){return s(i((c||(c=o(e,t.map(n),p_)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,m_),u()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),u()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),r=JI,u()},f.clamp=function(d){return arguments.length?(s=d?!0:Ai,u()):s!==Ai},f.interpolate=function(d){return arguments.length?(r=d,u()):r},f.unknown=function(d){return arguments.length?(a=d,f):a},function(d,h){return n=d,i=h,u()}}function ZI(){return wS()(Ai,Ai)}function Xxe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function g_(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function J0(t){return t=g_(Math.abs(t)),t?t[1]:NaN}function Kxe(t,e){return function(r,n){for(var i=r.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Yxe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Jxe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function iv(t){if(!(e=Jxe.exec(t)))throw new Error("invalid format: "+t);var e;return new QI({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}iv.prototype=QI.prototype;function QI(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}QI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Zxe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var hU;function Qxe(t,e){var r=g_(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(hU=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+g_(t,Math.max(0,e+a-1))[0]}function rF(t,e){var r=g_(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const nF={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Xxe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>rF(t*100,e),r:rF,s:Qxe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function iF(t){return t}var aF=Array.prototype.map,sF=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function e1e(t){var e=t.grouping===void 0||t.thousands===void 0?iF:Kxe(aF.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?iF:Yxe(aF.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=iv(f);var d=f.fill,h=f.align,m=f.sign,p=f.symbol,y=f.zero,w=f.width,b=f.comma,_=f.precision,A=f.trim,S=f.type;S==="n"?(b=!0,S="g"):nF[S]||(_===void 0&&(_=12),A=!0,S="g"),(y||d==="0"&&h==="=")&&(y=!0,d="0",h="=");var T=p==="$"?r:p==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",E=p==="$"?n:/[%p]/.test(S)?s:"",P=nF[S],k=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function N(O){var R=T,W=E,Q,j,Y;if(S==="c")W=P(O)+W,O="";else{O=+O;var J=O<0||1/O<0;if(O=isNaN(O)?l:P(Math.abs(O),_),A&&(O=Zxe(O)),J&&+O==0&&m!=="+"&&(J=!1),R=(J?m==="("?m:o:m==="-"||m==="("?"":m)+R,W=(S==="s"?sF[8+hU/3]:"")+W+(J&&m==="("?")":""),k){for(Q=-1,j=O.length;++Q<j;)if(Y=O.charCodeAt(Q),48>Y||Y>57){W=(Y===46?i+O.slice(Q+1):O.slice(Q))+W,O=O.slice(0,Q);break}}}b&&!y&&(O=e(O,1/0));var Z=R.length+O.length+W.length,V=Z<w?new Array(w-Z+1).join(d):"";switch(b&&y&&(O=e(V+O,V.length?w-W.length:1/0),V=""),h){case"<":O=R+O+W+V;break;case"=":O=R+V+O+W;break;case"^":O=V.slice(0,Z=V.length>>1)+R+O+W+V.slice(Z);break;default:O=V+R+O+W;break}return a(O)}return N.toString=function(){return f+""},N}function u(f,d){var h=c((f=iv(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(J0(d)/3)))*3,p=Math.pow(10,-m),y=sF[8+m/3];return function(w){return h(p*w)+y}}return{format:c,formatPrefix:u}}var n1,eO,pU;t1e({thousands:",",grouping:[3],currency:["$",""]});function t1e(t){return n1=e1e(t),eO=n1.format,pU=n1.formatPrefix,n1}function r1e(t){return Math.max(0,-J0(Math.abs(t)))}function n1e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(J0(e)/3)))*3-J0(Math.abs(t)))}function i1e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,J0(e)-J0(t))+1}function mU(t,e,r,n){var i=o2(t,e,r),a;switch(n=iv(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=n1e(i,s))&&(n.precision=a),pU(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=i1e(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=r1e(i))&&(n.precision=a-(n.type==="%")*2);break}}return eO(n)}function xu(t){var e=t.domain;return t.ticks=function(r){var n=e();return a2(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return mU(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],o=n[a],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);u-- >0;){if(c=s2(s,o,r),c===l)return n[i]=s,n[a]=o,e(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function v_(){var t=ZI();return t.copy=function(){return fx(t,v_())},ss.apply(t,arguments),xu(t)}function gU(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,m_),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return gU(t).unknown(e)},t=arguments.length?Array.from(t,m_):[0,1],xu(r)}function vU(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function oF(t){return Math.log(t)}function lF(t){return Math.exp(t)}function a1e(t){return-Math.log(-t)}function s1e(t){return-Math.exp(-t)}function o1e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function l1e(t){return t===10?o1e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function c1e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function cF(t){return(e,r)=>-t(-e,r)}function tO(t){const e=t(oF,lF),r=e.domain;let n=10,i,a;function s(){return i=c1e(n),a=l1e(n),r()[0]<0?(i=cF(i),a=cF(a),t(a1e,s1e)):t(oF,lF),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let d=i(c),h=i(u),m,p;const y=o==null?10:+o;let w=[];if(!(n%1)&&h-d<y){if(d=Math.floor(d),h=Math.ceil(h),c>0){for(;d<=h;++d)for(m=1;m<n;++m)if(p=d<0?m/a(-d):m*a(d),!(p<c)){if(p>u)break;w.push(p)}}else for(;d<=h;++d)for(m=n-1;m>=1;--m)if(p=d>0?m/a(-d):m*a(d),!(p<c)){if(p>u)break;w.push(p)}w.length*2<y&&(w=a2(c,u,y))}else w=a2(d,h,Math.min(h-d,y)).map(a);return f?w.reverse():w},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=iv(l)).precision==null&&(l.trim=!0),l=eO(l)),o===1/0)return l;const c=Math.max(1,n*o/e.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},e.nice=()=>r(vU(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function yU(){const t=tO(wS()).domain([1,10]);return t.copy=()=>fx(t,yU()).base(t.base()),ss.apply(t,arguments),t}function uF(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function fF(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function rO(t){var e=1,r=t(uF(e),fF(e));return r.constant=function(n){return arguments.length?t(uF(e=+n),fF(e)):e},xu(r)}function xU(){var t=rO(wS());return t.copy=function(){return fx(t,xU()).constant(t.constant())},ss.apply(t,arguments)}function dF(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function u1e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function f1e(t){return t<0?-t*t:t*t}function nO(t){var e=t(Ai,Ai),r=1;function n(){return r===1?t(Ai,Ai):r===.5?t(u1e,f1e):t(dF(r),dF(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},xu(e)}function iO(){var t=nO(wS());return t.copy=function(){return fx(t,iO()).exponent(t.exponent())},ss.apply(t,arguments),t}function d1e(){return iO.apply(null,arguments).exponent(.5)}function hF(t){return Math.sign(t)*t*t}function h1e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function wU(){var t=ZI(),e=[0,1],r=!1,n;function i(a){var s=h1e(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(hF(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,m_)).map(hF)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return wU(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},ss.apply(i,arguments),xu(i)}function _U(){var t=[],e=[],r=[],n;function i(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=yxe(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:e[cx(r,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Yc),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return _U().domain(t).range(e).unknown(n)},ss.apply(a,arguments)}function bU(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[cx(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return bU().domain([t,e]).range(i).unknown(a)},ss.apply(xu(s),arguments)}function SU(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[cx(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return SU().domain(t).range(e).unknown(r)},ss.apply(i,arguments)}const rT=new Date,nT=new Date;function _n(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return l},i.filter=a=>_n(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(rT.setTime(+a),nT.setTime(+s),t(rT),t(nT),Math.floor(r(rT,nT))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const y_=_n(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);y_.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?_n(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):y_);y_.range;const gl=1e3,qa=gl*60,vl=qa*60,Dl=vl*24,aO=Dl*7,pF=Dl*30,iT=Dl*365,Gu=_n(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*gl)},(t,e)=>(e-t)/gl,t=>t.getUTCSeconds());Gu.range;const sO=_n(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gl)},(t,e)=>{t.setTime(+t+e*qa)},(t,e)=>(e-t)/qa,t=>t.getMinutes());sO.range;const oO=_n(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*qa)},(t,e)=>(e-t)/qa,t=>t.getUTCMinutes());oO.range;const lO=_n(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gl-t.getMinutes()*qa)},(t,e)=>{t.setTime(+t+e*vl)},(t,e)=>(e-t)/vl,t=>t.getHours());lO.range;const cO=_n(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*vl)},(t,e)=>(e-t)/vl,t=>t.getUTCHours());cO.range;const dx=_n(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*qa)/Dl,t=>t.getDate()-1);dx.range;const _S=_n(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Dl,t=>t.getUTCDate()-1);_S.range;const AU=_n(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Dl,t=>Math.floor(t/Dl));AU.range;function Nd(t){return _n(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*qa)/aO)}const bS=Nd(0),x_=Nd(1),p1e=Nd(2),m1e=Nd(3),Z0=Nd(4),g1e=Nd(5),v1e=Nd(6);bS.range;x_.range;p1e.range;m1e.range;Z0.range;g1e.range;v1e.range;function Rd(t){return _n(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/aO)}const SS=Rd(0),w_=Rd(1),y1e=Rd(2),x1e=Rd(3),Q0=Rd(4),w1e=Rd(5),_1e=Rd(6);SS.range;w_.range;y1e.range;x1e.range;Q0.range;w1e.range;_1e.range;const uO=_n(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());uO.range;const fO=_n(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());fO.range;const Fl=_n(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Fl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_n(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Fl.range;const Ll=_n(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ll.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_n(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Ll.range;function TU(t,e,r,n,i,a){const s=[[Gu,1,gl],[Gu,5,5*gl],[Gu,15,15*gl],[Gu,30,30*gl],[a,1,qa],[a,5,5*qa],[a,15,15*qa],[a,30,30*qa],[i,1,vl],[i,3,3*vl],[i,6,6*vl],[i,12,12*vl],[n,1,Dl],[n,2,2*Dl],[r,1,aO],[e,1,pF],[e,3,3*pF],[t,1,iT]];function o(c,u,f){const d=u<c;d&&([c,u]=[u,c]);const h=f&&typeof f.range=="function"?f:l(c,u,f),m=h?h.range(c,+u+1):[];return d?m.reverse():m}function l(c,u,f){const d=Math.abs(u-c)/f,h=qI(([,,y])=>y).right(s,d);if(h===s.length)return t.every(o2(c/iT,u/iT,f));if(h===0)return y_.every(Math.max(o2(c,u,f),1));const[m,p]=s[d/s[h-1][2]<s[h][2]/d?h-1:h];return m.every(p)}return[o,l]}const[b1e,S1e]=TU(Ll,fO,SS,AU,cO,oO),[A1e,T1e]=TU(Fl,uO,bS,dx,lO,sO);function aT(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function sT(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function im(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function E1e(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=am(i),u=sm(i),f=am(a),d=sm(a),h=am(s),m=sm(s),p=am(o),y=sm(o),w=am(l),b=sm(l),_={a:J,A:Z,b:V,B:te,c:null,d:wF,e:wF,f:K1e,g:awe,G:owe,H:G1e,I:q1e,j:X1e,L:EU,m:Y1e,M:J1e,p:se,q:D,Q:SF,s:AF,S:Z1e,u:Q1e,U:ewe,V:twe,w:rwe,W:nwe,x:null,X:null,y:iwe,Y:swe,Z:lwe,"%":bF},A={a:q,A:X,b:ee,B:ae,c:null,d:_F,e:_F,f:dwe,g:bwe,G:Awe,H:cwe,I:uwe,j:fwe,L:kU,m:hwe,M:pwe,p:ue,q:ve,Q:SF,s:AF,S:mwe,u:gwe,U:vwe,V:ywe,w:xwe,W:wwe,x:null,X:null,y:_we,Y:Swe,Z:Twe,"%":bF},S={a:N,A:O,b:R,B:W,c:Q,d:yF,e:yF,f:V1e,g:vF,G:gF,H:xF,I:xF,j:$1e,L:U1e,m:L1e,M:B1e,p:k,q:F1e,Q:W1e,s:z1e,S:j1e,u:O1e,U:M1e,V:N1e,w:I1e,W:R1e,x:j,X:Y,y:vF,Y:gF,Z:D1e,"%":H1e};_.x=T(r,_),_.X=T(n,_),_.c=T(e,_),A.x=T(r,A),A.X=T(n,A),A.c=T(e,A);function T(ie,ce){return function(be){var L=[],Ue=-1,Ce=0,Ve=ie.length,Be,xe,Tt;for(be instanceof Date||(be=new Date(+be));++Ue<Ve;)ie.charCodeAt(Ue)===37&&(L.push(ie.slice(Ce,Ue)),(xe=mF[Be=ie.charAt(++Ue)])!=null?Be=ie.charAt(++Ue):xe=Be==="e"?" ":"0",(Tt=ce[Be])&&(Be=Tt(be,xe)),L.push(Be),Ce=Ue+1);return L.push(ie.slice(Ce,Ue)),L.join("")}}function E(ie,ce){return function(be){var L=im(1900,void 0,1),Ue=P(L,ie,be+="",0),Ce,Ve;if(Ue!=be.length)return null;if("Q"in L)return new Date(L.Q);if("s"in L)return new Date(L.s*1e3+("L"in L?L.L:0));if(ce&&!("Z"in L)&&(L.Z=0),"p"in L&&(L.H=L.H%12+L.p*12),L.m===void 0&&(L.m="q"in L?L.q:0),"V"in L){if(L.V<1||L.V>53)return null;"w"in L||(L.w=1),"Z"in L?(Ce=sT(im(L.y,0,1)),Ve=Ce.getUTCDay(),Ce=Ve>4||Ve===0?w_.ceil(Ce):w_(Ce),Ce=_S.offset(Ce,(L.V-1)*7),L.y=Ce.getUTCFullYear(),L.m=Ce.getUTCMonth(),L.d=Ce.getUTCDate()+(L.w+6)%7):(Ce=aT(im(L.y,0,1)),Ve=Ce.getDay(),Ce=Ve>4||Ve===0?x_.ceil(Ce):x_(Ce),Ce=dx.offset(Ce,(L.V-1)*7),L.y=Ce.getFullYear(),L.m=Ce.getMonth(),L.d=Ce.getDate()+(L.w+6)%7)}else("W"in L||"U"in L)&&("w"in L||(L.w="u"in L?L.u%7:"W"in L?1:0),Ve="Z"in L?sT(im(L.y,0,1)).getUTCDay():aT(im(L.y,0,1)).getDay(),L.m=0,L.d="W"in L?(L.w+6)%7+L.W*7-(Ve+5)%7:L.w+L.U*7-(Ve+6)%7);return"Z"in L?(L.H+=L.Z/100|0,L.M+=L.Z%100,sT(L)):aT(L)}}function P(ie,ce,be,L){for(var Ue=0,Ce=ce.length,Ve=be.length,Be,xe;Ue<Ce;){if(L>=Ve)return-1;if(Be=ce.charCodeAt(Ue++),Be===37){if(Be=ce.charAt(Ue++),xe=S[Be in mF?ce.charAt(Ue++):Be],!xe||(L=xe(ie,be,L))<0)return-1}else if(Be!=be.charCodeAt(L++))return-1}return L}function k(ie,ce,be){var L=c.exec(ce.slice(be));return L?(ie.p=u.get(L[0].toLowerCase()),be+L[0].length):-1}function N(ie,ce,be){var L=h.exec(ce.slice(be));return L?(ie.w=m.get(L[0].toLowerCase()),be+L[0].length):-1}function O(ie,ce,be){var L=f.exec(ce.slice(be));return L?(ie.w=d.get(L[0].toLowerCase()),be+L[0].length):-1}function R(ie,ce,be){var L=w.exec(ce.slice(be));return L?(ie.m=b.get(L[0].toLowerCase()),be+L[0].length):-1}function W(ie,ce,be){var L=p.exec(ce.slice(be));return L?(ie.m=y.get(L[0].toLowerCase()),be+L[0].length):-1}function Q(ie,ce,be){return P(ie,e,ce,be)}function j(ie,ce,be){return P(ie,r,ce,be)}function Y(ie,ce,be){return P(ie,n,ce,be)}function J(ie){return s[ie.getDay()]}function Z(ie){return a[ie.getDay()]}function V(ie){return l[ie.getMonth()]}function te(ie){return o[ie.getMonth()]}function se(ie){return i[+(ie.getHours()>=12)]}function D(ie){return 1+~~(ie.getMonth()/3)}function q(ie){return s[ie.getUTCDay()]}function X(ie){return a[ie.getUTCDay()]}function ee(ie){return l[ie.getUTCMonth()]}function ae(ie){return o[ie.getUTCMonth()]}function ue(ie){return i[+(ie.getUTCHours()>=12)]}function ve(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var ce=T(ie+="",_);return ce.toString=function(){return ie},ce},parse:function(ie){var ce=E(ie+="",!1);return ce.toString=function(){return ie},ce},utcFormat:function(ie){var ce=T(ie+="",A);return ce.toString=function(){return ie},ce},utcParse:function(ie){var ce=E(ie+="",!0);return ce.toString=function(){return ie},ce}}}var mF={"-":"",_:" ",0:"0"},Nn=/^\s*\d+/,C1e=/^%/,k1e=/[\\^$*+?|[\]().{}]/g;function Ft(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function P1e(t){return t.replace(k1e,"\\$&")}function am(t){return new RegExp("^(?:"+t.map(P1e).join("|")+")","i")}function sm(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function I1e(t,e,r){var n=Nn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function O1e(t,e,r){var n=Nn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function M1e(t,e,r){var n=Nn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function N1e(t,e,r){var n=Nn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function R1e(t,e,r){var n=Nn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function gF(t,e,r){var n=Nn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function vF(t,e,r){var n=Nn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function D1e(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function F1e(t,e,r){var n=Nn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function L1e(t,e,r){var n=Nn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function yF(t,e,r){var n=Nn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function $1e(t,e,r){var n=Nn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function xF(t,e,r){var n=Nn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function B1e(t,e,r){var n=Nn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function j1e(t,e,r){var n=Nn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function U1e(t,e,r){var n=Nn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function V1e(t,e,r){var n=Nn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function H1e(t,e,r){var n=C1e.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function W1e(t,e,r){var n=Nn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function z1e(t,e,r){var n=Nn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function wF(t,e){return Ft(t.getDate(),e,2)}function G1e(t,e){return Ft(t.getHours(),e,2)}function q1e(t,e){return Ft(t.getHours()%12||12,e,2)}function X1e(t,e){return Ft(1+dx.count(Fl(t),t),e,3)}function EU(t,e){return Ft(t.getMilliseconds(),e,3)}function K1e(t,e){return EU(t,e)+"000"}function Y1e(t,e){return Ft(t.getMonth()+1,e,2)}function J1e(t,e){return Ft(t.getMinutes(),e,2)}function Z1e(t,e){return Ft(t.getSeconds(),e,2)}function Q1e(t){var e=t.getDay();return e===0?7:e}function ewe(t,e){return Ft(bS.count(Fl(t)-1,t),e,2)}function CU(t){var e=t.getDay();return e>=4||e===0?Z0(t):Z0.ceil(t)}function twe(t,e){return t=CU(t),Ft(Z0.count(Fl(t),t)+(Fl(t).getDay()===4),e,2)}function rwe(t){return t.getDay()}function nwe(t,e){return Ft(x_.count(Fl(t)-1,t),e,2)}function iwe(t,e){return Ft(t.getFullYear()%100,e,2)}function awe(t,e){return t=CU(t),Ft(t.getFullYear()%100,e,2)}function swe(t,e){return Ft(t.getFullYear()%1e4,e,4)}function owe(t,e){var r=t.getDay();return t=r>=4||r===0?Z0(t):Z0.ceil(t),Ft(t.getFullYear()%1e4,e,4)}function lwe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ft(e/60|0,"0",2)+Ft(e%60,"0",2)}function _F(t,e){return Ft(t.getUTCDate(),e,2)}function cwe(t,e){return Ft(t.getUTCHours(),e,2)}function uwe(t,e){return Ft(t.getUTCHours()%12||12,e,2)}function fwe(t,e){return Ft(1+_S.count(Ll(t),t),e,3)}function kU(t,e){return Ft(t.getUTCMilliseconds(),e,3)}function dwe(t,e){return kU(t,e)+"000"}function hwe(t,e){return Ft(t.getUTCMonth()+1,e,2)}function pwe(t,e){return Ft(t.getUTCMinutes(),e,2)}function mwe(t,e){return Ft(t.getUTCSeconds(),e,2)}function gwe(t){var e=t.getUTCDay();return e===0?7:e}function vwe(t,e){return Ft(SS.count(Ll(t)-1,t),e,2)}function PU(t){var e=t.getUTCDay();return e>=4||e===0?Q0(t):Q0.ceil(t)}function ywe(t,e){return t=PU(t),Ft(Q0.count(Ll(t),t)+(Ll(t).getUTCDay()===4),e,2)}function xwe(t){return t.getUTCDay()}function wwe(t,e){return Ft(w_.count(Ll(t)-1,t),e,2)}function _we(t,e){return Ft(t.getUTCFullYear()%100,e,2)}function bwe(t,e){return t=PU(t),Ft(t.getUTCFullYear()%100,e,2)}function Swe(t,e){return Ft(t.getUTCFullYear()%1e4,e,4)}function Awe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Q0(t):Q0.ceil(t),Ft(t.getUTCFullYear()%1e4,e,4)}function Twe(){return"+0000"}function bF(){return"%"}function SF(t){return+t}function AF(t){return Math.floor(+t/1e3)}var zd,IU,OU;Ewe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ewe(t){return zd=E1e(t),IU=zd.format,zd.parse,OU=zd.utcFormat,zd.utcParse,zd}function Cwe(t){return new Date(t)}function kwe(t){return t instanceof Date?+t:+new Date(+t)}function dO(t,e,r,n,i,a,s,o,l,c){var u=ZI(),f=u.invert,d=u.domain,h=c(".%L"),m=c(":%S"),p=c("%I:%M"),y=c("%I %p"),w=c("%a %d"),b=c("%b %d"),_=c("%B"),A=c("%Y");function S(T){return(l(T)<T?h:o(T)<T?m:s(T)<T?p:a(T)<T?y:n(T)<T?i(T)<T?w:b:r(T)<T?_:A)(T)}return u.invert=function(T){return new Date(f(T))},u.domain=function(T){return arguments.length?d(Array.from(T,kwe)):d().map(Cwe)},u.ticks=function(T){var E=d();return t(E[0],E[E.length-1],T??10)},u.tickFormat=function(T,E){return E==null?S:c(E)},u.nice=function(T){var E=d();return(!T||typeof T.range!="function")&&(T=e(E[0],E[E.length-1],T??10)),T?d(vU(E,T)):u},u.copy=function(){return fx(u,dO(t,e,r,n,i,a,s,o,l,c))},u}function Pwe(){return ss.apply(dO(A1e,T1e,Fl,uO,bS,dx,lO,sO,Gu,IU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Iwe(){return ss.apply(dO(b1e,S1e,Ll,fO,SS,_S,cO,oO,Gu,OU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function AS(){var t=0,e=1,r,n,i,a,s=Ai,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(d){var h,m;return arguments.length?([h,m]=d,s=f(h,m),c):[s(0),s(1)]}}return c.range=u(Lp),c.rangeRound=u(JI),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),c}}function wu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function MU(){var t=xu(AS()(Ai));return t.copy=function(){return wu(t,MU())},Xl.apply(t,arguments)}function NU(){var t=tO(AS()).domain([1,10]);return t.copy=function(){return wu(t,NU()).base(t.base())},Xl.apply(t,arguments)}function RU(){var t=rO(AS());return t.copy=function(){return wu(t,RU()).constant(t.constant())},Xl.apply(t,arguments)}function hO(){var t=nO(AS());return t.copy=function(){return wu(t,hO()).exponent(t.exponent())},Xl.apply(t,arguments)}function Owe(){return hO.apply(null,arguments).exponent(.5)}function DU(){var t=[],e=Ai;function r(n){if(n!=null&&!isNaN(n=+n))return e((cx(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Yc),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>vxe(t,a/n))},r.copy=function(){return DU(e).domain(t)},Xl.apply(r,arguments)}function TS(){var t=0,e=.5,r=1,n=1,i,a,s,o,l,c=Ai,u,f=!1,d;function h(p){return isNaN(p=+p)?d:(p=.5+((p=+u(p))-a)*(n*p<n*a?o:l),c(f?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([t,e,r]=p,i=u(t=+t),a=u(e=+e),s=u(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,h):[t,e,r]},h.clamp=function(p){return arguments.length?(f=!!p,h):f},h.interpolator=function(p){return arguments.length?(c=p,h):c};function m(p){return function(y){var w,b,_;return arguments.length?([w,b,_]=y,c=Hxe(p,[w,b,_]),h):[c(0),c(.5),c(1)]}}return h.range=m(Lp),h.rangeRound=m(JI),h.unknown=function(p){return arguments.length?(d=p,h):d},function(p){return u=p,i=p(t),a=p(e),s=p(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,h}}function FU(){var t=xu(TS()(Ai));return t.copy=function(){return wu(t,FU())},Xl.apply(t,arguments)}function LU(){var t=tO(TS()).domain([.1,1,10]);return t.copy=function(){return wu(t,LU()).base(t.base())},Xl.apply(t,arguments)}function $U(){var t=rO(TS());return t.copy=function(){return wu(t,$U()).constant(t.constant())},Xl.apply(t,arguments)}function pO(){var t=nO(TS());return t.copy=function(){return wu(t,pO()).exponent(t.exponent())},Xl.apply(t,arguments)}function Mwe(){return pO.apply(null,arguments).exponent(.5)}const TF=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ev,scaleDiverging:FU,scaleDivergingLog:LU,scaleDivergingPow:pO,scaleDivergingSqrt:Mwe,scaleDivergingSymlog:$U,scaleIdentity:gU,scaleImplicit:l2,scaleLinear:v_,scaleLog:yU,scaleOrdinal:XI,scalePoint:ag,scalePow:iO,scaleQuantile:_U,scaleQuantize:bU,scaleRadial:wU,scaleSequential:MU,scaleSequentialLog:NU,scaleSequentialPow:hO,scaleSequentialQuantile:DU,scaleSequentialSqrt:Owe,scaleSequentialSymlog:RU,scaleSqrt:d1e,scaleSymlog:xU,scaleThreshold:SU,scaleTime:Pwe,scaleUtc:Iwe,tickFormat:mU},Symbol.toStringTag,{value:"Module"}));var Nwe=kp;function Rwe(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],s=e(a);if(s!=null&&(o===void 0?s===s&&!Nwe(s):r(s,o)))var o=s,l=a}return l}var BU=Rwe;function Dwe(t,e){return t>e}var Fwe=Dwe,Lwe=BU,$we=Fwe,Bwe=Dp;function jwe(t){return t&&t.length?Lwe(t,Bwe,$we):void 0}var Uwe=jwe;const ES=tr(Uwe);function Vwe(t,e){return t<e}var Hwe=Vwe,Wwe=BU,zwe=Hwe,Gwe=Dp;function qwe(t){return t&&t.length?Wwe(t,Gwe,zwe):void 0}var Xwe=qwe;const CS=tr(Xwe);var Kwe=kI,Ywe=yu,Jwe=Gj,Zwe=Yi;function Qwe(t,e){var r=Zwe(t)?Kwe:Jwe;return r(t,Ywe(e))}var e_e=Qwe,t_e=Wj,r_e=e_e;function n_e(t,e){return t_e(r_e(t,e),1)}var i_e=n_e;const a_e=tr(i_e);var s_e=HI;function o_e(t,e){return s_e(t,e)}var l_e=o_e;const kS=tr(l_e);var $p=1e9,c_e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},gO,yr=!0,rs="[DecimalError] ",Zf=rs+"Invalid argument: ",mO=rs+"Exponent out of range: ",Bp=Math.floor,Mu=Math.pow,u_e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ga,kn=1e7,lr=7,jU=9007199254740991,__=Bp(jU/lr),$e={};$e.absoluteValue=$e.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};$e.comparedTo=$e.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};$e.decimalPlaces=$e.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*lr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};$e.dividedBy=$e.div=function(t){return El(this,new this.constructor(t))};$e.dividedToIntegerBy=$e.idiv=function(t){var e=this,r=e.constructor;return er(El(e,new r(t),0,1),r.precision)};$e.equals=$e.eq=function(t){return!this.cmp(t)};$e.exponent=function(){return an(this)};$e.greaterThan=$e.gt=function(t){return this.cmp(t)>0};$e.greaterThanOrEqualTo=$e.gte=function(t){return this.cmp(t)>=0};$e.isInteger=$e.isint=function(){return this.e>this.d.length-2};$e.isNegative=$e.isneg=function(){return this.s<0};$e.isPositive=$e.ispos=function(){return this.s>0};$e.isZero=function(){return this.s===0};$e.lessThan=$e.lt=function(t){return this.cmp(t)<0};$e.lessThanOrEqualTo=$e.lte=function(t){return this.cmp(t)<1};$e.logarithm=$e.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(ga))throw Error(rs+"NaN");if(r.s<1)throw Error(rs+(r.s?"NaN":"-Infinity"));return r.eq(ga)?new n(0):(yr=!1,e=El(av(r,a),av(t,a),a),yr=!0,er(e,i))};$e.minus=$e.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?HU(e,t):UU(e,(t.s=-t.s,t))};$e.modulo=$e.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(rs+"NaN");return r.s?(yr=!1,e=El(r,t,0,1).times(t),yr=!0,r.minus(e)):er(new n(r),i)};$e.naturalExponential=$e.exp=function(){return VU(this)};$e.naturalLogarithm=$e.ln=function(){return av(this)};$e.negated=$e.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};$e.plus=$e.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?UU(e,t):HU(e,(t.s=-t.s,t))};$e.precision=$e.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Zf+t);if(e=an(i)+1,n=i.d.length-1,r=n*lr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};$e.squareRoot=$e.sqrt=function(){var t,e,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(rs+"NaN")}for(t=an(o),yr=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=xo(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Bp((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(El(o,a,s+2)).times(.5),xo(a.d).slice(0,s)===(e=xo(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(er(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(e!="9999")break;s+=4}return yr=!0,er(n,r)};$e.times=$e.mul=function(t){var e,r,n,i,a,s,o,l,c,u=this,f=u.constructor,d=u.d,h=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,r=u.e+t.e,l=d.length,c=h.length,l<c&&(a=d,d=h,h=a,s=l,l=c,c=s),a=[],s=l+c,n=s;n--;)a.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)o=a[i]+h[n]*d[i-n-1]+e,a[i--]=o%kn|0,e=o/kn|0;a[i]=(a[i]+e)%kn|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,yr?er(t,f.precision):t};$e.toDecimalPlaces=$e.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Co(t,0,$p),e===void 0?e=n.rounding:Co(e,0,8),er(r,t+an(r)+1,e))};$e.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=dd(n,!0):(Co(t,0,$p),e===void 0?e=i.rounding:Co(e,0,8),n=er(new i(n),t+1,e),r=dd(n,!0,t+1)),r};$e.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?dd(i):(Co(t,0,$p),e===void 0?e=a.rounding:Co(e,0,8),n=er(new a(i),t+an(i)+1,e),r=dd(n.abs(),!1,t+an(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};$e.toInteger=$e.toint=function(){var t=this,e=t.constructor;return er(new e(t),an(t)+1,e.rounding)};$e.toNumber=function(){return+this};$e.toPower=$e.pow=function(t){var e,r,n,i,a,s,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(ga);if(o=new l(o),!o.s){if(t.s<1)throw Error(rs+"Infinity");return o}if(o.eq(ga))return o;if(n=l.precision,t.eq(ga))return er(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=o.s,s){if((r=u<0?-u:u)<=jU){for(i=new l(ga),e=Math.ceil(n/lr+4),yr=!1;r%2&&(i=i.times(o),CF(i.d,e)),r=Bp(r/2),r!==0;)o=o.times(o),CF(o.d,e);return yr=!0,t.s<0?new l(ga).div(i):er(i,n)}}else if(a<0)throw Error(rs+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,yr=!1,i=t.times(av(o,n+c)),yr=!0,i=VU(i),i.s=a,i};$e.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=an(i),n=dd(i,r<=a.toExpNeg||r>=a.toExpPos)):(Co(t,1,$p),e===void 0?e=a.rounding:Co(e,0,8),i=er(new a(i),t,e),r=an(i),n=dd(i,t<=r||r<=a.toExpNeg,t)),n};$e.toSignificantDigits=$e.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Co(t,1,$p),e===void 0?e=n.rounding:Co(e,0,8)),er(new n(r),t,e)};$e.toString=$e.valueOf=$e.val=$e.toJSON=$e[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=an(t),r=t.constructor;return dd(t,e<=r.toExpNeg||e>=r.toExpPos)};function UU(t,e){var r,n,i,a,s,o,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),yr?er(e,f):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=c.length):(n=c,i=s,o=l.length),s=Math.ceil(f/lr),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/kn|0,l[a]%=kn;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,yr?er(e,f):e}function Co(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Zf+t)}function xo(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=lr-n.length,r&&(a+=ic(r)),a+=n;s=t[e],n=s+"",r=lr-n.length,r&&(a+=ic(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var El=function(){function t(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%kn|0,s=a/kn|0;return s&&n.unshift(s),n}function e(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*kn+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,c,u,f,d,h,m,p,y,w,b,_,A,S,T,E,P,k=n.constructor,N=n.s==i.s?1:-1,O=n.d,R=i.d;if(!n.s)return new k(n);if(!i.s)throw Error(rs+"Division by zero");for(l=n.e-i.e,E=R.length,S=O.length,h=new k(N),m=h.d=[],c=0;R[c]==(O[c]||0);)++c;if(R[c]>(O[c]||0)&&--l,a==null?b=a=k.precision:s?b=a+(an(n)-an(i))+1:b=a,b<0)return new k(0);if(b=b/lr+2|0,c=0,E==1)for(u=0,R=R[0],b++;(c<S||u)&&b--;c++)_=u*kn+(O[c]||0),m[c]=_/R|0,u=_%R|0;else{for(u=kn/(R[0]+1)|0,u>1&&(R=t(R,u),O=t(O,u),E=R.length,S=O.length),A=E,p=O.slice(0,E),y=p.length;y<E;)p[y++]=0;P=R.slice(),P.unshift(0),T=R[0],R[1]>=kn/2&&++T;do u=0,o=e(R,p,E,y),o<0?(w=p[0],E!=y&&(w=w*kn+(p[1]||0)),u=w/T|0,u>1?(u>=kn&&(u=kn-1),f=t(R,u),d=f.length,y=p.length,o=e(f,p,d,y),o==1&&(u--,r(f,E<d?P:R,d))):(u==0&&(o=u=1),f=R.slice()),d=f.length,d<y&&f.unshift(0),r(p,f,y),o==-1&&(y=p.length,o=e(R,p,E,y),o<1&&(u++,r(p,E<y?P:R,y))),y=p.length):o===0&&(u++,p=[0]),m[c++]=u,o&&p[0]?p[y++]=O[A]||0:(p=[O[A]],y=1);while((A++<S||p[0]!==void 0)&&b--)}return m[0]||m.shift(),h.e=l,er(h,s?a+an(h)+1:a)}}();function VU(t,e){var r,n,i,a,s,o,l=0,c=0,u=t.constructor,f=u.precision;if(an(t)>16)throw Error(mO+an(t));if(!t.s)return new u(ga);for(yr=!1,o=f,s=new u(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(n=Math.log(Mu(2,c))/Math.LN10*2+5|0,o+=n,r=i=a=new u(ga),u.precision=o;;){if(i=er(i.times(t),o),r=r.times(++l),s=a.plus(El(i,r,o)),xo(s.d).slice(0,o)===xo(a.d).slice(0,o)){for(;c--;)a=er(a.times(a),o);return u.precision=f,e==null?(yr=!0,er(a,f)):a}a=s}}function an(t){for(var e=t.e*lr,r=t.d[0];r>=10;r/=10)e++;return e}function oT(t,e,r){if(e>t.LN10.sd())throw yr=!0,r&&(t.precision=r),Error(rs+"LN10 precision limit exceeded");return er(new t(t.LN10),e)}function ic(t){for(var e="";t--;)e+="0";return e}function av(t,e){var r,n,i,a,s,o,l,c,u,f=1,d=10,h=t,m=h.d,p=h.constructor,y=p.precision;if(h.s<1)throw Error(rs+(h.s?"NaN":"-Infinity"));if(h.eq(ga))return new p(0);if(e==null?(yr=!1,c=y):c=e,h.eq(10))return e==null&&(yr=!0),oT(p,c);if(c+=d,p.precision=c,r=xo(m),n=r.charAt(0),a=an(h),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(t),r=xo(h.d),n=r.charAt(0),f++;a=an(h),n>1?(h=new p("0."+r),a++):h=new p(n+"."+r.slice(1))}else return l=oT(p,c+2,y).times(a+""),h=av(new p(n+"."+r.slice(1)),c-d).plus(l),p.precision=y,e==null?(yr=!0,er(h,y)):h;for(o=s=h=El(h.minus(ga),h.plus(ga),c),u=er(h.times(h),c),i=3;;){if(s=er(s.times(u),c),l=o.plus(El(s,new p(i),c)),xo(l.d).slice(0,c)===xo(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(oT(p,c+2,y).times(a+""))),o=El(o,new p(f),c),p.precision=y,e==null?(yr=!0,er(o,y)):o;o=l,i+=2}}function EF(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Bp(r/lr),t.d=[],n=(r+1)%lr,r<0&&(n+=lr),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=lr;n<i;)t.d.push(+e.slice(n,n+=lr));e=e.slice(n),n=lr-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),yr&&(t.e>__||t.e<-__))throw Error(mO+r)}else t.s=0,t.e=0,t.d=[0];return t}function er(t,e,r){var n,i,a,s,o,l,c,u,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=lr,i=e,c=f[u=0];else{if(u=Math.ceil((n+1)/lr),a=f.length,u>=a)return t;for(c=a=f[u],s=1;a>=10;a/=10)s++;n%=lr,i=n-lr+s}if(r!==void 0&&(a=Mu(10,s-i-1),o=c/a%10|0,l=e<0||f[u+1]!==void 0||c%a,l=r<4?(o||l)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?c/Mu(10,s-i):0:f[u-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(a=an(t),f.length=1,e=e-a-1,f[0]=Mu(10,(lr-e%lr)%lr),t.e=Bp(-e/lr)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=u,a=1,u--):(f.length=u+1,a=Mu(10,lr-n),f[u]=i>0?(c/Mu(10,s-i)%Mu(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==kn&&(f[0]=1,++t.e);break}else{if(f[u]+=a,f[u]!=kn)break;f[u--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(yr&&(t.e>__||t.e<-__))throw Error(mO+an(t));return t}function HU(t,e){var r,n,i,a,s,o,l,c,u,f,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),yr?er(e,h):e;if(l=t.d,f=e.d,n=e.e,c=t.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),i=Math.max(Math.ceil(h/lr),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=f.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}s=0}for(u&&(r=l,l=f,f=r,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=kn-1;--l[a],l[i]+=kn}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,yr?er(e,h):e):new d(0)}function dd(t,e,r){var n,i=an(t),a=xo(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+ic(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ic(-i-1)+a,r&&(n=r-s)>0&&(a+=ic(n))):i>=s?(a+=ic(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+ic(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=ic(n))),t.s<0?"-"+a:a}function CF(t,e){if(t.length>e)return t.length=e,!0}function WU(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Zf+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return EF(s,a.toString())}else if(typeof a!="string")throw Error(Zf+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,u_e.test(a))EF(s,a);else throw Error(Zf+a)}if(i.prototype=$e,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=WU,i.config=i.set=f_e,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function f_e(t){if(!t||typeof t!="object")throw Error(rs+"Object expected");var e,r,n,i=["precision",1,$p,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Bp(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Zf+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Zf+r+": "+n);return this}var gO=WU(c_e);ga=new gO(1);const Yt=gO;function d_e(t){return g_e(t)||m_e(t)||p_e(t)||h_e()}function h_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p_e(t,e){if(t){if(typeof t=="string")return d2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d2(t,e)}}function m_e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function g_e(t){if(Array.isArray(t))return d2(t)}function d2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var v_e=function(e){return e},zU={},GU=function(e){return e===zU},kF=function(e){return function r(){return arguments.length===0||arguments.length===1&&GU(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},y_e=function t(e,r){return e===1?r:kF(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==zU}).length;return s>=e?r.apply(void 0,i):t(e-s,kF(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=i.map(function(f){return GU(f)?l.shift():f});return r.apply(void 0,d_e(u).concat(l))}))})},PS=function(e){return y_e(e.length,e)},h2=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},x_e=PS(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),w_e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return v_e;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},p2=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},qU=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(o,l){return o===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function __e(t){var e;return t===0?e=1:e=Math.floor(new Yt(t).abs().log(10).toNumber())+1,e}function b_e(t,e,r){for(var n=new Yt(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var S_e=PS(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),A_e=PS(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),T_e=PS(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const IS={rangeStep:b_e,getDigitCount:__e,interpolateNumber:S_e,uninterpolateNumber:A_e,uninterpolateTruncation:T_e};function m2(t){return k_e(t)||C_e(t)||XU(t)||E_e()}function E_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C_e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function k_e(t){if(Array.isArray(t))return g2(t)}function sv(t,e){return O_e(t)||I_e(t,e)||XU(t,e)||P_e()}function P_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XU(t,e){if(t){if(typeof t=="string")return g2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g2(t,e)}}function g2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function I_e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function O_e(t){if(Array.isArray(t))return t}function KU(t){var e=sv(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function YU(t,e,r){if(t.lte(0))return new Yt(0);var n=IS.getDigitCount(t.toNumber()),i=new Yt(10).pow(n),a=t.div(i),s=n!==1?.05:.1,o=new Yt(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return e?l:new Yt(Math.ceil(l))}function M_e(t,e,r){var n=1,i=new Yt(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Yt(10).pow(IS.getDigitCount(t)-1),i=new Yt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Yt(Math.floor(t)))}else t===0?i=new Yt(Math.floor((e-1)/2)):r||(i=new Yt(Math.floor(t)));var s=Math.floor((e-1)/2),o=w_e(x_e(function(l){return i.add(new Yt(l-s).mul(n)).toNumber()}),h2);return o(0,e)}function JU(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Yt(0),tickMin:new Yt(0),tickMax:new Yt(0)};var a=YU(new Yt(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new Yt(0):(s=new Yt(t).add(e).div(2),s=s.sub(new Yt(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new Yt(e).sub(s).div(a).toNumber()),c=o+l+1;return c>r?JU(t,e,r,n,i+1):(c<r&&(l=e>0?l+(r-c):l,o=e>0?o:o+(r-c)),{step:a,tickMin:s.sub(new Yt(o).mul(a)),tickMax:s.add(new Yt(l).mul(a))})}function N_e(t){var e=sv(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=KU([r,n]),l=sv(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(m2(h2(0,i-1).map(function(){return 1/0}))):[].concat(m2(h2(0,i-1).map(function(){return-1/0})),[u]);return r>n?p2(f):f}if(c===u)return M_e(c,i,a);var d=JU(c,u,s,a),h=d.step,m=d.tickMin,p=d.tickMax,y=IS.rangeStep(m,p.add(new Yt(.1).mul(h)),h);return r>n?p2(y):y}function R_e(t,e){var r=sv(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=KU([n,i]),o=sv(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var u=Math.max(e,2),f=YU(new Yt(c).sub(l).div(u-1),a,0),d=[].concat(m2(IS.rangeStep(new Yt(l),new Yt(c).sub(new Yt(.99).mul(f)),f)),[c]);return n>i?p2(d):d}var D_e=qU(N_e),F_e=qU(R_e),L_e="Invariant failed";function hd(t,e){throw new Error(L_e)}var $_e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ep(t){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ep(t)}function b_(){return b_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b_.apply(this,arguments)}function B_e(t,e){return H_e(t)||V_e(t,e)||U_e(t,e)||j_e()}function j_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U_e(t,e){if(t){if(typeof t=="string")return PF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PF(t,e)}}function PF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function V_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function H_e(t){if(Array.isArray(t))return t}function W_e(t,e){if(t==null)return{};var r=z_e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function z_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function G_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,e9(n.key),n)}}function X_e(t,e,r){return e&&q_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function K_e(t,e,r){return e=S_(e),Y_e(t,ZU()?Reflect.construct(e,r||[],S_(t).constructor):e.apply(t,r))}function Y_e(t,e){if(e&&(ep(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J_e(t)}function J_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZU=function(){return!!t})()}function S_(t){return S_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},S_(t)}function Z_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v2(t,e)}function v2(t,e){return v2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},v2(t,e)}function QU(t,e,r){return e=e9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e9(t){var e=Q_e(t,"string");return ep(e)=="symbol"?e:e+""}function Q_e(t,e){if(ep(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hx=function(t){function e(){return G_e(this,e),K_e(this,e,arguments)}return Z_e(e,t),X_e(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,d=W_e(n,$_e),h=kt(d,!1);this.props.direction==="x"&&u.type!=="number"&&hd();var m=l.map(function(p){var y=c(p,o),w=y.x,b=y.y,_=y.value,A=y.errorVal;if(!A)return null;var S=[],T,E;if(Array.isArray(A)){var P=B_e(A,2);T=P[0],E=P[1]}else T=E=A;if(a==="vertical"){var k=u.scale,N=b+i,O=N+s,R=N-s,W=k(_-T),Q=k(_+E);S.push({x1:Q,y1:O,x2:Q,y2:R}),S.push({x1:W,y1:N,x2:Q,y2:N}),S.push({x1:W,y1:O,x2:W,y2:R})}else if(a==="horizontal"){var j=f.scale,Y=w+i,J=Y-s,Z=Y+s,V=j(_-T),te=j(_+E);S.push({x1:J,y1:te,x2:Z,y2:te}),S.push({x1:Y,y1:V,x2:Y,y2:te}),S.push({x1:J,y1:V,x2:Z,y2:V})}return ne.createElement(Wr,b_({className:"recharts-errorBar",key:"bar-".concat(S.map(function(se){return"".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))},h),S.map(function(se){return ne.createElement("line",b_({},se,{key:"line-".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))}))});return ne.createElement(Wr,{className:"recharts-errorBars"},m)}}])}(ne.Component);QU(hx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});QU(hx,"displayName","ErrorBar");function ov(t){"@babel/helpers - typeof";return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ov(t)}function IF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Eu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IF(Object(r),!0).forEach(function(n){ebe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ebe(t,e,r){return e=tbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tbe(t){var e=rbe(t,"string");return ov(e)=="symbol"?e:e+""}function rbe(t,e){if(ov(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var t9=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=ua(r,Tl);if(!s)return null;var o=Tl.defaultProps,l=o!==void 0?Eu(Eu({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:a==="children"?c=(n||[]).reduce(function(u,f){var d=f.item,h=f.props,m=h.sectors||h.data||[];return u.concat(m.map(function(p){return{type:s.props.iconType||d.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):c=(n||[]).map(function(u){var f=u.item,d=f.type.defaultProps,h=d!==void 0?Eu(Eu({},d),f.props):{},m=h.dataKey,p=h.name,y=h.legendType,w=h.hide;return{inactive:w,dataKey:m,type:l.iconType||y||"square",color:vO(f),value:p||m,payload:h}}),Eu(Eu(Eu({},l),Tl.getWithHeight(s,i)),{},{payload:c,item:s})};function lv(t){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lv(t)}function OF(t){return sbe(t)||abe(t)||ibe(t)||nbe()}function nbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ibe(t,e){if(t){if(typeof t=="string")return y2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y2(t,e)}}function abe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sbe(t){if(Array.isArray(t))return y2(t)}function y2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function MF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MF(Object(r),!0).forEach(function(n){Dh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dh(t,e,r){return e=obe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function obe(t){var e=lbe(t,"string");return lv(e)=="symbol"?e:e+""}function lbe(t,e){if(lv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ba(t,e,r){return St(t)||St(e)?r:yn(e)?Ya(t,e,r):vt(e)?e(t):r}function sg(t,e,r,n){var i=a_e(t,function(o){return ba(o,e)});if(r==="number"){var a=i.filter(function(o){return ke(o)||parseFloat(o)});return a.length?[CS(a),ES(a)]:[1/0,-1/0]}var s=n?i.filter(function(o){return!St(o)}):i;return s.map(function(o){return yn(o)||o instanceof Date?o:""})}var cbe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<o;c++){var u=c>0?i[c-1].coordinate:i[o-1].coordinate,f=i[c].coordinate,d=c>=o-1?i[0].coordinate:i[c+1].coordinate,h=void 0;if(Ds(f-u)!==Ds(d-f)){var m=[];if(Ds(d-f)===Ds(l[1]-l[0])){h=d;var p=f+l[1]-l[0];m[0]=Math.min(p,(p+u)/2),m[1]=Math.max(p,(p+u)/2)}else{h=u;var y=d+l[1]-l[0];m[0]=Math.min(f,(y+f)/2),m[1]=Math.max(f,(y+f)/2)}var w=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>w[0]&&e<=w[1]||e>=m[0]&&e<=m[1]){s=i[c].index;break}}else{var b=Math.min(u,d),_=Math.max(u,d);if(e>(b+f)/2&&e<=(_+f)/2){s=i[c].index;break}}}else for(var A=0;A<o;A++)if(A===0&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A>0&&A<o-1&&e>(n[A].coordinate+n[A-1].coordinate)/2&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A===o-1&&e>(n[A].coordinate+n[A-1].coordinate)/2){s=n[A].index;break}return s},vO=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Lr(Lr({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},ube=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,c=o.length;l<c;l++)for(var u=a[o[l]].stackGroups,f=Object.keys(u),d=0,h=f.length;d<h;d++){var m=u[f[d]],p=m.items,y=m.cateAxisId,w=p.filter(function(E){return Sl(E.type).indexOf("Bar")>=0});if(w&&w.length){var b=w[0].type.defaultProps,_=b!==void 0?Lr(Lr({},b),w[0].props):w[0].props,A=_.barSize,S=_[y];s[S]||(s[S]=[]);var T=St(A)?r:A;s[S].push({item:w[0],stackList:w.slice(1),barSize:St(T)?void 0:fd(T,n,0)})}}return s},fbe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var c=fd(r,i,0,!0),u,f=[];if(s[0].barSize===+s[0].barSize){var d=!1,h=i/l,m=s.reduce(function(A,S){return A+S.barSize||0},0);m+=(l-1)*c,m>=i&&(m-=(l-1)*c,c=0),m>=i&&h>0&&(d=!0,h*=.9,m=l*h);var p=(i-m)/2>>0,y={offset:p-c,size:0};u=s.reduce(function(A,S){var T={item:S.item,position:{offset:y.offset+y.size+c,size:d?h:S.barSize}},E=[].concat(OF(A),[T]);return y=E[E.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(P){E.push({item:P,position:y})}),E},f)}else{var w=fd(n,i,0,!0);i-2*w-(l-1)*c<=0&&(c=0);var b=(i-2*w-(l-1)*c)/l;b>1&&(b>>=0);var _=o===+o?Math.min(b,o):b;u=s.reduce(function(A,S,T){var E=[].concat(OF(A),[{item:S.item,position:{offset:w+(b+c)*T+(b-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(P){E.push({item:P,position:E[E.length-1].position})}),E},f)}return u},dbe=function(e,r,n,i){var a=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=t9({children:a,legendWidth:l});if(c){var u=i||{},f=u.width,d=u.height,h=c.align,m=c.verticalAlign,p=c.layout;if((p==="vertical"||p==="horizontal"&&m==="middle")&&h!=="center"&&ke(e[h]))return Lr(Lr({},e),{},Dh({},h,e[h]+(f||0)));if((p==="horizontal"||p==="vertical"&&h==="center")&&m!=="middle"&&ke(e[m]))return Lr(Lr({},e),{},Dh({},m,e[m]+(d||0)))}return e},hbe=function(e,r,n){return St(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},r9=function(e,r,n,i,a){var s=r.props.children,o=Ja(s,hx).filter(function(c){return hbe(i,a,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var f=ba(u,n);if(St(f))return c;var d=Array.isArray(f)?[CS(f),ES(f)]:[f,f],h=l.reduce(function(m,p){var y=ba(u,p,0),w=d[0]-Math.abs(Array.isArray(y)?y[0]:y),b=d[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(w,m[0]),Math.max(b,m[1])]},[1/0,-1/0]);return[Math.min(h[0],c[0]),Math.max(h[1],c[1])]},[1/0,-1/0])}return null},pbe=function(e,r,n,i,a){var s=r.map(function(o){return r9(e,o,n,a,i)}).filter(function(o){return!St(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},n9=function(e,r,n,i,a){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&r9(e,l,c,i)||sg(e,c,n,a)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},i9=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},a9=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(s=!0),l.coordinate});return a||o.push(r),s||o.push(n),o},yl=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Ds(o[0]-o[1])*2*c:c,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var d=a?a.indexOf(f):f;return{coordinate:i(d)+c,value:f,offset:c}});return u.filter(function(f){return!sx(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,d){return{coordinate:i(f)+c,value:f,index:d,offset:c}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,d){return{coordinate:i(f)+c,value:a?a[f]:f,index:d,offset:c}})},lT=new WeakMap,i1=function(e,r){if(typeof r!="function")return e;lT.has(e)||lT.set(e,new WeakMap);var n=lT.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},mbe=function(e,r,n){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:ev(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:v_(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:ag(),realScaleType:"point"}:a==="category"?{scale:ev(),realScaleType:"band"}:{scale:v_(),realScaleType:"linear"};if(ud(i)){var l="scale".concat(hS(i));return{scale:(TF[l]||ag)(),realScaleType:TF[l]?l:"point"}}return vt(i)?{scale:i}:{scale:ag(),realScaleType:"point"}},NF=1e-4,gbe=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-NF,s=Math.max(i[0],i[1])+NF,o=e(r[0]),l=e(r[n-1]);(o<a||o>s||l<a||l>s)&&e.domain([r[0],r[n-1]])}},vbe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},ybe=function(e,r){if(!r||r.length!==2||!ke(r[0])||!ke(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!ke(e[0])||e[0]<n)&&(a[0]=n),(!ke(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},xbe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,o=0;o<r;++o){var l=sx(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1])}},wbe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var o=sx(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},_be={sign:xbe,expand:Fue,none:G0,silhouette:Lue,wiggle:$ue,positive:wbe},bbe=function(e,r,n){var i=r.map(function(o){return o.props.dataKey}),a=_be[n],s=Due().keys(i).value(function(o,l){return+ba(o,l,0)}).order(HE).offset(a);return s(e)},Sbe=function(e,r,n,i,a,s){if(!e)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(f,d){var h,m=(h=d.type)!==null&&h!==void 0&&h.defaultProps?Lr(Lr({},d.type.defaultProps),d.props):d.props,p=m.stackId,y=m.hide;if(y)return f;var w=m[n],b=f[w]||{hasStack:!1,stackGroups:{}};if(yn(p)){var _=b.stackGroups[p]||{numericAxisId:n,cateAxisId:i,items:[]};_.items.push(d),b.hasStack=!0,b.stackGroups[p]=_}else b.stackGroups[ox("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[d]};return Lr(Lr({},f),{},Dh({},w,b))},l),u={};return Object.keys(c).reduce(function(f,d){var h=c[d];if(h.hasStack){var m={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(p,y){var w=h.stackGroups[y];return Lr(Lr({},p),{},Dh({},y,{numericAxisId:n,cateAxisId:i,items:w.items,stackedData:bbe(e,w.items,a)}))},m)}return Lr(Lr({},f),{},Dh({},d,h))},u)},Abe=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=D_e(c,a,o);return e.domain([CS(u),ES(u)]),{niceTicks:u}}if(a&&i==="number"){var f=e.domain(),d=F_e(f,a,o);return{niceTicks:d}}return null};function RF(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!St(i[e.dataKey])){var o=Xw(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=ba(i,St(s)?e.dataKey:s);return St(l)?null:e.scale(l)}var DF=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(r.type==="category")return n[o]?n[o].coordinate+i:null;var l=ba(s,r.dataKey,r.domain[o]);return St(l)?null:r.scale(l)-a/2+i},Tbe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},Ebe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Lr(Lr({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(yn(a)){var s=r[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},Cbe=function(e){return e.reduce(function(r,n){return[CS(n.concat([r[0]]).filter(ke)),ES(n.concat([r[1]]).filter(ke))]},[1/0,-1/0])},s9=function(e,r,n){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(c,u){var f=Cbe(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},FF=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,LF=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,x2=function(e,r,n){if(vt(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ke(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(FF.test(e[0])){var a=+FF.exec(e[0])[1];i[0]=r[0]-a}else vt(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ke(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(LF.test(e[1])){var s=+LF.exec(e[1])[1];i[1]=r[1]+s}else vt(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},A_=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=zI(r,function(f){return f.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},$F=function(e,r,n){return!e||!e.length||kS(e,Ya(n,"type.defaultProps.domain"))?r:e},o9=function(e,r){var n=e.type.defaultProps?Lr(Lr({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return Lr(Lr({},kt(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:vO(e),value:ba(r,i),type:l,payload:r,chartType:c,hide:u})};function cv(t){"@babel/helpers - typeof";return cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cv(t)}function BF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BF(Object(r),!0).forEach(function(n){kbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kbe(t,e,r){return e=Pbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pbe(t){var e=Ibe(t,"string");return cv(e)=="symbol"?e:e+""}function Ibe(t,e){if(cv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var T_=Math.PI/180,Obe=function(e){return e*180/Math.PI},Hn=function(e,r,n,i){return{x:e+Math.cos(-T_*i)*n,y:r+Math.sin(-T_*i)*n}},Mbe=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},Nbe=function(e,r){var n=e.x,i=e.y,a=r.cx,s=r.cy,o=Mbe({x:n,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(n-a)/o,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:o,angle:Obe(c),angleInRadian:c}},Rbe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},Dbe=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},UF=function(e,r){var n=e.x,i=e.y,a=Nbe({x:n,y:i},r),s=a.radius,o=a.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=Rbe(r),f=u.startAngle,d=u.endAngle,h=o,m;if(f<=d){for(;h>d;)h-=360;for(;h<f;)h+=360;m=h>=f&&h<=d}else{for(;h>f;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=f}return m?jF(jF({},r),{},{radius:s,angle:Dbe(h,r)}):null};function uv(t){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uv(t)}var Fbe=["offset"];function Lbe(t){return Ube(t)||jbe(t)||Bbe(t)||$be()}function $be(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bbe(t,e){if(t){if(typeof t=="string")return w2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w2(t,e)}}function jbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ube(t){if(Array.isArray(t))return w2(t)}function w2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vbe(t,e){if(t==null)return{};var r=Hbe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Hbe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function VF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ln(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VF(Object(r),!0).forEach(function(n){Wbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wbe(t,e,r){return e=zbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zbe(t){var e=Gbe(t,"string");return uv(e)=="symbol"?e:e+""}function Gbe(t,e){if(uv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fv(){return fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fv.apply(this,arguments)}var qbe=function(e){var r=e.value,n=e.formatter,i=St(e.children)?r:e.children;return vt(n)?n(i):i},Xbe=function(e,r){var n=Ds(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Kbe=function(e,r,n){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,c=l.cx,u=l.cy,f=l.innerRadius,d=l.outerRadius,h=l.startAngle,m=l.endAngle,p=l.clockWise,y=(f+d)/2,w=Xbe(h,m),b=w>=0?1:-1,_,A;i==="insideStart"?(_=h+b*s,A=p):i==="insideEnd"?(_=m-b*s,A=!p):i==="end"&&(_=m+b*s,A=p),A=w<=0?A:!A;var S=Hn(c,u,y,_),T=Hn(c,u,y,_+(A?1:-1)*359),E="M".concat(S.x,",").concat(S.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(A?0:1,`,
    `).concat(T.x,",").concat(T.y),P=St(e.id)?ox("recharts-radial-line-"):e.id;return ne.createElement("text",fv({},n,{dominantBaseline:"central",className:Mt("recharts-radial-bar-label",o)}),ne.createElement("defs",null,ne.createElement("path",{id:P,d:E})),ne.createElement("textPath",{xlinkHref:"#".concat(P)},r))},Ybe=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,s=a.cx,o=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,f=a.endAngle,d=(u+f)/2;if(i==="outside"){var h=Hn(s,o,c+n,d),m=h.x,p=h.y;return{x:m,y:p,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var y=(l+c)/2,w=Hn(s,o,y,d),b=w.x,_=w.y;return{x:b,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Jbe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=r,o=s.x,l=s.y,c=s.width,u=s.height,f=u>=0?1:-1,d=f*i,h=f>0?"end":"start",m=f>0?"start":"end",p=c>=0?1:-1,y=p*i,w=p>0?"end":"start",b=p>0?"start":"end";if(a==="top"){var _={x:o+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:h};return ln(ln({},_),n?{height:Math.max(l-n.y,0),width:c}:{})}if(a==="bottom"){var A={x:o+c/2,y:l+u+d,textAnchor:"middle",verticalAnchor:m};return ln(ln({},A),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(a==="left"){var S={x:o-y,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return ln(ln({},S),n?{width:Math.max(S.x-n.x,0),height:u}:{})}if(a==="right"){var T={x:o+c+y,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return ln(ln({},T),n?{width:Math.max(n.x+n.width-T.x,0),height:u}:{})}var E=n?{width:c,height:u}:{};return a==="insideLeft"?ln({x:o+y,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},E):a==="insideRight"?ln({x:o+c-y,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},E):a==="insideTop"?ln({x:o+c/2,y:l+d,textAnchor:"middle",verticalAnchor:m},E):a==="insideBottom"?ln({x:o+c/2,y:l+u-d,textAnchor:"middle",verticalAnchor:h},E):a==="insideTopLeft"?ln({x:o+y,y:l+d,textAnchor:b,verticalAnchor:m},E):a==="insideTopRight"?ln({x:o+c-y,y:l+d,textAnchor:w,verticalAnchor:m},E):a==="insideBottomLeft"?ln({x:o+y,y:l+u-d,textAnchor:b,verticalAnchor:h},E):a==="insideBottomRight"?ln({x:o+c-y,y:l+u-d,textAnchor:w,verticalAnchor:h},E):Pp(a)&&(ke(a.x)||Wu(a.x))&&(ke(a.y)||Wu(a.y))?ln({x:o+fd(a.x,c),y:l+fd(a.y,u),textAnchor:"end",verticalAnchor:"end"},E):ln({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},E)},Zbe=function(e){return"cx"in e&&ke(e.cx)};function li(t){var e=t.offset,r=e===void 0?5:e,n=Vbe(t,Fbe),i=ln({offset:r},n),a=i.viewBox,s=i.position,o=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,d=i.textBreakAll;if(!a||St(o)&&St(l)&&!re.isValidElement(c)&&!vt(c))return null;if(re.isValidElement(c))return re.cloneElement(c,i);var h;if(vt(c)){if(h=re.createElement(c,i),re.isValidElement(h))return h}else h=qbe(i);var m=Zbe(a),p=kt(i,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Kbe(i,h,p);var y=m?Ybe(i):Jbe(i);return ne.createElement(u_,fv({className:Mt("recharts-label",f)},p,y,{breakAll:d}),h)}li.displayName="Label";var l9=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,f=e.x,d=e.y,h=e.top,m=e.left,p=e.width,y=e.height,w=e.clockWise,b=e.labelViewBox;if(b)return b;if(ke(p)&&ke(y)){if(ke(f)&&ke(d))return{x:f,y:d,width:p,height:y};if(ke(h)&&ke(m))return{x:h,y:m,width:p,height:y}}return ke(f)&&ke(d)?{x:f,y:d,width:0,height:0}:ke(r)&&ke(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:w}:e.viewBox?e.viewBox:{}},Qbe=function(e,r){return e?e===!0?ne.createElement(li,{key:"label-implicit",viewBox:r}):yn(e)?ne.createElement(li,{key:"label-implicit",viewBox:r,value:e}):re.isValidElement(e)?e.type===li?re.cloneElement(e,{key:"label-implicit",viewBox:r}):ne.createElement(li,{key:"label-implicit",content:e,viewBox:r}):vt(e)?ne.createElement(li,{key:"label-implicit",content:e,viewBox:r}):Pp(e)?ne.createElement(li,fv({viewBox:r},e,{key:"label-implicit"})):null:null},eSe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=l9(e),s=Ja(i,li).map(function(l,c){return re.cloneElement(l,{viewBox:r||a,key:"label-".concat(c)})});if(!n)return s;var o=Qbe(e.label,r||a);return[o].concat(Lbe(s))};li.parseViewBox=l9;li.renderCallByParent=eSe;function tSe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var rSe=tSe;const nSe=tr(rSe);function dv(t){"@babel/helpers - typeof";return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dv(t)}var iSe=["valueAccessor"],aSe=["data","dataKey","clockWise","id","textBreakAll"];function sSe(t){return uSe(t)||cSe(t)||lSe(t)||oSe()}function oSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lSe(t,e){if(t){if(typeof t=="string")return _2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _2(t,e)}}function cSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uSe(t){if(Array.isArray(t))return _2(t)}function _2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function E_(){return E_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},E_.apply(this,arguments)}function HF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HF(Object(r),!0).forEach(function(n){fSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fSe(t,e,r){return e=dSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dSe(t){var e=hSe(t,"string");return dv(e)=="symbol"?e:e+""}function hSe(t,e){if(dv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zF(t,e){if(t==null)return{};var r=pSe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var mSe=function(e){return Array.isArray(e.value)?nSe(e.value):e.value};function Jc(t){var e=t.valueAccessor,r=e===void 0?mSe:e,n=zF(t,iSe),i=n.data,a=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=zF(n,aSe);return!i||!i.length?null:ne.createElement(Wr,{className:"recharts-label-list"},i.map(function(u,f){var d=St(a)?r(u,f):ba(u&&u.payload,a),h=St(o)?{}:{id:"".concat(o,"-").concat(f)};return ne.createElement(li,E_({},kt(u,!0),c,h,{parentViewBox:u.parentViewBox,value:d,textBreakAll:l,viewBox:li.parseViewBox(St(s)?u:WF(WF({},u),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Jc.displayName="LabelList";function gSe(t,e){return t?t===!0?ne.createElement(Jc,{key:"labelList-implicit",data:e}):ne.isValidElement(t)||vt(t)?ne.createElement(Jc,{key:"labelList-implicit",data:e,content:t}):Pp(t)?ne.createElement(Jc,E_({data:e},t,{key:"labelList-implicit"})):null:null}function vSe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Ja(n,Jc).map(function(s,o){return re.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!r)return i;var a=gSe(t.label,e);return[a].concat(sSe(i))}Jc.renderCallByParent=vSe;function hv(t){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hv(t)}function b2(){return b2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b2.apply(this,arguments)}function GF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GF(Object(r),!0).forEach(function(n){ySe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ySe(t,e,r){return e=xSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xSe(t){var e=wSe(t,"string");return hv(e)=="symbol"?e:e+""}function wSe(t,e){if(hv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _Se=function(e,r){var n=Ds(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},a1=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(o?1:-1)+i,f=Math.asin(l/u)/T_,d=c?a:a+s*f,h=Hn(r,n,u,d),m=Hn(r,n,i,d),p=c?a-s*f:a,y=Hn(r,n,u*Math.cos(f*T_),p);return{center:h,circleTangency:m,lineTangency:y,theta:f}},c9=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=_Se(s,o),c=s+l,u=Hn(r,n,a,s),f=Hn(r,n,a,c),d="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var h=Hn(r,n,i,s),m=Hn(r,n,i,c);d+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(r,",").concat(n," Z");return d},bSe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,f=Ds(u-c),d=a1({cx:r,cy:n,radius:a,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),h=d.circleTangency,m=d.lineTangency,p=d.theta,y=a1({cx:r,cy:n,radius:a,angle:u,sign:-f,cornerRadius:s,cornerIsExternal:l}),w=y.circleTangency,b=y.lineTangency,_=y.theta,A=l?Math.abs(c-u):Math.abs(c-u)-p-_;if(A<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):c9({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var S="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(A>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var T=a1({cx:r,cy:n,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=T.circleTangency,P=T.lineTangency,k=T.theta,N=a1({cx:r,cy:n,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),O=N.circleTangency,R=N.lineTangency,W=N.theta,Q=l?Math.abs(c-u):Math.abs(c-u)-k-W;if(Q<0&&s===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(R.x,",").concat(R.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Q>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},SSe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},u9=function(e){var r=qF(qF({},SSe),e),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,d=r.className;if(s<a||u===f)return null;var h=Mt("recharts-sector",d),m=s-a,p=fd(o,m,0,!0),y;return p>0&&Math.abs(u-f)<360?y=bSe({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(p,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):y=c9({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:u,endAngle:f}),ne.createElement("path",b2({},kt(r,!0),{className:h,d:y,role:"img"}))};function pv(t){"@babel/helpers - typeof";return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pv(t)}function S2(){return S2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},S2.apply(this,arguments)}function XF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function KF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XF(Object(r),!0).forEach(function(n){ASe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ASe(t,e,r){return e=TSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TSe(t){var e=ESe(t,"string");return pv(e)=="symbol"?e:e+""}function ESe(t,e){if(pv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YF={curveBasisClosed:Aue,curveBasisOpen:Tue,curveBasis:Sue,curveBumpX:cue,curveBumpY:uue,curveLinearClosed:Eue,curveLinear:mS,curveMonotoneX:Cue,curveMonotoneY:kue,curveNatural:Pue,curveStep:Iue,curveStepAfter:Mue,curveStepBefore:Oue},s1=function(e){return e.x===+e.x&&e.y===+e.y},om=function(e){return e.x},lm=function(e){return e.y},CSe=function(e,r){if(vt(e))return e;var n="curve".concat(hS(e));return(n==="curveMonotone"||n==="curveBump")&&r?YF["".concat(n).concat(r==="vertical"?"Y":"X")]:YF[n]||mS},kSe=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=CSe(n,o),f=c?a.filter(function(p){return s1(p)}):a,d;if(Array.isArray(s)){var h=c?s.filter(function(p){return s1(p)}):s,m=f.map(function(p,y){return KF(KF({},p),{},{base:h[y]})});return o==="vertical"?d=Yx().y(lm).x1(om).x0(function(p){return p.base.x}):d=Yx().x(om).y1(lm).y0(function(p){return p.base.y}),d.defined(s1).curve(u),d(m)}return o==="vertical"&&ke(s)?d=Yx().y(lm).x1(om).x0(s):ke(s)?d=Yx().x(om).y1(lm).y0(s):d=cj().x(om).y(lm),d.defined(s1).curve(u),d(f)},A2=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?kSe(e):i;return re.createElement("path",S2({},kt(e,!1),Kw(e),{className:Mt("recharts-curve",r),d:s,ref:a}))},f9={exports:{}},PSe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ISe=PSe,OSe=ISe;function d9(){}function h9(){}h9.resetWarningCache=d9;var MSe=function(){function t(n,i,a,s,o,l){if(l!==OSe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:h9,resetWarningCache:d9};return r.PropTypes=r,r};f9.exports=MSe();var NSe=f9.exports;const $t=tr(NSe);var RSe=Object.getOwnPropertyNames,DSe=Object.getOwnPropertySymbols,FSe=Object.prototype.hasOwnProperty;function JF(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function o1(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,s=a.get(r),o=a.get(n);if(s&&o)return s===n&&o===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function LSe(t){return t!=null?t[Symbol.toStringTag]:void 0}function ZF(t){return RSe(t).concat(DSe(t))}var $Se=Object.hasOwn||function(t,e){return FSe.call(t,e)};function Dd(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var BSe="__v",jSe="__o",USe="_owner",QF=Object.getOwnPropertyDescriptor,e4=Object.keys;function VSe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function HSe(t,e){return Dd(t.getTime(),e.getTime())}function WSe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function zSe(t,e){return t===e}function t4(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),s,o,l=0;(s=a.next())&&!s.done;){for(var c=e.entries(),u=!1,f=0;(o=c.next())&&!o.done;){if(i[f]){f++;continue}var d=s.value,h=o.value;if(r.equals(d[0],h[0],l,f,t,e,r)&&r.equals(d[1],h[1],d[0],h[0],t,e,r)){u=i[f]=!0;break}f++}if(!u)return!1;l++}return!0}var GSe=Dd;function qSe(t,e,r){var n=e4(t),i=n.length;if(e4(e).length!==i)return!1;for(;i-- >0;)if(!p9(t,e,r,n[i]))return!1;return!0}function cm(t,e,r){var n=ZF(t),i=n.length;if(ZF(e).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=n[i],!p9(t,e,r,a)||(s=QF(t,a),o=QF(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function XSe(t,e){return Dd(t.valueOf(),e.valueOf())}function KSe(t,e){return t.source===e.source&&t.flags===e.flags}function r4(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),s,o;(s=a.next())&&!s.done;){for(var l=e.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!i[u]&&r.equals(s.value,o.value,s.value,o.value,t,e,r)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function YSe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function JSe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function p9(t,e,r,n){return(n===USe||n===jSe||n===BSe)&&(t.$$typeof||e.$$typeof)?!0:$Se(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var ZSe="[object Arguments]",QSe="[object Boolean]",eAe="[object Date]",tAe="[object Error]",rAe="[object Map]",nAe="[object Number]",iAe="[object Object]",aAe="[object RegExp]",sAe="[object Set]",oAe="[object String]",lAe="[object URL]",cAe=Array.isArray,n4=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,i4=Object.assign,uAe=Object.prototype.toString.call.bind(Object.prototype.toString);function fAe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,u=t.areSetsEqual,f=t.areTypedArraysEqual,d=t.areUrlsEqual,h=t.unknownTagComparators;return function(p,y,w){if(p===y)return!0;if(p==null||y==null)return!1;var b=typeof p;if(b!==typeof y)return!1;if(b!=="object")return b==="number"?s(p,y,w):b==="function"?i(p,y,w):!1;var _=p.constructor;if(_!==y.constructor)return!1;if(_===Object)return o(p,y,w);if(cAe(p))return e(p,y,w);if(n4!=null&&n4(p))return f(p,y,w);if(_===Date)return r(p,y,w);if(_===RegExp)return c(p,y,w);if(_===Map)return a(p,y,w);if(_===Set)return u(p,y,w);var A=uAe(p);if(A===eAe)return r(p,y,w);if(A===aAe)return c(p,y,w);if(A===rAe)return a(p,y,w);if(A===sAe)return u(p,y,w);if(A===iAe)return typeof p.then!="function"&&typeof y.then!="function"&&o(p,y,w);if(A===lAe)return d(p,y,w);if(A===tAe)return n(p,y,w);if(A===ZSe)return o(p,y,w);if(A===QSe||A===nAe||A===oAe)return l(p,y,w);if(h){var S=h[A];if(!S){var T=LSe(p);T&&(S=h[T])}if(S)return S(p,y,w)}return!1}}function dAe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?cm:VSe,areDatesEqual:HSe,areErrorsEqual:WSe,areFunctionsEqual:zSe,areMapsEqual:n?JF(t4,cm):t4,areNumbersEqual:GSe,areObjectsEqual:n?cm:qSe,arePrimitiveWrappersEqual:XSe,areRegExpsEqual:KSe,areSetsEqual:n?JF(r4,cm):r4,areTypedArraysEqual:n?cm:YSe,areUrlsEqual:JSe,unknownTagComparators:void 0};if(r&&(i=i4({},i,r(i))),e){var a=o1(i.areArraysEqual),s=o1(i.areMapsEqual),o=o1(i.areObjectsEqual),l=o1(i.areSetsEqual);i=i4({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return i}function hAe(t){return function(e,r,n,i,a,s,o){return t(e,r,o)}}function pAe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,c){var u=n(),f=u.cache,d=f===void 0?e?new WeakMap:void 0:f,h=u.meta;return r(l,c,{cache:d,equals:i,meta:h,strict:a})};if(e)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return r(l,c,s)}}var mAe=_u();_u({strict:!0});_u({circular:!0});_u({circular:!0,strict:!0});_u({createInternalComparator:function(){return Dd}});_u({strict:!0,createInternalComparator:function(){return Dd}});_u({circular:!0,createInternalComparator:function(){return Dd}});_u({circular:!0,createInternalComparator:function(){return Dd},strict:!0});function _u(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,o=dAe(t),l=fAe(o),c=n?n(l):hAe(l);return pAe({circular:r,comparator:l,createState:i,equals:c,strict:s})}function gAe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function a4(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):gAe(i)};requestAnimationFrame(n)}function T2(t){"@babel/helpers - typeof";return T2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T2(t)}function vAe(t){return _Ae(t)||wAe(t)||xAe(t)||yAe()}function yAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xAe(t,e){if(t){if(typeof t=="string")return s4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s4(t,e)}}function s4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _Ae(t){if(Array.isArray(t))return t}function bAe(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,o=vAe(s),l=o[0],c=o.slice(1);if(typeof l=="number"){a4(i.bind(null,c),l);return}i(l),a4(i.bind(null,c));return}T2(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function mv(t){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mv(t)}function o4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function l4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o4(Object(r),!0).forEach(function(n){m9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function m9(t,e,r){return e=SAe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SAe(t){var e=AAe(t,"string");return mv(e)==="symbol"?e:String(e)}function AAe(t,e){if(mv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TAe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},EAe=function(e){return e},CAe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},og=function(e,r){return Object.keys(r).reduce(function(n,i){return l4(l4({},n),{},m9({},i,e(i,r[i])))},{})},c4=function(e,r,n){return e.map(function(i){return"".concat(CAe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function kAe(t,e){return OAe(t)||IAe(t,e)||g9(t,e)||PAe()}function PAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IAe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function OAe(t){if(Array.isArray(t))return t}function MAe(t){return DAe(t)||RAe(t)||g9(t)||NAe()}function NAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g9(t,e){if(t){if(typeof t=="string")return E2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E2(t,e)}}function RAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DAe(t){if(Array.isArray(t))return E2(t)}function E2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var C_=1e-4,v9=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},y9=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},u4=function(e,r){return function(n){var i=v9(e,r);return y9(i,n)}},FAe=function(e,r){return function(n){var i=v9(e,r),a=[].concat(MAe(i.map(function(s,o){return s*o}).slice(1)),[0]);return y9(a,n)}},f4=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=kAe(c,4);i=u[0],a=u[1],s=u[2],o=u[3]}}}var f=u4(i,s),d=u4(a,o),h=FAe(i,s),m=function(w){return w>1?1:w<0?0:w},p=function(w){for(var b=w>1?1:w,_=b,A=0;A<8;++A){var S=f(_)-b,T=h(_);if(Math.abs(S-b)<C_||T<C_)return d(_);_=m(_-S/T)}return d(_)};return p.isStepper=!1,p},LAe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(u,f,d){var h=-(u-f)*n,m=d*a,p=d+(h-m)*o/1e3,y=d*o/1e3+u;return Math.abs(y-f)<C_&&Math.abs(p)<C_?[f,0]:[y,p]};return l.isStepper=!0,l.dt=o,l},$Ae=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return f4(i);case"spring":return LAe();default:if(i.split("(")[0]==="cubic-bezier")return f4(i)}return typeof i=="function"?i:null};function gv(t){"@babel/helpers - typeof";return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gv(t)}function d4(t){return UAe(t)||jAe(t)||x9(t)||BAe()}function BAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function UAe(t){if(Array.isArray(t))return k2(t)}function h4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h4(Object(r),!0).forEach(function(n){C2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function C2(t,e,r){return e=VAe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VAe(t){var e=HAe(t,"string");return gv(e)==="symbol"?e:String(e)}function HAe(t,e){if(gv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WAe(t,e){return qAe(t)||GAe(t,e)||x9(t,e)||zAe()}function zAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x9(t,e){if(t){if(typeof t=="string")return k2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k2(t,e)}}function k2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function GAe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function qAe(t){if(Array.isArray(t))return t}var k_=function(e,r,n){return e+(r-e)*n},P2=function(e){var r=e.from,n=e.to;return r!==n},XAe=function t(e,r,n){var i=og(function(a,s){if(P2(s)){var o=e(s.from,s.to,s.velocity),l=WAe(o,2),c=l[0],u=l[1];return Bn(Bn({},s),{},{from:c,velocity:u})}return s},r);return n<1?og(function(a,s){return P2(s)?Bn(Bn({},s),{},{velocity:k_(s.velocity,i[a].velocity,n),from:k_(s.from,i[a].from,n)}):s},r):t(e,i,n-1)};const KAe=function(t,e,r,n,i){var a=TAe(t,e),s=a.reduce(function(y,w){return Bn(Bn({},y),{},C2({},w,[t[w],e[w]]))},{}),o=a.reduce(function(y,w){return Bn(Bn({},y),{},C2({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,c,u,f=function(){return null},d=function(){return og(function(w,b){return b.from},o)},h=function(){return!Object.values(o).filter(P2).length},m=function(w){c||(c=w);var b=w-c,_=b/r.dt;o=XAe(r,o,_),i(Bn(Bn(Bn({},t),e),d())),c=w,h()||(l=requestAnimationFrame(f))},p=function(w){u||(u=w);var b=(w-u)/n,_=og(function(S,T){return k_.apply(void 0,d4(T).concat([r(b)]))},s);if(i(Bn(Bn(Bn({},t),e),_)),b<1)l=requestAnimationFrame(f);else{var A=og(function(S,T){return k_.apply(void 0,d4(T).concat([r(1)]))},s);i(Bn(Bn(Bn({},t),e),A))}};return f=r.isStepper?m:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function tp(t){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tp(t)}var YAe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function JAe(t,e){if(t==null)return{};var r=ZAe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ZAe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function cT(t){return rTe(t)||tTe(t)||eTe(t)||QAe()}function QAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eTe(t,e){if(t){if(typeof t=="string")return I2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I2(t,e)}}function tTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rTe(t){if(Array.isArray(t))return I2(t)}function I2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function p4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function us(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p4(Object(r),!0).forEach(function(n){bm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bm(t,e,r){return e=w9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iTe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w9(n.key),n)}}function aTe(t,e,r){return e&&iTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function w9(t){var e=sTe(t,"string");return tp(e)==="symbol"?e:String(e)}function sTe(t,e){if(tp(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O2(t,e)}function O2(t,e){return O2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},O2(t,e)}function lTe(t){var e=cTe();return function(){var n=P_(t),i;if(e){var a=P_(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return M2(this,i)}}function M2(t,e){if(e&&(tp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N2(t)}function N2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cTe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function P_(t){return P_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},P_(t)}var $l=function(t){oTe(r,t);var e=lTe(r);function r(n,i){var a;nTe(this,r),a=e.call(this,n,i);var s=a.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,f=s.steps,d=s.children,h=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(N2(a)),a.changeStyle=a.changeStyle.bind(N2(a)),!o||h<=0)return a.state={style:{}},typeof d=="function"&&(a.state={style:u}),M2(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof d=="function")return a.state={style:c},M2(a);a.state={style:l?bm({},l,c):c}}else a.state={style:{}};return a}return aTe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,f=a.from,d=this.state.style;if(o){if(!s){var h={style:l?bm({},l,u):u};this.state&&d&&(l&&d[l]!==u||!l&&d!==u)&&this.setState(h);return}if(!(mAe(i.to,u)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=m||c?f:i.to;if(this.state&&d){var y={style:l?bm({},l,p):p};(l&&d[l]!==p||!l&&d!==p)&&this.setState(y)}this.runAnimation(us(us({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,h=KAe(s,o,$Ae(c),l,this.changeStyle),m=function(){a.stopJSAnimation=h()};this.manager.start([d,u,m,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,c=s[0],u=c.style,f=c.duration,d=f===void 0?0:f,h=function(p,y,w){if(w===0)return p;var b=y.duration,_=y.easing,A=_===void 0?"ease":_,S=y.style,T=y.properties,E=y.onAnimationEnd,P=w>0?s[w-1]:y,k=T||Object.keys(S);if(typeof A=="function"||A==="spring")return[].concat(cT(p),[a.runJSAnimation.bind(a,{from:P.style,to:S,duration:b,easing:A}),b]);var N=c4(k,b,A),O=us(us(us({},P.style),S),{},{transition:N});return[].concat(cT(p),[O,b,E]).filter(EAe)};return this.manager.start([l].concat(cT(s.reduce(h,[u,Math.max(d,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=bAe());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,h=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof h=="function"||c==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var p=o?bm({},o,l):l,y=c4(Object.keys(p),s,c);m.start([u,a,us(us({},p),{},{transition:y}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=JAe(i,YAe),c=re.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!o||c===0||s<=0)return a;var f=function(h){var m=h.props,p=m.style,y=p===void 0?{}:p,w=m.className,b=re.cloneElement(h,us(us({},l),{},{style:us(us({},y),u),className:w}));return b};return c===1?f(re.Children.only(a)):ne.createElement("div",null,re.Children.map(a,function(d){return f(d)}))}}]),r}(re.PureComponent);$l.displayName="Animate";$l.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};$l.propTypes={from:$t.oneOfType([$t.object,$t.string]),to:$t.oneOfType([$t.object,$t.string]),attributeName:$t.string,duration:$t.number,begin:$t.number,easing:$t.oneOfType([$t.string,$t.func]),steps:$t.arrayOf($t.shape({duration:$t.number.isRequired,style:$t.object.isRequired,easing:$t.oneOfType([$t.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),$t.func]),properties:$t.arrayOf("string"),onAnimationEnd:$t.func})),children:$t.oneOfType([$t.node,$t.func]),isActive:$t.bool,canBegin:$t.bool,onAnimationEnd:$t.func,shouldReAnimate:$t.bool,onAnimationStart:$t.func,onAnimationReStart:$t.func};function vv(t){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vv(t)}function I_(){return I_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},I_.apply(this,arguments)}function uTe(t,e){return pTe(t)||hTe(t,e)||dTe(t,e)||fTe()}function fTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dTe(t,e){if(t){if(typeof t=="string")return m4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m4(t,e)}}function m4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function pTe(t){if(Array.isArray(t))return t}function g4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function v4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g4(Object(r),!0).forEach(function(n){mTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mTe(t,e,r){return e=gTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gTe(t){var e=vTe(t,"string");return vv(e)=="symbol"?e:e+""}function vTe(t,e){if(vv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y4=function(e,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,u;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],d=0,h=4;d<h;d++)f[d]=a[d]>s?s:a[d];u="M".concat(e,",").concat(r+o*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(r)),u+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(r+o*f[1])),u+="L ".concat(e+n,",").concat(r+i-o*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+n-l*f[2],",").concat(r+i)),u+="L ".concat(e+l*f[3],",").concat(r+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+i-o*f[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var m=Math.min(s,a);u="M ".concat(e,",").concat(r+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(r,`
            L `).concat(e+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+n,",").concat(r+o*m,`
            L `).concat(e+n,",").concat(r+i-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+n-l*m,",").concat(r+i,`
            L `).concat(e+l*m,",").concat(r+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(r+i-o*m," Z")}else u="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},yTe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(a,a+o),u=Math.max(a,a+o),f=Math.min(s,s+l),d=Math.max(s,s+l);return n>=c&&n<=u&&i>=f&&i<=d}return!1},xTe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yO=function(e){var r=v4(v4({},xTe),e),n=re.useRef(),i=re.useState(-1),a=uTe(i,2),s=a[0],o=a[1];re.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&o(A)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,d=r.radius,h=r.className,m=r.animationEasing,p=r.animationDuration,y=r.animationBegin,w=r.isAnimationActive,b=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var _=Mt("recharts-rectangle",h);return b?ne.createElement($l,{canBegin:s>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:p,animationEasing:m,isActive:b},function(A){var S=A.width,T=A.height,E=A.x,P=A.y;return ne.createElement($l,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:p,isActive:w,easing:m},ne.createElement("path",I_({},kt(r,!0),{className:_,d:y4(E,P,S,T,d),ref:n})))}):ne.createElement("path",I_({},kt(r,!0),{className:_,d:y4(l,c,u,f,d)}))};function R2(){return R2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R2.apply(this,arguments)}var xO=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,s=Mt("recharts-dot",a);return r===+r&&n===+n&&i===+i?re.createElement("circle",R2({},kt(e,!1),Kw(e),{className:s,cx:r,cy:n,r:i})):null};function yv(t){"@babel/helpers - typeof";return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yv(t)}var wTe=["x","y","top","left","width","height","className"];function D2(){return D2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},D2.apply(this,arguments)}function x4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _Te(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x4(Object(r),!0).forEach(function(n){bTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bTe(t,e,r){return e=STe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function STe(t){var e=ATe(t,"string");return yv(e)=="symbol"?e:e+""}function ATe(t,e){if(yv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TTe(t,e){if(t==null)return{};var r=ETe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ETe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var CTe=function(e,r,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},kTe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,c=l===void 0?0:l,u=e.width,f=u===void 0?0:u,d=e.height,h=d===void 0?0:d,m=e.className,p=TTe(e,wTe),y=_Te({x:n,y:a,top:o,left:c,width:f,height:h},p);return!ke(n)||!ke(a)||!ke(f)||!ke(h)||!ke(o)||!ke(c)?null:ne.createElement("path",D2({},kt(y,!0),{className:Mt("recharts-cross",m),d:CTe(n,a,f,h,o,c)}))},PTe=Nj,ITe=PTe(Object.getPrototypeOf,Object),OTe=ITe,MTe=Gl,NTe=OTe,RTe=ql,DTe="[object Object]",FTe=Function.prototype,LTe=Object.prototype,_9=FTe.toString,$Te=LTe.hasOwnProperty,BTe=_9.call(Object);function jTe(t){if(!RTe(t)||MTe(t)!=DTe)return!1;var e=NTe(t);if(e===null)return!0;var r=$Te.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&_9.call(r)==BTe}var UTe=jTe;const VTe=tr(UTe);var HTe=Gl,WTe=ql,zTe="[object Boolean]";function GTe(t){return t===!0||t===!1||WTe(t)&&HTe(t)==zTe}var qTe=GTe;const XTe=tr(qTe);function xv(t){"@babel/helpers - typeof";return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xv(t)}function O_(){return O_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O_.apply(this,arguments)}function KTe(t,e){return QTe(t)||ZTe(t,e)||JTe(t,e)||YTe()}function YTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JTe(t,e){if(t){if(typeof t=="string")return w4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w4(t,e)}}function w4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ZTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function QTe(t){if(Array.isArray(t))return t}function _4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function b4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_4(Object(r),!0).forEach(function(n){eEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eEe(t,e,r){return e=tEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tEe(t){var e=rEe(t,"string");return xv(e)=="symbol"?e:e+""}function rEe(t,e){if(xv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var S4=function(e,r,n,i,a){var s=n-i,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-s/2,",").concat(r+a),o+="L ".concat(e+n-s/2-i,",").concat(r+a),o+="L ".concat(e,",").concat(r," Z"),o},nEe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iEe=function(e){var r=b4(b4({},nEe),e),n=re.useRef(),i=re.useState(-1),a=KTe(i,2),s=a[0],o=a[1];re.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&o(_)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,d=r.height,h=r.className,m=r.animationEasing,p=r.animationDuration,y=r.animationBegin,w=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||d!==+d||u===0&&f===0||d===0)return null;var b=Mt("recharts-trapezoid",h);return w?ne.createElement($l,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:d,x:l,y:c},duration:p,animationEasing:m,isActive:w},function(_){var A=_.upperWidth,S=_.lowerWidth,T=_.height,E=_.x,P=_.y;return ne.createElement($l,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:p,easing:m},ne.createElement("path",O_({},kt(r,!0),{className:b,d:S4(E,P,A,S,T),ref:n})))}):ne.createElement("g",null,ne.createElement("path",O_({},kt(r,!0),{className:b,d:S4(l,c,u,f,d)})))},aEe=["option","shapeType","propTransformer","activeClassName","isActive"];function wv(t){"@babel/helpers - typeof";return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wv(t)}function sEe(t,e){if(t==null)return{};var r=oEe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oEe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function A4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function M_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A4(Object(r),!0).forEach(function(n){lEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lEe(t,e,r){return e=cEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cEe(t){var e=uEe(t,"string");return wv(e)=="symbol"?e:e+""}function uEe(t,e){if(wv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fEe(t,e){return M_(M_({},e),t)}function dEe(t,e){return t==="symbols"}function T4(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return ne.createElement(yO,r);case"trapezoid":return ne.createElement(iEe,r);case"sector":return ne.createElement(u9,r);case"symbols":if(dEe(e))return ne.createElement(LI,r);break;default:return null}}function hEe(t){return re.isValidElement(t)?t.props:t}function pEe(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?fEe:n,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=sEe(t,aEe),c;if(re.isValidElement(e))c=re.cloneElement(e,M_(M_({},l),hEe(e)));else if(vt(e))c=e(l);else if(VTe(e)&&!XTe(e)){var u=i(e,l);c=ne.createElement(T4,{shapeType:r,elementProps:u})}else{var f=l;c=ne.createElement(T4,{shapeType:r,elementProps:f})}return o?ne.createElement(Wr,{className:s},c):c}function OS(t,e){return e!=null&&"trapezoids"in t.props}function MS(t,e){return e!=null&&"sectors"in t.props}function _v(t,e){return e!=null&&"points"in t.props}function mEe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function gEe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function vEe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function yEe(t,e){var r;return OS(t,e)?r=mEe:MS(t,e)?r=gEe:_v(t,e)&&(r=vEe),r}function xEe(t,e){var r;return OS(t,e)?r="trapezoids":MS(t,e)?r="sectors":_v(t,e)&&(r="points"),r}function wEe(t,e){if(OS(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(MS(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return _v(t,e)?e.payload:{}}function _Ee(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=xEe(r,e),a=wEe(r,e),s=n.filter(function(l,c){var u=kS(a,l),f=r.props[i].filter(function(m){var p=yEe(r,e);return p(m,e)}),d=r.props[i].indexOf(f[f.length-1]),h=c===d;return u&&h}),o=n.indexOf(s[s.length-1]);return o}var bEe=Math.ceil,SEe=Math.max;function AEe(t,e,r,n){for(var i=-1,a=SEe(bEe((e-t)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=t,t+=r;return s}var TEe=AEe,EEe=Zj,E4=1/0,CEe=17976931348623157e292;function kEe(t){if(!t)return t===0?t:0;if(t=EEe(t),t===E4||t===-E4){var e=t<0?-1:1;return e*CEe}return t===t?t:0}var b9=kEe,PEe=TEe,IEe=xS,uT=b9;function OEe(t){return function(e,r,n){return n&&typeof n!="number"&&IEe(e,r,n)&&(r=n=void 0),e=uT(e),r===void 0?(r=e,e=0):r=uT(r),n=n===void 0?e<r?1:-1:uT(n),PEe(e,r,n,t)}}var MEe=OEe,NEe=MEe,REe=NEe(),DEe=REe;const N_=tr(DEe);function bv(t){"@babel/helpers - typeof";return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bv(t)}function C4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function k4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C4(Object(r),!0).forEach(function(n){S9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S9(t,e,r){return e=FEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FEe(t){var e=LEe(t,"string");return bv(e)=="symbol"?e:e+""}function LEe(t,e){if(bv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $Ee=["Webkit","Moz","O","ms"],BEe=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=$Ee.reduce(function(a,s){return k4(k4({},a),{},S9({},s+n,r))},{});return i[e]=r,i};function rp(t){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rp(t)}function R_(){return R_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R_.apply(this,arguments)}function P4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P4(Object(r),!0).forEach(function(n){Qi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T9(n.key),n)}}function UEe(t,e,r){return e&&I4(t.prototype,e),r&&I4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function VEe(t,e,r){return e=D_(e),HEe(t,A9()?Reflect.construct(e,r||[],D_(t).constructor):e.apply(t,r))}function HEe(t,e){if(e&&(rp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WEe(t)}function WEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A9=function(){return!!t})()}function D_(t){return D_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},D_(t)}function zEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F2(t,e)}function F2(t,e){return F2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},F2(t,e)}function Qi(t,e,r){return e=T9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T9(t){var e=GEe(t,"string");return rp(e)=="symbol"?e:e+""}function GEe(t,e){if(rp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qEe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=ag().domain(N_(0,l)).range([a,a+s-o]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:u}},O4=function(e){return e.changedTouches&&!!e.changedTouches.length},np=function(t){function e(r){var n;return jEe(this,e),n=VEe(this,e,[r]),Qi(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Qi(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Qi(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),n.detachDragEndListener()}),Qi(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Qi(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Qi(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Qi(n,"handleSlideDragStart",function(i){var a=O4(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return zEe(e,t),UEe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,f=Math.min(i,a),d=Math.max(i,a),h=e.getIndexInRange(s,f),m=e.getIndexInRange(s,d);return{startIndex:h-h%l,endIndex:m===u?u:m-m%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=ba(a[n],o,n);return vt(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,d=l.startIndex,h=l.endIndex,m=l.onChange,p=n.pageX-a;p>0?p=Math.min(p,c+u-f-o,c+u-f-s):p<0&&(p=Math.max(p,c-s,c-o));var y=this.getIndex({startX:s+p,endX:o+p});(y.startIndex!==d||y.endIndex!==h)&&m&&m(y),this.setState({startX:s+p,endX:o+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=O4(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[s],u=this.props,f=u.x,d=u.width,h=u.travellerWidth,m=u.onChange,p=u.gap,y=u.data,w={startX:this.state.startX,endX:this.state.endX},b=n.pageX-a;b>0?b=Math.min(b,f+d-h-c):b<0&&(b=Math.max(b,f-c)),w[s]=c+b;var _=this.getIndex(w),A=_.startIndex,S=_.endIndex,T=function(){var P=y.length-1;return s==="startX"&&(o>l?A%p===0:S%p===0)||o<l&&S===P||s==="endX"&&(o>l?S%p===0:A%p===0)||o>l&&S===P};this.setState(Qi(Qi({},s,c+b),"brushMoveStartX",n.pageX),function(){m&&T()&&m(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[i],f=o.indexOf(u);if(f!==-1){var d=f+n;if(!(d===-1||d>=o.length)){var h=o[d];i==="startX"&&h>=c||i==="endX"&&h<=l||this.setState(Qi({},i,h),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return ne.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.data,c=n.children,u=n.padding,f=re.Children.only(c);return f?ne.cloneElement(f,{x:i,y:a,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,d=l.traveller,h=l.ariaLabel,m=l.data,p=l.startIndex,y=l.endIndex,w=Math.max(n,this.props.x),b=fT(fT({},kt(this.props,!1)),{},{x:w,y:c,width:u,height:f}),_=h||"Min value: ".concat((a=m[p])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=m[y])===null||s===void 0?void 0:s.name);return ne.createElement(Wr,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),o.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,b))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(n,i)+c,f=Math.max(Math.abs(i-n)-c,0);return ne.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,d=u.endX,h=5,m={pointerEvents:"none",fill:c};return ne.createElement(Wr,{className:"recharts-brush-texts"},ne.createElement(u_,R_({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-h,y:s+o/2},m),this.getTextOfTick(i)),ne.createElement(u_,R_({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+l+h,y:s+o/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,o=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,d=this.state,h=d.startX,m=d.endX,p=d.isTextActive,y=d.isSlideMoving,w=d.isTravellerMoving,b=d.isTravellerFocused;if(!i||!i.length||!ke(o)||!ke(l)||!ke(c)||!ke(u)||c<=0||u<=0)return null;var _=Mt("recharts-brush",a),A=ne.Children.count(s)===1,S=BEe("userSelect","none");return ne.createElement(Wr,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(h,m),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(m,"endX"),(p||y||w||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(a+o/2)-1;return ne.createElement(ne.Fragment,null,ne.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),ne.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),ne.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return ne.isValidElement(n)?a=ne.cloneElement(n,i):vt(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return fT({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},a&&a.length?qEe({data:a,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var d=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>i?o=l:s=l}return i>=n[o]?o:s}}])}(re.PureComponent);Qi(np,"displayName","Brush");Qi(np,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var XEe=WI;function KEe(t,e){var r;return XEe(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var YEe=KEe,JEe=Tj,ZEe=yu,QEe=YEe,e2e=Yi,t2e=xS;function r2e(t,e,r){var n=e2e(t)?JEe:QEe;return r&&t2e(t,e,r)&&(e=void 0),n(t,ZEe(e))}var n2e=r2e;const i2e=tr(n2e);var To=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},M4=qj;function a2e(t,e,r){e=="__proto__"&&M4?M4(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var s2e=a2e,o2e=s2e,l2e=zj,c2e=yu;function u2e(t,e){var r={};return e=c2e(e),l2e(t,function(n,i,a){o2e(r,i,e(n,i,a))}),r}var f2e=u2e;const d2e=tr(f2e);function h2e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var p2e=h2e,m2e=WI;function g2e(t,e){var r=!0;return m2e(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var v2e=g2e,y2e=p2e,x2e=v2e,w2e=yu,_2e=Yi,b2e=xS;function S2e(t,e,r){var n=_2e(t)?y2e:x2e;return r&&b2e(t,e,r)&&(e=void 0),n(t,w2e(e))}var A2e=S2e;const E9=tr(A2e);var T2e=["x","y"];function Sv(t){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sv(t)}function L2(){return L2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L2.apply(this,arguments)}function N4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function um(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N4(Object(r),!0).forEach(function(n){E2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function E2e(t,e,r){return e=C2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C2e(t){var e=k2e(t,"string");return Sv(e)=="symbol"?e:e+""}function k2e(t,e){if(Sv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P2e(t,e){if(t==null)return{};var r=I2e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function I2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function O2e(t,e){var r=t.x,n=t.y,i=P2e(t,T2e),a="".concat(r),s=parseInt(a,10),o="".concat(n),l=parseInt(o,10),c="".concat(e.height||i.height),u=parseInt(c,10),f="".concat(e.width||i.width),d=parseInt(f,10);return um(um(um(um(um({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:d,name:e.name,radius:e.radius})}function R4(t){return ne.createElement(pEe,L2({shapeType:"rectangle",propTransformer:O2e,activeClassName:"recharts-active-bar"},t))}var M2e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=ke(n)||Xle(n);return a?e(n,i):(a||hd(),r)}},N2e=["value","background"],C9;function ip(t){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ip(t)}function R2e(t,e){if(t==null)return{};var r=D2e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function D2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function F_(){return F_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F_.apply(this,arguments)}function D4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D4(Object(r),!0).forEach(function(n){Uc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function F2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,P9(n.key),n)}}function L2e(t,e,r){return e&&F4(t.prototype,e),r&&F4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $2e(t,e,r){return e=L_(e),B2e(t,k9()?Reflect.construct(e,r||[],L_(t).constructor):e.apply(t,r))}function B2e(t,e){if(e&&(ip(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j2e(t)}function j2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k9=function(){return!!t})()}function L_(t){return L_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},L_(t)}function U2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$2(t,e)}function $2(t,e){return $2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$2(t,e)}function Uc(t,e,r){return e=P9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P9(t){var e=V2e(t,"string");return ip(e)=="symbol"?e:e+""}function V2e(t,e){if(ip(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Us=function(t){function e(){var r;F2e(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=$2e(this,e,[].concat(i)),Uc(r,"state",{isAnimationFinished:!1}),Uc(r,"id",ox("recharts-bar-")),Uc(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Uc(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return U2e(e,t),L2e(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,c=a.activeBar,u=kt(this.props,!1);return n&&n.map(function(f,d){var h=d===l,m=h?c:s,p=tn(tn(tn({},u),f),{},{isActive:h,option:m,index:d,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ne.createElement(Wr,F_({className:"recharts-bar-rectangle"},Yw(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(d)}),ne.createElement(R4,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,d=this.state.prevData;return ne.createElement($l,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var m=h.t,p=a.map(function(y,w){var b=d&&d[w];if(b){var _=Os(b.x,y.x),A=Os(b.y,y.y),S=Os(b.width,y.width),T=Os(b.height,y.height);return tn(tn({},y),{},{x:_(m),y:A(m),width:S(m),height:T(m)})}if(s==="horizontal"){var E=Os(0,y.height),P=E(m);return tn(tn({},y),{},{y:y.y+y.height-P,height:P})}var k=Os(0,y.width),N=k(m);return tn(tn({},y),{},{width:N})});return ne.createElement(Wr,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!kS(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=kt(this.props.background,!1);return a.map(function(c,u){c.value;var f=c.background,d=R2e(c,N2e);if(!f)return null;var h=tn(tn(tn(tn(tn({},d),{},{fill:"#eee"},f),l),Yw(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return ne.createElement(R4,F_({key:"background-bar-".concat(u),option:n.props.background,isActive:u===o},h))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=Ja(u,hx);if(!f)return null;var d=c==="vertical"?s[0].height/2:s[0].width/2,h=function(y,w){var b=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:b,errorVal:ba(y,w)}},m={clipPath:n?"url(#clipPath-".concat(i,")"):null};return ne.createElement(Wr,m,f.map(function(p){return ne.cloneElement(p,{key:"error-bar-".concat(i,"-").concat(p.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:d,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,d=n.height,h=n.isAnimationActive,m=n.background,p=n.id;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,w=Mt("recharts-bar",s),b=o&&o.allowDataOverflow,_=l&&l.allowDataOverflow,A=b||_,S=St(p)?this.id:p;return ne.createElement(Wr,{className:w},b||_?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(S)},ne.createElement("rect",{x:b?c:c-f/2,y:_?u:u-d/2,width:b?f:f*2,height:_?d:d*2}))):null,ne.createElement(Wr,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(S,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,S),(!h||y)&&Jc.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(re.PureComponent);C9=Us;Uc(Us,"displayName","Bar");Uc(Us,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Fp.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Uc(Us,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,d=t.offset,h=vbe(n,r);if(!h)return null;var m=e.layout,p=r.type.defaultProps,y=p!==void 0?tn(tn({},p),r.props):r.props,w=y.dataKey,b=y.children,_=y.minPointSize,A=m==="horizontal"?s:a,S=c?A.scale.domain():null,T=Tbe({numericAxis:A}),E=Ja(b,tU),P=f.map(function(k,N){var O,R,W,Q,j,Y;c?O=ybe(c[u+N],S):(O=ba(k,w),Array.isArray(O)||(O=[T,O]));var J=M2e(_,C9.defaultProps.minPointSize)(O[1],N);if(m==="horizontal"){var Z,V=[s.scale(O[0]),s.scale(O[1])],te=V[0],se=V[1];R=DF({axis:a,ticks:o,bandSize:i,offset:h.offset,entry:k,index:N}),W=(Z=se??te)!==null&&Z!==void 0?Z:void 0,Q=h.size;var D=te-se;if(j=Number.isNaN(D)?0:D,Y={x:R,y:s.y,width:Q,height:s.height},Math.abs(J)>0&&Math.abs(j)<Math.abs(J)){var q=Ds(j||J)*(Math.abs(J)-Math.abs(j));W-=q,j+=q}}else{var X=[a.scale(O[0]),a.scale(O[1])],ee=X[0],ae=X[1];if(R=ee,W=DF({axis:s,ticks:l,bandSize:i,offset:h.offset,entry:k,index:N}),Q=ae-ee,j=h.size,Y={x:a.x,y:W,width:a.width,height:j},Math.abs(J)>0&&Math.abs(Q)<Math.abs(J)){var ue=Ds(Q||J)*(Math.abs(J)-Math.abs(Q));Q+=ue}}return tn(tn(tn({},k),{},{x:R,y:W,width:Q,height:j,value:c?O:O[1],payload:k,background:Y},E&&E[N]&&E[N].props),{},{tooltipPayload:[o9(r,k)],tooltipPosition:{x:R+Q/2,y:W+j/2}})});return tn({data:P,layout:m},d)});function Av(t){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Av(t)}function H2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I9(n.key),n)}}function W2e(t,e,r){return e&&L4(t.prototype,e),r&&L4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ks(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$4(Object(r),!0).forEach(function(n){NS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NS(t,e,r){return e=I9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I9(t){var e=z2e(t,"string");return Av(e)=="symbol"?e:e+""}function z2e(t,e){if(Av(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var O9=function(e,r,n,i,a){var s=e.width,o=e.height,l=e.layout,c=e.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},d=!!ua(c,Us);return u.reduce(function(h,m){var p=r[m],y=p.orientation,w=p.domain,b=p.padding,_=b===void 0?{}:b,A=p.mirror,S=p.reversed,T="".concat(y).concat(A?"Mirror":""),E,P,k,N,O;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var R=w[1]-w[0],W=1/0,Q=p.categoricalDomain.sort(Jle);if(Q.forEach(function(X,ee){ee>0&&(W=Math.min((X||0)-(Q[ee-1]||0),W))}),Number.isFinite(W)){var j=W/R,Y=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(E=j*Y/2),p.padding==="no-gap"){var J=fd(e.barCategoryGap,j*Y),Z=j*Y/2;E=Z-J-(Z-J)/Y*J}}}i==="xAxis"?P=[n.left+(_.left||0)+(E||0),n.left+n.width-(_.right||0)-(E||0)]:i==="yAxis"?P=l==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(E||0),n.top+n.height-(_.bottom||0)-(E||0)]:P=p.range,S&&(P=[P[1],P[0]]);var V=mbe(p,a,d),te=V.scale,se=V.realScaleType;te.domain(w).range(P),gbe(te);var D=Abe(te,ks(ks({},p),{},{realScaleType:se}));i==="xAxis"?(O=y==="top"&&!A||y==="bottom"&&A,k=n.left,N=f[T]-O*p.height):i==="yAxis"&&(O=y==="left"&&!A||y==="right"&&A,k=f[T]-O*p.width,N=n.top);var q=ks(ks(ks({},p),D),{},{realScaleType:se,x:k,y:N,scale:te,width:i==="xAxis"?n.width:p.width,height:i==="yAxis"?n.height:p.height});return q.bandSize=A_(q,D),!p.hide&&i==="xAxis"?f[T]+=(O?-1:1)*q.height:p.hide||(f[T]+=(O?-1:1)*q.width),ks(ks({},h),{},NS({},m,q))},{})},M9=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},G2e=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return M9({x:r,y:n},{x:i,y:a})},N9=function(){function t(e){H2e(this,t),this.scale=e}return W2e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();NS(N9,"EPS",1e-4);var wO=function(e){var r=Object.keys(e).reduce(function(n,i){return ks(ks({},n),{},NS({},i,N9.create(e[i])))},{});return ks(ks({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return d2e(i,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return E9(i,function(a,s){return r[s].isInRange(a)})}})};function q2e(t){return(t%180+180)%180}var X2e=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=q2e(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},K2e=yu,Y2e=lx,J2e=vS;function Z2e(t){return function(e,r,n){var i=Object(e);if(!Y2e(e)){var a=K2e(r);e=J2e(e),r=function(o){return a(i[o],o,i)}}var s=t(e,r,n);return s>-1?i[a?e[s]:s]:void 0}}var Q2e=Z2e,eCe=b9;function tCe(t){var e=eCe(t),r=e%1;return e===e?r?e-r:e:0}var rCe=tCe,nCe=Bj,iCe=yu,aCe=rCe,sCe=Math.max;function oCe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:aCe(r);return i<0&&(i=sCe(n+i,0)),nCe(t,iCe(e),i)}var lCe=oCe,cCe=Q2e,uCe=lCe,fCe=cCe(uCe),dCe=fCe;const hCe=tr(dCe);var pCe=ele(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),_O=re.createContext(void 0),bO=re.createContext(void 0),R9=re.createContext(void 0),D9=re.createContext({}),F9=re.createContext(void 0),L9=re.createContext(0),$9=re.createContext(0),B4=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=e.clipPathId,o=e.children,l=e.width,c=e.height,u=pCe(a);return ne.createElement(_O.Provider,{value:n},ne.createElement(bO.Provider,{value:i},ne.createElement(D9.Provider,{value:a},ne.createElement(R9.Provider,{value:u},ne.createElement(F9.Provider,{value:s},ne.createElement(L9.Provider,{value:c},ne.createElement($9.Provider,{value:l},o)))))))},mCe=function(){return re.useContext(F9)},B9=function(e){var r=re.useContext(_O);r==null&&hd();var n=r[e];return n==null&&hd(),n},gCe=function(){var e=re.useContext(_O);return lc(e)},vCe=function(){var e=re.useContext(bO),r=hCe(e,function(n){return E9(n.domain,Number.isFinite)});return r||lc(e)},j9=function(e){var r=re.useContext(bO);r==null&&hd();var n=r[e];return n==null&&hd(),n},yCe=function(){var e=re.useContext(R9);return e},xCe=function(){return re.useContext(D9)},SO=function(){return re.useContext($9)},AO=function(){return re.useContext(L9)};function ap(t){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ap(t)}function wCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _Ce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,V9(n.key),n)}}function bCe(t,e,r){return e&&_Ce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SCe(t,e,r){return e=$_(e),ACe(t,U9()?Reflect.construct(e,r||[],$_(t).constructor):e.apply(t,r))}function ACe(t,e){if(e&&(ap(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TCe(t)}function TCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U9=function(){return!!t})()}function $_(t){return $_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$_(t)}function ECe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B2(t,e)}function B2(t,e){return B2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},B2(t,e)}function j4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function U4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j4(Object(r),!0).forEach(function(n){TO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TO(t,e,r){return e=V9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V9(t){var e=CCe(t,"string");return ap(e)=="symbol"?e:e+""}function CCe(t,e){if(ap(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function kCe(t,e){return MCe(t)||OCe(t,e)||ICe(t,e)||PCe()}function PCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ICe(t,e){if(t){if(typeof t=="string")return V4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V4(t,e)}}function V4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function OCe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function MCe(t){if(Array.isArray(t))return t}function j2(){return j2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},j2.apply(this,arguments)}var NCe=function(e,r){var n;return ne.isValidElement(e)?n=ne.cloneElement(e,r):vt(e)?n=e(r):n=ne.createElement("line",j2({},r,{className:"recharts-reference-line-line"})),n},RCe=function(e,r,n,i,a,s,o,l,c){var u=a.x,f=a.y,d=a.width,h=a.height;if(n){var m=c.y,p=e.y.apply(m,{position:s});if(To(c,"discard")&&!e.y.isInRange(p))return null;var y=[{x:u+d,y:p},{x:u,y:p}];return l==="left"?y.reverse():y}if(r){var w=c.x,b=e.x.apply(w,{position:s});if(To(c,"discard")&&!e.x.isInRange(b))return null;var _=[{x:b,y:f+h},{x:b,y:f}];return o==="top"?_.reverse():_}if(i){var A=c.segment,S=A.map(function(T){return e.apply(T,{position:s})});return To(c,"discard")&&i2e(S,function(T){return!e.isInRange(T)})?null:S}return null};function DCe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,c=mCe(),u=B9(i),f=j9(a),d=yCe();if(!c||!d)return null;Al(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=wO({x:u.scale,y:f.scale}),m=yn(e),p=yn(r),y=n&&n.length===2,w=RCe(h,m,p,y,d,t.position,u.orientation,f.orientation,t);if(!w)return null;var b=kCe(w,2),_=b[0],A=_.x,S=_.y,T=b[1],E=T.x,P=T.y,k=To(t,"hidden")?"url(#".concat(c,")"):void 0,N=U4(U4({clipPath:k},kt(t,!0)),{},{x1:A,y1:S,x2:E,y2:P});return ne.createElement(Wr,{className:Mt("recharts-reference-line",o)},NCe(s,N),li.renderCallByParent(t,G2e({x1:A,y1:S,x2:E,y2:P})))}var EO=function(t){function e(){return wCe(this,e),SCe(this,e,arguments)}return ECe(e,t),bCe(e,[{key:"render",value:function(){return ne.createElement(DCe,this.props)}}])}(ne.Component);TO(EO,"displayName","ReferenceLine");TO(EO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function U2(){return U2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},U2.apply(this,arguments)}function sp(t){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sp(t)}function H4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function W4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H4(Object(r),!0).forEach(function(n){RS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LCe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,W9(n.key),n)}}function $Ce(t,e,r){return e&&LCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BCe(t,e,r){return e=B_(e),jCe(t,H9()?Reflect.construct(e,r||[],B_(t).constructor):e.apply(t,r))}function jCe(t,e){if(e&&(sp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UCe(t)}function UCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H9=function(){return!!t})()}function B_(t){return B_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},B_(t)}function VCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V2(t,e)}function V2(t,e){return V2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},V2(t,e)}function RS(t,e,r){return e=W9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W9(t){var e=HCe(t,"string");return sp(e)=="symbol"?e:e+""}function HCe(t,e){if(sp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var WCe=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=wO({x:i.scale,y:a.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return To(e,"discard")&&!s.isInRange(o)?null:o},DS=function(t){function e(){return FCe(this,e),BCe(this,e,arguments)}return VCe(e,t),$Ce(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=yn(i),u=yn(a);if(Al(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=WCe(this.props);if(!f)return null;var d=f.x,h=f.y,m=this.props,p=m.shape,y=m.className,w=To(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=W4(W4({clipPath:w},kt(this.props,!0)),{},{cx:d,cy:h});return ne.createElement(Wr,{className:Mt("recharts-reference-dot",y)},e.renderDot(p,b),li.renderCallByParent(this.props,{x:d-s,y:h-s,width:2*s,height:2*s}))}}])}(ne.Component);RS(DS,"displayName","ReferenceDot");RS(DS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});RS(DS,"renderDot",function(t,e){var r;return ne.isValidElement(t)?r=ne.cloneElement(t,e):vt(t)?r=t(e):r=ne.createElement(xO,U2({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function H2(){return H2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H2.apply(this,arguments)}function op(t){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},op(t)}function z4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function G4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z4(Object(r),!0).forEach(function(n){FS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GCe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,G9(n.key),n)}}function qCe(t,e,r){return e&&GCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XCe(t,e,r){return e=j_(e),KCe(t,z9()?Reflect.construct(e,r||[],j_(t).constructor):e.apply(t,r))}function KCe(t,e){if(e&&(op(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YCe(t)}function YCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z9=function(){return!!t})()}function j_(t){return j_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},j_(t)}function JCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W2(t,e)}function W2(t,e){return W2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},W2(t,e)}function FS(t,e,r){return e=G9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G9(t){var e=ZCe(t,"string");return op(e)=="symbol"?e:e+""}function ZCe(t,e){if(op(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var QCe=function(e,r,n,i,a){var s=a.x1,o=a.x2,l=a.y1,c=a.y2,u=a.xAxis,f=a.yAxis;if(!u||!f)return null;var d=wO({x:u.scale,y:f.scale}),h={x:e?d.x.apply(s,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(l,{position:"start"}):d.y.rangeMin},m={x:r?d.x.apply(o,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(c,{position:"end"}):d.y.rangeMax};return To(a,"discard")&&(!d.isInRange(h)||!d.isInRange(m))?null:M9(h,m)},LS=function(t){function e(){return zCe(this,e),XCe(this,e,arguments)}return JCe(e,t),qCe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;Al(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=yn(i),d=yn(a),h=yn(s),m=yn(o),p=this.props.shape;if(!f&&!d&&!h&&!m&&!p)return null;var y=QCe(f,d,h,m,this.props);if(!y&&!p)return null;var w=To(this.props,"hidden")?"url(#".concat(u,")"):void 0;return ne.createElement(Wr,{className:Mt("recharts-reference-area",l)},e.renderRect(p,G4(G4({clipPath:w},kt(this.props,!0)),y)),li.renderCallByParent(this.props,y))}}])}(ne.Component);FS(LS,"displayName","ReferenceArea");FS(LS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});FS(LS,"renderRect",function(t,e){var r;return ne.isValidElement(t)?r=ne.cloneElement(t,e):vt(t)?r=t(e):r=ne.createElement(yO,H2({},e,{className:"recharts-reference-area-rect"})),r});function q9(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function eke(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return X2e(n,r)}function tke(t,e,r){var n=r==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function U_(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function rke(t,e){return q9(t,e+1)}function nke(t,e,r,n,i){for(var a=(n||[]).slice(),s=e.start,o=e.end,l=0,c=1,u=s,f=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:q9(n,c)};var p=l,y,w=function(){return y===void 0&&(y=r(m,p)),y},b=m.coordinate,_=l===0||U_(t,b,w,u,o);_||(l=0,u=s,c+=1),_&&(u=b+t*(w()/2+i),l+=c)},d;c<=a.length;)if(d=f(),d)return d.v;return[]}function Tv(t){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tv(t)}function q4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ni(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q4(Object(r),!0).forEach(function(n){ike(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ike(t,e,r){return e=ake(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ake(t){var e=ske(t,"string");return Tv(e)=="symbol"?e:e+""}function ske(t,e){if(Tv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oke(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,o=e.start,l=e.end,c=function(d){var h=a[d],m,p=function(){return m===void 0&&(m=r(h,d)),m};if(d===s-1){var y=t*(h.coordinate+t*p()/2-l);a[d]=h=ni(ni({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate})}else a[d]=h=ni(ni({},h),{},{tickCoord:h.coordinate});var w=U_(t,h.tickCoord,p,o,l);w&&(l=h.tickCoord-t*(p()/2+i),a[d]=ni(ni({},h),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return a}function lke(t,e,r,n,i,a){var s=(n||[]).slice(),o=s.length,l=e.start,c=e.end;if(a){var u=n[o-1],f=r(u,o-1),d=t*(u.coordinate+t*f/2-c);s[o-1]=u=ni(ni({},u),{},{tickCoord:d>0?u.coordinate-d*t:u.coordinate});var h=U_(t,u.tickCoord,function(){return f},l,c);h&&(c=u.tickCoord-t*(f/2+i),s[o-1]=ni(ni({},u),{},{isShow:!0}))}for(var m=a?o-1:o,p=function(b){var _=s[b],A,S=function(){return A===void 0&&(A=r(_,b)),A};if(b===0){var T=t*(_.coordinate-t*S()/2-l);s[b]=_=ni(ni({},_),{},{tickCoord:T<0?_.coordinate-T*t:_.coordinate})}else s[b]=_=ni(ni({},_),{},{tickCoord:_.coordinate});var E=U_(t,_.tickCoord,S,l,c);E&&(l=_.tickCoord+t*(S()/2+i),s[b]=ni(ni({},_),{},{isShow:!0}))},y=0;y<m;y++)p(y);return s}function CO(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(ke(l)||Fp.isSsr)return rke(i,typeof l=="number"&&ke(l)?l:0);var d=[],h=o==="top"||o==="bottom"?"width":"height",m=u&&h==="width"?ig(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},p=function(_,A){var S=vt(c)?c(_.value,A):_.value;return h==="width"?eke(ig(S,{fontSize:e,letterSpacing:r}),m,f):ig(S,{fontSize:e,letterSpacing:r})[h]},y=i.length>=2?Ds(i[1].coordinate-i[0].coordinate):1,w=tke(a,y,h);return l==="equidistantPreserveStart"?nke(y,w,p,i,s):(l==="preserveStart"||l==="preserveStartEnd"?d=lke(y,w,p,i,s,l==="preserveStartEnd"):d=oke(y,w,p,i,s),d.filter(function(b){return b.isShow}))}var cke=["viewBox"],uke=["viewBox"],fke=["ticks"];function lp(t){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lp(t)}function xh(){return xh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xh.apply(this,arguments)}function X4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function on(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X4(Object(r),!0).forEach(function(n){kO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dT(t,e){if(t==null)return{};var r=dke(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function hke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,K9(n.key),n)}}function pke(t,e,r){return e&&K4(t.prototype,e),r&&K4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function mke(t,e,r){return e=V_(e),gke(t,X9()?Reflect.construct(e,r||[],V_(t).constructor):e.apply(t,r))}function gke(t,e){if(e&&(lp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vke(t)}function vke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X9=function(){return!!t})()}function V_(t){return V_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},V_(t)}function yke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z2(t,e)}function z2(t,e){return z2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},z2(t,e)}function kO(t,e,r){return e=K9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K9(t){var e=xke(t,"string");return lp(e)=="symbol"?e:e+""}function xke(t,e){if(lp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jp=function(t){function e(r){var n;return hke(this,e),n=mke(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return yke(e,t),pke(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=dT(n,cke),o=this.props,l=o.viewBox,c=dT(o,uke);return!Nh(a,l)||!Nh(s,c)||!Nh(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,d=i.tickMargin,h,m,p,y,w,b,_=f?-1:1,A=n.tickSize||u,S=ke(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":h=m=n.coordinate,y=s+ +!f*l,p=y-_*A,b=p-_*d,w=S;break;case"left":p=y=n.coordinate,m=a+ +!f*o,h=m-_*A,w=h-_*d,b=S;break;case"right":p=y=n.coordinate,m=a+ +f*o,h=m+_*A,w=h+_*d,b=S;break;default:h=m=n.coordinate,y=s+ +f*l,p=y+_*A,b=p+_*d,w=S;break}return{line:{x1:h,y1:p,x2:m,y2:y},tick:{x:w,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=on(on(on({},kt(this.props,!1)),kt(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!c||l==="bottom"&&c);f=on(on({},f),{},{x1:i,y1:a+d*o,x2:i+s,y2:a+d*o})}else{var h=+(l==="left"&&!c||l==="right"&&c);f=on(on({},f),{},{x1:i+h*s,y1:a,x2:i+h*s,y2:a+o})}return ne.createElement("line",xh({},f,{className:Mt("recharts-cartesian-axis-line",Ya(u,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,f=o.tickFormatter,d=o.unit,h=CO(on(on({},this.props),{},{ticks:n}),i,a),m=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),y=kt(this.props,!1),w=kt(u,!1),b=on(on({},y),{},{fill:"none"},kt(l,!1)),_=h.map(function(A,S){var T=s.getTickLineCoord(A),E=T.line,P=T.tick,k=on(on(on(on({textAnchor:m,verticalAnchor:p},y),{},{stroke:"none",fill:c},w),P),{},{index:S,payload:A,visibleTicksCount:h.length,tickFormatter:f});return ne.createElement(Wr,xh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},Yw(s.props,A,S)),l&&ne.createElement("line",xh({},b,E,{className:Mt("recharts-cartesian-axis-tick-line",Ya(l,"className"))})),u&&e.renderTickItem(u,k,"".concat(vt(f)?f(A.value,S):A.value).concat(d||"")))});return ne.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,d=f.ticks,h=dT(f,fke),m=d;return vt(l)&&(m=d&&d.length>0?l(this.props):l(h)),s<=0||o<=0||!m||!m.length?null:ne.createElement(Wr,{className:Mt("recharts-cartesian-axis",c),ref:function(y){n.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),li.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,o=Mt(i.className,"recharts-cartesian-axis-tick-value");return ne.isValidElement(n)?s=ne.cloneElement(n,on(on({},i),{},{className:o})):vt(n)?s=n(on(on({},i),{},{className:o})):s=ne.createElement(u_,xh({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(re.Component);kO(jp,"displayName","CartesianAxis");kO(jp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var wke=["x1","y1","x2","y2","key"],_ke=["offset"];function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function Y4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ci(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y4(Object(r),!0).forEach(function(n){bke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bke(t,e,r){return e=Ske(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ske(t){var e=Ake(t,"string");return pd(e)=="symbol"?e:e+""}function Ake(t,e){if(pd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qu(){return qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qu.apply(this,arguments)}function J4(t,e){if(t==null)return{};var r=Tke(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Tke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Eke=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return ne.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Y9(t,e){var r;if(ne.isValidElement(t))r=ne.cloneElement(t,e);else if(vt(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=J4(e,wke),c=kt(l,!1);c.offset;var u=J4(c,_ke);r=ne.createElement("line",qu({},u,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:o}))}return r}function Cke(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=ci(ci({},t),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(l),index:l});return Y9(i,c)});return ne.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function kke(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=ci(ci({},t),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(l),index:l});return Y9(i,c)});return ne.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Pke(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=o.map(function(d){return Math.round(d+i-i)}).sort(function(d,h){return d-h});i!==u[0]&&u.unshift(0);var f=u.map(function(d,h){var m=!u[h+1],p=m?i+s-d:u[h+1]-d;if(p<=0)return null;var y=h%e.length;return ne.createElement("rect",{key:"react-".concat(h),y:d,x:n,height:p,width:a,stroke:"none",fill:e[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ne.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Ike(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(d){return Math.round(d+a-a)}).sort(function(d,h){return d-h});a!==u[0]&&u.unshift(0);var f=u.map(function(d,h){var m=!u[h+1],p=m?a+o-d:u[h+1]-d;if(p<=0)return null;var y=h%n.length;return ne.createElement("rect",{key:"react-".concat(h),x:d,y:s,width:p,height:l,stroke:"none",fill:n[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ne.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Oke=function(e,r){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return a9(CO(ci(ci(ci({},jp.defaultProps),n),{},{ticks:yl(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},Mke=function(e,r){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return a9(CO(ci(ci(ci({},jp.defaultProps),n),{},{ticks:yl(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},Gd={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function H_(t){var e,r,n,i,a,s,o=SO(),l=AO(),c=xCe(),u=ci(ci({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Gd.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Gd.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Gd.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Gd.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Gd.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Gd.verticalFill,x:ke(t.x)?t.x:c.left,y:ke(t.y)?t.y:c.top,width:ke(t.width)?t.width:c.width,height:ke(t.height)?t.height:c.height}),f=u.x,d=u.y,h=u.width,m=u.height,p=u.syncWithTicks,y=u.horizontalValues,w=u.verticalValues,b=gCe(),_=vCe();if(!ke(h)||h<=0||!ke(m)||m<=0||!ke(f)||f!==+f||!ke(d)||d!==+d)return null;var A=u.verticalCoordinatesGenerator||Oke,S=u.horizontalCoordinatesGenerator||Mke,T=u.horizontalPoints,E=u.verticalPoints;if((!T||!T.length)&&vt(S)){var P=y&&y.length,k=S({yAxis:_?ci(ci({},_),{},{ticks:P?y:_.ticks}):void 0,width:o,height:l,offset:c},P?!0:p);Al(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(pd(k),"]")),Array.isArray(k)&&(T=k)}if((!E||!E.length)&&vt(A)){var N=w&&w.length,O=A({xAxis:b?ci(ci({},b),{},{ticks:N?w:b.ticks}):void 0,width:o,height:l,offset:c},N?!0:p);Al(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(pd(O),"]")),Array.isArray(O)&&(E=O)}return ne.createElement("g",{className:"recharts-cartesian-grid"},ne.createElement(Eke,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),ne.createElement(Cke,qu({},u,{offset:c,horizontalPoints:T,xAxis:b,yAxis:_})),ne.createElement(kke,qu({},u,{offset:c,verticalPoints:E,xAxis:b,yAxis:_})),ne.createElement(Pke,qu({},u,{horizontalPoints:T})),ne.createElement(Ike,qu({},u,{verticalPoints:E})))}H_.displayName="CartesianGrid";var Nke=["type","layout","connectNulls","ref"],Rke=["key"];function cp(t){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cp(t)}function Z4(t,e){if(t==null)return{};var r=Dke(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Dke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lg(){return lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lg.apply(this,arguments)}function Q4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q4(Object(r),!0).forEach(function(n){Ps(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qd(t){return Bke(t)||$ke(t)||Lke(t)||Fke()}function Fke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lke(t,e){if(t){if(typeof t=="string")return G2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G2(t,e)}}function $ke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bke(t){if(Array.isArray(t))return G2(t)}function G2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Z9(n.key),n)}}function Uke(t,e,r){return e&&eL(t.prototype,e),r&&eL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vke(t,e,r){return e=W_(e),Hke(t,J9()?Reflect.construct(e,r||[],W_(t).constructor):e.apply(t,r))}function Hke(t,e){if(e&&(cp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wke(t)}function Wke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J9=function(){return!!t})()}function W_(t){return W_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},W_(t)}function zke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q2(t,e)}function q2(t,e){return q2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},q2(t,e)}function Ps(t,e,r){return e=Z9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z9(t){var e=Gke(t,"string");return cp(e)=="symbol"?e:e+""}function Gke(t,e){if(cp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var up=function(t){function e(){var r;jke(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Vke(this,e,[].concat(i)),Ps(r,"state",{isAnimationFinished:!0,totalLength:0}),Ps(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),Ps(r,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(w,b){return w+b});if(!c)return r.generateSimpleStrokeDasharray(o,s);for(var u=Math.floor(s/c),f=s%c,d=o-s,h=[],m=0,p=0;m<l.length;p+=l[m],++m)if(p+l[m]>f){h=[].concat(qd(l.slice(0,m)),[f-p]);break}var y=h.length%2===0?[0,d]:[d];return[].concat(qd(e.repeat(l,u)),qd(h),y).map(function(w){return"".concat(w,"px")}).join(", ")}),Ps(r,"id",ox("recharts-line-")),Ps(r,"pathRef",function(s){r.mainCurve=s}),Ps(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ps(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return zke(e,t),Uke(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=Ja(u,hx);if(!f)return null;var d=function(p,y){return{x:p.x,y:p.y,value:p.value,errorVal:ba(p.payload,y)}},h={clipPath:n?"url(#clipPath-".concat(i,")"):null};return ne.createElement(Wr,h,f.map(function(m){return ne.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:d})}))}},{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,u=o.dataKey,f=kt(this.props,!1),d=kt(l,!0),h=c.map(function(p,y){var w=Zi(Zi(Zi({key:"dot-".concat(y),r:3},f),d),{},{index:y,cx:p.x,cy:p.y,value:p.value,dataKey:u,payload:p.payload,points:c});return e.renderDotItem(l,w)}),m={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return ne.createElement(Wr,lg({className:"recharts-line-dots",key:"dots"},m),h)}},{key:"renderCurveStatically",value:function(n,i,a,s){var o=this.props,l=o.type,c=o.layout,u=o.connectNulls;o.ref;var f=Z4(o,Nke),d=Zi(Zi(Zi({},kt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},s),{},{type:l,layout:c,connectNulls:u});return ne.createElement(A2,lg({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,u=s.animationBegin,f=s.animationDuration,d=s.animationEasing,h=s.animationId,m=s.animateNewValues,p=s.width,y=s.height,w=this.state,b=w.prevPoints,_=w.totalLength;return ne.createElement($l,{begin:u,duration:f,isActive:c,easing:d,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var S=A.t;if(b){var T=b.length/o.length,E=o.map(function(R,W){var Q=Math.floor(W*T);if(b[Q]){var j=b[Q],Y=Os(j.x,R.x),J=Os(j.y,R.y);return Zi(Zi({},R),{},{x:Y(S),y:J(S)})}if(m){var Z=Os(p*2,R.x),V=Os(y/2,R.y);return Zi(Zi({},R),{},{x:Z(S),y:V(S)})}return Zi(Zi({},R),{},{x:R.x,y:R.y})});return a.renderCurveStatically(E,n,i)}var P=Os(0,_),k=P(S),N;if(l){var O="".concat(l).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});N=a.getStrokeDasharray(k,_,O)}else N=a.generateSimpleStrokeDasharray(_,k);return a.renderCurveStatically(o,n,i,{strokeDasharray:N})})}},{key:"renderCurve",value:function(n,i){var a=this.props,s=a.points,o=a.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return o&&s&&s.length&&(!c&&u>0||!kS(c,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,c=i.xAxis,u=i.yAxis,f=i.top,d=i.left,h=i.width,m=i.height,p=i.isAnimationActive,y=i.id;if(a||!o||!o.length)return null;var w=this.state.isAnimationFinished,b=o.length===1,_=Mt("recharts-line",l),A=c&&c.allowDataOverflow,S=u&&u.allowDataOverflow,T=A||S,E=St(y)?this.id:y,P=(n=kt(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},k=P.r,N=k===void 0?3:k,O=P.strokeWidth,R=O===void 0?2:O,W=sce(s)?s:{},Q=W.clipDot,j=Q===void 0?!0:Q,Y=N*2+R;return ne.createElement(Wr,{className:_},A||S?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(E)},ne.createElement("rect",{x:A?d:d-h/2,y:S?f:f-m/2,width:A?h:h*2,height:S?m:m*2})),!j&&ne.createElement("clipPath",{id:"clipPath-dots-".concat(E)},ne.createElement("rect",{x:d-Y/2,y:f-Y/2,width:h+Y,height:m+Y}))):null,!b&&this.renderCurve(T,E),this.renderErrorBar(T,E),(b||s)&&this.renderDots(T,j,E),(!p||w)&&Jc.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(qd(n),[0]):n,s=[],o=0;o<i;++o)s=[].concat(qd(s),qd(a));return s}},{key:"renderDotItem",value:function(n,i){var a;if(ne.isValidElement(n))a=ne.cloneElement(n,i);else if(vt(n))a=n(i);else{var s=i.key,o=Z4(i,Rke),l=Mt("recharts-line-dot",typeof n!="boolean"?n.className:"");a=ne.createElement(xO,lg({key:s},o,{className:l}))}return a}}])}(re.PureComponent);Ps(up,"displayName","Line");Ps(up,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Fp.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ps(up,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,o=t.bandSize,l=t.displayedData,c=t.offset,u=e.layout,f=l.map(function(d,h){var m=ba(d,s);return u==="horizontal"?{x:RF({axis:r,ticks:i,bandSize:o,entry:d,index:h}),y:St(m)?null:n.scale(m),value:m,payload:d}:{x:St(m)?null:r.scale(m),y:RF({axis:n,ticks:a,bandSize:o,entry:d,index:h}),value:m,payload:d}});return Zi({points:f,layout:u},c)});function fp(t){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(t)}function qke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,t7(n.key),n)}}function Kke(t,e,r){return e&&Xke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yke(t,e,r){return e=z_(e),Jke(t,Q9()?Reflect.construct(e,r||[],z_(t).constructor):e.apply(t,r))}function Jke(t,e){if(e&&(fp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zke(t)}function Zke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q9=function(){return!!t})()}function z_(t){return z_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},z_(t)}function Qke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X2(t,e)}function X2(t,e){return X2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},X2(t,e)}function e7(t,e,r){return e=t7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t7(t){var e=ePe(t,"string");return fp(e)=="symbol"?e:e+""}function ePe(t,e){if(fp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function K2(){return K2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},K2.apply(this,arguments)}function tPe(t){var e=t.xAxisId,r=SO(),n=AO(),i=B9(e);return i==null?null:re.createElement(jp,K2({},i,{className:Mt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return yl(s,!0)}}))}var md=function(t){function e(){return qke(this,e),Yke(this,e,arguments)}return Qke(e,t),Kke(e,[{key:"render",value:function(){return re.createElement(tPe,this.props)}}])}(re.Component);e7(md,"displayName","XAxis");e7(md,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function dp(t){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(t)}function rPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nPe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i7(n.key),n)}}function iPe(t,e,r){return e&&nPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aPe(t,e,r){return e=G_(e),sPe(t,r7()?Reflect.construct(e,r||[],G_(t).constructor):e.apply(t,r))}function sPe(t,e){if(e&&(dp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oPe(t)}function oPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r7=function(){return!!t})()}function G_(t){return G_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G_(t)}function lPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y2(t,e)}function Y2(t,e){return Y2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Y2(t,e)}function n7(t,e,r){return e=i7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i7(t){var e=cPe(t,"string");return dp(e)=="symbol"?e:e+""}function cPe(t,e){if(dp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function J2(){return J2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},J2.apply(this,arguments)}var uPe=function(e){var r=e.yAxisId,n=SO(),i=AO(),a=j9(r);return a==null?null:re.createElement(jp,J2({},a,{className:Mt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return yl(o,!0)}}))},Zc=function(t){function e(){return rPe(this,e),aPe(this,e,arguments)}return lPe(e,t),iPe(e,[{key:"render",value:function(){return re.createElement(uPe,this.props)}}])}(re.Component);n7(Zc,"displayName","YAxis");n7(Zc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function tL(t){return pPe(t)||hPe(t)||dPe(t)||fPe()}function fPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dPe(t,e){if(t){if(typeof t=="string")return Z2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z2(t,e)}}function hPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pPe(t){if(Array.isArray(t))return Z2(t)}function Z2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Q2=function(e,r,n,i,a){var s=Ja(e,EO),o=Ja(e,DS),l=[].concat(tL(s),tL(o)),c=Ja(e,LS),u="".concat(i,"Id"),f=i[0],d=r;if(l.length&&(d=l.reduce(function(p,y){if(y.props[u]===n&&To(y.props,"extendDomain")&&ke(y.props[f])){var w=y.props[f];return[Math.min(p[0],w),Math.max(p[1],w)]}return p},d)),c.length){var h="".concat(f,"1"),m="".concat(f,"2");d=c.reduce(function(p,y){if(y.props[u]===n&&To(y.props,"extendDomain")&&ke(y.props[h])&&ke(y.props[m])){var w=y.props[h],b=y.props[m];return[Math.min(p[0],w,b),Math.max(p[1],w,b)]}return p},d)}return a&&a.length&&(d=a.reduce(function(p,y){return ke(y)?[Math.min(p[0],y),Math.max(p[1],y)]:p},d)),d},a7={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,f||l,d),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],h]:l._events[m].push(h):(l._events[m]=h,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,m=new Array(h);d<h;d++)m[d]=f[d].fn;return m},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,d,h,m){var p=r?r+c:c;if(!this._events[p])return!1;var y=this._events[p],w=arguments.length,b,_;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,f),!0;case 4:return y.fn.call(y.context,u,f,d),!0;case 5:return y.fn.call(y.context,u,f,d,h),!0;case 6:return y.fn.call(y.context,u,f,d,h,m),!0}for(_=1,b=new Array(w-1);_<w;_++)b[_-1]=arguments[_];y.fn.apply(y.context,b)}else{var A=y.length,S;for(_=0;_<A;_++)switch(y[_].once&&this.removeListener(c,y[_].fn,void 0,!0),w){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,u);break;case 3:y[_].fn.call(y[_].context,u,f);break;case 4:y[_].fn.call(y[_].context,u,f,d);break;default:if(!b)for(S=1,b=new Array(w-1);S<w;S++)b[S-1]=arguments[S];y[_].fn.apply(y[_].context,b)}}return!0},o.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,d){var h=r?r+c:c;if(!this._events[h])return this;if(!u)return s(this,h),this;var m=this._events[h];if(m.fn)m.fn===u&&(!d||m.once)&&(!f||m.context===f)&&s(this,h);else{for(var p=0,y=[],w=m.length;p<w;p++)(m[p].fn!==u||d&&!m[p].once||f&&m[p].context!==f)&&y.push(m[p]);y.length?this._events[h]=y.length===1?y[0]:y:s(this,h)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(a7);var mPe=a7.exports;const gPe=tr(mPe);var hT=new gPe,pT="recharts.syncMouseEvents";function Ev(t){"@babel/helpers - typeof";return Ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ev(t)}function vPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yPe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s7(n.key),n)}}function xPe(t,e,r){return e&&yPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mT(t,e,r){return e=s7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s7(t){var e=wPe(t,"string");return Ev(e)=="symbol"?e:e+""}function wPe(t,e){if(Ev(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _Pe=function(){function t(){vPe(this,t),mT(this,"activeIndex",0),mT(this,"coordinateList",[]),mT(this,"layout","horizontal")}return xPe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,d=r.mouseHandlerCallback,h=d===void 0?null:d;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+c,d=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])}();function bPe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&ke(n)&&ke(i))return!0}return!1}function SPe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function o7(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,s=Hn(e,r,n,i),o=Hn(e,r,n,a);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function APe(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,f=e.angle,d=Hn(o,l,c,f),h=Hn(o,l,u,f);n=d.x,i=d.y,a=h.x,s=h.y}else return o7(e);return[{x:n,y:i},{x:a,y:s}]}function Cv(t){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cv(t)}function rL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function l1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rL(Object(r),!0).forEach(function(n){TPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TPe(t,e,r){return e=EPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EPe(t){var e=CPe(t,"string");return Cv(e)=="symbol"?e:e+""}function CPe(t,e){if(Cv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kPe(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,f=t.layout,d=t.chartName,h=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!a||!s||d!=="ScatterChart"&&i!=="axis")return null;var m,p=A2;if(d==="ScatterChart")m=s,p=kTe;else if(d==="BarChart")m=SPe(f,s,l,u),p=yO;else if(f==="radial"){var y=o7(s),w=y.cx,b=y.cy,_=y.radius,A=y.startAngle,S=y.endAngle;m={cx:w,cy:b,startAngle:A,endAngle:S,innerRadius:_,outerRadius:_},p=u9}else m={points:APe(f,s,l)},p=A2;var T=l1(l1(l1(l1({stroke:"#ccc",pointerEvents:"none"},l),m),kt(h,!1)),{},{payload:o,payloadIndex:c,className:Mt("recharts-tooltip-cursor",h.className)});return re.isValidElement(h)?re.cloneElement(h,T):re.createElement(p,T)}var PPe=["item"],IPe=["children","className","width","height","style","compact","title","desc"];function hp(t){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hp(t)}function wh(){return wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wh.apply(this,arguments)}function nL(t,e){return NPe(t)||MPe(t,e)||c7(t,e)||OPe()}function OPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MPe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function NPe(t){if(Array.isArray(t))return t}function iL(t,e){if(t==null)return{};var r=RPe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function DPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FPe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u7(n.key),n)}}function LPe(t,e,r){return e&&FPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $Pe(t,e,r){return e=q_(e),BPe(t,l7()?Reflect.construct(e,r||[],q_(t).constructor):e.apply(t,r))}function BPe(t,e){if(e&&(hp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jPe(t)}function jPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l7=function(){return!!t})()}function q_(t){return q_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},q_(t)}function UPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eC(t,e)}function eC(t,e){return eC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eC(t,e)}function pp(t){return WPe(t)||HPe(t)||c7(t)||VPe()}function VPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c7(t,e){if(t){if(typeof t=="string")return tC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tC(t,e)}}function HPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WPe(t){if(Array.isArray(t))return tC(t)}function tC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function aL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function me(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aL(Object(r),!0).forEach(function(n){Ze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ze(t,e,r){return e=u7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u7(t){var e=zPe(t,"string");return hp(e)=="symbol"?e:e+""}function zPe(t,e){if(hp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GPe={xAxis:["bottom","top"],yAxis:["left","right"]},qPe={width:"100%",height:"100%"},f7={x:0,y:0};function c1(t){return t}var XPe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},KPe=function(e,r,n,i){var a=r.find(function(u){return u&&u.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return me(me(me({},i),Hn(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,c=i.angle;return me(me(me({},i),Hn(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return f7},$S=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(pp(o),pp(c)):o},[]);return s.length>0?s:e&&e.length&&ke(i)&&ke(a)?e.slice(i,a+1):[]};function d7(t){return t==="number"?[0,"auto"]:void 0}var rC=function(e,r,n,i){var a=e.graphicalItems,s=e.tooltipAxis,o=$S(r,e);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(s.dataKey&&!s.allowDuplicatedCategory){var h=f===void 0?o:f;d=Xw(h,s.dataKey,i)}else d=f&&f[n]||o[n];return d?[].concat(pp(l),[o9(c,d)]):l},[])},sL=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},s=XPe(a,n),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=cbe(s,o,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,d=rC(e,r,u,f),h=KPe(n,o,u,a);return{activeTooltipIndex:u,activeLabel:f,activePayload:d,activeCoordinate:h}}return null},YPe=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,d=e.stackOffset,h=i9(u,a);return n.reduce(function(m,p){var y,w=p.type.defaultProps!==void 0?me(me({},p.type.defaultProps),p.props):p.props,b=w.type,_=w.dataKey,A=w.allowDataOverflow,S=w.allowDuplicatedCategory,T=w.scale,E=w.ticks,P=w.includeHidden,k=w[s];if(m[k])return m;var N=$S(e.data,{graphicalItems:i.filter(function(D){var q,X=s in D.props?D.props[s]:(q=D.type.defaultProps)===null||q===void 0?void 0:q[s];return X===k}),dataStartIndex:l,dataEndIndex:c}),O=N.length,R,W,Q;bPe(w.domain,A,b)&&(R=x2(w.domain,null,A),h&&(b==="number"||T!=="auto")&&(Q=sg(N,_,"category")));var j=d7(b);if(!R||R.length===0){var Y,J=(Y=w.domain)!==null&&Y!==void 0?Y:j;if(_){if(R=sg(N,_,b),b==="category"&&h){var Z=Yle(R);S&&Z?(W=R,R=N_(0,O)):S||(R=$F(J,R,p).reduce(function(D,q){return D.indexOf(q)>=0?D:[].concat(pp(D),[q])},[]))}else if(b==="category")S?R=R.filter(function(D){return D!==""&&!St(D)}):R=$F(J,R,p).reduce(function(D,q){return D.indexOf(q)>=0||q===""||St(q)?D:[].concat(pp(D),[q])},[]);else if(b==="number"){var V=pbe(N,i.filter(function(D){var q,X,ee=s in D.props?D.props[s]:(q=D.type.defaultProps)===null||q===void 0?void 0:q[s],ae="hide"in D.props?D.props.hide:(X=D.type.defaultProps)===null||X===void 0?void 0:X.hide;return ee===k&&(P||!ae)}),_,a,u);V&&(R=V)}h&&(b==="number"||T!=="auto")&&(Q=sg(N,_,"category"))}else h?R=N_(0,O):o&&o[k]&&o[k].hasStack&&b==="number"?R=d==="expand"?[0,1]:s9(o[k].stackGroups,l,c):R=n9(N,i.filter(function(D){var q=s in D.props?D.props[s]:D.type.defaultProps[s],X="hide"in D.props?D.props.hide:D.type.defaultProps.hide;return q===k&&(P||!X)}),b,u,!0);if(b==="number")R=Q2(f,R,k,a,E),J&&(R=x2(J,R,A));else if(b==="category"&&J){var te=J,se=R.every(function(D){return te.indexOf(D)>=0});se&&(R=te)}}return me(me({},m),{},Ze({},k,me(me({},w),{},{axisType:a,domain:R,categoricalDomain:Q,duplicateDomain:W,originalDomain:(y=w.domain)!==null&&y!==void 0?y:j,isCategorical:h,layout:u})))},{})},JPe=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,d=$S(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),h=d.length,m=i9(u,a),p=-1;return n.reduce(function(y,w){var b=w.type.defaultProps!==void 0?me(me({},w.type.defaultProps),w.props):w.props,_=b[s],A=d7("number");if(!y[_]){p++;var S;return m?S=N_(0,h):o&&o[_]&&o[_].hasStack?(S=s9(o[_].stackGroups,l,c),S=Q2(f,S,_,a)):(S=x2(A,n9(d,n.filter(function(T){var E,P,k=s in T.props?T.props[s]:(E=T.type.defaultProps)===null||E===void 0?void 0:E[s],N="hide"in T.props?T.props.hide:(P=T.type.defaultProps)===null||P===void 0?void 0:P.hide;return k===_&&!N}),"number",u),i.defaultProps.allowDataOverflow),S=Q2(f,S,_,a)),me(me({},y),{},Ze({},_,me(me({axisType:a},i.defaultProps),{},{hide:!0,orientation:Ya(GPe,"".concat(a,".").concat(p%2),null),domain:S,originalDomain:A,isCategorical:m,layout:u})))}return y},{})},ZPe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.children,f="".concat(i,"Id"),d=Ja(u,a),h={};return d&&d.length?h=YPe(e,{axes:d,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(h=JPe(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),h},QPe=function(e){var r=lc(e),n=yl(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:zI(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:A_(r,n)}},oL=function(e){var r=e.children,n=e.defaultShowTooltip,i=ua(r,np),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},eIe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Sl(r&&r.type);return n&&n.indexOf("Bar")>=0})},lL=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},tIe=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,c=n.width,u=n.height,f=n.children,d=n.margin||{},h=ua(f,np),m=ua(f,Tl),p=Object.keys(l).reduce(function(S,T){var E=l[T],P=E.orientation;return!E.mirror&&!E.hide?me(me({},S),{},Ze({},P,S[P]+E.width)):S},{left:d.left||0,right:d.right||0}),y=Object.keys(s).reduce(function(S,T){var E=s[T],P=E.orientation;return!E.mirror&&!E.hide?me(me({},S),{},Ze({},P,Ya(S,"".concat(P))+E.height)):S},{top:d.top||0,bottom:d.bottom||0}),w=me(me({},y),p),b=w.bottom;h&&(w.bottom+=h.props.height||np.defaultProps.height),m&&r&&(w=dbe(w,i,n,r));var _=c-w.left-w.right,A=u-w.top-w.bottom;return me(me({brushBottom:b},w),{},{width:Math.max(_,0),height:Math.max(A,0)})},rIe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},h7=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,f=e.defaultProps,d=function(w,b){var _=b.graphicalItems,A=b.stackGroups,S=b.offset,T=b.updateId,E=b.dataStartIndex,P=b.dataEndIndex,k=w.barSize,N=w.layout,O=w.barGap,R=w.barCategoryGap,W=w.maxBarSize,Q=lL(N),j=Q.numericAxisName,Y=Q.cateAxisName,J=eIe(_),Z=[];return _.forEach(function(V,te){var se=$S(w.data,{graphicalItems:[V],dataStartIndex:E,dataEndIndex:P}),D=V.type.defaultProps!==void 0?me(me({},V.type.defaultProps),V.props):V.props,q=D.dataKey,X=D.maxBarSize,ee=D["".concat(j,"Id")],ae=D["".concat(Y,"Id")],ue={},ve=l.reduce(function(mr,xr){var Xr=b["".concat(xr.axisType,"Map")],wr=D["".concat(xr.axisType,"Id")];Xr&&Xr[wr]||xr.axisType==="zAxis"||hd();var jr=Xr[wr];return me(me({},mr),{},Ze(Ze({},xr.axisType,jr),"".concat(xr.axisType,"Ticks"),yl(jr)))},ue),ie=ve[Y],ce=ve["".concat(Y,"Ticks")],be=A&&A[ee]&&A[ee].hasStack&&Ebe(V,A[ee].stackGroups),L=Sl(V.type).indexOf("Bar")>=0,Ue=A_(ie,ce),Ce=[],Ve=J&&ube({barSize:k,stackGroups:A,totalSize:rIe(ve,Y)});if(L){var Be,xe,Tt=St(X)?W:X,He=(Be=(xe=A_(ie,ce,!0))!==null&&xe!==void 0?xe:Tt)!==null&&Be!==void 0?Be:0;Ce=fbe({barGap:O,barCategoryGap:R,bandSize:He!==Ue?He:Ue,sizeList:Ve[ae],maxBarSize:Tt}),He!==Ue&&(Ce=Ce.map(function(mr){return me(me({},mr),{},{position:me(me({},mr.position),{},{offset:mr.position.offset-He/2})})}))}var Nr=V&&V.type&&V.type.getComposedData;Nr&&Z.push({props:me(me({},Nr(me(me({},ve),{},{displayedData:se,props:w,dataKey:q,item:V,bandSize:Ue,barPosition:Ce,offset:S,stackedData:be,layout:N,dataStartIndex:E,dataEndIndex:P}))),{},Ze(Ze(Ze({key:V.key||"item-".concat(te)},j,ve[j]),Y,ve[Y]),"animationId",T)),childIndex:cce(V,w.children),item:V})}),Z},h=function(w,b){var _=w.props,A=w.dataStartIndex,S=w.dataEndIndex,T=w.updateId;if(!OR({props:_}))return null;var E=_.children,P=_.layout,k=_.stackOffset,N=_.data,O=_.reverseStackOrder,R=lL(P),W=R.numericAxisName,Q=R.cateAxisName,j=Ja(E,n),Y=Sbe(N,j,"".concat(W,"Id"),"".concat(Q,"Id"),k,O),J=l.reduce(function(D,q){var X="".concat(q.axisType,"Map");return me(me({},D),{},Ze({},X,ZPe(_,me(me({},q),{},{graphicalItems:j,stackGroups:q.axisType===W&&Y,dataStartIndex:A,dataEndIndex:S}))))},{}),Z=tIe(me(me({},J),{},{props:_,graphicalItems:j}),b==null?void 0:b.legendBBox);Object.keys(J).forEach(function(D){J[D]=u(_,J[D],Z,D.replace("Map",""),r)});var V=J["".concat(Q,"Map")],te=QPe(V),se=d(_,me(me({},J),{},{dataStartIndex:A,dataEndIndex:S,updateId:T,graphicalItems:j,stackGroups:Y,offset:Z}));return me(me({formattedGraphicalItems:se,graphicalItems:j,offset:Z,stackGroups:Y},te),J)},m=function(y){function w(b){var _,A,S;return DPe(this,w),S=$Pe(this,w,[b]),Ze(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ze(S,"accessibilityManager",new _Pe),Ze(S,"handleLegendBBoxUpdate",function(T){if(T){var E=S.state,P=E.dataStartIndex,k=E.dataEndIndex,N=E.updateId;S.setState(me({legendBBox:T},h({props:S.props,dataStartIndex:P,dataEndIndex:k,updateId:N},me(me({},S.state),{},{legendBBox:T}))))}}),Ze(S,"handleReceiveSyncEvent",function(T,E,P){if(S.props.syncId===T){if(P===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(E)}}),Ze(S,"handleBrushChange",function(T){var E=T.startIndex,P=T.endIndex;if(E!==S.state.dataStartIndex||P!==S.state.dataEndIndex){var k=S.state.updateId;S.setState(function(){return me({dataStartIndex:E,dataEndIndex:P},h({props:S.props,dataStartIndex:E,dataEndIndex:P,updateId:k},S.state))}),S.triggerSyncEvent({dataStartIndex:E,dataEndIndex:P})}}),Ze(S,"handleMouseEnter",function(T){var E=S.getMouseInfo(T);if(E){var P=me(me({},E),{},{isTooltipActive:!0});S.setState(P),S.triggerSyncEvent(P);var k=S.props.onMouseEnter;vt(k)&&k(P,T)}}),Ze(S,"triggeredAfterMouseMove",function(T){var E=S.getMouseInfo(T),P=E?me(me({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(P),S.triggerSyncEvent(P);var k=S.props.onMouseMove;vt(k)&&k(P,T)}),Ze(S,"handleItemMouseEnter",function(T){S.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),Ze(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Ze(S,"handleMouseMove",function(T){T.persist(),S.throttleTriggeredAfterMouseMove(T)}),Ze(S,"handleMouseLeave",function(T){S.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};S.setState(E),S.triggerSyncEvent(E);var P=S.props.onMouseLeave;vt(P)&&P(E,T)}),Ze(S,"handleOuterEvent",function(T){var E=lce(T),P=Ya(S.props,"".concat(E));if(E&&vt(P)){var k,N;/.*touch.*/i.test(E)?N=S.getMouseInfo(T.changedTouches[0]):N=S.getMouseInfo(T),P((k=N)!==null&&k!==void 0?k:{},T)}}),Ze(S,"handleClick",function(T){var E=S.getMouseInfo(T);if(E){var P=me(me({},E),{},{isTooltipActive:!0});S.setState(P),S.triggerSyncEvent(P);var k=S.props.onClick;vt(k)&&k(P,T)}}),Ze(S,"handleMouseDown",function(T){var E=S.props.onMouseDown;if(vt(E)){var P=S.getMouseInfo(T);E(P,T)}}),Ze(S,"handleMouseUp",function(T){var E=S.props.onMouseUp;if(vt(E)){var P=S.getMouseInfo(T);E(P,T)}}),Ze(S,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),Ze(S,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&S.handleMouseDown(T.changedTouches[0])}),Ze(S,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&S.handleMouseUp(T.changedTouches[0])}),Ze(S,"handleDoubleClick",function(T){var E=S.props.onDoubleClick;if(vt(E)){var P=S.getMouseInfo(T);E(P,T)}}),Ze(S,"handleContextMenu",function(T){var E=S.props.onContextMenu;if(vt(E)){var P=S.getMouseInfo(T);E(P,T)}}),Ze(S,"triggerSyncEvent",function(T){S.props.syncId!==void 0&&hT.emit(pT,S.props.syncId,T,S.eventEmitterSymbol)}),Ze(S,"applySyncEvent",function(T){var E=S.props,P=E.layout,k=E.syncMethod,N=S.state.updateId,O=T.dataStartIndex,R=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)S.setState(me({dataStartIndex:O,dataEndIndex:R},h({props:S.props,dataStartIndex:O,dataEndIndex:R,updateId:N},S.state)));else if(T.activeTooltipIndex!==void 0){var W=T.chartX,Q=T.chartY,j=T.activeTooltipIndex,Y=S.state,J=Y.offset,Z=Y.tooltipTicks;if(!J)return;if(typeof k=="function")j=k(Z,T);else if(k==="value"){j=-1;for(var V=0;V<Z.length;V++)if(Z[V].value===T.activeLabel){j=V;break}}var te=me(me({},J),{},{x:J.left,y:J.top}),se=Math.min(W,te.x+te.width),D=Math.min(Q,te.y+te.height),q=Z[j]&&Z[j].value,X=rC(S.state,S.props.data,j),ee=Z[j]?{x:P==="horizontal"?Z[j].coordinate:se,y:P==="horizontal"?D:Z[j].coordinate}:f7;S.setState(me(me({},T),{},{activeLabel:q,activeCoordinate:ee,activePayload:X,activeTooltipIndex:j}))}else S.setState(T)}),Ze(S,"renderCursor",function(T){var E,P=S.state,k=P.isTooltipActive,N=P.activeCoordinate,O=P.activePayload,R=P.offset,W=P.activeTooltipIndex,Q=P.tooltipAxisBandSize,j=S.getTooltipEventType(),Y=(E=T.props.active)!==null&&E!==void 0?E:k,J=S.props.layout,Z=T.key||"_recharts-cursor";return ne.createElement(kPe,{key:Z,activeCoordinate:N,activePayload:O,activeTooltipIndex:W,chartName:r,element:T,isActive:Y,layout:J,offset:R,tooltipAxisBandSize:Q,tooltipEventType:j})}),Ze(S,"renderPolarAxis",function(T,E,P){var k=Ya(T,"type.axisType"),N=Ya(S.state,"".concat(k,"Map")),O=T.type.defaultProps,R=O!==void 0?me(me({},O),T.props):T.props,W=N&&N[R["".concat(k,"Id")]];return re.cloneElement(T,me(me({},W),{},{className:Mt(k,W.className),key:T.key||"".concat(E,"-").concat(P),ticks:yl(W,!0)}))}),Ze(S,"renderPolarGrid",function(T){var E=T.props,P=E.radialLines,k=E.polarAngles,N=E.polarRadius,O=S.state,R=O.radiusAxisMap,W=O.angleAxisMap,Q=lc(R),j=lc(W),Y=j.cx,J=j.cy,Z=j.innerRadius,V=j.outerRadius;return re.cloneElement(T,{polarAngles:Array.isArray(k)?k:yl(j,!0).map(function(te){return te.coordinate}),polarRadius:Array.isArray(N)?N:yl(Q,!0).map(function(te){return te.coordinate}),cx:Y,cy:J,innerRadius:Z,outerRadius:V,key:T.key||"polar-grid",radialLines:P})}),Ze(S,"renderLegend",function(){var T=S.state.formattedGraphicalItems,E=S.props,P=E.children,k=E.width,N=E.height,O=S.props.margin||{},R=k-(O.left||0)-(O.right||0),W=t9({children:P,formattedGraphicalItems:T,legendWidth:R,legendContent:c});if(!W)return null;var Q=W.item,j=iL(W,PPe);return re.cloneElement(Q,me(me({},j),{},{chartWidth:k,chartHeight:N,margin:O,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Ze(S,"renderTooltip",function(){var T,E=S.props,P=E.children,k=E.accessibilityLayer,N=ua(P,Ua);if(!N)return null;var O=S.state,R=O.isTooltipActive,W=O.activeCoordinate,Q=O.activePayload,j=O.activeLabel,Y=O.offset,J=(T=N.props.active)!==null&&T!==void 0?T:R;return re.cloneElement(N,{viewBox:me(me({},Y),{},{x:Y.left,y:Y.top}),active:J,label:j,payload:J?Q:[],coordinate:W,accessibilityLayer:k})}),Ze(S,"renderBrush",function(T){var E=S.props,P=E.margin,k=E.data,N=S.state,O=N.offset,R=N.dataStartIndex,W=N.dataEndIndex,Q=N.updateId;return re.cloneElement(T,{key:T.key||"_recharts-brush",onChange:i1(S.handleBrushChange,T.props.onChange),data:k,x:ke(T.props.x)?T.props.x:O.left,y:ke(T.props.y)?T.props.y:O.top+O.height+O.brushBottom-(P.bottom||0),width:ke(T.props.width)?T.props.width:O.width,startIndex:R,endIndex:W,updateId:"brush-".concat(Q)})}),Ze(S,"renderReferenceElement",function(T,E,P){if(!T)return null;var k=S,N=k.clipPathId,O=S.state,R=O.xAxisMap,W=O.yAxisMap,Q=O.offset,j=T.type.defaultProps||{},Y=T.props,J=Y.xAxisId,Z=J===void 0?j.xAxisId:J,V=Y.yAxisId,te=V===void 0?j.yAxisId:V;return re.cloneElement(T,{key:T.key||"".concat(E,"-").concat(P),xAxis:R[Z],yAxis:W[te],viewBox:{x:Q.left,y:Q.top,width:Q.width,height:Q.height},clipPathId:N})}),Ze(S,"renderActivePoints",function(T){var E=T.item,P=T.activePoint,k=T.basePoint,N=T.childIndex,O=T.isRange,R=[],W=E.props.key,Q=E.item.type.defaultProps!==void 0?me(me({},E.item.type.defaultProps),E.item.props):E.item.props,j=Q.activeDot,Y=Q.dataKey,J=me(me({index:N,dataKey:Y,cx:P.x,cy:P.y,r:4,fill:vO(E.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},kt(j,!1)),Kw(j));return R.push(w.renderActiveDot(j,J,"".concat(W,"-activePoint-").concat(N))),k?R.push(w.renderActiveDot(j,me(me({},J),{},{cx:k.x,cy:k.y}),"".concat(W,"-basePoint-").concat(N))):O&&R.push(null),R}),Ze(S,"renderGraphicChild",function(T,E,P){var k=S.filterFormatItem(T,E,P);if(!k)return null;var N=S.getTooltipEventType(),O=S.state,R=O.isTooltipActive,W=O.tooltipAxis,Q=O.activeTooltipIndex,j=O.activeLabel,Y=S.props.children,J=ua(Y,Ua),Z=k.props,V=Z.points,te=Z.isRange,se=Z.baseLine,D=k.item.type.defaultProps!==void 0?me(me({},k.item.type.defaultProps),k.item.props):k.item.props,q=D.activeDot,X=D.hide,ee=D.activeBar,ae=D.activeShape,ue=!!(!X&&R&&J&&(q||ee||ae)),ve={};N!=="axis"&&J&&J.props.trigger==="click"?ve={onClick:i1(S.handleItemMouseEnter,T.props.onClick)}:N!=="axis"&&(ve={onMouseLeave:i1(S.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:i1(S.handleItemMouseEnter,T.props.onMouseEnter)});var ie=re.cloneElement(T,me(me({},k.props),ve));function ce(xr){return typeof W.dataKey=="function"?W.dataKey(xr.payload):null}if(ue)if(Q>=0){var be,L;if(W.dataKey&&!W.allowDuplicatedCategory){var Ue=typeof W.dataKey=="function"?ce:"payload.".concat(W.dataKey.toString());be=Xw(V,Ue,j),L=te&&se&&Xw(se,Ue,j)}else be=V==null?void 0:V[Q],L=te&&se&&se[Q];if(ae||ee){var Ce=T.props.activeIndex!==void 0?T.props.activeIndex:Q;return[re.cloneElement(T,me(me(me({},k.props),ve),{},{activeIndex:Ce})),null,null]}if(!St(be))return[ie].concat(pp(S.renderActivePoints({item:k,activePoint:be,basePoint:L,childIndex:Q,isRange:te})))}else{var Ve,Be=(Ve=S.getItemByXY(S.state.activeCoordinate))!==null&&Ve!==void 0?Ve:{graphicalItem:ie},xe=Be.graphicalItem,Tt=xe.item,He=Tt===void 0?T:Tt,Nr=xe.childIndex,mr=me(me(me({},k.props),ve),{},{activeIndex:Nr});return[re.cloneElement(He,mr),null,null]}return te?[ie,null,null]:[ie,null]}),Ze(S,"renderCustomized",function(T,E,P){return re.cloneElement(T,me(me({key:"recharts-customized-".concat(P)},S.props),S.state))}),Ze(S,"renderMap",{CartesianGrid:{handler:c1,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:c1},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:c1},YAxis:{handler:c1},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((_=b.id)!==null&&_!==void 0?_:ox("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=Qj(S.triggeredAfterMouseMove,(A=b.throttleDelay)!==null&&A!==void 0?A:1e3/60),S.state={},S}return UPe(w,y),LPe(w,[{key:"componentDidMount",value:function(){var _,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,A=_.children,S=_.data,T=_.height,E=_.layout,P=ua(A,Ua);if(P){var k=P.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,O=rC(this.state,S,k,N),R=this.state.tooltipTicks[k].coordinate,W=(this.state.offset.top+T)/2,Q=E==="horizontal",j=Q?{x:R,y:W}:{y:R,x:W},Y=this.state.formattedGraphicalItems.find(function(Z){var V=Z.item;return V.type.name==="Scatter"});Y&&(j=me(me({},j),Y.props.points[k].tooltipPosition),O=Y.props.points[k].tooltipPayload);var J={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:N,activePayload:O,activeCoordinate:j};this.setState(J),this.renderCursor(P),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var S,T;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(_){RE([ua(_.children,Ua)],[ua(this.props.children,Ua)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=ua(this.props.children,Ua);if(_&&typeof _.props.shared=="boolean"){var A=_.props.shared?"axis":"item";return o.indexOf(A)>=0?A:a}return a}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var A=this.container,S=A.getBoundingClientRect(),T=Dye(S),E={chartX:Math.round(_.pageX-T.left),chartY:Math.round(_.pageY-T.top)},P=S.width/A.offsetWidth||1,k=this.inRange(E.chartX,E.chartY,P);if(!k)return null;var N=this.state,O=N.xAxisMap,R=N.yAxisMap,W=this.getTooltipEventType(),Q=sL(this.state,this.props.data,this.props.layout,k);if(W!=="axis"&&O&&R){var j=lc(O).scale,Y=lc(R).scale,J=j&&j.invert?j.invert(E.chartX):null,Z=Y&&Y.invert?Y.invert(E.chartY):null;return me(me({},E),{},{xValue:J,yValue:Z},Q)}return Q?me(me({},E),Q):null}},{key:"inRange",value:function(_,A){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,E=_/S,P=A/S;if(T==="horizontal"||T==="vertical"){var k=this.state.offset,N=E>=k.left&&E<=k.left+k.width&&P>=k.top&&P<=k.top+k.height;return N?{x:E,y:P}:null}var O=this.state,R=O.angleAxisMap,W=O.radiusAxisMap;if(R&&W){var Q=lc(R);return UF({x:E,y:P},Q)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,A=this.getTooltipEventType(),S=ua(_,Ua),T={};S&&A==="axis"&&(S.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Kw(this.props,this.handleOuterEvent);return me(me({},E),T)}},{key:"addListener",value:function(){hT.on(pT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){hT.removeListener(pT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,A,S){for(var T=this.state.formattedGraphicalItems,E=0,P=T.length;E<P;E++){var k=T[E];if(k.item===_||k.props.key===_.key||A===Sl(k.item.type)&&S===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,A=this.state.offset,S=A.left,T=A.top,E=A.height,P=A.width;return ne.createElement("defs",null,ne.createElement("clipPath",{id:_},ne.createElement("rect",{x:S,y:T,height:E,width:P})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(A,S){var T=nL(S,2),E=T[0],P=T[1];return me(me({},A),{},Ze({},E,P.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(A,S){var T=nL(S,2),E=T[0],P=T[1];return me(me({},A),{},Ze({},E,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[_])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(_){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[_])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(_){var A=this.state,S=A.formattedGraphicalItems,T=A.activeItem;if(S&&S.length)for(var E=0,P=S.length;E<P;E++){var k=S[E],N=k.props,O=k.item,R=O.type.defaultProps!==void 0?me(me({},O.type.defaultProps),O.props):O.props,W=Sl(O.type);if(W==="Bar"){var Q=(N.data||[]).find(function(Z){return yTe(_,Z)});if(Q)return{graphicalItem:k,payload:Q}}else if(W==="RadialBar"){var j=(N.data||[]).find(function(Z){return UF(_,Z)});if(j)return{graphicalItem:k,payload:j}}else if(OS(k,T)||MS(k,T)||_v(k,T)){var Y=_Ee({graphicalItem:k,activeTooltipItem:T,itemData:R.data}),J=R.activeIndex===void 0?Y:R.activeIndex;return{graphicalItem:me(me({},k),{},{childIndex:J}),payload:_v(k,T)?R.data[Y]:k.props.data[Y]}}}return null}},{key:"render",value:function(){var _=this;if(!OR(this))return null;var A=this.props,S=A.children,T=A.className,E=A.width,P=A.height,k=A.style,N=A.compact,O=A.title,R=A.desc,W=iL(A,IPe),Q=kt(W,!1);if(N)return ne.createElement(B4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement(FE,wh({},Q,{width:E,height:P,title:O,desc:R}),this.renderClipPath(),NR(S,this.renderMap)));if(this.props.accessibilityLayer){var j,Y;Q.tabIndex=(j=this.props.tabIndex)!==null&&j!==void 0?j:0,Q.role=(Y=this.props.role)!==null&&Y!==void 0?Y:"application",Q.onKeyDown=function(Z){_.accessibilityManager.keyboardEvent(Z)},Q.onFocus=function(){_.accessibilityManager.focus()}}var J=this.parseEventsOfWrapper();return ne.createElement(B4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement("div",wh({className:Mt("recharts-wrapper",T),style:me({position:"relative",cursor:"default",width:E,height:P},k)},J,{ref:function(V){_.container=V}}),ne.createElement(FE,wh({},Q,{width:E,height:P,title:O,desc:R,style:qPe}),this.renderClipPath(),NR(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(re.Component);Ze(m,"displayName",r),Ze(m,"defaultProps",me({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ze(m,"getDerivedStateFromProps",function(y,w){var b=y.dataKey,_=y.data,A=y.children,S=y.width,T=y.height,E=y.layout,P=y.stackOffset,k=y.margin,N=w.dataStartIndex,O=w.dataEndIndex;if(w.updateId===void 0){var R=oL(y);return me(me(me({},R),{},{updateId:0},h(me(me({props:y},R),{},{updateId:0}),w)),{},{prevDataKey:b,prevData:_,prevWidth:S,prevHeight:T,prevLayout:E,prevStackOffset:P,prevMargin:k,prevChildren:A})}if(b!==w.prevDataKey||_!==w.prevData||S!==w.prevWidth||T!==w.prevHeight||E!==w.prevLayout||P!==w.prevStackOffset||!Nh(k,w.prevMargin)){var W=oL(y),Q={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},j=me(me({},sL(w,_,E)),{},{updateId:w.updateId+1}),Y=me(me(me({},W),Q),j);return me(me(me({},Y),h(me({props:y},Y),w)),{},{prevDataKey:b,prevData:_,prevWidth:S,prevHeight:T,prevLayout:E,prevStackOffset:P,prevMargin:k,prevChildren:A})}if(!RE(A,w.prevChildren)){var J,Z,V,te,se=ua(A,np),D=se&&(J=(Z=se.props)===null||Z===void 0?void 0:Z.startIndex)!==null&&J!==void 0?J:N,q=se&&(V=(te=se.props)===null||te===void 0?void 0:te.endIndex)!==null&&V!==void 0?V:O,X=D!==N||q!==O,ee=!St(_),ae=ee&&!X?w.updateId:w.updateId+1;return me(me({updateId:ae},h(me(me({props:y},w),{},{updateId:ae,dataStartIndex:D,dataEndIndex:q}),w)),{},{prevChildren:A,dataStartIndex:D,dataEndIndex:q})}return null}),Ze(m,"renderActiveDot",function(y,w,b){var _;return re.isValidElement(y)?_=re.cloneElement(y,w):vt(y)?_=y(w):_=ne.createElement(xO,w),ne.createElement(Wr,{className:"recharts-active-dot",key:b},_)});var p=re.forwardRef(function(w,b){return ne.createElement(m,wh({},w,{ref:b}))});return p.displayName=m.displayName,p},nIe=h7({chartName:"LineChart",GraphicalChild:up,axisComponents:[{axisType:"xAxis",AxisComp:md},{axisType:"yAxis",AxisComp:Zc}],formatAxisMap:O9}),p7=h7({chartName:"BarChart",GraphicalChild:Us,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:md},{axisType:"yAxis",AxisComp:Zc}],formatAxisMap:O9});const iIe=({data:t})=>{const e=t.map(r=>({name:r.name,Completed:r.completed,Projected:r.canComplete,RescueNeeded:r.diff>0?r.diff:0,Surplus:r.diff<0?Math.abs(r.diff):0}));return C.jsx(eU,{width:"100%",height:"100%",children:C.jsxs(p7,{data:e,margin:{top:20,right:30,left:20,bottom:60},children:[C.jsx(H_,{strokeDasharray:"3 3",vertical:!1,stroke:"#E5E7EB"}),C.jsx(md,{dataKey:"name",angle:-45,textAnchor:"end",interval:0,height:80,tick:{fontSize:11,fill:"#6B7280"}}),C.jsx(Zc,{tick:{fontSize:12,fill:"#6B7280"}}),C.jsx(Ua,{cursor:{fill:"#F3F4F6"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),C.jsx(Tl,{wrapperStyle:{paddingTop:"20px"}}),C.jsx(Us,{dataKey:"Completed",stackId:"a",fill:"#10B981",name:"Completed"}),C.jsx(Us,{dataKey:"Projected",stackId:"a",fill:"#3B82F6",name:"Projected Capacity"}),C.jsx(Us,{dataKey:"RescueNeeded",stackId:"a",fill:"#EF4444",name:"Needs Rescue"})]})})},aIe=({isOpen:t,onClose:e,onSave:r,initialGithubKey:n})=>{const[i,a]=re.useState(""),[s,o]=re.useState("");if(re.useEffect(()=>{const c=localStorage.getItem("gemini_api_key");c&&a(c);const u=localStorage.getItem("github_api_token");u?o(u):n&&o(n)},[t,n]),!t)return null;const l=()=>{r(i.trim(),s.trim()),e()};return C.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm",children:C.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden animate-fade-in",children:[C.jsxs("div",{className:"bg-indigo-600 px-6 py-4 flex justify-between items-center",children:[C.jsxs("h3",{className:"text-white font-bold flex items-center",children:[C.jsx(JG,{className:"w-5 h-5 mr-2"}),"App Settings"]}),C.jsx("button",{onClick:e,className:"text-indigo-200 hover:text-white transition-colors",children:C.jsx(So,{className:"w-5 h-5"})})]}),C.jsxs("div",{className:"p-6 space-y-6",children:[C.jsxs("div",{children:[C.jsxs("h4",{className:"text-sm font-bold text-gray-900 flex items-center mb-2",children:[C.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"AI Features (Gemini)"]}),C.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"API Key"}),C.jsx("input",{type:"password",value:i,onChange:c=>a(c.target.value),placeholder:"AIzaSy...",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2.5 border bg-white"}),C.jsx("div",{className:"mt-1 text-xs text-gray-400 text-right",children:C.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"text-indigo-600 hover:underline",children:"Get Key"})})]}),C.jsx("hr",{className:"border-gray-100"}),C.jsxs("div",{children:[C.jsxs("h4",{className:"text-sm font-bold text-gray-900 flex items-center mb-2",children:[C.jsx(VG,{className:"w-4 h-4 text-gray-600 mr-2"}),"Cloud Sync (GitHub Gist)"]}),C.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Allows you to sync history between devices."}),C.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Personal Access Token (Classic)"}),C.jsx("input",{type:"password",value:s,onChange:c=>o(c.target.value),placeholder:"ghp_...",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2.5 border bg-white"}),C.jsxs("div",{className:"mt-1 text-xs text-gray-400",children:["Requires ",C.jsx("strong",{children:"gist"})," scope. ",C.jsx("a",{href:"https://github.com/settings/tokens/new?scopes=gist&description=RescueDashboardSync",target:"_blank",rel:"noreferrer",className:"text-indigo-600 hover:underline",children:"Generate Token"})]})]}),C.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[C.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),C.jsxs("button",{onClick:l,className:"flex items-center px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700",children:[C.jsx(Vb,{className:"w-4 h-4 mr-2"}),"Save Settings"]})]})]})]})})},Kl="driver_rescue_history_v1",PO="driver_scorecard_history_v1",sIe=(t,e,r,n)=>{try{const i={};Object.values(r).forEach(d=>{d.forEach(h=>{h.rescuerName&&(i[h.rescuerName]=(i[h.rescuerName]||0)+h.stopsRemoved)})});const a=t.map(d=>{const m=(r[d.name]||[]).reduce((p,y)=>p+y.stopsRemoved,0);return{name:d.name,routeId:d.routeId,diff:d.diff,pace:d.pace,completed:d.completed,total:d.total,stopsRescuedFromDriver:m,stopsRescuedByDriver:i[d.name]||0}});if(a.length===0)return!1;let s=new Date;if(n){const[d,h,m]=n.split("-").map(Number);s=new Date(d,h-1,m),s.setHours(23,59,59,999)}const o={id:crypto.randomUUID(),date:s.toISOString(),timestamp:s.getTime(),summary:e,drivers:a,detailedRescueLogs:r},l=Mo(),c=s.toLocaleDateString(),u=l.findIndex(d=>new Date(d.date).toLocaleDateString()===c);let f;if(u>=0){const d=l[u].id;f=[...l],f[u]={...o,id:d}}else f=[o,...l];return localStorage.setItem(Kl,JSON.stringify(f)),!0}catch(i){return console.error("Failed to save history",i),!1}},oIe=()=>{const t=Mo(),e=new Date().toLocaleDateString(),r=t.find(n=>new Date(n.date).toLocaleDateString()===e);return r&&r.detailedRescueLogs?r.detailedRescueLogs:null},Mo=()=>{try{const t=localStorage.getItem(Kl);return t?JSON.parse(t):[]}catch(t){return console.error("Failed to load history",t),[]}},lIe=t=>{try{const r=Mo().filter(n=>n.id!==t);return localStorage.setItem(Kl,JSON.stringify(r)),!0}catch(e){return console.error("Failed to delete history day",e),!1}},cIe=(t,e,r,n)=>{try{const i=Mo(),a=i.findIndex(f=>new Date(f.date).toLocaleDateString()===new Date(t).toLocaleDateString());if(a===-1)return!1;const s=i[a],o=s.drivers.findIndex(f=>f.name===e);if(o===-1)return!1;const l=[...s.drivers];r==="offloaded"?l[o]={...l[o],stopsRescuedFromDriver:n}:l[o]={...l[o],stopsRescuedByDriver:n};const c={...s,drivers:l},u=[...i];return u[a]=c,localStorage.setItem(Kl,JSON.stringify(u)),!0}catch(i){return console.error("Failed to update history entry",i),!1}},uIe=(t,e,r)=>{var n;try{const i=Mo(),a=i.findIndex(p=>new Date(p.date).toLocaleDateString()===new Date(t).toLocaleDateString());if(a===-1)return!1;const s=i[a],o=(n=s.detailedRescueLogs)==null?void 0:n[e];if(!o||!o[r])return!1;const l=o[r],c=l.stopsRemoved,u=l.rescuerName,f={...s.detailedRescueLogs};f[e].splice(r,1),f[e].length===0&&delete f[e];const d=s.drivers.findIndex(p=>p.name===e);d>=0&&(s.drivers[d].stopsRescuedFromDriver=Math.max(0,(s.drivers[d].stopsRescuedFromDriver||0)-c));const h=s.drivers.findIndex(p=>p.name===u);h>=0&&(s.drivers[h].stopsRescuedByDriver=Math.max(0,(s.drivers[h].stopsRescuedByDriver||0)-c));const m={...s,detailedRescueLogs:f};return i[a]=m,localStorage.setItem(Kl,JSON.stringify(i)),!0}catch(i){return console.error("Failed to delete historical log",i),!1}},fIe=(t,e,r,n,i)=>{var a;try{const s=Mo(),o=s.findIndex(S=>new Date(S.date).toLocaleDateString()===new Date(t).toLocaleDateString());if(o===-1)return!1;const l=s[o],c=(a=l.detailedRescueLogs)==null?void 0:a[e];if(!c||!c[r])return!1;const u=c[r],f=u.stopsRemoved,d=u.rescuerName,h={...u,rescuerName:n,stopsRemoved:i},m={...l.detailedRescueLogs};m[e]=[...m[e]],m[e][r]=h;const p=[...l.drivers],y=i-f,w=p.findIndex(S=>S.name===e);if(w>=0){const S=p[w].stopsRescuedFromDriver||0;p[w]={...p[w],stopsRescuedFromDriver:Math.max(0,S+y)}}const b=p.findIndex(S=>S.name===d);if(b>=0){const S=p[b].stopsRescuedByDriver||0;p[b]={...p[b],stopsRescuedByDriver:Math.max(0,S-f)}}const _=p.findIndex(S=>S.name===n);if(_>=0){const S=p[_].stopsRescuedByDriver||0;p[_]={...p[_],stopsRescuedByDriver:S+i}}else p.push({name:n,routeId:"Unknown",diff:0,pace:0,completed:0,total:0,stopsRescuedFromDriver:0,stopsRescuedByDriver:i});const A={...l,drivers:p,detailedRescueLogs:m};return s[o]=A,localStorage.setItem(Kl,JSON.stringify(s)),!0}catch(s){return console.error("Failed to update historical log",s),!1}},dIe=(t,e,r,n)=>{try{const i=Mo(),[a,s,o]=t.split("-").map(Number),l=new Date(a,s-1,o),c=l.toLocaleDateString();let u=i.findIndex(_=>new Date(_.date).toLocaleDateString()===c),f;if(u===-1){const _=new Date(l);_.setHours(23,59,59);const A={id:crypto.randomUUID(),date:_.toISOString(),timestamp:_.getTime(),summary:{totalDrivers:0,totalRescueNeeded:0,totalStopsToRescue:0,totalStopsAvailable:0},drivers:[],detailedRescueLogs:{}};i.push(A),u=i.length-1,f=A}else f=i[u];const d={targetDriverName:e,rescuerName:r,stopsRemoved:n,timestamp:Date.now()},h={...f.detailedRescueLogs||{}},m=h[e]||[];h[e]=[...m,d];const p=_=>{f.drivers.find(A=>A.name===_)||f.drivers.push({name:_,routeId:"Unknown",diff:0,pace:0,completed:0,total:0,stopsRescuedFromDriver:0,stopsRescuedByDriver:0})};p(e),p(r);const y=f.drivers.map(_=>{let A={..._};return _.name===e&&(A.stopsRescuedFromDriver=(A.stopsRescuedFromDriver||0)+n),_.name===r&&(A.stopsRescuedByDriver=(A.stopsRescuedByDriver||0)+n),A}),w={...f,drivers:y,detailedRescueLogs:h},b=[...i];return b[u]=w,b.sort((_,A)=>new Date(A.date).getTime()-new Date(_.date).getTime()),localStorage.setItem(Kl,JSON.stringify(b)),!0}catch(i){return console.error("Failed to add retroactive rescue",i),!1}},hIe=t=>{const e={};return t.forEach(r=>{r.drivers.forEach(n=>{e[n.name]||(e[n.name]={name:n.name,daysTracked:0,totalRescuesNeeded:0,totalStopsTakenOff:0,totalStopsRescuedOthers:0,averagePace:0,averageEfficiency:0,reliabilityScore:100});const i=e[n.name];i.daysTracked++,n.pace>0&&(i.averagePace=i.averagePace===0?n.pace:(i.averagePace+n.pace)/2);const a=n.total>0?n.completed/n.total:0;i.averageEfficiency=i.averageEfficiency===0?a:(i.averageEfficiency+a)/2,n.stopsRescuedFromDriver>0&&(i.totalRescuesNeeded++,i.totalStopsTakenOff+=n.stopsRescuedFromDriver),n.stopsRescuedByDriver>0&&(i.totalStopsRescuedOthers+=n.stopsRescuedByDriver)})}),Object.values(e).forEach(r=>{const n=r.totalRescuesNeeded*15+r.totalStopsTakenOff*.5,i=r.totalStopsRescuedOthers*.2,a=100-n+i;r.reliabilityScore=Math.max(0,Math.min(100,Math.round(a)))}),e},pIe=()=>{localStorage.removeItem(Kl),localStorage.removeItem(PO)},mIe=()=>{const t=Mo(),e=JSON.stringify(t,null,2),r="data:application/json;charset=utf-8,"+encodeURIComponent(e),n=`rescue_history_backup_${new Date().toISOString().split("T")[0]}.json`,i=document.createElement("a");i.setAttribute("href",r),i.setAttribute("download",n),i.click()},m7=t=>{try{const e=JSON.parse(t);if(!Array.isArray(e))return alert("Invalid backup file format. Expected an array."),!1;const n=[...Mo()];return e.forEach(i=>{if(!i.date)return;const a=n.findIndex(s=>new Date(s.date).toLocaleDateString()===new Date(i.date).toLocaleDateString());if(a>=0){const s=n[a].timestamp||0;(i.timestamp||0)>s&&(n[a]=i)}else n.push(i)}),n.sort((i,a)=>new Date(a.date).getTime()-new Date(i.date).getTime()),localStorage.setItem(Kl,JSON.stringify(n)),!0}catch(e){return console.error("Import failed",e),alert("Failed to parse JSON file."),!1}},gIe=t=>{try{const e=nC(),r=e.findIndex(i=>i.week===t.week),n={...t,savedAt:Date.now()};return r>=0?e[r]=n:e.push(n),e.sort((i,a)=>Number(a.week)-Number(i.week)),localStorage.setItem(PO,JSON.stringify(e)),!0}catch(e){return console.error("Failed to save scorecard",e),!1}},nC=()=>{try{const t=localStorage.getItem(PO);return t?JSON.parse(t):[]}catch(t){return console.error("Failed to load scorecard history",t),[]}},vIe=({history:t,driverStats:e,onClearHistory:r,onUpdateEntry:n,onDeleteDay:i})=>{const[a,s]=re.useState(""),[o,l]=re.useState(""),[c,u]=re.useState("ALL"),[f,d]=re.useState({key:"totalStopsTakenOff",direction:"desc"}),[h,m]=re.useState(null),[p,y]=re.useState(!1),[w,b]=re.useState(null),[_,A]=re.useState([]),[S,T]=re.useState(!1),[E,P]=re.useState(null),[k,N]=re.useState([]),[O,R]=re.useState(!1),[W,Q]=re.useState(""),[j,Y]=re.useState(""),[J,Z]=re.useState(""),[V,te]=re.useState(""),[se,D]=re.useState(!1),[q,X]=re.useState(!1),[ee,ae]=re.useState(null),[ue,ve]=re.useState([]),ie=re.useRef(null),ce=re.useMemo(()=>{let he=[...t];if(a){const qe=new Date(a).getTime();he=he.filter(Xe=>new Date(Xe.date).getTime()>=qe)}if(o){const qe=new Date(o).getTime()+86399999;he=he.filter(Xe=>new Date(Xe.date).getTime()<=qe)}return he.sort((qe,Xe)=>new Date(qe.date).getTime()-new Date(Xe.date).getTime())},[t,a,o]),be=re.useMemo(()=>c==="ALL"?ce.map(he=>{let qe=0,Xe=0;return he.detailedRescueLogs&&Object.keys(he.detailedRescueLogs).length>0?Object.values(he.detailedRescueLogs).forEach(it=>{it.forEach(Me=>{qe+=Number(Me.stopsRemoved),Xe+=1})}):(qe=he.drivers.reduce((it,Me)=>it+Number(Me.stopsRescuedFromDriver||0),0),Xe=he.drivers.filter(it=>Number(it.stopsRescuedFromDriver||0)>0).length),{id:he.id,date:new Date(he.date).toLocaleDateString(void 0,{month:"short",day:"numeric"}),events:Xe,stops:qe}}):ce.map(he=>{const qe=he.drivers.find(Xe=>Xe.name===c);return{id:he.id,date:new Date(he.date).toLocaleDateString(void 0,{month:"short",day:"numeric"}),fullDate:he.date,offloaded:qe?Number(qe.stopsRescuedFromDriver||0):0,pickedUp:qe?Number(qe.stopsRescuedByDriver||0):0,pace:qe?qe.pace:0}}),[ce,c]),L=re.useMemo(()=>Object.values(e).sort((qe,Xe)=>{const it=qe[f.key],Me=Xe[f.key];return it<Me?f.direction==="asc"?-1:1:it>Me?f.direction==="asc"?1:-1:0}),[e,f]),Ue=he=>{d(qe=>({key:he,direction:qe.key===he&&qe.direction==="desc"?"asc":"desc"}))},Ce=he=>f.key!==he?C.jsx(x8,{className:"w-3 h-3 ml-1 opacity-30"}):f.direction==="asc"?C.jsx(w8,{className:"w-3 h-3 ml-1"}):C.jsx(y8,{className:"w-3 h-3 ml-1"}),Ve=he=>{const qe=he.currentTarget.getBoundingClientRect();let Xe=qe.left-320;Xe<20&&(Xe=qe.right+10),m({top:qe.top+window.scrollY+10,left:Xe+window.scrollX})},Be=(he,qe)=>{Ve(qe),b(he);const Xe=[];he.detailedRescueLogs&&Object.entries(he.detailedRescueLogs).forEach(([it,Me])=>{Me.forEach((wt,Kt)=>{Xe.push({driver:it,idx:Kt,log:wt})})}),A(Xe),y(!0)},xe=(he,qe)=>{Ve(qe),P(he);const Xe=[];t.forEach(it=>{const Me=new Date(it.date).toLocaleDateString(),wt=it.date;it.detailedRescueLogs&&it.detailedRescueLogs[he]&&it.detailedRescueLogs[he].forEach((Kt,ar)=>{Xe.push({date:Me,dateRaw:wt,type:"Target",partner:Kt.rescuerName,stops:Kt.stopsRemoved,logIdx:ar,driverName:he})}),it.detailedRescueLogs&&Object.entries(it.detailedRescueLogs).forEach(([Kt,ar])=>{ar.forEach((Ta,Bd)=>{Ta.rescuerName===he&&Xe.push({date:Me,dateRaw:wt,type:"Rescuer",partner:Kt,stops:Ta.stopsRemoved,logIdx:Bd,driverName:Kt})})})}),Xe.sort((it,Me)=>new Date(Me.dateRaw).getTime()-new Date(it.dateRaw).getTime()),N(Xe),T(!0)},Tt=he=>{Ve(he),Q(""),Y(""),Z(""),te(""),X(!1),ae(null),D(!1),R(!0)},He=(he,qe,Xe)=>{confirm("Delete this log? Stats will be recalculated.")&&(uIe(Xe,he,qe),window.location.reload())};re.useEffect(()=>{if(W){const[he,qe,Xe]=W.split("-").map(Number),Me=new Date(he,qe-1,Xe).toLocaleDateString(),wt=t.find(Kt=>new Date(Kt.date).toLocaleDateString()===Me);ve(wt?wt.drivers:[])}},[W,t]);const Nr=()=>{if(!W||!j||!J||!V)return;const he=parseInt(V,10);he<=0||(D(!0),setTimeout(()=>{q&&ee!==null?fIe(W,j,ee,J,he):dIe(W,j,J,he),window.location.reload()},100))},mr=()=>{var he;return(he=ie.current)==null?void 0:he.click()},xr=he=>{var it;const qe=(it=he.target.files)==null?void 0:it[0];if(!qe)return;const Xe=new FileReader;Xe.onload=Me=>{var Kt;const wt=(Kt=Me.target)==null?void 0:Kt.result;m7(wt)&&window.location.reload()},Xe.readAsText(qe)},Xr=()=>{prompt("Enter Admin PIN:")==="5396"&&r()},wr=he=>{confirm("Delete day?")&&(i==null||i(he))},jr=Object.keys(e).sort();return C.jsxs("div",{className:"space-y-8 animate-fade-in relative",children:[C.jsx("input",{type:"file",ref:ie,className:"hidden",accept:".json",onChange:xr}),(S||O||p)&&C.jsx("div",{className:"fixed inset-0 z-[90]",onClick:()=>{T(!1),R(!1),y(!1)}}),S&&E&&h&&C.jsxs("div",{style:{top:h.top,left:h.left},className:"absolute z-[100] bg-white rounded-xl w-80 shadow-2xl border border-gray-200 overflow-hidden flex flex-col max-h-[400px] animate-fade-in",children:[C.jsxs("div",{className:"bg-indigo-700 px-4 py-3 flex justify-between items-center flex-shrink-0",children:[C.jsxs("h3",{className:"font-bold text-white flex items-center text-sm",children:[C.jsx(Mg,{className:"w-4 h-4 mr-2"})," History: ",E]}),C.jsx("button",{onClick:()=>T(!1),className:"text-indigo-200 hover:text-white",children:C.jsx(So,{className:"w-4 h-4"})})]}),C.jsx("div",{className:"p-0 flex-1 overflow-y-auto custom-scrollbar",children:k.length===0?C.jsx("div",{className:"text-center py-8 px-4 text-xs text-gray-500",children:"No logs found."}):C.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[C.jsx("thead",{className:"bg-gray-50 sticky top-0",children:C.jsxs("tr",{children:[C.jsx("th",{className:"px-3 py-2 text-left text-[10px] font-bold text-gray-500",children:"Date"}),C.jsx("th",{className:"px-3 py-2 text-left text-[10px] font-bold text-gray-500",children:"Role"}),C.jsx("th",{className:"px-3 py-2 text-right text-[10px] font-bold text-gray-500",children:"Stops"})]})}),C.jsx("tbody",{className:"divide-y divide-gray-100 bg-white",children:k.map((he,qe)=>C.jsxs("tr",{className:"hover:bg-gray-50",children:[C.jsx("td",{className:"px-3 py-2 text-xs",children:he.date}),C.jsx("td",{className:"px-3 py-2 text-xs",children:C.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] ${he.type==="Target"?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:he.type==="Target"?"Target":"Rescuer"})}),C.jsx("td",{className:"px-3 py-2 text-xs text-right font-bold",children:he.stops})]},qe))})]})})]}),O&&h&&C.jsxs("div",{style:{top:h.top,left:h.left},className:"absolute z-[100] bg-white rounded-xl shadow-2xl border border-gray-200 w-72 overflow-hidden animate-fade-in",children:[C.jsxs("div",{className:"bg-indigo-600 px-4 py-3 flex justify-between items-center",children:[C.jsxs("h3",{className:"text-white font-bold flex items-center text-sm",children:[C.jsx(S8,{className:"w-4 h-4 mr-2"})," ",q?"Edit":"Log"," Rescue"]}),C.jsx("button",{onClick:()=>R(!1),className:"text-indigo-200 hover:text-white",children:C.jsx(So,{className:"w-4 h-4"})})]}),C.jsxs("div",{className:"p-4 space-y-3",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Date"}),C.jsx("input",{type:"date",value:W,onChange:he=>Q(he.target.value),className:"w-full border rounded p-1.5 text-xs"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Target"}),C.jsxs("select",{value:j,onChange:he=>Y(he.target.value),className:"w-full border rounded p-1.5 text-xs",children:[C.jsx("option",{value:"",children:"Select..."}),ue.map(he=>C.jsx("option",{value:he.name,children:he.name},he.name))]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Rescuer"}),C.jsxs("select",{value:J,onChange:he=>Z(he.target.value),className:"w-full border rounded p-1.5 text-xs",children:[C.jsx("option",{value:"",children:"Select..."}),ue.map(he=>C.jsx("option",{value:he.name,children:he.name},he.name))]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Stops"}),C.jsx("input",{type:"number",value:V,onChange:he=>te(he.target.value),className:"w-full border rounded p-1.5 text-xs"})]}),C.jsx("button",{onClick:Nr,disabled:se,className:"w-full py-2 bg-indigo-600 text-white rounded text-xs font-bold hover:bg-indigo-700",children:se?"Saving...":"Save"})]})]}),p&&w&&h&&C.jsxs("div",{style:{top:h.top,left:h.left},className:"absolute z-[100] bg-white rounded-xl w-80 shadow-2xl border border-gray-200 overflow-hidden flex flex-col max-h-[400px] animate-fade-in",children:[C.jsxs("div",{className:"bg-gray-900 px-4 py-3 flex justify-between items-center flex-shrink-0",children:[C.jsxs("h3",{className:"font-bold text-white flex items-center text-sm",children:[C.jsx(xE,{className:"w-4 h-4 mr-2"})," Manage Logs"]}),C.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-white",children:C.jsx(So,{className:"w-4 h-4"})})]}),C.jsx("div",{className:"p-0 flex-1 overflow-y-auto custom-scrollbar",children:C.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[C.jsx("thead",{className:"bg-gray-50 sticky top-0",children:C.jsxs("tr",{children:[C.jsx("th",{className:"px-3 py-2 text-left text-[10px] text-gray-500",children:"Target"}),C.jsx("th",{className:"px-3 py-2 text-left text-[10px] text-gray-500",children:"Rescuer"}),C.jsx("th",{className:"px-3 py-2 text-right text-[10px] text-gray-500",children:"Stops"}),C.jsx("th",{className:"px-3 py-2"})]})}),C.jsx("tbody",{className:"divide-y divide-gray-100 bg-white",children:_.map((he,qe)=>C.jsxs("tr",{className:"hover:bg-gray-50",children:[C.jsx("td",{className:"px-3 py-2 text-xs",children:he.driver}),C.jsx("td",{className:"px-3 py-2 text-xs text-gray-500",children:he.log.rescuerName}),C.jsx("td",{className:"px-3 py-2 text-xs font-bold text-right",children:he.log.stopsRemoved}),C.jsx("td",{className:"px-3 py-2 text-right",children:C.jsx("button",{onClick:()=>He(he.driver,he.idx,w.date),className:"text-red-400 hover:text-red-600",children:C.jsx(oN,{className:"w-3 h-3"})})})]},qe))})]})})]}),C.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:C.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-center justify-between gap-4",children:[C.jsxs("div",{className:"flex items-center space-x-2 text-gray-700 font-medium",children:[C.jsx(qG,{className:"w-5 h-5 text-indigo-600"}),C.jsx("span",{children:"Filter Data"})]}),C.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[C.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 p-2 rounded-lg border border-gray-200",children:[C.jsx(BG,{className:"w-4 h-4 text-gray-500"}),C.jsx("input",{type:"date",value:a,onChange:he=>s(he.target.value),className:"bg-transparent text-sm focus:outline-none text-gray-600"}),C.jsx("span",{className:"text-gray-400",children:"-"}),C.jsx("input",{type:"date",value:o,onChange:he=>l(he.target.value),className:"bg-transparent text-sm focus:outline-none text-gray-600"})]}),C.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 p-2 rounded-lg border border-gray-200",children:[C.jsx(k8,{className:"w-4 h-4 text-gray-500"}),C.jsxs("select",{value:c,onChange:he=>u(he.target.value),className:"bg-transparent text-sm focus:outline-none text-gray-600 min-w-[150px]",children:[C.jsx("option",{value:"ALL",children:"All Drivers (Aggregate)"}),jr.map(he=>C.jsx("option",{value:he,children:he},he))]})]})]}),C.jsxs("div",{className:"flex items-center gap-2 ml-auto xl:ml-0",children:[C.jsxs("button",{onClick:he=>Tt(he),className:"flex items-center px-3 py-1.5 text-xs font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 transition-colors shadow-sm",children:[C.jsx(aq,{className:"w-3.5 h-3.5 mr-1.5"})," Log Past Rescue"]}),C.jsx("div",{className:"h-6 w-px bg-gray-200 mx-1"}),C.jsxs("button",{onClick:mIe,className:"flex items-center px-3 py-1.5 text-xs font-medium text-indigo-700 bg-indigo-50 rounded-md hover:bg-indigo-100 border border-indigo-200",children:[C.jsx(zG,{className:"w-3.5 h-3.5 mr-1.5"})," Export"]}),C.jsxs("button",{onClick:mr,className:"flex items-center px-3 py-1.5 text-xs font-medium text-indigo-700 bg-indigo-50 rounded-md hover:bg-indigo-100 border border-indigo-200",children:[C.jsx(dq,{className:"w-3.5 h-3.5 mr-1.5"})," Import"]}),C.jsxs("button",{onClick:Xr,className:"flex items-center px-3 py-1.5 text-xs font-medium text-red-700 bg-red-50 rounded-md hover:bg-red-100 border border-red-200",children:[C.jsx(QG,{className:"w-3.5 h-3.5 mr-1.5"})," Clear DB"]})]})]})}),C.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:C.jsx("div",{className:"h-[350px] w-full",children:C.jsx(eU,{width:"100%",height:"100%",children:c==="ALL"?C.jsxs(nIe,{data:be,margin:{top:5,right:20,bottom:5,left:0},children:[C.jsx(H_,{stroke:"#eee",strokeDasharray:"5 5"}),C.jsx(md,{dataKey:"date",tick:{fontSize:12}}),C.jsx(Zc,{yAxisId:"left",tick:{fontSize:12}}),C.jsx(Zc,{yAxisId:"right",orientation:"right",tick:{fontSize:12}}),C.jsx(Ua,{contentStyle:{borderRadius:"8px"}}),C.jsx(Tl,{}),C.jsx(up,{yAxisId:"left",type:"monotone",dataKey:"events",name:"Rescue Events",stroke:"#EF4444",strokeWidth:2}),C.jsx(up,{yAxisId:"right",type:"monotone",dataKey:"stops",name:"Stops Moved",stroke:"#6366f1",strokeDasharray:"3 3",strokeWidth:2})]}):C.jsxs(p7,{data:be,margin:{top:5,right:20,bottom:5,left:0},children:[C.jsx(H_,{stroke:"#eee",strokeDasharray:"3 3",vertical:!1}),C.jsx(md,{dataKey:"date",tick:{fontSize:12}}),C.jsx(Zc,{tick:{fontSize:12}}),C.jsx(Ua,{cursor:{fill:"#F9FAFB"},contentStyle:{borderRadius:"8px"}}),C.jsx(Tl,{}),C.jsx(Us,{dataKey:"offloaded",name:"Stops Offloaded",fill:"#EF4444",radius:[4,4,0,0]}),C.jsx(Us,{dataKey:"pickedUp",name:"Stops Picked Up",fill:"#10B981",radius:[4,4,0,0]})]})})})}),C.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mb-6",children:[C.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:C.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Saved Daily Records"})}),C.jsx("div",{className:"max-h-60 overflow-y-auto custom-scrollbar",children:C.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[C.jsx("thead",{className:"bg-gray-50",children:C.jsxs("tr",{children:[C.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),C.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Drivers"}),C.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Rescues"}),C.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),C.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ce.map(he=>{const qe=he.drivers.length;let Xe=0;return he.detailedRescueLogs?Object.values(he.detailedRescueLogs).forEach(it=>Xe+=it.length):Xe=he.drivers.filter(it=>it.stopsRescuedFromDriver>0).length,C.jsxs("tr",{className:"hover:bg-gray-50",children:[C.jsx("td",{className:"px-6 py-3 text-sm text-gray-900",children:new Date(he.date).toLocaleDateString()}),C.jsx("td",{className:"px-6 py-3 text-sm text-gray-500",children:qe}),C.jsx("td",{className:"px-6 py-3 text-sm text-gray-500",children:Xe}),C.jsxs("td",{className:"px-6 py-3 text-right flex justify-end space-x-2",children:[C.jsxs("button",{onClick:it=>Be(he,it),className:"text-indigo-600 hover:text-indigo-800 transition-colors p-1 border border-indigo-200 rounded bg-indigo-50 flex items-center text-xs px-2",children:[C.jsx(xE,{className:"w-3 h-3 mr-1"})," Manage"]}),C.jsx("button",{onClick:()=>wr(he.id),className:"text-red-400 hover:text-red-600 transition-colors p-1",children:C.jsx(oN,{className:"w-4 h-4"})})]})]},he.id)})})]})})]}),C.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[C.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:C.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Lifetime Performance Leaderboard"})}),C.jsx("div",{className:"overflow-x-auto",children:C.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[C.jsx("thead",{className:"bg-gray-50",children:C.jsxs("tr",{children:[C.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer",onClick:()=>Ue("name"),children:["Driver ",Ce("name")]}),C.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer",onClick:()=>Ue("daysTracked"),children:["Days ",Ce("daysTracked")]}),C.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer",onClick:()=>Ue("reliabilityScore"),children:["Reliability ",Ce("reliabilityScore")]}),C.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase cursor-pointer text-red-600",onClick:()=>Ue("totalStopsTakenOff"),children:["Offloaded ",Ce("totalStopsTakenOff")]}),C.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase cursor-pointer text-green-600",onClick:()=>Ue("totalStopsRescuedOthers"),children:["Picked Up ",Ce("totalStopsRescuedOthers")]}),C.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),C.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:L.map(he=>C.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${c===he.name?"bg-indigo-50":""}`,children:[C.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:C.jsxs("div",{className:"flex items-center",children:[C.jsx("div",{className:"text-sm font-medium text-gray-900",children:he.name}),he.totalRescuesNeeded===0&&he.daysTracked>2&&C.jsx(fq,{className:"w-4 h-4 text-yellow-500 ml-2"})]})}),C.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:he.daysTracked}),C.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.jsxs("div",{className:"flex items-center",children:[C.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:C.jsx("div",{className:`h-2 rounded-full ${he.reliabilityScore>80?"bg-green-500":he.reliabilityScore>50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${he.reliabilityScore}%`}})}),he.reliabilityScore,"%"]})}),C.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:C.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${he.totalStopsTakenOff>0?"bg-red-100 text-red-800":"text-gray-400"}`,children:he.totalStopsTakenOff})}),C.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:C.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${he.totalStopsRescuedOthers>0?"bg-green-100 text-green-800":"text-gray-400"}`,children:he.totalStopsRescuedOthers})}),C.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:C.jsx("button",{onClick:qe=>xe(he.name,qe),className:"text-indigo-600 hover:text-indigo-900 p-1 hover:bg-indigo-50 rounded",children:C.jsx(XG,{className:"w-4 h-4"})})})]},he.name))})]})})]})]})},yIe=({isOpen:t,onClose:e,targetDriver:r,potentialRescuers:n,onConfirm:i,initialRescuer:a,initialStops:s,isEditMode:o,position:l})=>{const[c,u]=re.useState(""),[f,d]=re.useState(""),[h,m]=re.useState(!1),p=re.useRef(null),y=n.filter(S=>S.isDspInitiated),w=n.filter(S=>!S.isDspInitiated);re.useEffect(()=>{if(t&&(m(!1),r))if(o&&s!==void 0&&a)u(s.toString()),d(a);else{const S=Math.min(r.diff,r.remaining);u(S>0?S.toString():""),y.length>0?d(y[0].name):d("")}},[t,r,o,a,s]);const b=()=>{if(!l||!p.current)return{};let S=l.top,T=l.left;return T+350>window.innerWidth&&(T=window.innerWidth-360),S+400>window.innerHeight+window.scrollY&&(S=l.top-400),{top:`${S}px`,left:`${T}px`}};if(!t||!r)return null;const _=()=>{const S=parseInt(c,10);!f||isNaN(S)||S<=0||(m(!0),i(f,S),setTimeout(()=>{e(),m(!1)},100))},A=r.diff>0;return C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"fixed inset-0 z-[99]",onClick:e}),C.jsxs("div",{ref:p,style:l?{position:"absolute",...b()}:{},className:`z-[100] bg-white rounded-xl shadow-2xl border border-gray-200 w-80 overflow-hidden animate-fade-in ${!l&&"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"}`,children:[C.jsxs("div",{className:"bg-indigo-600 px-4 py-3 flex justify-between items-center",children:[C.jsxs("h3",{className:"text-white font-bold flex items-center text-sm",children:[C.jsx(Mg,{className:"w-4 h-4 mr-2"}),o?"Edit Rescue":"Log Rescue"]}),C.jsx("button",{onClick:e,className:"text-indigo-200 hover:text-white",children:C.jsx(So,{className:"w-4 h-4"})})]}),C.jsxs("div",{className:"p-4 space-y-3",children:[C.jsx("div",{className:`border p-2 rounded-md ${A?"bg-red-50 border-red-100":"bg-green-50 border-green-100"}`,children:C.jsxs("p",{className:`text-xs ${A?"text-red-800":"text-green-800"}`,children:[C.jsx("span",{className:"font-bold",children:r.name}),": ",A?"Behind":"Ahead"," ",C.jsx("span",{className:"font-bold",children:Math.abs(r.diff)})," stops."]})}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Rescuer"}),C.jsxs("select",{value:f,onChange:S=>d(S.target.value),disabled:h,className:"block w-full rounded border-gray-300 shadow-sm text-sm p-2 border",children:[C.jsx("option",{value:"",children:"Select..."}),y.length>0&&C.jsx("optgroup",{label:"DSP / Dedicated",children:y.map(S=>C.jsx("option",{value:S.name,children:S.name},S.id))}),C.jsx("optgroup",{label:"Drivers",children:w.map(S=>C.jsx("option",{value:S.name,children:S.name},S.id))})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Stops Taken"}),C.jsx("input",{type:"number",min:"1",value:c,onChange:S=>u(S.target.value),disabled:h,className:"block w-full rounded border-gray-300 shadow-sm text-sm p-2 border"})]}),C.jsx("button",{onClick:_,disabled:!f||!c||h,className:"w-full flex items-center justify-center py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded text-sm font-medium disabled:opacity-50 mt-2",children:h?C.jsx(Og,{className:"w-4 h-4 animate-spin"}):C.jsxs(C.Fragment,{children:[C.jsx(Vb,{className:"w-4 h-4 mr-2"}),o?"Update":"Confirm"]})})]})]})]})},xIe="modulepreload",wIe=function(t,e){return new URL(t,e).href},cL={},u1=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){const s=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=wIe(c,n),c in cL)return;cL[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(!!n)for(let m=s.length-1;m>=0;m--){const p=s[m];if(p.href===c&&(!u||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":xIe,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((m,p)=>{h.addEventListener("load",m),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};var cg={};cg.d=(t,e)=>{for(var r in e)cg.o(e,r)&&!cg.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})};cg.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var lt=globalThis.pdfjsLib={};cg.d(lt,{AbortException:()=>Ld,AnnotationEditorLayer:()=>pk,AnnotationEditorParamsType:()=>st,AnnotationEditorType:()=>ht,AnnotationEditorUIManager:()=>vd,AnnotationLayer:()=>yMe,AnnotationMode:()=>cc,ColorPicker:()=>J_,DOMSVGFactory:()=>UO,DrawLayer:()=>yk,FeatureTest:()=>Ci,GlobalWorkerOptions:()=>dl,ImageKind:()=>O1,InvalidPDFException:()=>v7,MissingPDFException:()=>Fd,OPS:()=>hs,OutputScale:()=>lC,PDFDataRangeTransport:()=>hV,PDFDateString:()=>RO,PDFWorker:()=>Lh,PasswordResponses:()=>AIe,PermissionFlag:()=>SIe,PixelsPerInch:()=>su,RenderingCancelledException:()=>MO,TextLayer:()=>kv,UnexpectedResponseException:()=>VS,Util:()=>Ge,VerbosityLevel:()=>BS,XfaLayer:()=>mV,build:()=>ZOe,createValidAbsoluteUrl:()=>kIe,fetchData:()=>WS,getDocument:()=>HOe,getFilenameFromUrl:()=>LIe,getPdfFilenameFromUrl:()=>$Ie,getXfaPageViewport:()=>BIe,isDataScheme:()=>zS,isPdfFile:()=>NO,noContextMenu:()=>ns,normalizeUnicode:()=>RIe,setLayerDimensions:()=>gd,shadow:()=>Ct,version:()=>JOe});const fi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),g7=[1,0,0,1,0,0],iC=[.001,0,0,.001,0,0],_Ie=1e7,gT=1.35,la={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},cc={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},bIe="pdfjs_internal_editor_",ht={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},st={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},SIe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Jn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},O1={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},cn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},fm={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},BS={ERRORS:0,WARNINGS:1,INFOS:5},hs={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},AIe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let jS=BS.WARNINGS;function TIe(t){Number.isInteger(t)&&(jS=t)}function EIe(){return jS}function US(t){jS>=BS.INFOS&&console.log(`Info: ${t}`)}function yt(t){jS>=BS.WARNINGS&&console.log(`Warning: ${t}`)}function ur(t){throw new Error(t)}function gn(t,e){t||ur(e)}function CIe(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function kIe(t,e=null,r=null){if(!t)return null;try{if(r&&typeof t=="string"){if(r.addDefaultProtocol&&t.startsWith("www.")){const i=t.match(/\./g);(i==null?void 0:i.length)>=2&&(t=`http://${t}`)}if(r.tryConvertEncoding)try{t=NIe(t)}catch{}}const n=e?new URL(t,e):new URL(t);if(CIe(n))return n}catch{}return null}function Ct(t,e,r,n=!1){return Object.defineProperty(t,e,{value:r,enumerable:!n,configurable:!0,writable:!1}),r}const bu=function(){function e(r,n){this.message=r,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class aC extends bu{constructor(e,r){super(e,"PasswordException"),this.code=r}}class sC extends bu{constructor(e,r){super(e,"UnknownErrorException"),this.details=r}}class v7 extends bu{constructor(e){super(e,"InvalidPDFException")}}class Fd extends bu{constructor(e){super(e,"MissingPDFException")}}class VS extends bu{constructor(e,r){super(e,"UnexpectedResponseException"),this.status=r}}class PIe extends bu{constructor(e){super(e,"FormatError")}}class Ld extends bu{constructor(e){super(e,"AbortException")}}function y7(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&ur("Invalid argument for bytesToString");const e=t.length,r=8192;if(e<r)return String.fromCharCode.apply(null,t);const n=[];for(let i=0;i<e;i+=r){const a=Math.min(i+r,e),s=t.subarray(i,a);n.push(String.fromCharCode.apply(null,s))}return n.join("")}function HS(t){typeof t!="string"&&ur("Invalid argument for stringToBytes");const e=t.length,r=new Uint8Array(e);for(let n=0;n<e;++n)r[n]=t.charCodeAt(n)&255;return r}function IIe(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function IO(t){const e=Object.create(null);for(const[r,n]of t)e[r]=n;return e}function OIe(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function MIe(){try{return new Function(""),!0}catch{return!1}}class Ci{static get isLittleEndian(){return Ct(this,"isLittleEndian",OIe())}static get isEvalSupported(){return Ct(this,"isEvalSupported",MIe())}static get isOffscreenCanvasSupported(){return Ct(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ct(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Ct(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,r;return Ct(this,"isCSSRoundSupported",(r=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:r.call(e,"width: round(1.5px, 1px)"))}}const vT=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var kl,M1,oC;class Ge{static makeHexColor(e,r,n){return`#${vT[e]}${vT[r]}${vT[n]}`}static scaleMinMax(e,r){let n;e[0]?(e[0]<0&&(n=r[0],r[0]=r[2],r[2]=n),r[0]*=e[0],r[2]*=e[0],e[3]<0&&(n=r[1],r[1]=r[3],r[3]=n),r[1]*=e[3],r[3]*=e[3]):(n=r[0],r[0]=r[1],r[1]=n,n=r[2],r[2]=r[3],r[3]=n,e[1]<0&&(n=r[1],r[1]=r[3],r[3]=n),r[1]*=e[1],r[3]*=e[1],e[2]<0&&(n=r[0],r[0]=r[2],r[2]=n),r[0]*=e[2],r[2]*=e[2]),r[0]+=e[4],r[1]+=e[5],r[2]+=e[4],r[3]+=e[5]}static transform(e,r){return[e[0]*r[0]+e[2]*r[1],e[1]*r[0]+e[3]*r[1],e[0]*r[2]+e[2]*r[3],e[1]*r[2]+e[3]*r[3],e[0]*r[4]+e[2]*r[5]+e[4],e[1]*r[4]+e[3]*r[5]+e[5]]}static applyTransform(e,r){const n=e[0]*r[0]+e[1]*r[2]+r[4],i=e[0]*r[1]+e[1]*r[3]+r[5];return[n,i]}static applyInverseTransform(e,r){const n=r[0]*r[3]-r[1]*r[2],i=(e[0]*r[3]-e[1]*r[2]+r[2]*r[5]-r[4]*r[3])/n,a=(-e[0]*r[1]+e[1]*r[0]+r[4]*r[1]-r[5]*r[0])/n;return[i,a]}static getAxialAlignedBoundingBox(e,r){const n=this.applyTransform(e,r),i=this.applyTransform(e.slice(2,4),r),a=this.applyTransform([e[0],e[3]],r),s=this.applyTransform([e[2],e[1]],r);return[Math.min(n[0],i[0],a[0],s[0]),Math.min(n[1],i[1],a[1],s[1]),Math.max(n[0],i[0],a[0],s[0]),Math.max(n[1],i[1],a[1],s[1])]}static inverseTransform(e){const r=e[0]*e[3]-e[1]*e[2];return[e[3]/r,-e[1]/r,-e[2]/r,e[0]/r,(e[2]*e[5]-e[4]*e[3])/r,(e[4]*e[1]-e[5]*e[0])/r]}static singularValueDecompose2dScale(e){const r=[e[0],e[2],e[1],e[3]],n=e[0]*r[0]+e[1]*r[2],i=e[0]*r[1]+e[1]*r[3],a=e[2]*r[0]+e[3]*r[2],s=e[2]*r[1]+e[3]*r[3],o=(n+s)/2,l=Math.sqrt((n+s)**2-4*(n*s-a*i))/2,c=o+l||1,u=o-l||1;return[Math.sqrt(c),Math.sqrt(u)]}static normalizeRect(e){const r=e.slice(0);return e[0]>e[2]&&(r[0]=e[2],r[2]=e[0]),e[1]>e[3]&&(r[1]=e[3],r[3]=e[1]),r}static intersect(e,r){const n=Math.max(Math.min(e[0],e[2]),Math.min(r[0],r[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(r[0],r[2]));if(n>i)return null;const a=Math.max(Math.min(e[1],e[3]),Math.min(r[1],r[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(r[1],r[3]));return a>s?null:[n,a,i,s]}static bezierBoundingBox(e,r,n,i,a,s,o,l,c){return c?(c[0]=Math.min(c[0],e,o),c[1]=Math.min(c[1],r,l),c[2]=Math.max(c[2],e,o),c[3]=Math.max(c[3],r,l)):c=[Math.min(e,o),Math.min(r,l),Math.max(e,o),Math.max(r,l)],M(this,kl,oC).call(this,e,n,a,o,r,i,s,l,3*(-e+3*(n-a)+o),6*(e-2*n+a),3*(n-e),c),M(this,kl,oC).call(this,e,n,a,o,r,i,s,l,3*(-r+3*(i-s)+l),6*(r-2*i+s),3*(i-r),c),c}}kl=new WeakSet,M1=function(e,r,n,i,a,s,o,l,c,u){if(c<=0||c>=1)return;const f=1-c,d=c*c,h=d*c,m=f*(f*(f*e+3*c*r)+3*d*n)+h*i,p=f*(f*(f*a+3*c*s)+3*d*o)+h*l;u[0]=Math.min(u[0],m),u[1]=Math.min(u[1],p),u[2]=Math.max(u[2],m),u[3]=Math.max(u[3],p)},oC=function(e,r,n,i,a,s,o,l,c,u,f,d){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&M(this,kl,M1).call(this,e,r,n,i,a,s,o,l,-f/u,d);return}const h=u**2-4*f*c;if(h<0)return;const m=Math.sqrt(h),p=2*c;M(this,kl,M1).call(this,e,r,n,i,a,s,o,l,(-u+m)/p,d),M(this,kl,M1).call(this,e,r,n,i,a,s,o,l,(-u-m)/p,d)},B(Ge,kl);function NIe(t){return decodeURIComponent(escape(t))}let yT=null,uL=null;function RIe(t){return yT||(yT=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,uL=new Map([["","t"]])),t.replaceAll(yT,(e,r,n)=>r?r.normalize("NFKC"):uL.get(n))}function DIe(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const t=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(t);else for(let e=0;e<32;e++)t[e]=Math.floor(Math.random()*255);return y7(t)}const OO="pdfjs_internal_id_",Do={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function FIe(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(y7(t))}const Lo="http://www.w3.org/2000/svg",$u=class $u{};at($u,"CSS",96),at($u,"PDF",72),at($u,"PDF_TO_CSS_UNITS",$u.CSS/$u.PDF);let su=$u;async function WS(t,e="text"){if(Sm(t,document.baseURI)){const r=await fetch(t);if(!r.ok)throw new Error(r.statusText);switch(e){case"arraybuffer":return r.arrayBuffer();case"blob":return r.blob();case"json":return r.json()}return r.text()}return new Promise((r,n)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":r(i.response);return}r(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class px{constructor({viewBox:e,scale:r,rotation:n,offsetX:i=0,offsetY:a=0,dontFlip:s=!1}){this.viewBox=e,this.scale=r,this.rotation=n,this.offsetX=i,this.offsetY=a;const o=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let c,u,f,d;switch(n%=360,n<0&&(n+=360),n){case 180:c=-1,u=0,f=0,d=1;break;case 90:c=0,u=1,f=1,d=0;break;case 270:c=0,u=-1,f=-1,d=0;break;case 0:c=1,u=0,f=0,d=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}s&&(f=-f,d=-d);let h,m,p,y;c===0?(h=Math.abs(l-e[1])*r+i,m=Math.abs(o-e[0])*r+a,p=(e[3]-e[1])*r,y=(e[2]-e[0])*r):(h=Math.abs(o-e[0])*r+i,m=Math.abs(l-e[1])*r+a,p=(e[2]-e[0])*r,y=(e[3]-e[1])*r),this.transform=[c*r,u*r,f*r,d*r,h-c*r*o-f*r*l,m-u*r*o-d*r*l],this.width=p,this.height=y}get rawDims(){const{viewBox:e}=this;return Ct(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:r=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:a=!1}={}){return new px({viewBox:this.viewBox.slice(),scale:e,rotation:r,offsetX:n,offsetY:i,dontFlip:a})}convertToViewportPoint(e,r){return Ge.applyTransform([e,r],this.transform)}convertToViewportRectangle(e){const r=Ge.applyTransform([e[0],e[1]],this.transform),n=Ge.applyTransform([e[2],e[3]],this.transform);return[r[0],r[1],n[0],n[1]]}convertToPdfPoint(e,r){return Ge.applyInverseTransform([e,r],this.transform)}}class MO extends bu{constructor(e,r=0){super(e,"RenderingCancelledException"),this.extraDelay=r}}function zS(t){const e=t.length;let r=0;for(;r<e&&t[r].trim()==="";)r++;return t.substring(r,r+5).toLowerCase()==="data:"}function NO(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function LIe(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function $Ie(t,e="document.pdf"){if(typeof t!="string")return e;if(zS(t))return yt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=r.exec(t);let a=n.exec(i[1])||n.exec(i[2])||n.exec(i[3]);if(a&&(a=a[0],a.includes("%")))try{a=n.exec(decodeURIComponent(a))[0]}catch{}return a||e}class fL{constructor(){at(this,"started",Object.create(null));at(this,"times",[])}time(e){e in this.started&&yt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||yt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let r=0;for(const{name:n}of this.times)r=Math.max(n.length,r);for(const{name:n,start:i,end:a}of this.times)e.push(`${n.padEnd(r)} ${a-i}ms
`);return e.join("")}}function Sm(t,e){try{const{protocol:r}=e?new URL(t,e):new URL(t);return r==="http:"||r==="https:"}catch{return!1}}function ns(t){t.preventDefault()}function dL(t){console.log("Deprecated API usage: "+t)}var Ov;class RO{static toDateObject(e){if(!e||typeof e!="string")return null;g(this,Ov)||I(this,Ov,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const r=g(this,Ov).exec(e);if(!r)return null;const n=parseInt(r[1],10);let i=parseInt(r[2],10);i=i>=1&&i<=12?i-1:0;let a=parseInt(r[3],10);a=a>=1&&a<=31?a:1;let s=parseInt(r[4],10);s=s>=0&&s<=23?s:0;let o=parseInt(r[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(r[6],10);l=l>=0&&l<=59?l:0;const c=r[7]||"Z";let u=parseInt(r[8],10);u=u>=0&&u<=23?u:0;let f=parseInt(r[9],10)||0;return f=f>=0&&f<=59?f:0,c==="-"?(s+=u,o+=f):c==="+"&&(s-=u,o-=f),new Date(Date.UTC(n,i,a,s,o,l))}}Ov=new WeakMap,B(RO,Ov);function BIe(t,{scale:e=1,rotation:r=0}){const{width:n,height:i}=t.attributes.style,a=[0,0,parseInt(n),parseInt(i)];return new px({viewBox:a,scale:e,rotation:r})}function DO(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(yt(`Not a valid color format: "${t}"`),[0,0,0])}function jIe(t){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const r of t.keys()){e.style.color=r;const n=window.getComputedStyle(e).color;t.set(r,DO(n))}e.remove()}function Er(t){const{a:e,b:r,c:n,d:i,e:a,f:s}=t.getTransform();return[e,r,n,i,a,s]}function Fo(t){const{a:e,b:r,c:n,d:i,e:a,f:s}=t.getTransform().invertSelf();return[e,r,n,i,a,s]}function gd(t,e,r=!1,n=!0){if(e instanceof px){const{pageWidth:i,pageHeight:a}=e.rawDims,{style:s}=t,o=Ci.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,c=`var(--scale-factor) * ${a}px`,u=o?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,f=o?`round(down, ${c}, var(--scale-round-y, 1px))`:`calc(${c})`;!r||e.rotation%180===0?(s.width=u,s.height=f):(s.width=f,s.height=u)}n&&t.setAttribute("data-main-rotation",e.rotation)}class lC{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var uc,Xu,ps,Ku,Mv,Nv,cb,x7,ki,w7,_7,N1,b7,uC;const Bo=class Bo{constructor(e){B(this,ki);B(this,uc,null);B(this,Xu,null);B(this,ps);B(this,Ku,null);B(this,Mv,null);I(this,ps,e),g(Bo,Nv)||I(Bo,Nv,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=I(this,uc,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const r=g(this,ps)._uiManager._signal;e.addEventListener("contextmenu",ns,{signal:r}),e.addEventListener("pointerdown",M(Bo,cb,x7),{signal:r});const n=I(this,Ku,document.createElement("div"));n.className="buttons",e.append(n);const i=g(this,ps).toolbarPosition;if(i){const{style:a}=e,s=g(this,ps)._uiManager.direction==="ltr"?1-i[0]:i[0];a.insetInlineEnd=`${100*s}%`,a.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return M(this,ki,b7).call(this),e}get div(){return g(this,uc)}hide(){var e;g(this,uc).classList.add("hidden"),(e=g(this,Xu))==null||e.hideDropdown()}show(){var e;g(this,uc).classList.remove("hidden"),(e=g(this,Mv))==null||e.shown()}async addAltText(e){const r=await e.render();M(this,ki,N1).call(this,r),g(this,Ku).prepend(r,g(this,ki,uC)),I(this,Mv,e)}addColorPicker(e){I(this,Xu,e);const r=e.renderButton();M(this,ki,N1).call(this,r),g(this,Ku).prepend(r,g(this,ki,uC))}remove(){var e;g(this,uc).remove(),(e=g(this,Xu))==null||e.destroy(),I(this,Xu,null)}};uc=new WeakMap,Xu=new WeakMap,ps=new WeakMap,Ku=new WeakMap,Mv=new WeakMap,Nv=new WeakMap,cb=new WeakSet,x7=function(e){e.stopPropagation()},ki=new WeakSet,w7=function(e){g(this,ps)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},_7=function(e){g(this,ps)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},N1=function(e){const r=g(this,ps)._uiManager._signal;e.addEventListener("focusin",M(this,ki,w7).bind(this),{capture:!0,signal:r}),e.addEventListener("focusout",M(this,ki,_7).bind(this),{capture:!0,signal:r}),e.addEventListener("contextmenu",ns,{signal:r})},b7=function(){const{editorType:e,_uiManager:r}=g(this,ps),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",g(Bo,Nv)[e]),M(this,ki,N1).call(this,n),n.addEventListener("click",i=>{r.delete()},{signal:r._signal}),g(this,Ku).append(n)},uC=function(){const e=document.createElement("div");return e.className="divider",e},B(Bo,cb),B(Bo,Nv,null);let cC=Bo;var Rv,Yu,Ju,cu,S7,A7,T7;class UIe{constructor(e){B(this,cu);B(this,Rv,null);B(this,Yu,null);B(this,Ju);I(this,Ju,e)}show(e,r,n){const[i,a]=M(this,cu,A7).call(this,r,n),{style:s}=g(this,Yu)||I(this,Yu,M(this,cu,S7).call(this));e.append(g(this,Yu)),s.insetInlineEnd=`${100*i}%`,s.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){g(this,Yu).remove()}}Rv=new WeakMap,Yu=new WeakMap,Ju=new WeakMap,cu=new WeakSet,S7=function(){const e=I(this,Yu,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",ns,{signal:g(this,Ju)._signal});const r=I(this,Rv,document.createElement("div"));return r.className="buttons",e.append(r),M(this,cu,T7).call(this),e},A7=function(e,r){let n=0,i=0;for(const a of e){const s=a.y+a.height;if(s<n)continue;const o=a.x+(r?a.width:0);if(s>n){i=o,n=s;continue}r?o>i&&(i=o):o<i&&(i=o)}return[r?1-i:i,n]},T7=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const r=document.createElement("span");e.append(r),r.className="visuallyHidden",r.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=g(this,Ju)._signal;e.addEventListener("contextmenu",ns,{signal:n}),e.addEventListener("click",()=>{g(this,Ju).highlightSelection("floating_button")},{signal:n}),g(this,Rv).append(e)};function X_(t,e,r){for(const n of r)e.addEventListener(n,t[n].bind(t))}function VIe(t){return Math.round(Math.min(255,Math.max(1,255*t))).toString(16).padStart(2,"0")}var ub;class HIe{constructor(){B(this,ub,0)}get id(){return`${bIe}${vi(this,ub)._++}`}}ub=new WeakMap;var $h,Dv,Qn,Bh,R1;const qO=class qO{constructor(){B(this,Bh);B(this,$h,DIe());B(this,Dv,0);B(this,Qn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const a=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Ct(this,"_isSVGFittingCanvas",a)}async getFromFile(e){const{lastModified:r,name:n,size:i,type:a}=e;return M(this,Bh,R1).call(this,`${r}_${n}_${i}_${a}`,e)}async getFromUrl(e){return M(this,Bh,R1).call(this,e,e)}async getFromBlob(e,r){const n=await r;return M(this,Bh,R1).call(this,e,n)}async getFromId(e){g(this,Qn)||I(this,Qn,new Map);const r=g(this,Qn).get(e);if(!r)return null;if(r.bitmap)return r.refCounter+=1,r;if(r.file)return this.getFromFile(r.file);if(r.blobPromise){const{blobPromise:n}=r;return delete r.blobPromise,this.getFromBlob(r.id,n)}return this.getFromUrl(r.url)}getFromCanvas(e,r){g(this,Qn)||I(this,Qn,new Map);let n=g(this,Qn).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(r.width,r.height);return i.getContext("2d").drawImage(r,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${g(this,$h)}_${vi(this,Dv)._++}`,refCounter:1,isSvg:!1},g(this,Qn).set(e,n),g(this,Qn).set(n.id,n),n}getSvgUrl(e){const r=g(this,Qn).get(e);return r!=null&&r.isSvg?r.svgUrl:null}deleteId(e){var i;g(this,Qn)||I(this,Qn,new Map);const r=g(this,Qn).get(e);if(!r||(r.refCounter-=1,r.refCounter!==0))return;const{bitmap:n}=r;if(!r.url&&!r.file){const a=new OffscreenCanvas(n.width,n.height);a.getContext("bitmaprenderer").transferFromImageBitmap(n),r.blobPromise=a.convertToBlob()}(i=n.close)==null||i.call(n),r.bitmap=null}isValidId(e){return e.startsWith(`image_${g(this,$h)}_`)}};$h=new WeakMap,Dv=new WeakMap,Qn=new WeakMap,Bh=new WeakSet,R1=async function(e,r){g(this,Qn)||I(this,Qn,new Map);let n=g(this,Qn).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${g(this,$h)}_${vi(this,Dv)._++}`,refCounter:0,isSvg:!1});let i;if(typeof r=="string"?(n.url=r,i=await WS(r,"blob")):r instanceof File?i=n.file=r:r instanceof Blob&&(i=r),i.type==="image/svg+xml"){const a=qO._isSVGFittingCanvas,s=new FileReader,o=new Image,l=new Promise((c,u)=>{o.onload=()=>{n.bitmap=o,n.isSvg=!0,c()},s.onload=async()=>{const f=n.svgUrl=s.result;o.src=await a?`${f}#svgView(preserveAspectRatio(none))`:f},o.onerror=s.onerror=u});s.readAsDataURL(i),await l}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){console.error(i),n=null}return g(this,Qn).set(e,n),n&&g(this,Qn).set(n.id,n),n};let fC=qO;var bn,fc,Fv,Sn;class WIe{constructor(e=128){B(this,bn,[]);B(this,fc,!1);B(this,Fv);B(this,Sn,-1);I(this,Fv,e)}add({cmd:e,undo:r,post:n,mustExec:i,type:a=NaN,overwriteIfSameType:s=!1,keepUndo:o=!1}){if(i&&e(),g(this,fc))return;const l={cmd:e,undo:r,post:n,type:a};if(g(this,Sn)===-1){g(this,bn).length>0&&(g(this,bn).length=0),I(this,Sn,0),g(this,bn).push(l);return}if(s&&g(this,bn)[g(this,Sn)].type===a){o&&(l.undo=g(this,bn)[g(this,Sn)].undo),g(this,bn)[g(this,Sn)]=l;return}const c=g(this,Sn)+1;c===g(this,Fv)?g(this,bn).splice(0,1):(I(this,Sn,c),c<g(this,bn).length&&g(this,bn).splice(c)),g(this,bn).push(l)}undo(){if(g(this,Sn)===-1)return;I(this,fc,!0);const{undo:e,post:r}=g(this,bn)[g(this,Sn)];e(),r==null||r(),I(this,fc,!1),I(this,Sn,g(this,Sn)-1)}redo(){if(g(this,Sn)<g(this,bn).length-1){I(this,Sn,g(this,Sn)+1),I(this,fc,!0);const{cmd:e,post:r}=g(this,bn)[g(this,Sn)];e(),r==null||r(),I(this,fc,!1)}}hasSomethingToUndo(){return g(this,Sn)!==-1}hasSomethingToRedo(){return g(this,Sn)<g(this,bn).length-1}destroy(){I(this,bn,null)}}bn=new WeakMap,fc=new WeakMap,Fv=new WeakMap,Sn=new WeakMap;var fb,E7;class mx{constructor(e){B(this,fb);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:r}=Ci.platform;for(const[n,i,a={}]of e)for(const s of n){const o=s.startsWith("mac+");r&&o?(this.callbacks.set(s.slice(4),{callback:i,options:a}),this.allKeys.add(s.split("+").at(-1))):!r&&!o&&(this.callbacks.set(s,{callback:i,options:a}),this.allKeys.add(s.split("+").at(-1)))}}exec(e,r){if(!this.allKeys.has(r.key))return;const n=this.callbacks.get(M(this,fb,E7).call(this,r));if(!n)return;const{callback:i,options:{bubbles:a=!1,args:s=[],checker:o=null}}=n;o&&!o(e,r)||(i.bind(e,...s,r)(),a||(r.stopPropagation(),r.preventDefault()))}}fb=new WeakSet,E7=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const r=this.buffer.join("+");return this.buffer.length=0,r};const db=class db{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return jIe(e),Ct(this,"_colors",e)}convert(e){const r=DO(e);if(!window.matchMedia("(forced-colors: active)").matches)return r;for(const[n,i]of this._colors)if(i.every((a,s)=>a===r[s]))return db._colorsMapping.get(n);return r}getHexCode(e){const r=this._colors.get(e);return r?Ge.makeHexColor(...r):e}};at(db,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let dC=db;var jh,ea,fn,Fn,Uh,Vo,Vh,ms,dc,Hh,Zu,Js,gs,Qu,Lv,$v,Wh,Bv,Zs,hc,zh,pc,Qs,hb,mc,jv,gc,ef,Uv,Vv,An,Ut,Ho,tf,Hv,Wv,vc,eo,Wo,zv,Da,Oe,D1,hC,C7,k7,F1,P7,I7,O7,pC,M7,mC,gC,N7,yi,ec,R7,D7,vC,F7,Am,yC;const bh=class bh{constructor(e,r,n,i,a,s,o,l,c,u,f){B(this,Oe);B(this,jh,new AbortController);B(this,ea,null);B(this,fn,new Map);B(this,Fn,new Map);B(this,Uh,null);B(this,Vo,null);B(this,Vh,null);B(this,ms,new WIe);B(this,dc,null);B(this,Hh,0);B(this,Zu,new Set);B(this,Js,null);B(this,gs,null);B(this,Qu,new Set);B(this,Lv,!1);B(this,$v,!1);B(this,Wh,!1);B(this,Bv,null);B(this,Zs,null);B(this,hc,null);B(this,zh,null);B(this,pc,!1);B(this,Qs,null);B(this,hb,new HIe);B(this,mc,!1);B(this,jv,!1);B(this,gc,null);B(this,ef,null);B(this,Uv,null);B(this,Vv,null);B(this,An,ht.NONE);B(this,Ut,new Set);B(this,Ho,null);B(this,tf,null);B(this,Hv,null);B(this,Wv,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});B(this,vc,[0,0]);B(this,eo,null);B(this,Wo,null);B(this,zv,null);B(this,Da,null);const d=this._signal=g(this,jh).signal;I(this,Wo,e),I(this,zv,r),I(this,Uh,n),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:d}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:d}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:d}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:d}),i._on("setpreference",this.onSetPreference.bind(this),{signal:d}),i._on("switchannotationeditorparams",h=>this.updateParams(h.type,h.value),{signal:d}),M(this,Oe,P7).call(this),M(this,Oe,N7).call(this),M(this,Oe,pC).call(this),I(this,Vo,a.annotationStorage),I(this,Bv,a.filterFactory),I(this,tf,s),I(this,zh,o||null),I(this,Lv,l),I(this,$v,c),I(this,Wh,u),I(this,Vv,f||null),this.viewParameters={realScale:su.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=bh.prototype,r=s=>g(s,Wo).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&s.hasSomethingToControl(),n=(s,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return Ct(this,"_keyboardManager",new mx([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&g(s,Wo).contains(o)&&!s.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&g(s,Wo).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:r}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:r}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:r}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:r}]]))}destroy(){var e,r,n,i;(e=g(this,Da))==null||e.resolve(),I(this,Da,null),(r=g(this,jh))==null||r.abort(),I(this,jh,null),this._signal=null;for(const a of g(this,Fn).values())a.destroy();g(this,Fn).clear(),g(this,fn).clear(),g(this,Qu).clear(),I(this,ea,null),g(this,Ut).clear(),g(this,ms).destroy(),(n=g(this,Uh))==null||n.destroy(),(i=g(this,Qs))==null||i.hide(),I(this,Qs,null),g(this,Zs)&&(clearTimeout(g(this,Zs)),I(this,Zs,null)),g(this,eo)&&(clearTimeout(g(this,eo)),I(this,eo,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return g(this,Vv)}get useNewAltTextFlow(){return g(this,$v)}get useNewAltTextWhenAddingImage(){return g(this,Wh)}get hcmFilter(){return Ct(this,"hcmFilter",g(this,tf)?g(this,Bv).addHCMFilter(g(this,tf).foreground,g(this,tf).background):"none")}get direction(){return Ct(this,"direction",getComputedStyle(g(this,Wo)).direction)}get highlightColors(){return Ct(this,"highlightColors",g(this,zh)?new Map(g(this,zh).split(",").map(e=>e.split("=").map(r=>r.trim()))):null)}get highlightColorNames(){return Ct(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){I(this,Uv,e)}editAltText(e,r=!1){var n;(n=g(this,Uh))==null||n.editAltText(this,e,r)}switchToMode(e,r){this._eventBus.on("annotationeditormodechanged",r,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,r){this._eventBus.dispatch("setpreference",{source:this,name:e,value:r})}onSetPreference({name:e,value:r}){switch(e){case"enableNewAltTextWhenAddingImage":I(this,Wh,r);break}}onPageChanging({pageNumber:e}){I(this,Hh,e-1)}focusMainContainer(){g(this,Wo).focus()}findParent(e,r){for(const n of g(this,Fn).values()){const{x:i,y:a,width:s,height:o}=n.div.getBoundingClientRect();if(e>=i&&e<=i+s&&r>=a&&r<=a+o)return n}return null}disableUserSelect(e=!1){g(this,zv).classList.toggle("noUserSelect",e)}addShouldRescale(e){g(this,Qu).add(e)}removeShouldRescale(e){g(this,Qu).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*su.PDF_TO_CSS_UNITS;for(const r of g(this,Qu))r.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:n,anchorOffset:i,focusNode:a,focusOffset:s}=r,o=r.toString(),c=M(this,Oe,D1).call(this,r).closest(".textLayer"),u=this.getSelectionBoxes(c);if(!u)return;r.empty();const f=M(this,Oe,hC).call(this,c),d=g(this,An)===ht.NONE,h=()=>{f==null||f.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:u,anchorNode:n,anchorOffset:i,focusNode:a,focusOffset:s,text:o}),d&&this.showAllEditors("highlight",!0,!0)};if(d){this.switchToMode(ht.HIGHLIGHT,h);return}h()}addToAnnotationStorage(e){!e.isEmpty()&&g(this,Vo)&&!g(this,Vo).has(e.id)&&g(this,Vo).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,g(this,pc)&&(I(this,pc,!1),M(this,Oe,F1).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const r of g(this,Ut))if(r.div.contains(e)){I(this,ef,[r,e]),r._focusEventsAllowed=!1;break}}focus(){if(!g(this,ef))return;const[e,r]=g(this,ef);I(this,ef,null),r.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),r.focus()}addEditListeners(){M(this,Oe,pC).call(this),M(this,Oe,mC).call(this)}removeEditListeners(){M(this,Oe,M7).call(this),M(this,Oe,gC).call(this)}dragOver(e){for(const{type:r}of e.dataTransfer.items)for(const n of g(this,gs))if(n.isHandlingMimeForPasting(r)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const r of e.dataTransfer.items)for(const n of g(this,gs))if(n.isHandlingMimeForPasting(r.type)){n.paste(r,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=g(this,ea))==null||n.commitOrRemove(),!this.hasSelection)return;const r=[];for(const i of g(this,Ut)){const a=i.serialize(!0);a&&r.push(a)}r.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(r))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:r}=e;for(const a of r.items)for(const s of g(this,gs))if(s.isHandlingMimeForPasting(a.type)){s.paste(a,this.currentLayer);return}let n=r.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(a){yt(`paste: "${a.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const a=[];for(const l of n){const c=await i.deserialize(l);if(!c)return;a.push(c)}const s=()=>{for(const l of a)M(this,Oe,vC).call(this,l);M(this,Oe,yC).call(this,a)},o=()=>{for(const l of a)l.remove()};this.addCommands({cmd:s,undo:o,mustExec:!0})}catch(a){yt(`paste: "${a.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),g(this,An)!==ht.NONE&&!this.isEditorHandlingKeyboard&&bh._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,g(this,pc)&&(I(this,pc,!1),M(this,Oe,F1).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(M(this,Oe,I7).call(this),M(this,Oe,mC).call(this),M(this,Oe,yi).call(this,{isEditing:g(this,An)!==ht.NONE,isEmpty:M(this,Oe,Am).call(this),hasSomethingToUndo:g(this,ms).hasSomethingToUndo(),hasSomethingToRedo:g(this,ms).hasSomethingToRedo(),hasSelectedEditor:!1})):(M(this,Oe,O7).call(this),M(this,Oe,gC).call(this),M(this,Oe,yi).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!g(this,gs)){I(this,gs,e);for(const r of g(this,gs))M(this,Oe,ec).call(this,r.defaultPropertiesToUpdate)}}getId(){return g(this,hb).id}get currentLayer(){return g(this,Fn).get(g(this,Hh))}getLayer(e){return g(this,Fn).get(e)}get currentPageIndex(){return g(this,Hh)}addLayer(e){g(this,Fn).set(e.pageIndex,e),g(this,mc)?e.enable():e.disable()}removeLayer(e){g(this,Fn).delete(e.pageIndex)}async updateMode(e,r=null,n=!1){if(g(this,An)!==e&&!(g(this,Da)&&(await g(this,Da).promise,!g(this,Da)))){if(I(this,Da,Promise.withResolvers()),I(this,An,e),e===ht.NONE){this.setEditingState(!1),M(this,Oe,D7).call(this),g(this,Da).resolve();return}this.setEditingState(!0),await M(this,Oe,R7).call(this),this.unselectAll();for(const i of g(this,Fn).values())i.updateMode(e);if(!r){n&&this.addNewEditorFromKeyboard(),g(this,Da).resolve();return}for(const i of g(this,fn).values())i.annotationElementId===r?(this.setSelected(i),i.enterInEditMode()):i.unselect();g(this,Da).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==g(this,An)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,r){var n;if(g(this,gs)){switch(e){case st.CREATE:this.currentLayer.addNewEditor();return;case st.HIGHLIGHT_DEFAULT_COLOR:(n=g(this,Uv))==null||n.updateColor(r);break;case st.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(g(this,Hv)||I(this,Hv,new Map)).set(e,r),this.showAllEditors("highlight",r);break}for(const i of g(this,Ut))i.updateParams(e,r);for(const i of g(this,gs))i.updateDefaultParams(e,r)}}showAllEditors(e,r,n=!1){var a;for(const s of g(this,fn).values())s.editorType===e&&s.show(r);(((a=g(this,Hv))==null?void 0:a.get(st.HIGHLIGHT_SHOW_ALL))??!0)!==r&&M(this,Oe,ec).call(this,[[st.HIGHLIGHT_SHOW_ALL,r]])}enableWaiting(e=!1){if(g(this,jv)!==e){I(this,jv,e);for(const r of g(this,Fn).values())e?r.disableClick():r.enableClick(),r.div.classList.toggle("waiting",e)}}getEditors(e){const r=[];for(const n of g(this,fn).values())n.pageIndex===e&&r.push(n);return r}getEditor(e){return g(this,fn).get(e)}addEditor(e){g(this,fn).set(e.id,e)}removeEditor(e){var r;e.div.contains(document.activeElement)&&(g(this,Zs)&&clearTimeout(g(this,Zs)),I(this,Zs,setTimeout(()=>{this.focusMainContainer(),I(this,Zs,null)},0))),g(this,fn).delete(e.id),this.unselect(e),(!e.annotationElementId||!g(this,Zu).has(e.annotationElementId))&&((r=g(this,Vo))==null||r.remove(e.id))}addDeletedAnnotationElement(e){g(this,Zu).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return g(this,Zu).has(e)}removeDeletedAnnotationElement(e){g(this,Zu).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){g(this,ea)!==e&&(I(this,ea,e),e&&M(this,Oe,ec).call(this,e.propertiesToUpdate))}updateUI(e){g(this,Oe,F7)===e&&M(this,Oe,ec).call(this,e.propertiesToUpdate)}toggleSelected(e){if(g(this,Ut).has(e)){g(this,Ut).delete(e),e.unselect(),M(this,Oe,yi).call(this,{hasSelectedEditor:this.hasSelection});return}g(this,Ut).add(e),e.select(),M(this,Oe,ec).call(this,e.propertiesToUpdate),M(this,Oe,yi).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const r of g(this,Ut))r!==e&&r.unselect();g(this,Ut).clear(),g(this,Ut).add(e),e.select(),M(this,Oe,ec).call(this,e.propertiesToUpdate),M(this,Oe,yi).call(this,{hasSelectedEditor:!0})}isSelected(e){return g(this,Ut).has(e)}get firstSelectedEditor(){return g(this,Ut).values().next().value}unselect(e){e.unselect(),g(this,Ut).delete(e),M(this,Oe,yi).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return g(this,Ut).size!==0}get isEnterHandled(){return g(this,Ut).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){g(this,ms).undo(),M(this,Oe,yi).call(this,{hasSomethingToUndo:g(this,ms).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:M(this,Oe,Am).call(this)})}redo(){g(this,ms).redo(),M(this,Oe,yi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:g(this,ms).hasSomethingToRedo(),isEmpty:M(this,Oe,Am).call(this)})}addCommands(e){g(this,ms).add(e),M(this,Oe,yi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:M(this,Oe,Am).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...g(this,Ut)],r=()=>{for(const i of e)i.remove()},n=()=>{for(const i of e)M(this,Oe,vC).call(this,i)};this.addCommands({cmd:r,undo:n,mustExec:!0})}commitOrRemove(){var e;(e=g(this,ea))==null||e.commitOrRemove()}hasSomethingToControl(){return g(this,ea)||this.hasSelection}selectAll(){for(const e of g(this,Ut))e.commit();M(this,Oe,yC).call(this,g(this,fn).values())}unselectAll(){if(!(g(this,ea)&&(g(this,ea).commitOrRemove(),g(this,An)!==ht.NONE))&&this.hasSelection){for(const e of g(this,Ut))e.unselect();g(this,Ut).clear(),M(this,Oe,yi).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,r,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;g(this,vc)[0]+=e,g(this,vc)[1]+=r;const[i,a]=g(this,vc),s=[...g(this,Ut)],o=1e3;g(this,eo)&&clearTimeout(g(this,eo)),I(this,eo,setTimeout(()=>{I(this,eo,null),g(this,vc)[0]=g(this,vc)[1]=0,this.addCommands({cmd:()=>{for(const l of s)g(this,fn).has(l.id)&&l.translateInPage(i,a)},undo:()=>{for(const l of s)g(this,fn).has(l.id)&&l.translateInPage(-i,-a)},mustExec:!1})},o));for(const l of s)l.translateInPage(e,r)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),I(this,Js,new Map);for(const e of g(this,Ut))g(this,Js).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!g(this,Js))return!1;this.disableUserSelect(!1);const e=g(this,Js);I(this,Js,null);let r=!1;for(const[{x:i,y:a,pageIndex:s},o]of e)o.newX=i,o.newY=a,o.newPageIndex=s,r||(r=i!==o.savedX||a!==o.savedY||s!==o.savedPageIndex);if(!r)return!1;const n=(i,a,s,o)=>{if(g(this,fn).has(i.id)){const l=g(this,Fn).get(o);l?i._setParentAndPosition(l,a,s):(i.pageIndex=o,i.x=a,i.y=s)}};return this.addCommands({cmd:()=>{for(const[i,{newX:a,newY:s,newPageIndex:o}]of e)n(i,a,s,o)},undo:()=>{for(const[i,{savedX:a,savedY:s,savedPageIndex:o}]of e)n(i,a,s,o)},mustExec:!0}),!0}dragSelectedEditors(e,r){if(g(this,Js))for(const n of g(this,Js).keys())n.drag(e,r)}rebuild(e){if(e.parent===null){const r=this.getLayer(e.pageIndex);r?(r.changeParent(e),r.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||g(this,Ut).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return g(this,ea)===e}getActive(){return g(this,ea)}getMode(){return g(this,An)}get imageManager(){return Ct(this,"imageManager",new fC)}getSelectionBoxes(e){if(!e)return null;const r=document.getSelection();for(let c=0,u=r.rangeCount;c<u;c++)if(!e.contains(r.getRangeAt(c).commonAncestorContainer))return null;const{x:n,y:i,width:a,height:s}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(c,u,f,d)=>({x:(u-i)/s,y:1-(c+f-n)/a,width:d/s,height:f/a});break;case"180":o=(c,u,f,d)=>({x:1-(c+f-n)/a,y:1-(u+d-i)/s,width:f/a,height:d/s});break;case"270":o=(c,u,f,d)=>({x:1-(u+d-i)/s,y:(c-n)/a,width:d/s,height:f/a});break;default:o=(c,u,f,d)=>({x:(c-n)/a,y:(u-i)/s,width:f/a,height:d/s});break}const l=[];for(let c=0,u=r.rangeCount;c<u;c++){const f=r.getRangeAt(c);if(!f.collapsed)for(const{x:d,y:h,width:m,height:p}of f.getClientRects())m===0||p===0||l.push(o(d,h,m,p))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:r}){(g(this,Vh)||I(this,Vh,new Map)).set(e,r)}removeChangedExistingAnnotation({annotationElementId:e}){var r;(r=g(this,Vh))==null||r.delete(e)}renderAnnotationElement(e){var i;const r=(i=g(this,Vh))==null?void 0:i.get(e.data.id);if(!r)return;const n=g(this,Vo).getRawValue(r);n&&(g(this,An)===ht.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}};jh=new WeakMap,ea=new WeakMap,fn=new WeakMap,Fn=new WeakMap,Uh=new WeakMap,Vo=new WeakMap,Vh=new WeakMap,ms=new WeakMap,dc=new WeakMap,Hh=new WeakMap,Zu=new WeakMap,Js=new WeakMap,gs=new WeakMap,Qu=new WeakMap,Lv=new WeakMap,$v=new WeakMap,Wh=new WeakMap,Bv=new WeakMap,Zs=new WeakMap,hc=new WeakMap,zh=new WeakMap,pc=new WeakMap,Qs=new WeakMap,hb=new WeakMap,mc=new WeakMap,jv=new WeakMap,gc=new WeakMap,ef=new WeakMap,Uv=new WeakMap,Vv=new WeakMap,An=new WeakMap,Ut=new WeakMap,Ho=new WeakMap,tf=new WeakMap,Hv=new WeakMap,Wv=new WeakMap,vc=new WeakMap,eo=new WeakMap,Wo=new WeakMap,zv=new WeakMap,Da=new WeakMap,Oe=new WeakSet,D1=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},hC=function(e){const{currentLayer:r}=this;if(r.hasTextLayer(e))return r;for(const n of g(this,Fn).values())if(n.hasTextLayer(e))return n;return null},C7=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=M(this,Oe,D1).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(g(this,Qs)||I(this,Qs,new UIe(this)),g(this,Qs).show(n,i,this.direction==="ltr"))},k7=function(){var a,s,o;const e=document.getSelection();if(!e||e.isCollapsed){g(this,Ho)&&((a=g(this,Qs))==null||a.hide(),I(this,Ho,null),M(this,Oe,yi).call(this,{hasSelectedText:!1}));return}const{anchorNode:r}=e;if(r===g(this,Ho))return;const i=M(this,Oe,D1).call(this,e).closest(".textLayer");if(!i){g(this,Ho)&&((s=g(this,Qs))==null||s.hide(),I(this,Ho,null),M(this,Oe,yi).call(this,{hasSelectedText:!1}));return}if((o=g(this,Qs))==null||o.hide(),I(this,Ho,r),M(this,Oe,yi).call(this,{hasSelectedText:!0}),!(g(this,An)!==ht.HIGHLIGHT&&g(this,An)!==ht.NONE)&&(g(this,An)===ht.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),I(this,pc,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=g(this,An)===ht.HIGHLIGHT?M(this,Oe,hC).call(this,i):null;l==null||l.toggleDrawing();const c=new AbortController,u=this.combinedSignal(c),f=d=>{d.type==="pointerup"&&d.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),d.type==="pointerup"&&M(this,Oe,F1).call(this,"main_toolbar"))};window.addEventListener("pointerup",f,{signal:u}),window.addEventListener("blur",f,{signal:u})}},F1=function(e=""){g(this,An)===ht.HIGHLIGHT?this.highlightSelection(e):g(this,Lv)&&M(this,Oe,C7).call(this)},P7=function(){document.addEventListener("selectionchange",M(this,Oe,k7).bind(this),{signal:this._signal})},I7=function(){if(g(this,hc))return;I(this,hc,new AbortController);const e=this.combinedSignal(g(this,hc));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},O7=function(){var e;(e=g(this,hc))==null||e.abort(),I(this,hc,null)},pC=function(){if(g(this,gc))return;I(this,gc,new AbortController);const e=this.combinedSignal(g(this,gc));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},M7=function(){var e;(e=g(this,gc))==null||e.abort(),I(this,gc,null)},mC=function(){if(g(this,dc))return;I(this,dc,new AbortController);const e=this.combinedSignal(g(this,dc));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},gC=function(){var e;(e=g(this,dc))==null||e.abort(),I(this,dc,null)},N7=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},yi=function(e){Object.entries(e).some(([n,i])=>g(this,Wv)[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(g(this,Wv),e)}),g(this,An)===ht.HIGHLIGHT&&e.hasSelectedEditor===!1&&M(this,Oe,ec).call(this,[[st.HIGHLIGHT_FREE,!0]]))},ec=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},R7=async function(){if(!g(this,mc)){I(this,mc,!0);const e=[];for(const r of g(this,Fn).values())e.push(r.enable());await Promise.all(e);for(const r of g(this,fn).values())r.enable()}},D7=function(){if(this.unselectAll(),g(this,mc)){I(this,mc,!1);for(const e of g(this,Fn).values())e.disable();for(const e of g(this,fn).values())e.disable()}},vC=function(e){const r=g(this,Fn).get(e.pageIndex);r?r.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},F7=function(){let e=null;for(e of g(this,Ut));return e},Am=function(){if(g(this,fn).size===0)return!0;if(g(this,fn).size===1)for(const e of g(this,fn).values())return e.isEmpty();return!1},yC=function(e){for(const r of g(this,Ut))r.unselect();g(this,Ut).clear();for(const r of e)r.isEmpty()||(g(this,Ut).add(r),r.select());M(this,Oe,yi).call(this,{hasSelectedEditor:this.hasSelection})},at(bh,"TRANSLATE_SMALL",1),at(bh,"TRANSLATE_BIG",10);let vd=bh;var Tn,to,vs,Gh,ro,ta,qh,no,Di,zo,rf,io,yc,Fs,Tm,L1;const xi=class xi{constructor(e){B(this,Fs);B(this,Tn,null);B(this,to,!1);B(this,vs,null);B(this,Gh,null);B(this,ro,null);B(this,ta,null);B(this,qh,!1);B(this,no,null);B(this,Di,null);B(this,zo,null);B(this,rf,null);B(this,io,!1);I(this,Di,e),I(this,io,e._uiManager.useNewAltTextFlow),g(xi,yc)||I(xi,yc,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){xi._l10n??(xi._l10n=e)}async render(){const e=I(this,vs,document.createElement("button"));e.className="altText",e.tabIndex="0";const r=I(this,Gh,document.createElement("span"));e.append(r),g(this,io)?(e.classList.add("new"),e.setAttribute("data-l10n-id",g(xi,yc).missing),r.setAttribute("data-l10n-id",g(xi,yc)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=g(this,Di)._uiManager._signal;e.addEventListener("contextmenu",ns,{signal:n}),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:n});const i=a=>{a.preventDefault(),g(this,Di)._uiManager.editAltText(g(this,Di)),g(this,io)&&g(this,Di)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:g(this,Fs,Tm)}})};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(I(this,qh,!0),i(a))},{signal:n}),await M(this,Fs,L1).call(this),e}finish(){g(this,vs)&&(g(this,vs).focus({focusVisible:g(this,qh)}),I(this,qh,!1))}isEmpty(){return g(this,io)?g(this,Tn)===null:!g(this,Tn)&&!g(this,to)}hasData(){return g(this,io)?g(this,Tn)!==null||!!g(this,zo):this.isEmpty()}get guessedText(){return g(this,zo)}async setGuessedText(e){g(this,Tn)===null&&(I(this,zo,e),I(this,rf,await xi._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),M(this,Fs,L1).call(this))}toggleAltTextBadge(e=!1){var r;if(!g(this,io)||g(this,Tn)){(r=g(this,no))==null||r.remove(),I(this,no,null);return}if(!g(this,no)){const n=I(this,no,document.createElement("div"));n.className="noAltTextBadge",g(this,Di).div.append(n)}g(this,no).classList.toggle("hidden",!e)}serialize(e){let r=g(this,Tn);return!e&&g(this,zo)===r&&(r=g(this,rf)),{altText:r,decorative:g(this,to),guessedText:g(this,zo),textWithDisclaimer:g(this,rf)}}get data(){return{altText:g(this,Tn),decorative:g(this,to)}}set data({altText:e,decorative:r,guessedText:n,textWithDisclaimer:i,cancel:a=!1}){n&&(I(this,zo,n),I(this,rf,i)),!(g(this,Tn)===e&&g(this,to)===r)&&(a||(I(this,Tn,e),I(this,to,r)),M(this,Fs,L1).call(this))}toggle(e=!1){g(this,vs)&&(!e&&g(this,ta)&&(clearTimeout(g(this,ta)),I(this,ta,null)),g(this,vs).disabled=!e)}shown(){g(this,Di)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:g(this,Fs,Tm)}})}destroy(){var e,r;(e=g(this,vs))==null||e.remove(),I(this,vs,null),I(this,Gh,null),I(this,ro,null),(r=g(this,no))==null||r.remove(),I(this,no,null)}};Tn=new WeakMap,to=new WeakMap,vs=new WeakMap,Gh=new WeakMap,ro=new WeakMap,ta=new WeakMap,qh=new WeakMap,no=new WeakMap,Di=new WeakMap,zo=new WeakMap,rf=new WeakMap,io=new WeakMap,yc=new WeakMap,Fs=new WeakSet,Tm=function(){return g(this,Tn)&&"added"||g(this,Tn)===null&&this.guessedText&&"review"||"missing"},L1=async function(){var i,a,s;const e=g(this,vs);if(!e)return;if(g(this,io)){if(e.classList.toggle("done",!!g(this,Tn)),e.setAttribute("data-l10n-id",g(xi,yc)[g(this,Fs,Tm)]),(i=g(this,Gh))==null||i.setAttribute("data-l10n-id",g(xi,yc)[`${g(this,Fs,Tm)}-label`]),!g(this,Tn)){(a=g(this,ro))==null||a.remove();return}}else{if(!g(this,Tn)&&!g(this,to)){e.classList.remove("done"),(s=g(this,ro))==null||s.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let r=g(this,ro);if(!r){I(this,ro,r=document.createElement("span")),r.className="tooltip",r.setAttribute("role","tooltip"),r.id=`alt-text-tooltip-${g(this,Di).id}`;const o=100,l=g(this,Di)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(g(this,ta)),I(this,ta,null)},{once:!0}),e.addEventListener("mouseenter",()=>{I(this,ta,setTimeout(()=>{I(this,ta,null),g(this,ro).classList.add("show"),g(this,Di)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var c;g(this,ta)&&(clearTimeout(g(this,ta)),I(this,ta,null)),(c=g(this,ro))==null||c.classList.remove("show")},{signal:l})}g(this,to)?r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(r.removeAttribute("data-l10n-id"),r.textContent=g(this,Tn)),r.parentNode||e.append(r);const n=g(this,Di).getImageForAltText();n==null||n.setAttribute("aria-describedby",r.id)},B(xi,yc,null),at(xi,"_l10n",null);let K_=xi;var nf,ys,Ar,Xh,af,Ln,sf,xc,Gv,of,wc,qv,lf,Go,ao,Kh,Yh,Fa,Xv,pb,mt,xC,Kv,wC,_C,L7,$7,bC,SC,AC,B7,TC,j7,U7,V7,EC,Em;const Bt=class Bt{constructor(e){B(this,mt);B(this,nf,null);B(this,ys,null);B(this,Ar,null);B(this,Xh,!1);B(this,af,!1);B(this,Ln,null);B(this,sf,null);B(this,xc,null);B(this,Gv,"");B(this,of,!1);B(this,wc,null);B(this,qv,!1);B(this,lf,!1);B(this,Go,!1);B(this,ao,null);B(this,Kh,0);B(this,Yh,0);B(this,Fa,null);at(this,"_editToolbar",null);at(this,"_initialOptions",Object.create(null));at(this,"_initialData",null);at(this,"_isVisible",!0);at(this,"_uiManager",null);at(this,"_focusEventsAllowed",!0);B(this,Xv,!1);B(this,pb,Bt._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:r,rawDims:{pageWidth:n,pageHeight:i,pageX:a,pageY:s}}=this.parent.viewport;this.rotation=r,this.pageRotation=(360+r-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[a,s];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Bt.prototype._resizeWithKeyboard,r=vd.TRANSLATE_SMALL,n=vd.TRANSLATE_BIG;return Ct(this,"_resizerKeyboardManager",new mx([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-r,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[r,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-r]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,r]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Bt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ct(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const r=new zIe({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});r.annotationElementId=e.annotationElementId,r.deleted=!0,r._uiManager.addToAnnotationStorage(r)}static initialize(e,r){if(Bt._l10n??(Bt._l10n=e),Bt._l10nResizer||(Bt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Bt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Bt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,r){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,r){ur("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return g(this,Xv)}set _isDraggable(e){var r;I(this,Xv,e),(r=this.div)==null||r.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,r]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*r/(e*2),this.y+=this.width*e/(r*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*r/(e*2),this.y-=this.width*e/(r*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=g(this,pb)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):M(this,mt,Em).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(g(this,of)?I(this,of,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const r=e.relatedTarget;r!=null&&r.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,r,n,i){const[a,s]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/a,this.y=(r+i)/s,this.fixAndSetPosition()}translate(e,r){M(this,mt,xC).call(this,this.parentDimensions,e,r)}translateInPage(e,r){g(this,wc)||I(this,wc,[this.x,this.y]),M(this,mt,xC).call(this,this.pageDimensions,e,r),this.div.scrollIntoView({block:"nearest"})}drag(e,r){g(this,wc)||I(this,wc,[this.x,this.y]);const[n,i]=this.parentDimensions;if(this.x+=e/n,this.y+=r/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:c,y:u}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,u)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:s}=this;const[o,l]=this.getBaseTranslation();a+=o,s+=l,this.div.style.left=`${(100*a).toFixed(2)}%`,this.div.style.top=`${(100*s).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!g(this,wc)&&(g(this,wc)[0]!==this.x||g(this,wc)[1]!==this.y)}getBaseTranslation(){const[e,r]=this.parentDimensions,{_borderLineWidth:n}=Bt,i=n/e,a=n/r;switch(this.rotation){case 90:return[-i,a];case 180:return[i,a];case 270:return[i,-a];default:return[-i,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[r,n]=this.pageDimensions;let{x:i,y:a,width:s,height:o}=this;if(s*=r,o*=n,i*=r,a*=n,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(r-s,i)),a=Math.max(0,Math.min(n-o,a));break;case 90:i=Math.max(0,Math.min(r-o,i)),a=Math.min(n,Math.max(s,a));break;case 180:i=Math.min(r,Math.max(s,i)),a=Math.min(n,Math.max(o,a));break;case 270:i=Math.min(r,Math.max(o,i)),a=Math.max(0,Math.min(n-s,a));break}this.x=i/=r,this.y=a/=n;const[l,c]=this.getBaseTranslation();i+=l,a+=c;const{style:u}=this.div;u.left=`${(100*i).toFixed(2)}%`,u.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,r){var n;return M(n=Bt,Kv,wC).call(n,e,r,this.parentRotation)}pageTranslationToScreen(e,r){var n;return M(n=Bt,Kv,wC).call(n,e,r,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[r,n]}=this;return[r*e,n*e]}setDims(e,r){const[n,i]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,g(this,af)||(this.div.style.height=`${(100*r/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:r,width:n}=e,i=n.endsWith("%"),a=!g(this,af)&&r.endsWith("%");if(i&&a)return;const[s,o]=this.parentDimensions;i||(e.width=`${(100*parseFloat(n)/s).toFixed(2)}%`),!g(this,af)&&!a&&(e.height=`${(100*parseFloat(r)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=g(this,Ar))==null||e.finish()}async addEditToolbar(){return this._editToolbar||g(this,lf)?this._editToolbar:(this._editToolbar=new cC(this),this.div.append(this._editToolbar.render()),g(this,Ar)&&await this._editToolbar.addAltText(g(this,Ar)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=g(this,Ar))==null||e.destroy())}addContainer(e){var n;const r=(n=this._editToolbar)==null?void 0:n.div;r?r.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){g(this,Ar)||(K_.initialize(Bt._l10n),I(this,Ar,new K_(this)),g(this,nf)&&(g(this,Ar).data=g(this,nf),I(this,nf,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=g(this,Ar))==null?void 0:e.data}set altTextData(e){g(this,Ar)&&(g(this,Ar).data=e)}get guessedAltText(){var e;return(e=g(this,Ar))==null?void 0:e.guessedText}async setGuessedAltText(e){var r;await((r=g(this,Ar))==null?void 0:r.setGuessedText(e))}serializeAltText(e){var r;return(r=g(this,Ar))==null?void 0:r.serialize(e)}hasAltText(){return!!g(this,Ar)&&!g(this,Ar).isEmpty()}hasAltTextData(){var e;return((e=g(this,Ar))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=g(this,Xh)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),M(this,mt,TC).call(this);const[e,r]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*r/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/r).toFixed(2)}%`);const[n,i]=this.getInitialTranslation();return this.translate(n,i),X_(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:r}=Ci.platform;if(e.button!==0||e.ctrlKey&&r){e.preventDefault();return}if(I(this,of,!0),this._isDraggable){M(this,mt,B7).call(this,e);return}M(this,mt,AC).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){g(this,ao)&&clearTimeout(g(this,ao)),I(this,ao,setTimeout(()=>{var e;I(this,ao,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,r,n){e.changeParent(this),this.x=r,this.y=n,this.fixAndSetPosition()}getRect(e,r,n=this.rotation){const i=this.parentScale,[a,s]=this.pageDimensions,[o,l]=this.pageTranslation,c=e/i,u=r/i,f=this.x*a,d=this.y*s,h=this.width*a,m=this.height*s;switch(n){case 0:return[f+c+o,s-d-u-m+l,f+c+h+o,s-d-u+l];case 90:return[f+u+o,s-d+c+l,f+u+m+o,s-d+c+h+l];case 180:return[f-c-h+o,s-d+u+l,f-c+o,s-d+u+m+l];case 270:return[f-u-m+o,s-d-c-h+l,f-u+o,s-d-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,r){const[n,i,a,s]=e,o=a-n,l=s-i;switch(this.rotation){case 0:return[n,r-s,o,l];case 90:return[n,r-i,l,o];case 180:return[a,r-i,o,l];case 270:return[a,r-s,l,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){I(this,lf,!0)}disableEditMode(){I(this,lf,!1)}isInEditMode(){return g(this,lf)}shouldGetKeyboardEvents(){return g(this,Go)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){M(this,mt,TC).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,r=null){ur("An editor must be serializable")}static async deserialize(e,r,n){const i=new this.prototype.constructor({parent:r,id:r.getNextId(),uiManager:n});i.rotation=e.rotation,I(i,nf,e.accessibilityData);const[a,s]=i.pageDimensions,[o,l,c,u]=i.getRectInCurrentCoords(e.rect,s);return i.x=o/a,i.y=l/s,i.width=c/a,i.height=u/s,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=g(this,xc))==null||e.abort(),I(this,xc,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),g(this,ao)&&(clearTimeout(g(this,ao)),I(this,ao,null)),M(this,mt,Em).call(this),this.removeEditToolbar(),g(this,Fa)){for(const r of g(this,Fa).values())clearTimeout(r);I(this,Fa,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(M(this,mt,L7).call(this),g(this,Ln).classList.remove("hidden"),X_(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),I(this,sf,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const r=g(this,Ln).children;if(!g(this,ys)){I(this,ys,Array.from(r));const s=M(this,mt,j7).bind(this),o=M(this,mt,U7).bind(this),l=this._uiManager._signal;for(const c of g(this,ys)){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",s,{signal:l}),c.addEventListener("blur",o,{signal:l}),c.addEventListener("focus",M(this,mt,V7).bind(this,u),{signal:l}),c.setAttribute("data-l10n-id",Bt._l10nResizer[u])}}const n=g(this,ys)[0];let i=0;for(const s of r){if(s===n)break;i++}const a=(360-this.rotation+this.parentRotation)%360/90*(g(this,ys).length/4);if(a!==i){if(a<i)for(let o=0;o<i-a;o++)g(this,Ln).append(g(this,Ln).firstChild);else if(a>i)for(let o=0;o<a-i;o++)g(this,Ln).firstChild.before(g(this,Ln).lastChild);let s=0;for(const o of r){const c=g(this,ys)[s++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",Bt._l10nResizer[c])}}M(this,mt,EC).call(this,0),I(this,Go,!0),g(this,Ln).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,r){g(this,Go)&&M(this,mt,SC).call(this,g(this,Gv),{movementX:e,movementY:r})}_stopResizingWithKeyboard(){M(this,mt,Em).call(this),this.div.focus()}select(){var e,r,n;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,a;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((a=this._editToolbar)==null||a.show())});return}(r=this._editToolbar)==null||r.show(),(n=g(this,Ar))==null||n.toggleAltTextBadge(!1)}unselect(){var e,r,n,i,a;(e=g(this,Ln))==null||e.classList.add("hidden"),(r=this.div)==null||r.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(a=g(this,Ar))==null||a.toggleAltTextBadge(!0)}updateParams(e,r){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return g(this,qv)}set isEditing(e){I(this,qv,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,r){I(this,af,!0);const n=e/r,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,r=!1){if(r){g(this,Fa)||I(this,Fa,new Map);const{action:n}=e;let i=g(this,Fa).get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),g(this,Fa).delete(n),g(this,Fa).size===0&&I(this,Fa,null)},Bt._telemetryTimeout),g(this,Fa).set(n,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),I(this,Xh,!1)}disable(){this.div&&(this.div.tabIndex=-1),I(this,Xh,!0)}renderAnnotationElement(e){let r=e.container.querySelector(".annotationContent");if(!r)r=document.createElement("div"),r.classList.add("annotationContent",this.editorType),e.container.prepend(r);else if(r.nodeName==="CANVAS"){const n=r;r=document.createElement("div"),r.classList.add("annotationContent",this.editorType),n.before(r)}return r}resetAnnotationElement(e){const{firstChild:r}=e.container;(r==null?void 0:r.nodeName)==="DIV"&&r.classList.contains("annotationContent")&&r.remove()}};nf=new WeakMap,ys=new WeakMap,Ar=new WeakMap,Xh=new WeakMap,af=new WeakMap,Ln=new WeakMap,sf=new WeakMap,xc=new WeakMap,Gv=new WeakMap,of=new WeakMap,wc=new WeakMap,qv=new WeakMap,lf=new WeakMap,Go=new WeakMap,ao=new WeakMap,Kh=new WeakMap,Yh=new WeakMap,Fa=new WeakMap,Xv=new WeakMap,pb=new WeakMap,mt=new WeakSet,xC=function([e,r],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/e,this.y+=i/r,this.fixAndSetPosition()},Kv=new WeakSet,wC=function(e,r,n){switch(n){case 90:return[r,-e];case 180:return[-e,-r];case 270:return[-r,e];default:return[e,r]}},_C=function(e){switch(e){case 90:{const[r,n]=this.pageDimensions;return[0,-r/n,n/r,0]}case 180:return[-1,0,0,-1];case 270:{const[r,n]=this.pageDimensions;return[0,r/n,-n/r,0]}default:return[1,0,0,1]}},L7=function(){if(g(this,Ln))return;I(this,Ln,document.createElement("div")),g(this,Ln).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],r=this._uiManager._signal;for(const n of e){const i=document.createElement("div");g(this,Ln).append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",M(this,mt,$7).bind(this,n),{signal:r}),i.addEventListener("contextmenu",ns,{signal:r}),i.tabIndex=-1}this.div.prepend(g(this,Ln))},$7=function(e,r){var m;r.preventDefault();const{isMac:n}=Ci.platform;if(r.button!==0||r.ctrlKey&&n)return;(m=g(this,Ar))==null||m.toggle(!1);const i=this._isDraggable;this._isDraggable=!1;const a=new AbortController,s=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",M(this,mt,SC).bind(this,e),{passive:!0,capture:!0,signal:s}),window.addEventListener("contextmenu",ns,{signal:s});const o=this.x,l=this.y,c=this.width,u=this.height,f=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(r.target).cursor;const h=()=>{var p;a.abort(),this.parent.togglePointerEvents(!0),(p=g(this,Ar))==null||p.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=f,this.div.style.cursor=d,M(this,mt,bC).call(this,o,l,c,u)};window.addEventListener("pointerup",h,{signal:s}),window.addEventListener("blur",h,{signal:s})},bC=function(e,r,n,i){const a=this.x,s=this.y,o=this.width,l=this.height;a===e&&s===r&&o===n&&l===i||this.addCommands({cmd:()=>{this.width=o,this.height=l,this.x=a,this.y=s;const[c,u]=this.parentDimensions;this.setDims(c*o,u*l),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=i,this.x=e,this.y=r;const[c,u]=this.parentDimensions;this.setDims(c*n,u*i),this.fixAndSetPosition()},mustExec:!0})},SC=function(e,r){const[n,i]=this.parentDimensions,a=this.x,s=this.y,o=this.width,l=this.height,c=Bt.MIN_SIZE/n,u=Bt.MIN_SIZE/i,f=J=>Math.round(J*1e4)/1e4,d=M(this,mt,_C).call(this,this.rotation),h=(J,Z)=>[d[0]*J+d[2]*Z,d[1]*J+d[3]*Z],m=M(this,mt,_C).call(this,360-this.rotation),p=(J,Z)=>[m[0]*J+m[2]*Z,m[1]*J+m[3]*Z];let y,w,b=!1,_=!1;switch(e){case"topLeft":b=!0,y=(J,Z)=>[0,0],w=(J,Z)=>[J,Z];break;case"topMiddle":y=(J,Z)=>[J/2,0],w=(J,Z)=>[J/2,Z];break;case"topRight":b=!0,y=(J,Z)=>[J,0],w=(J,Z)=>[0,Z];break;case"middleRight":_=!0,y=(J,Z)=>[J,Z/2],w=(J,Z)=>[0,Z/2];break;case"bottomRight":b=!0,y=(J,Z)=>[J,Z],w=(J,Z)=>[0,0];break;case"bottomMiddle":y=(J,Z)=>[J/2,Z],w=(J,Z)=>[J/2,0];break;case"bottomLeft":b=!0,y=(J,Z)=>[0,Z],w=(J,Z)=>[J,0];break;case"middleLeft":_=!0,y=(J,Z)=>[0,Z/2],w=(J,Z)=>[J,Z/2];break}const A=y(o,l),S=w(o,l);let T=h(...S);const E=f(a+T[0]),P=f(s+T[1]);let k=1,N=1,[O,R]=this.screenToPageTranslation(r.movementX,r.movementY);if([O,R]=p(O/n,R/i),b){const J=Math.hypot(o,l);k=N=Math.max(Math.min(Math.hypot(S[0]-A[0]-O,S[1]-A[1]-R)/J,1/o,1/l),c/o,u/l)}else _?k=Math.max(c,Math.min(1,Math.abs(S[0]-A[0]-O)))/o:N=Math.max(u,Math.min(1,Math.abs(S[1]-A[1]-R)))/l;const W=f(o*k),Q=f(l*N);T=h(...w(W,Q));const j=E-T[0],Y=P-T[1];this.width=W,this.height=Q,this.x=j,this.y=Y,this.setDims(n*W,i*Q),this.fixAndSetPosition()},AC=function(e){const{isMac:r}=Ci.platform;e.ctrlKey&&!r||e.shiftKey||e.metaKey&&r?this.parent.toggleSelected(this):this.parent.setSelected(this)},B7=function(e){const{isSelected:r}=this;this._uiManager.setUpDragSession();const n=new AbortController,i=this._uiManager.combinedSignal(n);if(r){this.div.classList.add("moving"),I(this,Kh,e.clientX),I(this,Yh,e.clientY);const s=o=>{const{clientX:l,clientY:c}=o,[u,f]=this.screenToPageTranslation(l-g(this,Kh),c-g(this,Yh));I(this,Kh,l),I(this,Yh,c),this._uiManager.dragSelectedEditors(u,f)};window.addEventListener("pointermove",s,{passive:!0,capture:!0,signal:i})}const a=()=>{n.abort(),r&&this.div.classList.remove("moving"),I(this,of,!1),this._uiManager.endDragSession()||M(this,mt,AC).call(this,e)};window.addEventListener("pointerup",a,{signal:i}),window.addEventListener("blur",a,{signal:i})},TC=function(){if(g(this,xc)||!this.div)return;I(this,xc,new AbortController);const e=this._uiManager.combinedSignal(g(this,xc));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},j7=function(e){Bt._resizerKeyboardManager.exec(this,e)},U7=function(e){var r;g(this,Go)&&((r=e.relatedTarget)==null?void 0:r.parentNode)!==g(this,Ln)&&M(this,mt,Em).call(this)},V7=function(e){I(this,Gv,g(this,Go)?e:"")},EC=function(e){if(g(this,ys))for(const r of g(this,ys))r.tabIndex=e},Em=function(){if(I(this,Go,!1),M(this,mt,EC).call(this,-1),g(this,sf)){const{savedX:e,savedY:r,savedWidth:n,savedHeight:i}=g(this,sf);M(this,mt,bC).call(this,e,r,n,i),I(this,sf,null)}},B(Bt,Kv),at(Bt,"_l10n",null),at(Bt,"_l10nResizer",null),at(Bt,"_borderLineWidth",-1),at(Bt,"_colorManager",new dC),at(Bt,"_zIndex",1),at(Bt,"_telemetryTimeout",1e3);let zt=Bt;class zIe extends zt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const hL=3285377520,Ia=4294901760,qs=65535;class H7{constructor(e){this.h1=e?e&4294967295:hL,this.h2=e?e&4294967295:hL}update(e){let r,n;if(typeof e=="string"){r=new Uint8Array(e.length*2),n=0;for(let p=0,y=e.length;p<y;p++){const w=e.charCodeAt(p);w<=255?r[n++]=w:(r[n++]=w>>>8,r[n++]=w&255)}}else if(ArrayBuffer.isView(e))r=e.slice(),n=r.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,a=n-i*4,s=new Uint32Array(r.buffer,0,i);let o=0,l=0,c=this.h1,u=this.h2;const f=3432918353,d=461845907,h=f&qs,m=d&qs;for(let p=0;p<i;p++)p&1?(o=s[p],o=o*f&Ia|o*h&qs,o=o<<15|o>>>17,o=o*d&Ia|o*m&qs,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(l=s[p],l=l*f&Ia|l*h&qs,l=l<<15|l>>>17,l=l*d&Ia|l*m&qs,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(o=0,a){case 3:o^=r[i*4+2]<<16;case 2:o^=r[i*4+1]<<8;case 1:o^=r[i*4],o=o*f&Ia|o*h&qs,o=o<<15|o>>>17,o=o*d&Ia|o*m&qs,i&1?c^=o:u^=o}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,r=this.h2;return e^=r>>>1,e=e*3981806797&Ia|e*36045&qs,r=r*4283543511&Ia|((r<<16|e>>>16)*2950163797&Ia)>>>16,e^=r>>>1,e=e*444984403&Ia|e*60499&qs,r=r*3301882366&Ia|((r<<16|e>>>16)*3120437893&Ia)>>>16,e^=r>>>1,(e>>>0).toString(16).padStart(8,"0")+(r>>>0).toString(16).padStart(8,"0")}}const CC=Object.freeze({map:null,hash:"",transfer:void 0});var cf,uf,En,mb,W7;class FO{constructor(){B(this,mb);B(this,cf,!1);B(this,uf,null);B(this,En,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,r){const n=g(this,En).get(e);return n===void 0?r:Object.assign(r,n)}getRawValue(e){return g(this,En).get(e)}remove(e){if(g(this,En).delete(e),g(this,En).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const r of g(this,En).values())if(r instanceof zt)return;this.onAnnotationEditor(null)}}setValue(e,r){const n=g(this,En).get(e);let i=!1;if(n!==void 0)for(const[a,s]of Object.entries(r))n[a]!==s&&(i=!0,n[a]=s);else i=!0,g(this,En).set(e,r);i&&M(this,mb,W7).call(this),r instanceof zt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(r.constructor._type)}has(e){return g(this,En).has(e)}getAll(){return g(this,En).size>0?IO(g(this,En)):null}setAll(e){for(const[r,n]of Object.entries(e))this.setValue(r,n)}get size(){return g(this,En).size}resetModified(){g(this,cf)&&(I(this,cf,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new z7(this)}get serializable(){if(g(this,En).size===0)return CC;const e=new Map,r=new H7,n=[],i=Object.create(null);let a=!1;for(const[s,o]of g(this,En)){const l=o instanceof zt?o.serialize(!1,i):o;l&&(e.set(s,l),r.update(`${s}:${JSON.stringify(l)}`),a||(a=!!l.bitmap))}if(a)for(const s of e.values())s.bitmap&&n.push(s.bitmap);return e.size>0?{map:e,hash:r.hexdigest(),transfer:n}:CC}get editorStats(){let e=null;const r=new Map;for(const n of g(this,En).values()){if(!(n instanceof zt))continue;const i=n.telemetryFinalData;if(!i)continue;const{type:a}=i;r.has(a)||r.set(a,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const s=e[a]||(e[a]=new Map);for(const[o,l]of Object.entries(i)){if(o==="type")continue;let c=s.get(o);c||(c=new Map,s.set(o,c));const u=c.get(l)??0;c.set(l,u+1)}}for(const[n,i]of r)e[n]=i.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){I(this,uf,null)}get modifiedIds(){if(g(this,uf))return g(this,uf);const e=[];for(const r of g(this,En).values())!(r instanceof zt)||!r.annotationElementId||!r.serialize()||e.push(r.annotationElementId);return I(this,uf,{ids:new Set(e),hash:e.join(",")})}}cf=new WeakMap,uf=new WeakMap,En=new WeakMap,mb=new WeakSet,W7=function(){g(this,cf)||(I(this,cf,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Yv;class z7 extends FO{constructor(r){super();B(this,Yv);const{map:n,hash:i,transfer:a}=r.serializable,s=structuredClone(n,a?{transfer:a}:null);I(this,Yv,{map:s,hash:i,transfer:a})}get print(){ur("Should not call PrintAnnotationStorage.print")}get serializable(){return g(this,Yv)}get modifiedIds(){return Ct(this,"modifiedIds",{ids:new Set,hash:""})}}Yv=new WeakMap;var Jh;class GIe{constructor({ownerDocument:e=globalThis.document,styleElement:r=null}){B(this,Jh,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const r=this.styleElement.sheet;r.insertRule(e,r.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),g(this,Jh).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:r}){if(!(!e||g(this,Jh).has(e.loadedName))){if(gn(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:i,style:a}=e,s=new FontFace(n,i,a);this.addNativeFontFace(s);try{await s.load(),g(this,Jh).add(n),r==null||r(e)}catch{yt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(s)}return}ur("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw yt(`Failed to load font '${n.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const r=e.createFontFaceRule();if(r){if(this.insertRule(r),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var r;const e=!!((r=this._document)!=null&&r.fonts);return Ct(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(fi||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Ct(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function r(){for(gn(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const a=n.shift();setTimeout(a.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:r,callback:e};return n.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ct(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,r){function n(A,S){return A.charCodeAt(S)<<24|A.charCodeAt(S+1)<<16|A.charCodeAt(S+2)<<8|A.charCodeAt(S+3)&255}function i(A,S,T,E){const P=A.substring(0,S),k=A.substring(S+T);return P+E+k}let a,s;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;function u(A,S){if(++c>30){yt("Load test font never loaded."),S();return}if(l.font="30px "+A,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){S();return}setTimeout(u.bind(null,A,S))}const f=`lt${Date.now()}${this.loadTestFontId++}`;let d=this._loadTestFont;d=i(d,976,f.length,f);const m=16,p=1482184792;let y=n(d,m);for(a=0,s=f.length-3;a<s;a+=4)y=y-p+n(f,a)|0;a<f.length&&(y=y-p+n(f+"XXX",a)|0),d=i(d,m,4,IIe(y));const w=`url(data:font/opentype;base64,${btoa(d)});`,b=`@font-face {font-family:"${f}";src:${w}}`;this.insertRule(b);const _=this._document.createElement("div");_.style.visibility="hidden",_.style.width=_.style.height="10px",_.style.position="absolute",_.style.top=_.style.left="0px";for(const A of[e.loadedName,f]){const S=this._document.createElement("span");S.textContent="Hi",S.style.fontFamily=A,_.append(S)}this._document.body.append(_),u(f,()=>{_.remove(),r.complete()})}}Jh=new WeakMap;class qIe{constructor(e,{disableFontFace:r=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=r===!0,this._inspectFont=n}createNativeFontFace(){var r;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(r=this._inspectFont)==null||r.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${FIe(this.data)});`;let r;if(!this.cssFontInfo)r=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),r}getPathGenerator(e,r){if(this.compiledGlyphs[r]!==void 0)return this.compiledGlyphs[r];let n;try{n=e.get(this.loadedName+"_path_"+r)}catch(a){yt(`getPathGenerator - ignoring character: "${a}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[r]=function(a,s){};const i=[];for(let a=0,s=n.length;a<s;)switch(n[a++]){case Do.BEZIER_CURVE_TO:{const[o,l,c,u,f,d]=n.slice(a,a+6);i.push(h=>h.bezierCurveTo(o,l,c,u,f,d)),a+=6}break;case Do.MOVE_TO:{const[o,l]=n.slice(a,a+2);i.push(c=>c.moveTo(o,l)),a+=2}break;case Do.LINE_TO:{const[o,l]=n.slice(a,a+2);i.push(c=>c.lineTo(o,l)),a+=2}break;case Do.QUADRATIC_CURVE_TO:{const[o,l,c,u]=n.slice(a,a+4);i.push(f=>f.quadraticCurveTo(o,l,c,u)),a+=4}break;case Do.RESTORE:i.push(o=>o.restore());break;case Do.SAVE:i.push(o=>o.save());break;case Do.SCALE:gn(i.length===2,"Scale command is only valid at the third position.");break;case Do.TRANSFORM:{const[o,l,c,u,f,d]=n.slice(a,a+6);i.push(h=>h.transform(o,l,c,u,f,d)),a+=6}break;case Do.TRANSLATE:{const[o,l]=n.slice(a,a+2);i.push(c=>c.translate(o,l)),a+=2}break}return this.compiledGlyphs[r]=function(s,o){i[0](s),i[1](s),s.scale(o,-o);for(let l=2,c=i.length;l<c;l++)i[l](s)}}}var Jv;class G7{constructor({enableHWA:e=!1}){B(this,Jv,!1);I(this,Jv,e)}create(e,r){if(e<=0||r<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,r);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!g(this,Jv)})}}reset(e,r,n){if(!e.canvas)throw new Error("Canvas is not specified");if(r<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=r,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,r){ur("Abstract method `_createCanvas` called.")}}Jv=new WeakMap;class XIe extends G7{constructor({ownerDocument:e=globalThis.document,enableHWA:r=!1}){super({enableHWA:r}),this._document=e}_createCanvas(e,r){const n=this._document.createElement("canvas");return n.width=e,n.height=r,n}}class q7{constructor({baseUrl:e=null,isCompressed:r=!0}){this.baseUrl=e,this.isCompressed=r}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const r=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(r).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${r}`)})}async _fetch(e){ur("Abstract method `_fetch` called.")}}class X7 extends q7{async _fetch(e){const r=await WS(e,this.isCompressed?"arraybuffer":"text");return r instanceof ArrayBuffer?new Uint8Array(r):HS(r)}}class K7{addFilter(e){return"none"}addHCMFilter(e,r){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,r,n,i,a){return"none"}destroy(e=!1){}}var ff,df,so,qo,ei,gb,hf,De,Zn,Yd,Jd,$1,Zd,Y7,kC,Qd,Cm,km,PC,Pm;class KIe extends K7{constructor({docId:r,ownerDocument:n=globalThis.document}){super();B(this,De);B(this,ff);B(this,df);B(this,so);B(this,qo);B(this,ei);B(this,gb);B(this,hf,0);I(this,qo,r),I(this,ei,n)}addFilter(r){if(!r)return"none";let n=g(this,De,Zn).get(r);if(n)return n;const[i,a,s]=M(this,De,$1).call(this,r),o=r.length===1?i:`${i}${a}${s}`;if(n=g(this,De,Zn).get(o),n)return g(this,De,Zn).set(r,n),n;const l=`g_${g(this,qo)}_transfer_map_${vi(this,hf)._++}`,c=M(this,De,Zd).call(this,l);g(this,De,Zn).set(r,c),g(this,De,Zn).set(o,c);const u=M(this,De,Qd).call(this,l);return M(this,De,km).call(this,i,a,s,u),c}addHCMFilter(r,n){var m;const i=`${r}-${n}`,a="base";let s=g(this,De,Yd).get(a);if((s==null?void 0:s.key)===i||(s?((m=s.filter)==null||m.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},g(this,De,Yd).set(a,s)),!r||!n))return s.url;const o=M(this,De,Pm).call(this,r);r=Ge.makeHexColor(...o);const l=M(this,De,Pm).call(this,n);if(n=Ge.makeHexColor(...l),g(this,De,Jd).style.color="",r==="#000000"&&n==="#ffffff"||r===n)return s.url;const c=new Array(256);for(let p=0;p<=255;p++){const y=p/255;c[p]=y<=.03928?y/12.92:((y+.055)/1.055)**2.4}const u=c.join(","),f=`g_${g(this,qo)}_hcm_filter`,d=s.filter=M(this,De,Qd).call(this,f);M(this,De,km).call(this,u,u,u,d),M(this,De,kC).call(this,d);const h=(p,y)=>{const w=o[p]/255,b=l[p]/255,_=new Array(y+1);for(let A=0;A<=y;A++)_[A]=w+A/y*(b-w);return _.join(",")};return M(this,De,km).call(this,h(0,5),h(1,5),h(2,5),d),s.url=M(this,De,Zd).call(this,f),s.url}addAlphaFilter(r){let n=g(this,De,Zn).get(r);if(n)return n;const[i]=M(this,De,$1).call(this,[r]),a=`alpha_${i}`;if(n=g(this,De,Zn).get(a),n)return g(this,De,Zn).set(r,n),n;const s=`g_${g(this,qo)}_alpha_map_${vi(this,hf)._++}`,o=M(this,De,Zd).call(this,s);g(this,De,Zn).set(r,o),g(this,De,Zn).set(a,o);const l=M(this,De,Qd).call(this,s);return M(this,De,PC).call(this,i,l),o}addLuminosityFilter(r){let n=g(this,De,Zn).get(r||"luminosity");if(n)return n;let i,a;if(r?([i]=M(this,De,$1).call(this,[r]),a=`luminosity_${i}`):a="luminosity",n=g(this,De,Zn).get(a),n)return g(this,De,Zn).set(r,n),n;const s=`g_${g(this,qo)}_luminosity_map_${vi(this,hf)._++}`,o=M(this,De,Zd).call(this,s);g(this,De,Zn).set(r,o),g(this,De,Zn).set(a,o);const l=M(this,De,Qd).call(this,s);return M(this,De,Y7).call(this,l),r&&M(this,De,PC).call(this,i,l),o}addHighlightHCMFilter(r,n,i,a,s){var b;const o=`${n}-${i}-${a}-${s}`;let l=g(this,De,Yd).get(r);if((l==null?void 0:l.key)===o||(l?((b=l.filter)==null||b.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},g(this,De,Yd).set(r,l)),!n||!i))return l.url;const[c,u]=[n,i].map(M(this,De,Pm).bind(this));let f=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),d=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[h,m]=[a,s].map(M(this,De,Pm).bind(this));d<f&&([f,d,h,m]=[d,f,m,h]),g(this,De,Jd).style.color="";const p=(_,A,S)=>{const T=new Array(256),E=(d-f)/S,P=_/255,k=(A-_)/(255*S);let N=0;for(let O=0;O<=S;O++){const R=Math.round(f+O*E),W=P+O*k;for(let Q=N;Q<=R;Q++)T[Q]=W;N=R+1}for(let O=N;O<256;O++)T[O]=T[N-1];return T.join(",")},y=`g_${g(this,qo)}_hcm_${r}_filter`,w=l.filter=M(this,De,Qd).call(this,y);return M(this,De,kC).call(this,w),M(this,De,km).call(this,p(h[0],m[0],5),p(h[1],m[1],5),p(h[2],m[2],5),w),l.url=M(this,De,Zd).call(this,y),l.url}destroy(r=!1){r&&g(this,De,Yd).size!==0||(g(this,so)&&(g(this,so).parentNode.parentNode.remove(),I(this,so,null)),g(this,df)&&(g(this,df).clear(),I(this,df,null)),I(this,hf,0))}}ff=new WeakMap,df=new WeakMap,so=new WeakMap,qo=new WeakMap,ei=new WeakMap,gb=new WeakMap,hf=new WeakMap,De=new WeakSet,Zn=function(){return g(this,df)||I(this,df,new Map)},Yd=function(){return g(this,gb)||I(this,gb,new Map)},Jd=function(){if(!g(this,so)){const r=g(this,ei).createElement("div"),{style:n}=r;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=g(this,ei).createElementNS(Lo,"svg");i.setAttribute("width",0),i.setAttribute("height",0),I(this,so,g(this,ei).createElementNS(Lo,"defs")),r.append(i),i.append(g(this,so)),g(this,ei).body.append(r)}return g(this,so)},$1=function(r){if(r.length===1){const c=r[0],u=new Array(256);for(let d=0;d<256;d++)u[d]=c[d]/255;const f=u.join(",");return[f,f,f]}const[n,i,a]=r,s=new Array(256),o=new Array(256),l=new Array(256);for(let c=0;c<256;c++)s[c]=n[c]/255,o[c]=i[c]/255,l[c]=a[c]/255;return[s.join(","),o.join(","),l.join(",")]},Zd=function(r){if(g(this,ff)===void 0){I(this,ff,"");const n=g(this,ei).URL;n!==g(this,ei).baseURI&&(zS(n)?yt('#createUrl: ignore "data:"-URL for performance reasons.'):I(this,ff,n.split("#",1)[0]))}return`url(${g(this,ff)}#${r})`},Y7=function(r){const n=g(this,ei).createElementNS(Lo,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),r.append(n)},kC=function(r){const n=g(this,ei).createElementNS(Lo,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),r.append(n)},Qd=function(r){const n=g(this,ei).createElementNS(Lo,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",r),g(this,De,Jd).append(n),n},Cm=function(r,n,i){const a=g(this,ei).createElementNS(Lo,n);a.setAttribute("type","discrete"),a.setAttribute("tableValues",i),r.append(a)},km=function(r,n,i,a){const s=g(this,ei).createElementNS(Lo,"feComponentTransfer");a.append(s),M(this,De,Cm).call(this,s,"feFuncR",r),M(this,De,Cm).call(this,s,"feFuncG",n),M(this,De,Cm).call(this,s,"feFuncB",i)},PC=function(r,n){const i=g(this,ei).createElementNS(Lo,"feComponentTransfer");n.append(i),M(this,De,Cm).call(this,i,"feFuncA",r)},Pm=function(r){return g(this,De,Jd).style.color=r,DO(getComputedStyle(g(this,De,Jd)).getPropertyValue("color"))};class J7{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const r=`${this.baseUrl}${e}`;return this._fetch(r).catch(n=>{throw new Error(`Unable to load font data at: ${r}`)})}async _fetch(e){ur("Abstract method `_fetch` called.")}}class Z7 extends J7{async _fetch(e){const r=await WS(e,"arraybuffer");return new Uint8Array(r)}}if(fi){var IC=Promise.withResolvers(),ug=null;(async()=>{const e=await u1(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url),r=await u1(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url),n=await u1(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url),i=await u1(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url);let a,s;return new Map(Object.entries({fs:e,http:r,https:n,url:i,canvas:a,path2d:s}))})().then(e=>{ug=e,IC.resolve()},e=>{yt(`loadPackages: ${e}`),ug=new Map,IC.resolve()})}class ou{static get promise(){return IC.promise}static get(e){return ug==null?void 0:ug.get(e)}}async function Q7(t){const r=await ou.get("fs").promises.readFile(t);return new Uint8Array(r)}class YIe extends K7{}class JIe extends G7{_createCanvas(e,r){return ou.get("canvas").createCanvas(e,r)}}class ZIe extends q7{async _fetch(e){return Q7(e)}}class QIe extends J7{async _fetch(e){return Q7(e)}}const Si={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function OC(t,e){if(!e)return;const r=e[2]-e[0],n=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],r,n),t.clip(i)}class LO{getPattern(){ur("Abstract method `getPattern` called.")}}class eOe extends LO{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let r;this._type==="axial"?r=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(r=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)r.addColorStop(n[0],n[1]);return r}getPattern(e,r,n,i){let a;if(i===Si.STROKE||i===Si.FILL){const s=r.current.getClippedPathBoundingBox(i,Er(e))||[0,0,0,0],o=Math.ceil(s[2]-s[0])||1,l=Math.ceil(s[3]-s[1])||1,c=r.cachedCanvases.getCanvas("pattern",o,l),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-s[0],-s[1]),n=Ge.transform(n,[1,0,0,1,s[0],s[1]]),u.transform(...r.baseTransform),this.matrix&&u.transform(...this.matrix),OC(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),a=e.createPattern(c.canvas,"no-repeat");const f=new DOMMatrix(n);a.setTransform(f)}else OC(e,this._bbox),a=this._createGradient(e);return a}}function xT(t,e,r,n,i,a,s,o){const l=e.coords,c=e.colors,u=t.data,f=t.width*4;let d;l[r+1]>l[n+1]&&(d=r,r=n,n=d,d=a,a=s,s=d),l[n+1]>l[i+1]&&(d=n,n=i,i=d,d=s,s=o,o=d),l[r+1]>l[n+1]&&(d=r,r=n,n=d,d=a,a=s,s=d);const h=(l[r]+e.offsetX)*e.scaleX,m=(l[r+1]+e.offsetY)*e.scaleY,p=(l[n]+e.offsetX)*e.scaleX,y=(l[n+1]+e.offsetY)*e.scaleY,w=(l[i]+e.offsetX)*e.scaleX,b=(l[i+1]+e.offsetY)*e.scaleY;if(m>=b)return;const _=c[a],A=c[a+1],S=c[a+2],T=c[s],E=c[s+1],P=c[s+2],k=c[o],N=c[o+1],O=c[o+2],R=Math.round(m),W=Math.round(b);let Q,j,Y,J,Z,V,te,se;for(let D=R;D<=W;D++){if(D<y){const ue=D<m?0:(m-D)/(m-y);Q=h-(h-p)*ue,j=_-(_-T)*ue,Y=A-(A-E)*ue,J=S-(S-P)*ue}else{let ue;D>b?ue=1:y===b?ue=0:ue=(y-D)/(y-b),Q=p-(p-w)*ue,j=T-(T-k)*ue,Y=E-(E-N)*ue,J=P-(P-O)*ue}let q;D<m?q=0:D>b?q=1:q=(m-D)/(m-b),Z=h-(h-w)*q,V=_-(_-k)*q,te=A-(A-N)*q,se=S-(S-O)*q;const X=Math.round(Math.min(Q,Z)),ee=Math.round(Math.max(Q,Z));let ae=f*D+X*4;for(let ue=X;ue<=ee;ue++)q=(Q-ue)/(Q-Z),q<0?q=0:q>1&&(q=1),u[ae++]=j-(j-V)*q|0,u[ae++]=Y-(Y-te)*q|0,u[ae++]=J-(J-se)*q|0,u[ae++]=255}}function tOe(t,e,r){const n=e.coords,i=e.colors;let a,s;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(n.length/o)-1,c=o-1;for(a=0;a<l;a++){let u=a*o;for(let f=0;f<c;f++,u++)xT(t,r,n[u],n[u+1],n[u+o],i[u],i[u+1],i[u+o]),xT(t,r,n[u+o+1],n[u+1],n[u+o],i[u+o+1],i[u+1],i[u+o])}break;case"triangles":for(a=0,s=n.length;a<s;a+=3)xT(t,r,n[a],n[a+1],n[a+2],i[a],i[a+1],i[a+2]);break;default:throw new Error("illegal figure")}}class rOe extends LO{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,r,n){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,u=Math.ceil(this._bounds[3])-l,f=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),d=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),h=c/f,m=u/d,p={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/h,scaleY:1/m},y=f+2*2,w=d+2*2,b=n.getCanvas("mesh",y,w),_=b.context,A=_.createImageData(f,d);if(r){const T=A.data;for(let E=0,P=T.length;E<P;E+=4)T[E]=r[0],T[E+1]=r[1],T[E+2]=r[2],T[E+3]=255}for(const T of this._figures)tOe(A,T,p);return _.putImageData(A,2,2),{canvas:b.canvas,offsetX:o-2*h,offsetY:l-2*m,scaleX:h,scaleY:m}}getPattern(e,r,n,i){OC(e,this._bbox);let a;if(i===Si.SHADING)a=Ge.singularValueDecompose2dScale(Er(e));else if(a=Ge.singularValueDecompose2dScale(r.baseTransform),this.matrix){const o=Ge.singularValueDecompose2dScale(this.matrix);a=[a[0]*o[0],a[1]*o[1]]}const s=this._createMeshCanvas(a,i===Si.SHADING?null:this._background,r.cachedCanvases);return i!==Si.SHADING&&(e.setTransform(...r.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}}class nOe extends LO{getPattern(){return"hotpink"}}function iOe(t){switch(t[0]){case"RadialAxial":return new eOe(t);case"Mesh":return new rOe(t);case"Dummy":return new nOe}throw new Error(`Unknown IR type: ${t[0]}`)}const pL={COLORED:1,UNCOLORED:2},vb=class vb{constructor(e,r,n,i,a){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=r,this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=a}createPatternCanvas(e){const{bbox:r,operatorList:n,paintType:i,tilingType:a,color:s,canvasGraphicsFactory:o}=this;let{xstep:l,ystep:c}=this;l=Math.abs(l),c=Math.abs(c),US("TilingType: "+a);const u=r[0],f=r[1],d=r[2],h=r[3],m=d-u,p=h-f,y=Ge.singularValueDecompose2dScale(this.matrix),w=Ge.singularValueDecompose2dScale(this.baseTransform),b=y[0]*w[0],_=y[1]*w[1];let A=m,S=p,T=!1,E=!1;const P=Math.ceil(l*b),k=Math.ceil(c*_),N=Math.ceil(m*b),O=Math.ceil(p*_);P>=N?A=l:T=!0,k>=O?S=c:E=!0;const R=this.getSizeAndScale(A,this.ctx.canvas.width,b),W=this.getSizeAndScale(S,this.ctx.canvas.height,_),Q=e.cachedCanvases.getCanvas("pattern",R.size,W.size),j=Q.context,Y=o.createCanvasGraphics(j);if(Y.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(Y,i,s),j.translate(-R.scale*u,-W.scale*f),Y.transform(R.scale,0,0,W.scale,0,0),j.save(),this.clipBbox(Y,u,f,d,h),Y.baseTransform=Er(Y.ctx),Y.executeOperatorList(n),Y.endDrawing(),j.restore(),T||E){const J=Q.canvas;T&&(A=l),E&&(S=c);const Z=this.getSizeAndScale(A,this.ctx.canvas.width,b),V=this.getSizeAndScale(S,this.ctx.canvas.height,_),te=Z.size,se=V.size,D=e.cachedCanvases.getCanvas("pattern-workaround",te,se),q=D.context,X=T?Math.floor(m/l):0,ee=E?Math.floor(p/c):0;for(let ae=0;ae<=X;ae++)for(let ue=0;ue<=ee;ue++)q.drawImage(J,te*ae,se*ue,te,se,0,0,te,se);return{canvas:D.canvas,scaleX:Z.scale,scaleY:V.scale,offsetX:u,offsetY:f}}return{canvas:Q.canvas,scaleX:R.scale,scaleY:W.scale,offsetX:u,offsetY:f}}getSizeAndScale(e,r,n){const i=Math.max(vb.MAX_PATTERN_SIZE,r);let a=Math.ceil(e*n);return a>=i?a=i:n=a/e,{scale:n,size:a}}clipBbox(e,r,n,i,a){const s=i-r,o=a-n;e.ctx.rect(r,n,s,o),e.current.updateRectMinMax(Er(e.ctx),[r,n,i,a]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,r,n){const i=e.ctx,a=e.current;switch(r){case pL.COLORED:const s=this.ctx;i.fillStyle=s.fillStyle,i.strokeStyle=s.strokeStyle,a.fillColor=s.fillStyle,a.strokeColor=s.strokeStyle;break;case pL.UNCOLORED:const o=Ge.makeHexColor(n[0],n[1],n[2]);i.fillStyle=o,i.strokeStyle=o,a.fillColor=o,a.strokeColor=o;break;default:throw new PIe(`Unsupported paint type: ${r}`)}}getPattern(e,r,n,i){let a=n;i!==Si.SHADING&&(a=Ge.transform(a,r.baseTransform),this.matrix&&(a=Ge.transform(a,this.matrix)));const s=this.createPatternCanvas(r);let o=new DOMMatrix(a);o=o.translate(s.offsetX,s.offsetY),o=o.scale(1/s.scaleX,1/s.scaleY);const l=e.createPattern(s.canvas,"repeat");return l.setTransform(o),l}};at(vb,"MAX_PATTERN_SIZE",3e3);let MC=vb;function aOe({src:t,srcPos:e=0,dest:r,width:n,height:i,nonBlackColor:a=4294967295,inverseDecode:s=!1}){const o=Ci.isLittleEndian?4278190080:255,[l,c]=s?[a,o]:[o,a],u=n>>3,f=n&7,d=t.length;r=new Uint32Array(r.buffer);let h=0;for(let m=0;m<i;m++){for(const y=e+u;e<y;e++){const w=e<d?t[e]:255;r[h++]=w&128?c:l,r[h++]=w&64?c:l,r[h++]=w&32?c:l,r[h++]=w&16?c:l,r[h++]=w&8?c:l,r[h++]=w&4?c:l,r[h++]=w&2?c:l,r[h++]=w&1?c:l}if(f===0)continue;const p=e<d?t[e++]:255;for(let y=0;y<f;y++)r[h++]=p&1<<7-y?c:l}return{srcPos:e,destPos:h}}const mL=16,gL=100,sOe=15,vL=10,yL=1e3,Bi=16;function oOe(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(n,i){e.translate(n,i),this.__originalTranslate(n,i)},t.scale=function(n,i){e.scale(n,i),this.__originalScale(n,i)},t.transform=function(n,i,a,s,o,l){e.transform(n,i,a,s,o,l),this.__originalTransform(n,i,a,s,o,l)},t.setTransform=function(n,i,a,s,o,l){e.setTransform(n,i,a,s,o,l),this.__originalSetTransform(n,i,a,s,o,l)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(n){e.rotate(n),this.__originalRotate(n)},t.clip=function(n){e.clip(n),this.__originalClip(n)},t.moveTo=function(r,n){e.moveTo(r,n),this.__originalMoveTo(r,n)},t.lineTo=function(r,n){e.lineTo(r,n),this.__originalLineTo(r,n)},t.bezierCurveTo=function(r,n,i,a,s,o){e.bezierCurveTo(r,n,i,a,s,o),this.__originalBezierCurveTo(r,n,i,a,s,o)},t.rect=function(r,n,i,a){e.rect(r,n,i,a),this.__originalRect(r,n,i,a)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class lOe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,r,n){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,r,n)):(i=this.canvasFactory.create(r,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const r=this.cache[e];this.canvasFactory.destroy(r),delete this.cache[e]}}}function f1(t,e,r,n,i,a,s,o,l,c){const[u,f,d,h,m,p]=Er(t);if(f===0&&d===0){const b=s*u+m,_=Math.round(b),A=o*h+p,S=Math.round(A),T=(s+l)*u+m,E=Math.abs(Math.round(T)-_)||1,P=(o+c)*h+p,k=Math.abs(Math.round(P)-S)||1;return t.setTransform(Math.sign(u),0,0,Math.sign(h),_,S),t.drawImage(e,r,n,i,a,0,0,E,k),t.setTransform(u,f,d,h,m,p),[E,k]}if(u===0&&h===0){const b=o*d+m,_=Math.round(b),A=s*f+p,S=Math.round(A),T=(o+c)*d+m,E=Math.abs(Math.round(T)-_)||1,P=(s+l)*f+p,k=Math.abs(Math.round(P)-S)||1;return t.setTransform(0,Math.sign(f),Math.sign(d),0,_,S),t.drawImage(e,r,n,i,a,0,0,k,E),t.setTransform(u,f,d,h,m,p),[k,E]}t.drawImage(e,r,n,i,a,s,o,l,c);const y=Math.hypot(u,f),w=Math.hypot(d,h);return[y*l,w*c]}function cOe(t){const{width:e,height:r}=t;if(e>yL||r>yL)return null;const n=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),a=e+1;let s=new Uint8Array(a*(r+1)),o,l,c;const u=e+7&-8;let f=new Uint8Array(u*r),d=0;for(const w of t.data){let b=128;for(;b>0;)f[d++]=w&b?0:255,b>>=1}let h=0;for(d=0,f[d]!==0&&(s[0]=1,++h),l=1;l<e;l++)f[d]!==f[d+1]&&(s[l]=f[d]?2:1,++h),d++;for(f[d]!==0&&(s[l]=2,++h),o=1;o<r;o++){d=o*u,c=o*a,f[d-u]!==f[d]&&(s[c]=f[d]?1:8,++h);let w=(f[d]?4:0)+(f[d-u]?8:0);for(l=1;l<e;l++)w=(w>>2)+(f[d+1]?4:0)+(f[d-u+1]?8:0),i[w]&&(s[c+l]=i[w],++h),d++;if(f[d-u]!==f[d]&&(s[c+l]=f[d]?2:4,++h),h>n)return null}for(d=u*(r-1),c=o*a,f[d]!==0&&(s[c]=8,++h),l=1;l<e;l++)f[d]!==f[d+1]&&(s[c+l]=f[d]?4:8,++h),d++;if(f[d]!==0&&(s[c+l]=4,++h),h>n)return null;const m=new Int32Array([0,a,-1,0,-a,0,0,0,1]),p=new Path2D;for(o=0;h&&o<=r;o++){let w=o*a;const b=w+e;for(;w<b&&!s[w];)w++;if(w===b)continue;p.moveTo(w%a,o);const _=w;let A=s[w];do{const S=m[A];do w+=S;while(!s[w]);const T=s[w];T!==5&&T!==10?(A=T,s[w]=0):(A=T&51*A>>4,s[w]&=A>>2|A<<2),p.lineTo(w%a,w/a|0),s[w]||--h}while(_!==w);--o}return f=null,s=null,function(w){w.save(),w.scale(1/e,-1/r),w.translate(0,-r),w.fill(p),w.beginPath(),w.restore()}}class xL{constructor(e,r){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=g7,this.textMatrixScale=1,this.fontMatrix=iC,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Jn.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,r])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,r){this.x=e,this.y=r}updatePathMinMax(e,r,n){[r,n]=Ge.applyTransform([r,n],e),this.minX=Math.min(this.minX,r),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,r),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,r){const n=Ge.applyTransform(r,e),i=Ge.applyTransform(r.slice(2),e),a=Ge.applyTransform([r[0],r[3]],e),s=Ge.applyTransform([r[2],r[1]],e);this.minX=Math.min(this.minX,n[0],i[0],a[0],s[0]),this.minY=Math.min(this.minY,n[1],i[1],a[1],s[1]),this.maxX=Math.max(this.maxX,n[0],i[0],a[0],s[0]),this.maxY=Math.max(this.maxY,n[1],i[1],a[1],s[1])}updateScalingPathMinMax(e,r){Ge.scaleMinMax(e,r),this.minX=Math.min(this.minX,r[0]),this.minY=Math.min(this.minY,r[1]),this.maxX=Math.max(this.maxX,r[2]),this.maxY=Math.max(this.maxY,r[3])}updateCurvePathMinMax(e,r,n,i,a,s,o,l,c,u){const f=Ge.bezierBoundingBox(r,n,i,a,s,o,l,c,u);u||this.updateRectMinMax(e,f)}getPathBoundingBox(e=Si.FILL,r=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===Si.STROKE){r||ur("Stroke bounding box must include transform.");const i=Ge.singularValueDecompose2dScale(r),a=i[0]*this.lineWidth/2,s=i[1]*this.lineWidth/2;n[0]-=a,n[1]-=s,n[2]+=a,n[3]+=s}return n}updateClipFromPath(){const e=Ge.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Si.FILL,r=null){return Ge.intersect(this.clipBox,this.getPathBoundingBox(e,r))}}function wL(t,e){if(typeof ImageData<"u"&&e instanceof ImageData){t.putImageData(e,0,0);return}const r=e.height,n=e.width,i=r%Bi,a=(r-i)/Bi,s=i===0?a:a+1,o=t.createImageData(n,Bi);let l=0,c;const u=e.data,f=o.data;let d,h,m,p;if(e.kind===O1.GRAYSCALE_1BPP){const y=u.byteLength,w=new Uint32Array(f.buffer,0,f.byteLength>>2),b=w.length,_=n+7>>3,A=4294967295,S=Ci.isLittleEndian?4278190080:255;for(d=0;d<s;d++){for(m=d<a?Bi:i,c=0,h=0;h<m;h++){const T=y-l;let E=0;const P=T>_?n:T*8-7,k=P&-8;let N=0,O=0;for(;E<k;E+=8)O=u[l++],w[c++]=O&128?A:S,w[c++]=O&64?A:S,w[c++]=O&32?A:S,w[c++]=O&16?A:S,w[c++]=O&8?A:S,w[c++]=O&4?A:S,w[c++]=O&2?A:S,w[c++]=O&1?A:S;for(;E<P;E++)N===0&&(O=u[l++],N=128),w[c++]=O&N?A:S,N>>=1}for(;c<b;)w[c++]=0;t.putImageData(o,0,d*Bi)}}else if(e.kind===O1.RGBA_32BPP){for(h=0,p=n*Bi*4,d=0;d<a;d++)f.set(u.subarray(l,l+p)),l+=p,t.putImageData(o,0,h),h+=Bi;d<s&&(p=n*i*4,f.set(u.subarray(l,l+p)),t.putImageData(o,0,h))}else if(e.kind===O1.RGB_24BPP)for(m=Bi,p=n*m,d=0;d<s;d++){for(d>=a&&(m=i,p=n*m),c=0,h=p;h--;)f[c++]=u[l++],f[c++]=u[l++],f[c++]=u[l++],f[c++]=255;t.putImageData(o,0,d*Bi)}else throw new Error(`bad image kind: ${e.kind}`)}function _L(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const r=e.height,n=e.width,i=r%Bi,a=(r-i)/Bi,s=i===0?a:a+1,o=t.createImageData(n,Bi);let l=0;const c=e.data,u=o.data;for(let f=0;f<s;f++){const d=f<a?Bi:i;({srcPos:l}=aOe({src:c,srcPos:l,dest:u,width:n,height:d,nonBlackColor:0})),t.putImageData(o,0,f*Bi)}}function dm(t,e){const r=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of r)t[n]!==void 0&&(e[n]=t[n]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function d1(t){if(t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0),!fi){const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}}function bL(t,e){if(e)return!0;const r=Ge.singularValueDecompose2dScale(t);r[0]=Math.fround(r[0]),r[1]=Math.fround(r[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*su.PDF_TO_CSS_UNITS);return r[0]<=n&&r[1]<=n}const uOe=["butt","round","square"],fOe=["miter","round","bevel"],dOe={},SL={};var uu,NC,RC;const XO=class XO{constructor(e,r,n,i,a,{optionalContentConfig:s,markedContentStack:o=null},l,c){B(this,uu);this.ctx=e,this.current=new xL(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=r,this.objs=n,this.canvasFactory=i,this.filterFactory=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=s,this.cachedCanvases=new lOe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,r=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):r}beginDrawing({transform:e,viewport:r,transparency:n=!1,background:i=null}){const a=this.ctx.canvas.width,s=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,a,s),this.ctx.fillStyle=o,n){const l=this.cachedCanvases.getCanvas("transparent",a,s);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Er(this.compositeCtx))}this.ctx.save(),d1(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...r.transform),this.viewportScale=r.scale,this.baseTransform=Er(this.ctx)}executeOperatorList(e,r,n,i){const a=e.argsArray,s=e.fnArray;let o=r||0;const l=a.length;if(l===o)return o;const c=l-o>vL&&typeof n=="function",u=c?Date.now()+sOe:0;let f=0;const d=this.commonObjs,h=this.objs;let m;for(;;){if(i!==void 0&&o===i.nextBreakPoint)return i.breakIt(o,n),o;if(m=s[o],m!==hs.dependency)this[m].apply(this,a[o]);else for(const p of a[o]){const y=p.startsWith("g_")?d:h;if(!y.has(p))return y.get(p,n),o}if(o++,o===l)return o;if(c&&++f>vL){if(Date.now()>u)return n(),o;f=0}}}endDrawing(){M(this,uu,NC).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const r of e.values())typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement&&(r.width=r.height=0);e.clear()}this._cachedBitmapsMap.clear(),M(this,uu,RC).call(this)}_scaleImage(e,r){const n=e.width??e.displayWidth,i=e.height??e.displayHeight;let a=Math.max(Math.hypot(r[0],r[1]),1),s=Math.max(Math.hypot(r[2],r[3]),1),o=n,l=i,c="prescale1",u,f;for(;a>2&&o>1||s>2&&l>1;){let d=o,h=l;a>2&&o>1&&(d=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),a/=o/d),s>2&&l>1&&(h=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,s/=l/h),u=this.cachedCanvases.getCanvas(c,d,h),f=u.context,f.clearRect(0,0,d,h),f.drawImage(e,0,0,o,l,0,0,d,h),e=u.canvas,o=d,l=h,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e){const r=this.ctx,{width:n,height:i}=e,a=this.current.fillColor,s=this.current.patternFill,o=Er(r);let l,c,u,f;if((e.bitmap||e.data)&&e.count>1){const P=e.bitmap||e.data.buffer;c=JSON.stringify(s?o:[o.slice(0,4),a]),l=this._cachedBitmapsMap.get(P),l||(l=new Map,this._cachedBitmapsMap.set(P,l));const k=l.get(c);if(k&&!s){const N=Math.round(Math.min(o[0],o[2])+o[4]),O=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:k,offsetX:N,offsetY:O}}u=k}u||(f=this.cachedCanvases.getCanvas("maskCanvas",n,i),_L(f.context,e));let d=Ge.transform(o,[1/n,0,0,-1/i,0,0]);d=Ge.transform(d,[1,0,0,1,0,-i]);const[h,m,p,y]=Ge.getAxialAlignedBoundingBox([0,0,n,i],d),w=Math.round(p-h)||1,b=Math.round(y-m)||1,_=this.cachedCanvases.getCanvas("fillCanvas",w,b),A=_.context,S=h,T=m;A.translate(-S,-T),A.transform(...d),u||(u=this._scaleImage(f.canvas,Fo(A)),u=u.img,l&&s&&l.set(c,u)),A.imageSmoothingEnabled=bL(Er(A),e.interpolate),f1(A,u,0,0,u.width,u.height,0,0,n,i),A.globalCompositeOperation="source-in";const E=Ge.transform(Fo(A),[1,0,0,1,-S,-T]);return A.fillStyle=s?a.getPattern(r,this,E,Si.FILL):a,A.fillRect(0,0,n,i),l&&!s&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,_.canvas)),{canvas:_.canvas,offsetX:Math.round(S),offsetY:Math.round(T)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=uOe[e]}setLineJoin(e){this.ctx.lineJoin=fOe[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,r){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=r)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[r,n]of e)switch(r){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,r=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,e,r);this.suspendedCtx=this.ctx,this.ctx=i.context;const a=this.ctx;a.setTransform(...Er(this.suspendedCtx)),dm(this.suspendedCtx,a),oOe(a,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),dm(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const r=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,r,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,r,n,i){const a=i[0],s=i[1],o=i[2]-a,l=i[3]-s;o===0||l===0||(this.genericComposeSMask(r.context,n,o,l,r.subtype,r.backdrop,r.transferMap,a,s,r.offsetX,r.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,r,n,i,a,s,o,l,c,u,f){let d=e.canvas,h=l-u,m=c-f;if(s){const y=Ge.makeHexColor(...s);if(h<0||m<0||h+n>d.width||m+i>d.height){const w=this.cachedCanvases.getCanvas("maskExtension",n,i),b=w.context;b.drawImage(d,-h,-m),b.globalCompositeOperation="destination-atop",b.fillStyle=y,b.fillRect(0,0,n,i),b.globalCompositeOperation="source-over",d=w.canvas,h=m=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const w=new Path2D;w.rect(h,m,n,i),e.clip(w),e.globalCompositeOperation="destination-atop",e.fillStyle=y,e.fillRect(h,m,n,i),e.restore()}}r.save(),r.globalAlpha=1,r.setTransform(1,0,0,1,0,0),a==="Alpha"&&o?r.filter=this.filterFactory.addAlphaFilter(o):a==="Luminosity"&&(r.filter=this.filterFactory.addLuminosityFilter(o));const p=new Path2D;p.rect(l,c,n,i),r.clip(p),r.globalCompositeOperation="destination-in",r.drawImage(d,h,m,n,i,l,c,n,i),r.restore()}save(){this.inSMaskMode?(dm(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),dm(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,r,n,i,a,s){this.ctx.transform(e,r,n,i,a,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,r,n){const i=this.ctx,a=this.current;let s=a.x,o=a.y,l,c;const u=Er(i),f=u[0]===0&&u[3]===0||u[1]===0&&u[2]===0,d=f?n.slice(0):null;for(let h=0,m=0,p=e.length;h<p;h++)switch(e[h]|0){case hs.rectangle:s=r[m++],o=r[m++];const y=r[m++],w=r[m++],b=s+y,_=o+w;i.moveTo(s,o),y===0||w===0?i.lineTo(b,_):(i.lineTo(b,o),i.lineTo(b,_),i.lineTo(s,_)),f||a.updateRectMinMax(u,[s,o,b,_]),i.closePath();break;case hs.moveTo:s=r[m++],o=r[m++],i.moveTo(s,o),f||a.updatePathMinMax(u,s,o);break;case hs.lineTo:s=r[m++],o=r[m++],i.lineTo(s,o),f||a.updatePathMinMax(u,s,o);break;case hs.curveTo:l=s,c=o,s=r[m+4],o=r[m+5],i.bezierCurveTo(r[m],r[m+1],r[m+2],r[m+3],s,o),a.updateCurvePathMinMax(u,l,c,r[m],r[m+1],r[m+2],r[m+3],s,o,d),m+=6;break;case hs.curveTo2:l=s,c=o,i.bezierCurveTo(s,o,r[m],r[m+1],r[m+2],r[m+3]),a.updateCurvePathMinMax(u,l,c,s,o,r[m],r[m+1],r[m+2],r[m+3],d),s=r[m+2],o=r[m+3],m+=4;break;case hs.curveTo3:l=s,c=o,s=r[m+2],o=r[m+3],i.bezierCurveTo(r[m],r[m+1],s,o,s,o),a.updateCurvePathMinMax(u,l,c,r[m],r[m+1],s,o,s,o,d),m+=4;break;case hs.closePath:i.closePath();break}f&&a.updateScalingPathMinMax(u,d),a.setCurrentPoint(s,o)}closePath(){this.ctx.closePath()}stroke(e=!0){const r=this.ctx,n=this.current.strokeColor;r.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(r.save(),r.strokeStyle=n.getPattern(r,this,Fo(r),Si.STROKE),this.rescaleAndStroke(!1),r.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),r.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const r=this.ctx,n=this.current.fillColor,i=this.current.patternFill;let a=!1;i&&(r.save(),r.fillStyle=n.getPattern(r,this,Fo(r),Si.FILL),a=!0);const s=this.current.getClippedPathBoundingBox();this.contentVisible&&s!==null&&(this.pendingEOFill?(r.fill("evenodd"),this.pendingEOFill=!1):r.fill()),a&&r.restore(),e&&this.consumePath(s)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=dOe}eoClip(){this.pendingClip=SL}beginText(){this.current.textMatrix=g7,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,r=this.ctx;if(e===void 0){r.beginPath();return}r.save(),r.beginPath();for(const n of e)r.setTransform(...n.transform),r.translate(n.x,n.y),n.addToPath(r,n.fontSize);r.restore(),r.clip(),r.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,r){var u;const n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=n.fontMatrix||iC,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&yt("Invalid font matrix for font "+e),r<0?(r=-r,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=r,n.isType3Font)return;const a=n.loadedName||"sans-serif",s=((u=n.systemFontInfo)==null?void 0:u.css)||`"${a}", ${n.fallbackName}`;let o="normal";n.black?o="900":n.bold&&(o="bold");const l=n.italic?"italic":"normal";let c=r;r<mL?c=mL:r>gL&&(c=gL),this.current.fontSizeScale=r/c,this.ctx.font=`${l} ${o} ${c}px ${s}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,r){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,r){this.setLeading(-r),this.moveText(e,r)}setTextMatrix(e,r,n,i,a,s){this.current.textMatrix=[e,r,n,i,a,s],this.current.textMatrixScale=Math.hypot(e,r),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,r,n,i){const a=this.ctx,s=this.current,o=s.font,l=s.textRenderingMode,c=s.fontSize/s.fontSizeScale,u=l&Jn.FILL_STROKE_MASK,f=!!(l&Jn.ADD_TO_PATH_FLAG),d=s.patternFill&&!o.missingFile;let h;(o.disableFontFace||f||d)&&(h=o.getPathGenerator(this.commonObjs,e)),o.disableFontFace||d?(a.save(),a.translate(r,n),a.beginPath(),h(a,c),i&&a.setTransform(...i),(u===Jn.FILL||u===Jn.FILL_STROKE)&&a.fill(),(u===Jn.STROKE||u===Jn.FILL_STROKE)&&a.stroke(),a.restore()):((u===Jn.FILL||u===Jn.FILL_STROKE)&&a.fillText(e,r,n),(u===Jn.STROKE||u===Jn.FILL_STROKE)&&a.strokeText(e,r,n)),f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Er(a),x:r,y:n,fontSize:c,addToPath:h})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const r=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<r.length;i+=4)if(r[i]>0&&r[i]<255){n=!0;break}return Ct(this,"isFontSubpixelAAEnabled",n)}showText(e){const r=this.current,n=r.font;if(n.isType3Font)return this.showType3Text(e);const i=r.fontSize;if(i===0)return;const a=this.ctx,s=r.fontSizeScale,o=r.charSpacing,l=r.wordSpacing,c=r.fontDirection,u=r.textHScale*c,f=e.length,d=n.vertical,h=d?1:-1,m=n.defaultVMetrics,p=i*r.fontMatrix[0],y=r.textRenderingMode===Jn.FILL&&!n.disableFontFace&&!r.patternFill;a.save(),a.transform(...r.textMatrix),a.translate(r.x,r.y+r.textRise),c>0?a.scale(u,-1):a.scale(u,1);let w;if(r.patternFill){a.save();const T=r.fillColor.getPattern(a,this,Fo(a),Si.FILL);w=Er(a),a.restore(),a.fillStyle=T}let b=r.lineWidth;const _=r.textMatrixScale;if(_===0||b===0){const T=r.textRenderingMode&Jn.FILL_STROKE_MASK;(T===Jn.STROKE||T===Jn.FILL_STROKE)&&(b=this.getSinglePixelWidth())}else b/=_;if(s!==1&&(a.scale(s,s),b/=s),a.lineWidth=b,n.isInvalidPDFjsFont){const T=[];let E=0;for(const P of e)T.push(P.unicode),E+=P.width;a.fillText(T.join(""),0,0),r.x+=E*p*u,a.restore(),this.compose();return}let A=0,S;for(S=0;S<f;++S){const T=e[S];if(typeof T=="number"){A+=h*T*i/1e3;continue}let E=!1;const P=(T.isSpace?l:0)+o,k=T.fontChar,N=T.accent;let O,R,W=T.width;if(d){const j=T.vmetric||m,Y=-(T.vmetric?j[1]:W*.5)*p,J=j[2]*p;W=j?-j[0]:W,O=Y/s,R=(A+J)/s}else O=A/s,R=0;if(n.remeasure&&W>0){const j=a.measureText(k).width*1e3/i*s;if(W<j&&this.isFontSubpixelAAEnabled){const Y=W/j;E=!0,a.save(),a.scale(Y,1),O/=Y}else W!==j&&(O+=(W-j)/2e3*i/s)}if(this.contentVisible&&(T.isInFont||n.missingFile)){if(y&&!N)a.fillText(k,O,R);else if(this.paintChar(k,O,R,w),N){const j=O+i*N.offset.x/s,Y=R-i*N.offset.y/s;this.paintChar(N.fontChar,j,Y,w)}}const Q=d?W*p-P*c:W*p+P*c;A+=Q,E&&a.restore()}d?r.y-=A:r.x+=A*u,a.restore(),this.compose()}showType3Text(e){const r=this.ctx,n=this.current,i=n.font,a=n.fontSize,s=n.fontDirection,o=i.vertical?1:-1,l=n.charSpacing,c=n.wordSpacing,u=n.textHScale*s,f=n.fontMatrix||iC,d=e.length,h=n.textRenderingMode===Jn.INVISIBLE;let m,p,y,w;if(!(h||a===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),r.transform(...n.textMatrix),r.translate(n.x,n.y),r.scale(u,s),m=0;m<d;++m){if(p=e[m],typeof p=="number"){w=o*p*a/1e3,this.ctx.translate(w,0),n.x+=w*u;continue}const b=(p.isSpace?c:0)+l,_=i.charProcOperatorList[p.operatorListId];if(!_){yt(`Type3 character "${p.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=p,this.save(),r.scale(a,a),r.transform(...f),this.executeOperatorList(_),this.restore()),y=Ge.applyTransform([p.width,0],f)[0]*a+b,r.translate(y,0),n.x+=y*u}r.restore(),this.processingType3=null}}setCharWidth(e,r){}setCharWidthAndBounds(e,r,n,i,a,s){this.ctx.rect(n,i,a-n,s-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let r;if(e[0]==="TilingPattern"){const n=e[1],i=this.baseTransform||Er(this.ctx),a={createCanvasGraphics:s=>new XO(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};r=new MC(e,n,this.ctx,a,i)}else r=this._getPattern(e[1],e[2]);return r}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,r,n){this.ctx.strokeStyle=this.current.strokeColor=Ge.makeHexColor(e,r,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,r,n){this.ctx.fillStyle=this.current.fillColor=Ge.makeHexColor(e,r,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,r=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=iOe(this.getObject(e)),this.cachedPatterns.set(e,n)),r&&(n.matrix=r),n}shadingFill(e){if(!this.contentVisible)return;const r=this.ctx;this.save();const n=this._getPattern(e);r.fillStyle=n.getPattern(r,this,Fo(r),Si.SHADING);const i=Fo(r);if(i){const{width:a,height:s}=r.canvas,[o,l,c,u]=Ge.getAxialAlignedBoundingBox([0,0,a,s],i);this.ctx.fillRect(o,l,c-o,u-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ur("Should not call beginInlineImage")}beginImageData(){ur("Should not call beginImageData")}paintFormXObjectBegin(e,r){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Er(this.ctx),r)){const n=r[2]-r[0],i=r[3]-r[1];this.ctx.rect(r[0],r[1],n,i),this.current.updateRectMinMax(Er(this.ctx),r),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;e.isolated||US("TODO: Support non-isolated groups."),e.knockout&&yt("Knockout groups not supported.");const n=Er(r);if(e.matrix&&r.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=Ge.getAxialAlignedBoundingBox(e.bbox,Er(r));const a=[0,0,r.canvas.width,r.canvas.height];i=Ge.intersect(i,a)||[0,0,0,0];const s=Math.floor(i[0]),o=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-s,1),c=Math.max(Math.ceil(i[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,c]);let u="groupAt"+this.groupLevel;e.smask&&(u+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(u,l,c),d=f.context;d.translate(-s,-o),d.transform(...n),e.smask?this.smaskStack.push({canvas:f.canvas,context:d,offsetX:s,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(r.setTransform(1,0,0,1,0,0),r.translate(s,o),r.save()),dm(r,d),this.ctx=d,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Er(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const a=Ge.getAxialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],i);this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(e,r,n,i,a){if(M(this,uu,NC).call(this),d1(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const s=r[2]-r[0],o=r[3]-r[1];if(a&&this.annotationCanvasMap){n=n.slice(),n[4]-=r[0],n[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=s,r[3]=o;const[l,c]=Ge.singularValueDecompose2dScale(Er(this.ctx)),{viewportScale:u}=this,f=Math.ceil(s*this.outputScaleX*u),d=Math.ceil(o*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(f,d);const{canvas:h,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(e,h),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,o*c),d1(this.ctx)}else d1(this.ctx),this.endPath(),this.ctx.rect(r[0],r[1],s,o),this.ctx.clip(),this.ctx.beginPath()}this.current=new xL(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),M(this,uu,RC).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const r=e.count;e=this.getObject(e.data,e),e.count=r;const n=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=cOe(e)),i.compiled)){i.compiled(n);return}const a=this._createMaskCanvas(e),s=a.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(s,a.offsetX,a.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,r,n=0,i=0,a,s){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const l=Er(o);o.transform(r,n,i,a,0,0);const c=this._createMaskCanvas(e);o.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let u=0,f=s.length;u<f;u+=2){const d=Ge.transform(l,[r,n,i,a,s[u],s[u+1]]),[h,m]=Ge.applyTransform([0,0],d);o.drawImage(c.canvas,h,m)}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const r=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const a of e){const{data:s,width:o,height:l,transform:c}=a,u=this.cachedCanvases.getCanvas("maskCanvas",o,l),f=u.context;f.save();const d=this.getObject(s,a);_L(f,d),f.globalCompositeOperation="source-in",f.fillStyle=i?n.getPattern(f,this,Fo(r),Si.FILL):n,f.fillRect(0,0,o,l),f.restore(),r.save(),r.transform(...c),r.scale(1,-1),f1(r,u.canvas,0,0,o,l,0,-1,1,1),r.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const r=this.getObject(e);if(!r){yt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(r)}paintImageXObjectRepeat(e,r,n,i){if(!this.contentVisible)return;const a=this.getObject(e);if(!a){yt("Dependent image isn't ready yet");return}const s=a.width,o=a.height,l=[];for(let c=0,u=i.length;c<u;c+=2)l.push({transform:[r,0,0,n,i[c],i[c+1]],x:0,y:0,w:s,h:o});this.paintInlineImageXObjectGroup(a,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:r,width:n,height:i}=e,a=this.cachedCanvases.getCanvas("inlineImage",n,i),s=a.context;return s.filter=this.current.transferMaps,s.drawImage(r,0,0),s.filter="none",a.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const r=e.width,n=e.height,i=this.ctx;if(this.save(),!fi){const{filter:o}=i;o!=="none"&&o!==""&&(i.filter="none")}i.scale(1/r,-1/n);let a;if(e.bitmap)a=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)a=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",r,n).context;wL(l,e),a=this.applyTransferMapsToCanvas(l)}const s=this._scaleImage(a,Fo(i));i.imageSmoothingEnabled=bL(Er(i),e.interpolate),f1(i,s.img,0,0,s.paintWidth,s.paintHeight,0,-n,r,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,r){if(!this.contentVisible)return;const n=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const a=e.width,s=e.height,l=this.cachedCanvases.getCanvas("inlineImage",a,s).context;wL(l,e),i=this.applyTransferMapsToCanvas(l)}for(const a of r)n.save(),n.transform(...a.transform),n.scale(1,-1),f1(n,i,a.x,a.y,a.w,a.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,r){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,r){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(r||(this.pendingClip===SL?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Er(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const r=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/r}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:r,b:n,c:i,d:a}=this.ctx.getTransform();let s,o;if(n===0&&i===0){const l=Math.abs(r),c=Math.abs(a);if(l===c)if(e===0)s=o=1/l;else{const u=l*e;s=o=u<1?1/u:1}else if(e===0)s=1/l,o=1/c;else{const u=l*e,f=c*e;s=u<1?1/u:1,o=f<1?1/f:1}}else{const l=Math.abs(r*a-n*i),c=Math.hypot(r,n),u=Math.hypot(i,a);if(e===0)s=u/l,o=c/l;else{const f=e*l;s=u>f?u/f:1,o=c>f?c/f:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:r}=this,{lineWidth:n}=this.current,[i,a]=this.getScaleForStroking();if(r.lineWidth=n||1,i===1&&a===1){r.stroke();return}const s=r.getLineDash();if(e&&r.save(),r.scale(i,a),s.length>0){const o=Math.max(i,a);r.setLineDash(s.map(l=>l/o)),r.lineDashOffset/=o}r.stroke(),e&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};uu=new WeakSet,NC=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},RC=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const r=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=r}}};let Fh=XO;for(const t in hs)Fh.prototype[t]!==void 0&&(Fh.prototype[hs[t]]=Fh.prototype[t]);var Zv,Qv;class dl{static get workerPort(){return g(this,Zv)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");I(this,Zv,e)}static get workerSrc(){return g(this,Qv)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");I(this,Qv,e)}}Zv=new WeakMap,Qv=new WeakMap,B(dl,Zv,null),B(dl,Qv,"");const h1={DATA:1,ERROR:2},Jr={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Ji(t){switch(t instanceof Error||typeof t=="object"&&t!==null||ur('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new Ld(t.message);case"MissingPDFException":return new Fd(t.message);case"PasswordException":return new aC(t.message,t.code);case"UnexpectedResponseException":return new VS(t.message,t.status);case"UnknownErrorException":return new sC(t.message,t.details);default:return new sC(t.message,t.toString())}}var Zh,Za,eV,tV,rV,B1;class Im{constructor(e,r,n){B(this,Za);B(this,Zh,new AbortController);this.sourceName=e,this.targetName=r,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",M(this,Za,eV).bind(this),{signal:g(this,Zh).signal})}on(e,r){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=r}send(e,r,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:r},n)}sendWithPromise(e,r,n){const i=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[i]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:r},n)}catch(s){a.reject(s)}return a.promise}sendWithStream(e,r,n,i){const a=this.streamId++,s=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[a]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:s,targetName:o,action:e,streamId:a,data:r,desiredSize:c.desiredSize},i),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[a].pullCall=u,l.postMessage({sourceName:s,targetName:o,stream:Jr.PULL,streamId:a,desiredSize:c.desiredSize}),u.promise},cancel:c=>{gn(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[a].cancelCall=u,this.streamControllers[a].isClosed=!0,l.postMessage({sourceName:s,targetName:o,stream:Jr.CANCEL,streamId:a,reason:Ji(c)}),u.promise}},n)}destroy(){var e;(e=g(this,Zh))==null||e.abort(),I(this,Zh,null)}}Zh=new WeakMap,Za=new WeakSet,eV=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){M(this,Za,rV).call(this,e);return}if(e.callback){const n=e.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===h1.DATA)i.resolve(e.data);else if(e.callback===h1.ERROR)i.reject(Ji(e.reason));else throw new Error("Unexpected callback case");return}const r=this.actionHandler[e.action];if(!r)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,i=e.sourceName,a=this.comObj;new Promise(function(s){s(r(e.data))}).then(function(s){a.postMessage({sourceName:n,targetName:i,callback:h1.DATA,callbackId:e.callbackId,data:s})},function(s){a.postMessage({sourceName:n,targetName:i,callback:h1.ERROR,callbackId:e.callbackId,reason:Ji(s)})});return}if(e.streamId){M(this,Za,tV).call(this,e);return}r(e.data)},tV=function(e){const r=e.streamId,n=this.sourceName,i=e.sourceName,a=this.comObj,s=this,o=this.actionHandler[e.action],l={enqueue(c,u=1,f){if(this.isCancelled)return;const d=this.desiredSize;this.desiredSize-=u,d>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:n,targetName:i,stream:Jr.ENQUEUE,streamId:r,chunk:c},f)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:i,stream:Jr.CLOSE,streamId:r}),delete s.streamSinks[r])},error(c){gn(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:i,stream:Jr.ERROR,streamId:r,reason:Ji(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[r]=l,new Promise(function(c){c(o(e.data,l))}).then(function(){a.postMessage({sourceName:n,targetName:i,stream:Jr.START_COMPLETE,streamId:r,success:!0})},function(c){a.postMessage({sourceName:n,targetName:i,stream:Jr.START_COMPLETE,streamId:r,reason:Ji(c)})})},rV=function(e){const r=e.streamId,n=this.sourceName,i=e.sourceName,a=this.comObj,s=this.streamControllers[r],o=this.streamSinks[r];switch(e.stream){case Jr.START_COMPLETE:e.success?s.startCall.resolve():s.startCall.reject(Ji(e.reason));break;case Jr.PULL_COMPLETE:e.success?s.pullCall.resolve():s.pullCall.reject(Ji(e.reason));break;case Jr.PULL:if(!o){a.postMessage({sourceName:n,targetName:i,stream:Jr.PULL_COMPLETE,streamId:r,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,new Promise(function(l){var c;l((c=o.onPull)==null?void 0:c.call(o))}).then(function(){a.postMessage({sourceName:n,targetName:i,stream:Jr.PULL_COMPLETE,streamId:r,success:!0})},function(l){a.postMessage({sourceName:n,targetName:i,stream:Jr.PULL_COMPLETE,streamId:r,reason:Ji(l)})});break;case Jr.ENQUEUE:if(gn(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case Jr.CLOSE:if(gn(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),M(this,Za,B1).call(this,s,r);break;case Jr.ERROR:gn(s,"error should have stream controller"),s.controller.error(Ji(e.reason)),M(this,Za,B1).call(this,s,r);break;case Jr.CANCEL_COMPLETE:e.success?s.cancelCall.resolve():s.cancelCall.reject(Ji(e.reason)),M(this,Za,B1).call(this,s,r);break;case Jr.CANCEL:if(!o)break;new Promise(function(l){var c;l((c=o.onCancel)==null?void 0:c.call(o,Ji(e.reason)))}).then(function(){a.postMessage({sourceName:n,targetName:i,stream:Jr.CANCEL_COMPLETE,streamId:r,success:!0})},function(l){a.postMessage({sourceName:n,targetName:i,stream:Jr.CANCEL_COMPLETE,streamId:r,reason:Ji(l)})}),o.sinkCapability.reject(Ji(e.reason)),o.isCancelled=!0,delete this.streamSinks[r];break;default:throw new Error("Unexpected stream case")}},B1=async function(e,r){var n,i,a;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(i=e.pullCall)==null?void 0:i.promise,(a=e.cancelCall)==null?void 0:a.promise]),delete this.streamControllers[r]};var pf,ey;class hOe{constructor({parsedData:e,rawData:r}){B(this,pf);B(this,ey);I(this,pf,e),I(this,ey,r)}getRaw(){return g(this,ey)}get(e){return g(this,pf).get(e)??null}getAll(){return IO(g(this,pf))}has(e){return g(this,pf).has(e)}}pf=new WeakMap,ey=new WeakMap;const eh=Symbol("INTERNAL");var ty,ry,ny,Qh;class pOe{constructor(e,{name:r,intent:n,usage:i,rbGroups:a}){B(this,ty,!1);B(this,ry,!1);B(this,ny,!1);B(this,Qh,!0);I(this,ty,!!(e&la.DISPLAY)),I(this,ry,!!(e&la.PRINT)),this.name=r,this.intent=n,this.usage=i,this.rbGroups=a}get visible(){if(g(this,ny))return g(this,Qh);if(!g(this,Qh))return!1;const{print:e,view:r}=this.usage;return g(this,ty)?(r==null?void 0:r.viewState)!=="OFF":g(this,ry)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,r,n=!1){e!==eh&&ur("Internal method `_setVisible` called."),I(this,ny,n),I(this,Qh,r)}}ty=new WeakMap,ry=new WeakMap,ny=new WeakMap,Qh=new WeakMap;var _c,Vt,e0,t0,iy,DC;class mOe{constructor(e,r=la.DISPLAY){B(this,iy);B(this,_c,null);B(this,Vt,new Map);B(this,e0,null);B(this,t0,null);if(this.renderingIntent=r,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,I(this,t0,e.order);for(const n of e.groups)g(this,Vt).set(n.id,new pOe(r,n));if(e.baseState==="OFF")for(const n of g(this,Vt).values())n._setVisible(eh,!1);for(const n of e.on)g(this,Vt).get(n)._setVisible(eh,!0);for(const n of e.off)g(this,Vt).get(n)._setVisible(eh,!1);I(this,e0,this.getHash())}}isVisible(e){if(g(this,Vt).size===0)return!0;if(!e)return US("Optional content group not defined."),!0;if(e.type==="OCG")return g(this,Vt).has(e.id)?g(this,Vt).get(e.id).visible:(yt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return M(this,iy,DC).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const r of e.ids){if(!g(this,Vt).has(r))return yt(`Optional content group not found: ${r}`),!0;if(g(this,Vt).get(r).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const r of e.ids){if(!g(this,Vt).has(r))return yt(`Optional content group not found: ${r}`),!0;if(!g(this,Vt).get(r).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const r of e.ids){if(!g(this,Vt).has(r))return yt(`Optional content group not found: ${r}`),!0;if(!g(this,Vt).get(r).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const r of e.ids){if(!g(this,Vt).has(r))return yt(`Optional content group not found: ${r}`),!0;if(g(this,Vt).get(r).visible)return!1}return!0}return yt(`Unknown optional content policy ${e.policy}.`),!0}return yt(`Unknown group type ${e.type}.`),!0}setVisibility(e,r=!0,n=!0){var a;const i=g(this,Vt).get(e);if(!i){yt(`Optional content group not found: ${e}`);return}if(n&&r&&i.rbGroups.length)for(const s of i.rbGroups)for(const o of s)o!==e&&((a=g(this,Vt).get(o))==null||a._setVisible(eh,!1,!0));i._setVisible(eh,!!r,!0),I(this,_c,null)}setOCGState({state:e,preserveRB:r}){let n;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const a=g(this,Vt).get(i);if(a)switch(n){case"ON":this.setVisibility(i,!0,r);break;case"OFF":this.setVisibility(i,!1,r);break;case"Toggle":this.setVisibility(i,!a.visible,r);break}}I(this,_c,null)}get hasInitialVisibility(){return g(this,e0)===null||this.getHash()===g(this,e0)}getOrder(){return g(this,Vt).size?g(this,t0)?g(this,t0).slice():[...g(this,Vt).keys()]:null}getGroups(){return g(this,Vt).size>0?IO(g(this,Vt)):null}getGroup(e){return g(this,Vt).get(e)||null}getHash(){if(g(this,_c)!==null)return g(this,_c);const e=new H7;for(const[r,n]of g(this,Vt))e.update(`${r}:${n.visible}`);return I(this,_c,e.hexdigest())}}_c=new WeakMap,Vt=new WeakMap,e0=new WeakMap,t0=new WeakMap,iy=new WeakSet,DC=function(e){const r=e.length;if(r<2)return!0;const n=e[0];for(let i=1;i<r;i++){const a=e[i];let s;if(Array.isArray(a))s=M(this,iy,DC).call(this,a);else if(g(this,Vt).has(a))s=g(this,Vt).get(a).visible;else return yt(`Optional content group not found: ${a}`),!0;switch(n){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return n==="And"};class gOe{constructor(e,{disableRange:r=!1,disableStream:n=!1}){gn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:a,progressiveDone:s,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=o,(a==null?void 0:a.length)>0){const l=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!r,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:r}){const n=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(a){return a._begin!==e?!1:(a._enqueue(n),!0)});gn(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var r,n,i,a;e.total===void 0?(n=(r=this._rangeReaders[0])==null?void 0:r.onProgress)==null||n.call(r,{loaded:e.loaded}):(a=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||a.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const r=this._rangeReaders.indexOf(e);r>=0&&this._rangeReaders.splice(r,1)}getFullReader(){gn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new vOe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,r){if(r<=this._progressiveDataLength)return null;const n=new yOe(this,e,r);return this._pdfDataRangeTransport.requestDataRange(e,r),this._rangeReaders.push(n),n}cancelAllRequests(e){var r;(r=this._fullRequestReader)==null||r.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class vOe{constructor(e,r,n=!1,i=null){this._stream=e,this._done=n||!1,this._filename=NO(i)?i:null,this._queuedChunks=r||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class yOe{constructor(e,r,n){this._stream=e,this._begin=r,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const r=this._queuedChunk;return this._queuedChunk=null,{value:r,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function xOe(t){let e=!0,r=n("filename\\*","i").exec(t);if(r){r=r[1];let u=o(r);return u=unescape(u),u=l(u),u=c(u),a(u)}if(r=s(t),r){const u=c(r);return a(u)}if(r=n("filename","i").exec(t),r){r=r[1];let u=o(r);return u=c(u),a(u)}function n(u,f){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',f)}function i(u,f){if(u){if(!/^[\x00-\xFF]+$/.test(f))return f;try{const d=new TextDecoder(u,{fatal:!0}),h=HS(f);f=d.decode(h),e=!1}catch{}}return f}function a(u){return e&&/[\x80-\xff]/.test(u)&&(u=i("utf-8",u),e&&(u=i("iso-8859-1",u))),u}function s(u){const f=[];let d;const h=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(d=h.exec(u))!==null;){let[,p,y,w]=d;if(p=parseInt(p,10),p in f){if(p===0)break;continue}f[p]=[y,w]}const m=[];for(let p=0;p<f.length&&p in f;++p){let[y,w]=f[p];w=o(w),y&&(w=unescape(w),p===0&&(w=l(w))),m.push(w)}return m.join("")}function o(u){if(u.startsWith('"')){const f=u.slice(1).split('\\"');for(let d=0;d<f.length;++d){const h=f[d].indexOf('"');h!==-1&&(f[d]=f[d].slice(0,h),f.length=d+1),f[d]=f[d].replaceAll(/\\(.)/g,"$1")}u=f.join('"')}return u}function l(u){const f=u.indexOf("'");if(f===-1)return u;const d=u.slice(0,f),m=u.slice(f+1).replace(/^[^']*'/,"");return i(d,m)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(f,d,h,m){if(h==="q"||h==="Q")return m=m.replaceAll("_"," "),m=m.replaceAll(/=([0-9a-fA-F]{2})/g,function(p,y){return String.fromCharCode(parseInt(y,16))}),i(d,m);try{m=atob(m)}catch{}return i(d,m)})}return""}function $O(t,e){const r=new Headers;if(!t||!e||typeof e!="object")return r;for(const n in e){const i=e[n];i!==void 0&&r.append(n,i)}return r}function BO({responseHeaders:t,isHttp:e,rangeChunkSize:r,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(t.get("Content-Length"),10);return!Number.isInteger(a)||(i.suggestedLength=a,a<=2*r)||n||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function jO(t){const e=t.get("Content-Disposition");if(e){let r=xOe(e);if(r.includes("%"))try{r=decodeURIComponent(r)}catch{}if(NO(r))return r}return null}function GS(t,e){return t===404||t===0&&e.startsWith("file:")?new Fd('Missing PDF "'+e+'".'):new VS(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t)}function nV(t){return t===200||t===206}function iV(t,e,r){return{method:"GET",headers:t,signal:r.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function aV(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(yt(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class AL{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=$O(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return gn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new wOe(this),this._fullRequestReader}getRangeReader(e,r){if(r<=this._progressiveDataLength)return null;const n=new _Oe(this,e,r);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var r;(r=this._fullRequestReader)==null||r.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class wOe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const r=e.source;this._withCredentials=r.withCredentials||!1,this._contentLength=r.length,this._headersCapability=Promise.withResolvers(),this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange;const n=new Headers(e.headers),i=r.url;fetch(i,iV(n,this._withCredentials,this._abortController)).then(a=>{if(!nV(a.status))throw GS(a.status,i);this._reader=a.body.getReader(),this._headersCapability.resolve();const s=a.headers,{allowRangeRequests:o,suggestedLength:l}=BO({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=jO(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ld("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:r}=await this._reader.read();return r?{value:e,done:r}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:aV(e),done:!1})}cancel(e){var r;(r=this._reader)==null||r.cancel(e),this._abortController.abort()}}class _Oe{constructor(e,r,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const a=new Headers(e.headers);a.append("Range",`bytes=${r}-${n-1}`);const s=i.url;fetch(s,iV(a,this._withCredentials,this._abortController)).then(o=>{if(!nV(o.status))throw GS(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:r}=await this._reader.read();return r?{value:e,done:r}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:aV(e),done:!1})}cancel(e){var r;(r=this._reader)==null||r.cancel(e),this._abortController.abort()}}const wT=200,_T=206;function bOe(t){const e=t.response;return typeof e!="string"?e:HS(e).buffer}class SOe{constructor({url:e,httpHeaders:r,withCredentials:n}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=$O(this.isHttp,r),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,r,n){const i={begin:e,end:r};for(const a in n)i[a]=n[a];return this.request(i)}requestFull(e){return this.request(e)}request(e){const r=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:r};r.open("GET",this.url),r.withCredentials=this.withCredentials;for(const[a,s]of this.headers)r.setRequestHeader(a,s);return this.isHttp&&"begin"in e&&"end"in e?(r.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=_T):i.expectedStatus=wT,r.responseType="arraybuffer",e.onError&&(r.onerror=function(a){e.onError(r.status)}),r.onreadystatechange=this.onStateChange.bind(this,n),r.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,r.send(null),n}onProgress(e,r){var i;const n=this.pendingRequests[e];n&&((i=n.onProgress)==null||i.call(n,r))}onStateChange(e,r){var l,c,u;const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(l=n.onError)==null||l.call(n,i.status);return}const a=i.status||wT;if(!(a===wT&&n.expectedStatus===_T)&&a!==n.expectedStatus){(c=n.onError)==null||c.call(n,i.status);return}const o=bOe(i);if(a===_T){const f=i.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(f);n.onDone({begin:parseInt(d[1],10),chunk:o})}else o?n.onDone({begin:0,chunk:o}):(u=n.onError)==null||u.call(n,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const r=this.pendingRequests[e].xhr;delete this.pendingRequests[e],r.abort()}}class AOe{constructor(e){this._source=e,this._manager=new SOe(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const r=this._rangeRequestReaders.indexOf(e);r>=0&&this._rangeRequestReaders.splice(r,1)}getFullReader(){return gn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new TOe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,r){const n=new EOe(this._manager,e,r);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var r;(r=this._fullRequestReader)==null||r.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class TOe{constructor(e,r){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=r.url,this._fullRequestId=e.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=r.disableRange||!1,this._contentLength=r.length,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,r=this._manager.getRequestXhr(e),n=new Headers(r.getAllResponseHeaders().trim().split(/[\r\n]+/).map(s=>{const[o,...l]=s.split(": ");return[o,l.join(": ")]})),{allowRangeRequests:i,suggestedLength:a}=BO({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=jO(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=GS(e,this._url),this._headersCapability.reject(this._storedError);for(const r of this._requests)r.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var r;(r=this.onProgress)==null||r.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class EOe{constructor(e,r,n){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(r,n,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const r=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:r,done:!1}):this._queuedChunk=r,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=GS(e,this._url);for(const r of this._requests)r.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var r;this.isStreamingSupported||(r=this.onProgress)==null||r.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const r=this._queuedChunk;return this._queuedChunk=null,{value:r,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const COe=/^[a-z][a-z0-9\-+.]+:/i;function kOe(t){if(COe.test(t))return new URL(t);const e=ou.get("url");return new URL(e.pathToFileURL(t))}function sV(t,e,r){return t.protocol==="http:"?ou.get("http").request(t,{headers:e},r):ou.get("https").request(t,{headers:e},r)}class POe{constructor(e){this.source=e,this.url=kOe(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=$O(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return gn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new MOe(this):new IOe(this),this._fullRequestReader}getRangeReader(e,r){if(r<=this._progressiveDataLength)return null;const n=this.isFsUrl?new NOe(this,e,r):new OOe(this,e,r);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var r;(r=this._fullRequestReader)==null||r.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class oV{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const r=e.source;this._contentLength=r.length,this._loaded=0,this._filename=null,this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",r=>{this._error(r)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ld("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class lV{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",r=>{this._error(r)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class IOe extends oV{constructor(e){super(e);const r=Object.fromEntries(e.headers),n=i=>{if(i.statusCode===404){const l=new Fd(`Missing PDF "${this._url}".`);this._storedError=l,this._headersCapability.reject(l);return}this._headersCapability.resolve(),this._setReadableStream(i);const a=new Headers(this._readableStream.headers),{allowRangeRequests:s,suggestedLength:o}=BO({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=o||this._contentLength,this._filename=jO(a)};this._request=sV(this._url,r,n),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class OOe extends lV{constructor(e,r,n){super(e);const i=Object.fromEntries(e.headers);i.Range=`bytes=${r}-${n-1}`;const a=s=>{if(s.statusCode===404){const o=new Fd(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(s)};this._request=sV(this._url,i,a),this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class MOe extends oV{constructor(e){super(e);const r=ou.get("fs");r.promises.lstat(this._url).then(n=>{this._contentLength=n.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},n=>{n.code==="ENOENT"&&(n=new Fd(`Missing PDF "${this._url}".`)),this._storedError=n,this._headersCapability.reject(n)})}}class NOe extends lV{constructor(e,r,n){super(e);const i=ou.get("fs");this._setReadableStream(i.createReadStream(this._url,{start:r,end:n-1}))}}const ROe=1e5,Ni=30,DOe=.8;var a5,bc,Fi,ay,sy,mf,Xo,oy,ly,gf,r0,n0,Sc,i0,cy,a0,vf,uy,fy,yf,xf,dy,Ac,s0,jl,cV,uV,FC,xa,j1,LC,fV,dV;const un=class un{constructor({textContentSource:e,container:r,viewport:n}){B(this,jl);B(this,bc,Promise.withResolvers());B(this,Fi,null);B(this,ay,!1);B(this,sy,!!((a5=globalThis.FontInspector)!=null&&a5.enabled));B(this,mf,null);B(this,Xo,null);B(this,oy,0);B(this,ly,0);B(this,gf,null);B(this,r0,null);B(this,n0,0);B(this,Sc,0);B(this,i0,Object.create(null));B(this,cy,[]);B(this,a0,null);B(this,vf,[]);B(this,uy,new WeakMap);B(this,fy,null);var l;if(e instanceof ReadableStream)I(this,a0,e);else if(typeof e=="object")I(this,a0,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');I(this,Fi,I(this,r0,r)),I(this,Sc,n.scale*(globalThis.devicePixelRatio||1)),I(this,n0,n.rotation),I(this,Xo,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:a,pageX:s,pageY:o}=n.rawDims;I(this,fy,[1,0,0,-1,-s,o+a]),I(this,ly,i),I(this,oy,a),M(l=un,xa,fV).call(l),gd(r,n),g(this,bc).promise.finally(()=>{g(un,s0).delete(this),I(this,Xo,null),I(this,i0,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:r}=Ci.platform;return Ct(this,"fontFamilyMap",new Map([["sans-serif",`${e&&r?"Calibri, ":""}sans-serif`],["monospace",`${e&&r?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{g(this,gf).read().then(({value:r,done:n})=>{if(n){g(this,bc).resolve();return}g(this,mf)??I(this,mf,r.lang),Object.assign(g(this,i0),r.styles),M(this,jl,cV).call(this,r.items),e()},g(this,bc).reject)};return I(this,gf,g(this,a0).getReader()),g(un,s0).add(this),e(),g(this,bc).promise}update({viewport:e,onBefore:r=null}){var a;const n=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==g(this,n0)&&(r==null||r(),I(this,n0,i),gd(g(this,r0),{rotation:i})),n!==g(this,Sc)){r==null||r(),I(this,Sc,n);const s={div:null,properties:null,ctx:M(a=un,xa,j1).call(a,g(this,mf))};for(const o of g(this,vf))s.properties=g(this,uy).get(o),s.div=o,M(this,jl,FC).call(this,s)}}cancel(){var r;const e=new Ld("TextLayer task cancelled.");(r=g(this,gf))==null||r.cancel(e).catch(()=>{}),I(this,gf,null),g(this,bc).reject(e)}get textDivs(){return g(this,vf)}get textContentItemsStr(){return g(this,cy)}static cleanup(){if(!(g(this,s0).size>0)){g(this,yf).clear();for(const{canvas:e}of g(this,xf).values())e.remove();g(this,xf).clear()}}};bc=new WeakMap,Fi=new WeakMap,ay=new WeakMap,sy=new WeakMap,mf=new WeakMap,Xo=new WeakMap,oy=new WeakMap,ly=new WeakMap,gf=new WeakMap,r0=new WeakMap,n0=new WeakMap,Sc=new WeakMap,i0=new WeakMap,cy=new WeakMap,a0=new WeakMap,vf=new WeakMap,uy=new WeakMap,fy=new WeakMap,yf=new WeakMap,xf=new WeakMap,dy=new WeakMap,Ac=new WeakMap,s0=new WeakMap,jl=new WeakSet,cV=function(e){var i,a;if(g(this,ay))return;(a=g(this,Xo)).ctx??(a.ctx=M(i=un,xa,j1).call(i,g(this,mf)));const r=g(this,vf),n=g(this,cy);for(const s of e){if(r.length>ROe){yt("Ignoring additional textDivs for performance reasons."),I(this,ay,!0);return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){const o=g(this,Fi);I(this,Fi,document.createElement("span")),g(this,Fi).classList.add("markedContent"),s.id!==null&&g(this,Fi).setAttribute("id",`${s.id}`),o.append(g(this,Fi))}else s.type==="endMarkedContent"&&I(this,Fi,g(this,Fi).parentNode);continue}n.push(s.str),M(this,jl,uV).call(this,s)}},uV=function(e){var p;const r=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};g(this,vf).push(r);const i=Ge.transform(g(this,fy),e.transform);let a=Math.atan2(i[1],i[0]);const s=g(this,i0)[e.fontName];s.vertical&&(a+=Math.PI/2);let o=g(this,sy)&&s.fontSubstitution||s.fontFamily;o=un.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),c=l*M(p=un,xa,dV).call(p,o,g(this,mf));let u,f;a===0?(u=i[4],f=i[5]-c):(u=i[4]+c*Math.sin(a),f=i[5]-c*Math.cos(a));const d="calc(var(--scale-factor)*",h=r.style;g(this,Fi)===g(this,r0)?(h.left=`${(100*u/g(this,ly)).toFixed(2)}%`,h.top=`${(100*f/g(this,oy)).toFixed(2)}%`):(h.left=`${d}${u.toFixed(2)}px)`,h.top=`${d}${f.toFixed(2)}px)`),h.fontSize=`${d}${(g(un,Ac)*l).toFixed(2)}px)`,h.fontFamily=o,n.fontSize=l,r.setAttribute("role","presentation"),r.textContent=e.str,r.dir=e.dir,g(this,sy)&&(r.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),a!==0&&(n.angle=a*(180/Math.PI));let m=!1;if(e.str.length>1)m=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const y=Math.abs(e.transform[0]),w=Math.abs(e.transform[3]);y!==w&&Math.max(y,w)/Math.min(y,w)>1.5&&(m=!0)}if(m&&(n.canvasWidth=s.vertical?e.height:e.width),g(this,uy).set(r,n),g(this,Xo).div=r,g(this,Xo).properties=n,M(this,jl,FC).call(this,g(this,Xo)),n.hasText&&g(this,Fi).append(r),n.hasEOL){const y=document.createElement("br");y.setAttribute("role","presentation"),g(this,Fi).append(y)}},FC=function(e){var o;const{div:r,properties:n,ctx:i}=e,{style:a}=r;let s="";if(g(un,Ac)>1&&(s=`scale(${1/g(un,Ac)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:l}=a,{canvasWidth:c,fontSize:u}=n;M(o=un,xa,LC).call(o,i,u*g(this,Sc),l);const{width:f}=i.measureText(r.textContent);f>0&&(s=`scaleX(${c*g(this,Sc)/f}) ${s}`)}n.angle!==0&&(s=`rotate(${n.angle}deg) ${s}`),s.length>0&&(a.transform=s)},xa=new WeakSet,j1=function(e=null){let r=g(this,xf).get(e||(e=""));if(!r){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),r=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),g(this,xf).set(e,r),g(this,dy).set(r,{size:0,family:""})}return r},LC=function(e,r,n){const i=g(this,dy).get(e);r===i.size&&n===i.family||(e.font=`${r}px ${n}`,i.size=r,i.family=n)},fV=function(){if(g(this,Ac)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),I(this,Ac,e.getBoundingClientRect().height),e.remove()},dV=function(e,r){const n=g(this,yf).get(e);if(n)return n;const i=M(this,xa,j1).call(this,r);i.canvas.width=i.canvas.height=Ni,M(this,xa,LC).call(this,i,Ni,e);const a=i.measureText("");let s=a.fontBoundingBoxAscent,o=Math.abs(a.fontBoundingBoxDescent);if(s){const u=s/(s+o);return g(this,yf).set(e,u),i.canvas.width=i.canvas.height=0,u}i.strokeStyle="red",i.clearRect(0,0,Ni,Ni),i.strokeText("g",0,0);let l=i.getImageData(0,0,Ni,Ni).data;o=0;for(let u=l.length-1-3;u>=0;u-=4)if(l[u]>0){o=Math.ceil(u/4/Ni);break}i.clearRect(0,0,Ni,Ni),i.strokeText("A",0,Ni),l=i.getImageData(0,0,Ni,Ni).data,s=0;for(let u=0,f=l.length;u<f;u+=4)if(l[u]>0){s=Ni-Math.floor(u/4/Ni);break}i.canvas.width=i.canvas.height=0;const c=s?s/(s+o):DOe;return g(this,yf).set(e,c),c},B(un,xa),B(un,yf,new Map),B(un,xf,new Map),B(un,dy,new WeakMap),B(un,Ac,null),B(un,s0,new Set);let kv=un;class Pv{static textContent(e){const r=[],n={items:r,styles:Object.create(null)};function i(a){var l;if(!a)return;let s=null;const o=a.name;if(o==="#text")s=a.value;else if(Pv.shouldBuildText(o))(l=a==null?void 0:a.attributes)!=null&&l.textContent?s=a.attributes.textContent:a.value&&(s=a.value);else return;if(s!==null&&r.push({str:s}),!!a.children)for(const c of a.children)i(c)}return i(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const FOe=65536,LOe=100,$Oe=5e3,BOe=fi?JIe:XIe,jOe=fi?ZIe:X7,UOe=fi?YIe:KIe,VOe=fi?QIe:Z7;function HOe(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new $C,{docId:r}=e,n=t.url?WOe(t.url):null,i=t.data?zOe(t.data):null,a=t.httpHeaders||null,s=t.withCredentials===!0,o=t.password??null,l=t.range instanceof hV?t.range:null,c=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:FOe;let u=t.worker instanceof Lh?t.worker:null;const f=t.verbosity,d=typeof t.docBaseUrl=="string"&&!zS(t.docBaseUrl)?t.docBaseUrl:null,h=typeof t.cMapUrl=="string"?t.cMapUrl:null,m=t.cMapPacked!==!1,p=t.CMapReaderFactory||jOe,y=typeof t.standardFontDataUrl=="string"?t.standardFontDataUrl:null,w=t.StandardFontDataFactory||VOe,b=t.stopAtErrors!==!0,_=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,A=t.isEvalSupported!==!1,S=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!fi,T=typeof t.isChrome=="boolean"?t.isChrome:!Ci.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),E=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,P=typeof t.disableFontFace=="boolean"?t.disableFontFace:fi,k=t.fontExtraProperties===!0,N=t.enableXfa===!0,O=t.ownerDocument||globalThis.document,R=t.disableRange===!0,W=t.disableStream===!0,Q=t.disableAutoFetch===!0,j=t.pdfBug===!0,Y=t.CanvasFactory||BOe,J=t.FilterFactory||UOe,Z=t.enableHWA===!0,V=l?l.length:t.length??NaN,te=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!fi&&!P,se=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:p===X7&&w===Z7&&h&&y&&Sm(h,document.baseURI)&&Sm(y,document.baseURI);t.canvasFactory&&dL("`canvasFactory`-instance option, please use `CanvasFactory` instead."),t.filterFactory&&dL("`filterFactory`-instance option, please use `FilterFactory` instead.");const D=null;TIe(f);const q={canvasFactory:new Y({ownerDocument:O,enableHWA:Z}),filterFactory:new J({docId:r,ownerDocument:O}),cMapReaderFactory:se?null:new p({baseUrl:h,isCompressed:m}),standardFontDataFactory:se?null:new w({baseUrl:y})};if(!u){const ae={verbosity:f,port:dl.workerPort};u=ae.port?Lh.fromPort(ae):new Lh(ae),e._worker=u}const X={docId:r,apiVersion:"4.8.69",data:i,password:o,disableAutoFetch:Q,rangeChunkSize:c,length:V,docBaseUrl:d,enableXfa:N,evaluatorOptions:{maxImageSize:_,disableFontFace:P,ignoreErrors:b,isEvalSupported:A,isOffscreenCanvasSupported:S,isChrome:T,canvasMaxAreaInBytes:E,fontExtraProperties:k,useSystemFonts:te,cMapUrl:se?h:null,standardFontDataUrl:se?y:null}},ee={disableFontFace:P,fontExtraProperties:k,ownerDocument:O,pdfBug:j,styleElement:D,loadingParams:{disableAutoFetch:Q,enableXfa:N}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const ae=u.messageHandler.sendWithPromise("GetDocRequest",X,i?[i.buffer]:null);let ue;if(l)ue=new gOe(l,{disableRange:R,disableStream:W});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");let ve;fi?ve=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Sm(n)?AL:POe:ve=Sm(n)?AL:AOe,ue=new ve({url:n,length:V,httpHeaders:a,withCredentials:s,rangeChunkSize:c,disableRange:R,disableStream:W})}return ae.then(ve=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const ie=new Im(r,ve,u.port),ce=new KOe(ie,e,ue,ee,q);e._transport=ce,ie.send("Ready",null)})}).catch(e._capability.reject),e}function WOe(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(fi&&typeof t=="string")return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function zOe(t){if(fi&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return HS(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function TL(t){return typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0}var yb;const xb=class xb{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${vi(xb,yb)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,r,n;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((r=this._transport)==null?void 0:r.destroy())}catch(i){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};yb=new WeakMap,B(xb,yb,0);let $C=xb;class hV{constructor(e,r,n=!1,i=null){this.length=e,this.initialData=r,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,r){for(const n of this._rangeListeners)n(e,r)}onDataProgress(e,r){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(e,r)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const r of this._progressiveReadListeners)r(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,r){ur("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class GOe{constructor(e,r){this._pdfInfo=e,this._transport=r}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ct(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:r}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(r)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Tc,Ko,Wa,th,U1;class qOe{constructor(e,r,n,i=!1){B(this,Wa);B(this,Tc,null);B(this,Ko,!1);this._pageIndex=e,this._pageInfo=r,this._transport=n,this._stats=i?new fL:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new pV,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:r=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:a=!1}={}){return new px({viewBox:this.view,scale:e,rotation:r,offsetX:n,offsetY:i,dontFlip:a})}getAnnotations({intent:e="display"}={}){const{renderingIntent:r}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,r)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ct(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:r,intent:n="display",annotationMode:i=cc.ENABLE,transform:a=null,background:s=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:u=null,isEditing:f=!1}){var A,S;(A=this._stats)==null||A.time("Overall");const d=this._transport.getRenderingIntent(n,i,u,f),{renderingIntent:h,cacheKey:m}=d;I(this,Ko,!1),M(this,Wa,U1).call(this),o||(o=this._transport.getOptionalContentConfig(h));let p=this._intentStates.get(m);p||(p=Object.create(null),this._intentStates.set(m,p)),p.streamReaderCancelTimeout&&(clearTimeout(p.streamReaderCancelTimeout),p.streamReaderCancelTimeout=null);const y=!!(h&la.PRINT);p.displayReadyCapability||(p.displayReadyCapability=Promise.withResolvers(),p.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(S=this._stats)==null||S.time("Page Request"),this._pumpOperatorList(d));const w=T=>{var E;p.renderTasks.delete(b),(this._maybeCleanupAfterRender||y)&&I(this,Ko,!0),M(this,Wa,th).call(this,!y),T?(b.capability.reject(T),this._abortOperatorList({intentState:p,reason:T instanceof Error?T:new Error(T)})):b.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(E=globalThis.Stats)!=null&&E.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},b=new jC({callback:w,params:{canvasContext:e,viewport:r,transform:a,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:p.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:c});(p.renderTasks||(p.renderTasks=new Set)).add(b);const _=b.task;return Promise.all([p.displayReadyCapability.promise,o]).then(([T,E])=>{var P;if(this.destroyed){w();return}if((P=this._stats)==null||P.time("Rendering"),!(E.renderingIntent&h))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");b.initializeGraphics({transparency:T,optionalContentConfig:E}),b.operatorListChanged()}).catch(w),_}getOperatorList({intent:e="display",annotationMode:r=cc.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){var c;function a(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const s=this._transport.getRenderingIntent(e,r,n,i,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=a,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:r=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:r===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Pv.textContent(n));const r=this.streamTextContent(e);return new Promise(function(n,i){function a(){s.read().then(function({value:l,done:c}){if(c){n(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),a()},i)}const s=r.getReader(),o={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const r of this._intentStates.values())if(this._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),!r.opListReadCapability)for(const n of r.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),I(this,Ko,!1),M(this,Wa,U1).call(this),Promise.all(e)}cleanup(e=!1){I(this,Ko,!0);const r=M(this,Wa,th).call(this,!1);return e&&r&&this._stats&&(this._stats=new fL),r}_startRenderPage(e,r){var i,a;const n=this._intentStates.get(r);n&&((i=this._stats)==null||i.timeEnd("Page Request"),(a=n.displayReadyCapability)==null||a.resolve(e))}_renderPageChunk(e,r){for(let n=0,i=e.length;n<i;n++)r.operatorList.fnArray.push(e.fnArray[n]),r.operatorList.argsArray.push(e.argsArray[n]);r.operatorList.lastChunk=e.lastChunk,r.operatorList.separateAnnots=e.separateAnnots;for(const n of r.renderTasks)n.operatorListChanged();e.lastChunk&&M(this,Wa,th).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:r,annotationStorageSerializable:n,modifiedIds:i}){const{map:a,transfer:s}=n,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:r,annotationStorage:a,modifiedIds:i},s).getReader(),c=this._intentStates.get(r);c.streamReader=l;const u=()=>{l.read().then(({value:f,done:d})=>{if(d){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(f,c),u())},f=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const d of c.renderTasks)d.operatorListChanged();M(this,Wa,th).call(this,!0)}if(c.displayReadyCapability)c.displayReadyCapability.reject(f);else if(c.opListReadCapability)c.opListReadCapability.reject(f);else throw f}})};u()}_abortOperatorList({intentState:e,reason:r,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(r instanceof MO){let i=LOe;r.extraDelay>0&&r.extraDelay<1e3&&(i+=r.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:r,force:!0})},i);return}}if(e.streamReader.cancel(new Ld(r.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,a]of this._intentStates)if(a===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Tc=new WeakMap,Ko=new WeakMap,Wa=new WeakSet,th=function(e=!1){if(M(this,Wa,U1).call(this),!g(this,Ko)||this.destroyed)return!1;if(e)return I(this,Tc,setTimeout(()=>{I(this,Tc,null),M(this,Wa,th).call(this,!1)},$Oe)),!1;for(const{renderTasks:r,operatorList:n}of this._intentStates.values())if(r.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),I(this,Ko,!1),!0},U1=function(){g(this,Tc)&&(clearTimeout(g(this,Tc)),I(this,Tc,null))};var Yo,wb;class XOe{constructor(){B(this,Yo,new Map);B(this,wb,Promise.resolve())}postMessage(e,r){const n={data:structuredClone(e,r?{transfer:r}:null)};g(this,wb).then(()=>{for(const[i]of g(this,Yo))i.call(this,n)})}addEventListener(e,r,n=null){let i=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:a}=n;if(a.aborted){yt("LoopbackPort - cannot use an `aborted` signal.");return}const s=()=>this.removeEventListener(e,r);i=()=>a.removeEventListener("abort",s),a.addEventListener("abort",s)}g(this,Yo).set(r,i)}removeEventListener(e,r){const n=g(this,Yo).get(r);n==null||n(),g(this,Yo).delete(r)}terminate(){for(const[,e]of g(this,Yo))e==null||e();g(this,Yo).clear()}}Yo=new WeakMap,wb=new WeakMap;var _b,wf,_f,o0,V1,l0,H1;const gr=class gr{constructor({name:e=null,port:r=null,verbosity:n=EIe()}={}){B(this,o0);var i;if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,r){if((i=g(gr,_f))!=null&&i.has(r))throw new Error("Cannot use more than one PDFWorker per port.");(g(gr,_f)||I(gr,_f,new WeakMap)).set(r,this),this._initializeFromPort(r);return}this._initialize()}get promise(){return fi?Promise.all([ou.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Im("main","worker",e),this._messageHandler.on("ready",function(){}),M(this,o0,V1).call(this)}_initialize(){if(g(gr,wf)||g(gr,l0,H1)){this._setupFakeWorker();return}let{workerSrc:e}=gr;try{gr._isSameOrigin(window.location.href,e)||(e=gr._createCDNWrapper(new URL(e,window.location).href));const r=new Worker(e,{type:"module"}),n=new Im("main","worker",r),i=()=>{a.abort(),n.destroy(),r.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},a=new AbortController;r.addEventListener("error",()=>{this._webWorker||i()},{signal:a.signal}),n.on("test",o=>{if(a.abort(),this.destroyed||!o){i();return}this._messageHandler=n,this._port=r,this._webWorker=r,M(this,o0,V1).call(this)}),n.on("ready",o=>{if(a.abort(),this.destroyed){i();return}try{s()}catch{this._setupFakeWorker()}});const s=()=>{const o=new Uint8Array;n.send("test",o,[o.buffer])};s();return}catch{US("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){g(gr,wf)||(yt("Setting up fake worker."),I(gr,wf,!0)),gr._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const r=new XOe;this._port=r;const n=`fake${vi(gr,_b)._++}`,i=new Im(n+"_worker",n,r);e.setup(i,r),this._messageHandler=new Im(n,n+"_worker",r),M(this,o0,V1).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=g(gr,_f))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var n;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const r=(n=g(this,_f))==null?void 0:n.get(e.port);if(r){if(r._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return r}return new gr(e)}static get workerSrc(){if(dl.workerSrc)return dl.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ct(this,"_setupFakeWorkerGlobal",(async()=>g(this,l0,H1)?g(this,l0,H1):(await import(this.workerSrc)).WorkerMessageHandler)())}};_b=new WeakMap,wf=new WeakMap,_f=new WeakMap,o0=new WeakSet,V1=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},l0=new WeakSet,H1=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},B(gr,l0),B(gr,_b,0),B(gr,wf,!1),B(gr,_f),fi&&(I(gr,wf,!0),dl.workerSrc||(dl.workerSrc="./pdf.worker.mjs")),gr._isSameOrigin=(e,r)=>{let n;try{if(n=new URL(e),!n.origin||n.origin==="null")return!1}catch{return!1}const i=new URL(r,n);return n.origin===i.origin},gr._createCDNWrapper=e=>{const r=`await import("${e}");`;return URL.createObjectURL(new Blob([r],{type:"text/javascript"}))};let Lh=gr;var Jo,oo,c0,u0,lo,bf,Om;class KOe{constructor(e,r,n,i,a){B(this,bf);B(this,Jo,new Map);B(this,oo,new Map);B(this,c0,new Map);B(this,u0,new Map);B(this,lo,null);this.messageHandler=e,this.loadingTask=r,this.commonObjs=new pV,this.fontLoader=new GIe({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ct(this,"annotationStorage",new FO)}getRenderingIntent(e,r=cc.ENABLE,n=null,i=!1,a=!1){let s=la.DISPLAY,o=CC;switch(e){case"any":s=la.ANY;break;case"display":break;case"print":s=la.PRINT;break;default:yt(`getRenderingIntent - invalid intent: ${e}`)}const l=s&la.PRINT&&n instanceof z7?n:this.annotationStorage;switch(r){case cc.DISABLE:s+=la.ANNOTATIONS_DISABLE;break;case cc.ENABLE:break;case cc.ENABLE_FORMS:s+=la.ANNOTATIONS_FORMS;break;case cc.ENABLE_STORAGE:s+=la.ANNOTATIONS_STORAGE,o=l.serializable;break;default:yt(`getRenderingIntent - invalid annotationMode: ${r}`)}i&&(s+=la.IS_EDITING),a&&(s+=la.OPLIST);const{ids:c,hash:u}=l.modifiedIds,f=[s,o.hash,u];return{renderingIntent:s,cacheKey:f.join("_"),annotationStorageSerializable:o,modifiedIds:c}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=g(this,lo))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of g(this,oo).values())e.push(i._destroy());g(this,oo).clear(),g(this,c0).clear(),g(this,u0).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const r=this.messageHandler.sendWithPromise("Terminate",null);return e.push(r),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),g(this,Jo).clear(),this.filterFactory.destroy(),kv.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Ld("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:r}=this;e.on("GetReader",(n,i)=>{gn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},i.onPull=()=>{this._fullReader.read().then(function({value:a,done:s}){if(s){i.close();return}gn(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{this._fullReader.cancel(a),i.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("ReaderHeadersReady",async n=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:a,contentLength:s}=this._fullReader;return(!i||!a)&&(this._lastProgress&&((o=r.onProgress)==null||o.call(r,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=r.onProgress)==null||c.call(r,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:a,contentLength:s}}),e.on("GetRangeReader",(n,i)=>{gn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(n.begin,n.end);if(!a){i.close();return}i.onPull=()=>{a.read().then(function({value:s,done:o}){if(o){i.close();return}gn(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{a.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,r._capability.resolve(new GOe(n,this))}),e.on("DocException",function(n){let i;switch(n.name){case"PasswordException":i=new aC(n.message,n.code);break;case"InvalidPDFException":i=new v7(n.message);break;case"MissingPDFException":i=new Fd(n.message);break;case"UnexpectedResponseException":i=new VS(n.message,n.status);break;case"UnknownErrorException":i=new sC(n.message,n.details);break;default:ur("DocException - expected a valid Error.")}r._capability.reject(i)}),e.on("PasswordRequest",n=>{if(I(this,lo,Promise.withResolvers()),r.onPassword){const i=a=>{a instanceof Error?g(this,lo).reject(a):g(this,lo).resolve({password:a})};try{r.onPassword(i,n.code)}catch(a){g(this,lo).reject(a)}}else g(this,lo).reject(new aC(n.message,n.code));return g(this,lo).promise}),e.on("DataLoaded",n=>{var i;(i=r.onProgress)==null||i.call(r,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;g(this,oo).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,i,a])=>{var s;if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":const{disableFontFace:o,fontExtraProperties:l,pdfBug:c}=this._params;if("error"in a){const h=a.error;yt(`Error during font loading: ${h}`),this.commonObjs.resolve(n,h);break}const u=c&&((s=globalThis.FontInspector)!=null&&s.enabled)?(h,m)=>globalThis.FontInspector.fontAdded(h,m):null,f=new qIe(a,{disableFontFace:o,inspectFont:u});this.fontLoader.bind(f).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!l&&f.data&&(f.data=null),this.commonObjs.resolve(n,f)});break;case"CopyLocalImage":const{imageRef:d}=a;gn(d,"The imageRef must be defined.");for(const h of g(this,oo).values())for(const[,m]of h.objs)if((m==null?void 0:m.ref)===d)return m.dataLen?(this.commonObjs.resolve(n,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,a);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([n,i,a,s])=>{var l;if(this.destroyed)return;const o=g(this,oo).get(i);if(!o.objs.has(n)){if(o._intentStates.size===0){(l=s==null?void 0:s.bitmap)==null||l.close();return}switch(a){case"Image":o.objs.resolve(n,s),(s==null?void 0:s.dataLen)>_Ie&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(n,s);break;default:throw new Error(`Got unknown object type ${a}`)}}}),e.on("DocProgress",n=>{var i;this.destroyed||(i=r.onProgress)==null||i.call(r,{loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),e.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&yt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:r}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},r).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const r=e-1,n=g(this,c0).get(r);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:r}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&g(this,u0).set(a.refStr,e);const s=new qOe(r,a,this,this._params.pdfBug);return g(this,oo).set(r,s),s});return g(this,c0).set(r,i),i}getPageIndex(e){return TL(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:r})}getFieldObjects(){return M(this,bf,Om).call(this,"GetFieldObjects")}hasJSActions(){return M(this,bf,Om).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return M(this,bf,Om).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return M(this,bf,Om).call(this,"GetOptionalContentConfig").then(r=>new mOe(r,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",r=g(this,Jo).get(e);if(r)return r;const n=this.messageHandler.sendWithPromise(e,null).then(i=>{var a,s;return{info:i[0],metadata:i[1]?new hOe(i[1]):null,contentDispositionFilename:((a=this._fullReader)==null?void 0:a.filename)??null,contentLength:((s=this._fullReader)==null?void 0:s.contentLength)??null}});return g(this,Jo).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const r of g(this,oo).values())if(!r.cleanup())throw new Error(`startCleanup: Page ${r.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),g(this,Jo).clear(),this.filterFactory.destroy(!0),kv.cleanup()}}cachedPageNumber(e){if(!TL(e))return null;const r=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return g(this,u0).get(r)??null}}Jo=new WeakMap,oo=new WeakMap,c0=new WeakMap,u0=new WeakMap,lo=new WeakMap,bf=new WeakSet,Om=function(e,r=null){const n=g(this,Jo).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,r);return g(this,Jo).set(e,i),i};const p1=Symbol("INITIAL_DATA");var xs,hy,BC;class pV{constructor(){B(this,hy);B(this,xs,Object.create(null))}get(e,r=null){if(r){const i=M(this,hy,BC).call(this,e);return i.promise.then(()=>r(i.data)),null}const n=g(this,xs)[e];if(!n||n.data===p1)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const r=g(this,xs)[e];return!!r&&r.data!==p1}resolve(e,r=null){const n=M(this,hy,BC).call(this,e);n.data=r,n.resolve()}clear(){var e;for(const r in g(this,xs)){const{data:n}=g(this,xs)[r];(e=n==null?void 0:n.bitmap)==null||e.close()}I(this,xs,Object.create(null))}*[Symbol.iterator](){for(const e in g(this,xs)){const{data:r}=g(this,xs)[e];r!==p1&&(yield[e,r])}}}xs=new WeakMap,hy=new WeakSet,BC=function(e){var r;return(r=g(this,xs))[e]||(r[e]={...Promise.withResolvers(),data:p1})};var Ec;class YOe{constructor(e){B(this,Ec,null);I(this,Ec,e),this.onContinue=null}get promise(){return g(this,Ec).capability.promise}cancel(e=0){g(this,Ec).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=g(this,Ec).operatorList;if(!e)return!1;const{annotationCanvasMap:r}=g(this,Ec);return e.form||e.canvas&&(r==null?void 0:r.size)>0}}Ec=new WeakMap;var Cc,Sf;const Bu=class Bu{constructor({callback:e,params:r,objs:n,commonObjs:i,annotationCanvasMap:a,operatorList:s,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:f=!1,pageColors:d=null}){B(this,Cc,null);this.callback=e,this.params=r,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=f,this.pageColors=d,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new YOe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:r}){var o,l;if(this.cancelled)return;if(this._canvas){if(g(Bu,Sf).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");g(Bu,Sf).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:i,transform:a,background:s}=this.params;this.gfx=new Fh(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:r},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:i,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,r=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),g(this,Cc)&&(window.cancelAnimationFrame(g(this,Cc)),I(this,Cc,null)),g(Bu,Sf).delete(this._canvas),this.callback(e||new MO(`Rendering cancelled, page ${this._pageIndex+1}`,r))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?I(this,Cc,window.requestAnimationFrame(()=>{I(this,Cc,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),g(Bu,Sf).delete(this._canvas),this.callback())))}};Cc=new WeakMap,Sf=new WeakMap,B(Bu,Sf,new WeakSet);let jC=Bu;const JOe="4.8.69",ZOe="3634dab10";function EL(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function hm(t){return Math.max(0,Math.min(255,255*t))}class CL{static CMYK_G([e,r,n,i]){return["G",1-Math.min(1,.3*e+.59*n+.11*r+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=hm(e),[e,e,e]}static G_HTML([e]){const r=EL(e);return`#${r}${r}${r}`}static RGB_G([e,r,n]){return["G",.3*e+.59*r+.11*n]}static RGB_rgb(e){return e.map(hm)}static RGB_HTML(e){return`#${e.map(EL).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,r,n,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,n+i),1-Math.min(1,r+i)]}static CMYK_rgb([e,r,n,i]){return[hm(1-Math.min(1,e+i)),hm(1-Math.min(1,n+i)),hm(1-Math.min(1,r+i))]}static CMYK_HTML(e){const r=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(r)}static RGB_CMYK([e,r,n]){const i=1-e,a=1-r,s=1-n,o=Math.min(i,a,s);return["CMYK",i,a,s,o]}}class QOe{create(e,r,n=!1){if(e<=0||r<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${r}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${r}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){ur("Abstract method `_createSVG` called.")}}class UO extends QOe{_createSVG(e){return document.createElementNS(Lo,e)}}class mV{static setupStorage(e,r,n,i,a){const s=i.getValue(r,{value:null});switch(n.name){case"textarea":if(s.value!==null&&(e.textContent=s.value),a==="print")break;e.addEventListener("input",o=>{i.setValue(r,{value:o.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(s.value===n.attributes.xfaOn?e.setAttribute("checked",!0):s.value===n.attributes.xfaOff&&e.removeAttribute("checked"),a==="print")break;e.addEventListener("change",o=>{i.setValue(r,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&e.setAttribute("value",s.value),a==="print")break;e.addEventListener("input",o=>{i.setValue(r,{value:o.target.value})})}break;case"select":if(s.value!==null){e.setAttribute("value",s.value);for(const o of n.children)o.attributes.value===s.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(r,{value:c})});break}}static setAttributes({html:e,element:r,storage:n=null,intent:i,linkService:a}){const{attributes:s}=r,o=e instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${i}`);for(const[l,c]of Object.entries(s))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}o&&a.addLinkAttributes(e,s.href,s.newWindow),n&&s.dataId&&this.setupStorage(e,s.dataId,r,n)}static render(e){var f,d;const r=e.annotationStorage,n=e.linkService,i=e.xfaHtml,a=e.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:a,linkService:n});const o=a!=="richText",l=e.div;if(l.append(s),e.viewport){const h=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=h}o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const h=document.createTextNode(i.value);s.append(h),o&&Pv.shouldBuildText(i.name)&&c.push(h)}return{textDivs:c}}const u=[[i,-1,s]];for(;u.length>0;){const[h,m,p]=u.at(-1);if(m+1===h.children.length){u.pop();continue}const y=h.children[++u.at(-1)[1]];if(y===null)continue;const{name:w}=y;if(w==="#text"){const _=document.createTextNode(y.value);c.push(_),p.append(_);continue}const b=(f=y==null?void 0:y.attributes)!=null&&f.xmlns?document.createElementNS(y.attributes.xmlns,w):document.createElement(w);if(p.append(b),y.attributes&&this.setAttributes({html:b,element:y,storage:r,intent:a,linkService:n}),((d=y.children)==null?void 0:d.length)>0)u.push([y,-1,b]);else if(y.value){const _=document.createTextNode(y.value);o&&Pv.shouldBuildText(w)&&c.push(_),b.append(_)}}for(const h of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))h.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const r=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=r,e.div.hidden=!1}}const gx=1e3,eMe=9,yd=new WeakSet;function Cl(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class tMe{static create(e){switch(e.data.annotationType){case cn.LINK:return new gV(e);case cn.TEXT:return new rMe(e);case cn.WIDGET:switch(e.data.fieldType){case"Tx":return new nMe(e);case"Btn":return e.data.radioButton?new xV(e):e.data.checkBox?new aMe(e):new sMe(e);case"Ch":return new oMe(e);case"Sig":return new iMe(e)}return new $d(e);case cn.POPUP:return new VC(e);case cn.FREETEXT:return new AV(e);case cn.LINE:return new cMe(e);case cn.SQUARE:return new uMe(e);case cn.CIRCLE:return new fMe(e);case cn.POLYLINE:return new TV(e);case cn.CARET:return new hMe(e);case cn.INK:return new VO(e);case cn.POLYGON:return new dMe(e);case cn.HIGHLIGHT:return new EV(e);case cn.UNDERLINE:return new pMe(e);case cn.SQUIGGLY:return new mMe(e);case cn.STRIKEOUT:return new gMe(e);case cn.STAMP:return new CV(e);case cn.FILEATTACHMENT:return new vMe(e);default:return new Gr(e)}}}var Af,f0,d0,py,UC;const KO=class KO{constructor(e,{isRenderable:r=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){B(this,py);B(this,Af,null);B(this,f0,!1);B(this,d0,null);this.isRenderable=r,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,r&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:r,richText:n}){return!!(e!=null&&e.str||r!=null&&r.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return KO._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;g(this,Af)||I(this,Af,{rect:this.data.rect.slice(0)});const{rect:r}=e;r&&M(this,py,UC).call(this,r),(n=g(this,d0))==null||n.popup.updateEdited(e)}resetEdited(){var e;g(this,Af)&&(M(this,py,UC).call(this,g(this,Af).rect),(e=g(this,d0))==null||e.popup.resetEdited(),I(this,Af,null))}_createContainer(e){const{data:r,parent:{page:n,viewport:i}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",r.id),this instanceof $d||(a.tabIndex=gx);const{style:s}=a;if(s.zIndex=this.parent.zIndex++,r.alternativeText&&(a.title=r.alternativeText),r.noRotate&&a.classList.add("norotate"),!r.rect||this instanceof VC){const{rotation:p}=r;return!r.hasOwnCanvas&&p!==0&&this.setRotation(p,a),a}const{width:o,height:l}=Cl(r.rect);if(!e&&r.borderStyle.width>0){s.borderWidth=`${r.borderStyle.width}px`;const p=r.borderStyle.horizontalCornerRadius,y=r.borderStyle.verticalCornerRadius;if(p>0||y>0){const b=`calc(${p}px * var(--scale-factor)) / calc(${y}px * var(--scale-factor))`;s.borderRadius=b}else if(this instanceof xV){const b=`calc(${o}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;s.borderRadius=b}switch(r.borderStyle.style){case fm.SOLID:s.borderStyle="solid";break;case fm.DASHED:s.borderStyle="dashed";break;case fm.BEVELED:yt("Unimplemented border style: beveled");break;case fm.INSET:yt("Unimplemented border style: inset");break;case fm.UNDERLINE:s.borderBottomStyle="solid";break}const w=r.borderColor||null;w?(I(this,f0,!0),s.borderColor=Ge.makeHexColor(w[0]|0,w[1]|0,w[2]|0)):s.borderWidth=0}const c=Ge.normalizeRect([r.rect[0],n.view[3]-r.rect[1]+n.view[1],r.rect[2],n.view[3]-r.rect[3]+n.view[1]]),{pageWidth:u,pageHeight:f,pageX:d,pageY:h}=i.rawDims;s.left=`${100*(c[0]-d)/u}%`,s.top=`${100*(c[1]-h)/f}%`;const{rotation:m}=r;return r.hasOwnCanvas||m===0?(s.width=`${100*o/u}%`,s.height=`${100*l/f}%`):this.setRotation(m,a),a}setRotation(e,r=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims,{width:a,height:s}=Cl(this.data.rect);let o,l;e%180===0?(o=100*a/n,l=100*s/i):(o=100*s/n,l=100*a/i),r.style.width=`${o}%`,r.style.height=`${l}%`,r.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(r,n,i)=>{const a=i.detail[r],s=a[0],o=a.slice(1);i.target.style[n]=CL[`${s}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[n]:CL[`${s}_rgb`](o)})};return Ct(this,"_commonActions",{display:r=>{const{display:n}=r.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:r=>{this.annotationStorage.setValue(this.data.id,{noPrint:!r.detail.print})},hidden:r=>{const{hidden:n}=r.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:r=>{setTimeout(()=>r.target.focus({preventScroll:!1}),0)},userName:r=>{r.target.title=r.detail.userName},readonly:r=>{r.target.disabled=r.detail.readonly},required:r=>{this._setRequired(r.target,r.detail.required)},bgColor:r=>{e("bgColor","backgroundColor",r)},fillColor:r=>{e("fillColor","backgroundColor",r)},fgColor:r=>{e("fgColor","color",r)},textColor:r=>{e("textColor","color",r)},borderColor:r=>{e("borderColor","borderColor",r)},strokeColor:r=>{e("strokeColor","borderColor",r)},rotation:r=>{const n=r.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,r){const n=this._commonActions;for(const i of Object.keys(r.detail)){const a=e[i]||n[i];a==null||a(r)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const r=this.annotationStorage.getRawValue(this.data.id);if(!r)return;const n=this._commonActions;for(const[i,a]of Object.entries(r)){const s=n[i];if(s){const o={detail:{[i]:a},target:e};s(o),delete r[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[r,n,i,a]=this.data.rect.map(p=>Math.fround(p));if(e.length===8){const[p,y,w,b]=e.subarray(2,6);if(i===p&&a===y&&r===w&&n===b)return}const{style:s}=this.container;let o;if(g(this,f0)){const{borderColor:p,borderWidth:y}=s;s.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${p}" stroke-width="${y}">`],this.container.classList.add("hasBorder")}const l=i-r,c=a-n,{svgFactory:u}=this,f=u.createElement("svg");f.classList.add("quadrilateralsContainer"),f.setAttribute("width",0),f.setAttribute("height",0);const d=u.createElement("defs");f.append(d);const h=u.createElement("clipPath"),m=`clippath_${this.data.id}`;h.setAttribute("id",m),h.setAttribute("clipPathUnits","objectBoundingBox"),d.append(h);for(let p=2,y=e.length;p<y;p+=8){const w=e[p],b=e[p+1],_=e[p+2],A=e[p+3],S=u.createElement("rect"),T=(_-r)/l,E=(a-b)/c,P=(w-_)/l,k=(b-A)/c;S.setAttribute("x",T),S.setAttribute("y",E),S.setAttribute("width",P),S.setAttribute("height",k),h.append(S),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${T}" y="${E}" width="${P}" height="${k}"/>`)}g(this,f0)&&(o.push("</g></svg>')"),s.backgroundImage=o.join("")),this.container.append(f),this.container.style.clipPath=`url(#${m})`}_createPopup(){const{data:e}=this,r=I(this,d0,new VC({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(r.render())}render(){ur("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,r=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:a,id:s,exportValues:o}of i){if(a===-1||s===r)continue;const l=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${s}"]`);if(c&&!yd.has(c)){yt(`_getElementsByName - element not allowed: ${s}`);continue}n.push({id:s,exportValue:l,domElement:c})}return n}for(const i of document.getElementsByName(e)){const{exportValue:a}=i,s=i.getAttribute("data-element-id");s!==r&&yd.has(i)&&n.push({id:s,exportValue:a,domElement:i})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const r of e)r.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:r}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:r})})}};Af=new WeakMap,f0=new WeakMap,d0=new WeakMap,py=new WeakSet,UC=function(e){const{container:{style:r},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:s,pageX:o,pageY:l}}}}=this;n==null||n.splice(0,4,...e);const{width:c,height:u}=Cl(e);r.left=`${100*(e[0]-o)/a}%`,r.top=`${100*(s-e[3]+l)/s}%`,i===0?(r.width=`${100*c/a}%`,r.height=`${100*u/s}%`):this.setRotation(i)};let Gr=KO;var ha,Nu,vV,yV;class gV extends Gr{constructor(r,n=null){super(r,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});B(this,ha);this.isTooltipOnly=r.data.isTooltipOnly}render(){const{data:r,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",r.id);let a=!1;return r.url?(n.addLinkAttributes(i,r.url,r.newWindow),a=!0):r.action?(this._bindNamedAction(i,r.action),a=!0):r.attachment?(M(this,ha,vV).call(this,i,r.attachment,r.attachmentDest),a=!0):r.setOCGState?(M(this,ha,yV).call(this,i,r.setOCGState),a=!0):r.dest?(this._bindLink(i,r.dest),a=!0):(r.actions&&(r.actions.Action||r.actions["Mouse Up"]||r.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,r),a=!0),r.resetForm?(this._bindResetFormAction(i,r.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(i,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(i),this.container}_bindLink(r,n){r.href=this.linkService.getDestinationHash(n),r.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&M(this,ha,Nu).call(this)}_bindNamedAction(r,n){r.href=this.linkService.getAnchorUrl(""),r.onclick=()=>(this.linkService.executeNamedAction(n),!1),M(this,ha,Nu).call(this)}_bindJSAction(r,n){r.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(n.actions)){const s=i.get(a);s&&(r[s]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:a}}),!1})}r.onclick||(r.onclick=()=>!1),M(this,ha,Nu).call(this)}_bindResetFormAction(r,n){const i=r.onclick;if(i||(r.href=this.linkService.getAnchorUrl("")),M(this,ha,Nu).call(this),!this._fieldObjects){yt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(r.onclick=()=>!1);return}r.onclick=()=>{var f;i==null||i();const{fields:a,refs:s,include:o}=n,l=[];if(a.length!==0||s.length!==0){const d=new Set(s);for(const h of a){const m=this._fieldObjects[h]||[];for(const{id:p}of m)d.add(p)}for(const h of Object.values(this._fieldObjects))for(const m of h)d.has(m.id)===o&&l.push(m)}else for(const d of Object.values(this._fieldObjects))l.push(...d);const c=this.annotationStorage,u=[];for(const d of l){const{id:h}=d;switch(u.push(h),d.type){case"text":{const p=d.defaultValue||"";c.setValue(h,{value:p});break}case"checkbox":case"radiobutton":{const p=d.defaultValue===d.exportValues;c.setValue(h,{value:p});break}case"combobox":case"listbox":{const p=d.defaultValue||"";c.setValue(h,{value:p});break}default:continue}const m=document.querySelector(`[data-element-id="${h}"]`);if(m){if(!yd.has(m)){yt(`_bindResetFormAction - element not allowed: ${h}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}ha=new WeakSet,Nu=function(){this.container.setAttribute("data-internal-link","")},vV=function(r,n,i=null){r.href=this.linkService.getAnchorUrl(""),n.description&&(r.title=n.description),r.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(n.content,n.filename,i),!1},M(this,ha,Nu).call(this)},yV=function(r,n){r.href=this.linkService.getAnchorUrl(""),r.onclick=()=>(this.linkService.executeSetOCGState(n),!1),M(this,ha,Nu).call(this)};class rMe extends Gr{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class $d extends Gr{render(){return this.container}showElementAndHideCanvas(e){var r;this.data.hasOwnCanvas&&(((r=e.previousSibling)==null?void 0:r.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Ci.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,r,n,i,a){n.includes("mouse")?e.addEventListener(n,s=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):e.addEventListener(n,s=>{var o;if(n==="blur"){if(!r.focused||!s.relatedTarget)return;r.focused=!1}else if(n==="focus"){if(r.focused)return;r.focused=!0}a&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(s)}}))})}_setEventListeners(e,r,n,i){var a,s,o;for(const[l,c]of n)(c==="Action"||(a=this.data.actions)!=null&&a[c])&&((c==="Focus"||c==="Blur")&&(r||(r={focused:!1})),this._setEventListener(e,r,l,c,i),c==="Focus"&&!((s=this.data.actions)!=null&&s.Blur)?this._setEventListener(e,r,"blur","Blur",null):c==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,r,"focus","Focus",null))}_setBackgroundColor(e){const r=this.data.backgroundColor||null;e.style.backgroundColor=r===null?"transparent":Ge.makeHexColor(r[0],r[1],r[2])}_setTextStyle(e){const r=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||eMe,a=e.style;let s;const o=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),u=Math.round(c/(gT*i))||1,f=c/u;s=Math.min(i,l(f/gT))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);s=Math.min(i,l(c/gT))}a.fontSize=`calc(${s}px * var(--scale-factor))`,a.color=Ge.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(a.textAlign=r[this.data.textAlignment])}_setRequired(e,r){r?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",r)}}class nMe extends $d{constructor(e){const r=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:r})}setPropertyOnSiblings(e,r,n,i){const a=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[r]=n),a.setValue(s.id,{[i]:n})}render(){var i,a;const e=this.annotationStorage,r=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const s=e.getValue(r,{value:this.data.fieldValue});let o=s.value||"";const l=e.getValue(r,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let c=s.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=c??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",c??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),yd.add(n),n.setAttribute("data-element-id",r),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=gx,this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",d=>{e.setValue(r,{value:d.target.value}),this.setPropertyOnSiblings(n,"value",d.target.value,"value"),u.formattedValue=null}),n.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue??"";n.value=u.userValue=h,u.formattedValue=null});let f=d=>{const{formattedValue:h}=u;h!=null&&(d.target.value=h),d.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",h=>{var p;if(u.focused)return;const{target:m}=h;u.userValue&&(m.value=u.userValue),u.lastCommittedValue=m.value,u.commitKey=1,(p=this.data.actions)!=null&&p.Focus||(u.focused=!0)}),n.addEventListener("updatefromsandbox",h=>{this.showElementAndHideCanvas(h.target);const m={value(p){u.userValue=p.detail.value??"",e.setValue(r,{value:u.userValue.toString()}),p.target.value=u.userValue},formattedValue(p){const{formattedValue:y}=p.detail;u.formattedValue=y,y!=null&&p.target!==document.activeElement&&(p.target.value=y),e.setValue(r,{formattedValue:y})},selRange(p){p.target.setSelectionRange(...p.detail.selRange)},charLimit:p=>{var _;const{charLimit:y}=p.detail,{target:w}=p;if(y===0){w.removeAttribute("maxLength");return}w.setAttribute("maxLength",y);let b=u.userValue;!b||b.length<=y||(b=b.slice(0,y),w.value=u.userValue=b,e.setValue(r,{value:b}),(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:b,willCommit:!0,commitKey:1,selStart:w.selectionStart,selEnd:w.selectionEnd}}))}};this._dispatchEventFromSandbox(m,h)}),n.addEventListener("keydown",h=>{var y;u.commitKey=1;let m=-1;if(h.key==="Escape"?m=0:h.key==="Enter"&&!this.data.multiLine?m=2:h.key==="Tab"&&(u.commitKey=3),m===-1)return;const{value:p}=h.target;u.lastCommittedValue!==p&&(u.lastCommittedValue=p,u.userValue=p,(y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:p,willCommit:!0,commitKey:m,selStart:h.target.selectionStart,selEnd:h.target.selectionEnd}}))});const d=f;f=null,n.addEventListener("blur",h=>{var p,y;if(!u.focused||!h.relatedTarget)return;(p=this.data.actions)!=null&&p.Blur||(u.focused=!1);const{value:m}=h.target;u.userValue=m,u.lastCommittedValue!==m&&((y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:m,willCommit:!0,commitKey:u.commitKey,selStart:h.target.selectionStart,selEnd:h.target.selectionEnd}})),d(h)}),(a=this.data.actions)!=null&&a.Keystroke&&n.addEventListener("beforeinput",h=>{var S;u.lastCommittedValue=null;const{data:m,target:p}=h,{value:y,selectionStart:w,selectionEnd:b}=p;let _=w,A=b;switch(h.inputType){case"deleteWordBackward":{const T=y.substring(0,w).match(/\w*[^\w]*$/);T&&(_-=T[0].length);break}case"deleteWordForward":{const T=y.substring(w).match(/^[^\w]*\w*/);T&&(A+=T[0].length);break}case"deleteContentBackward":w===b&&(_-=1);break;case"deleteContentForward":w===b&&(A+=1);break}h.preventDefault(),(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:y,change:m||"",willCommit:!1,selStart:_,selEnd:A}})}),this._setEventListeners(n,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.value)}if(f&&n.addEventListener("blur",f),this.data.comb){const h=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${h}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class iMe extends $d{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class aMe extends $d{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,r=this.data,n=r.id;let i=e.getValue(n,{value:r.exportValue===r.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return yd.add(a),a.setAttribute("data-element-id",n),a.disabled=r.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=r.fieldName,i&&a.setAttribute("checked",!0),a.setAttribute("exportValue",r.exportValue),a.tabIndex=gx,a.addEventListener("change",s=>{const{name:o,checked:l}=s.target;for(const c of this._getElementsByName(o,n)){const u=l&&c.exportValue===r.exportValue;c.domElement&&(c.domElement.checked=u),e.setValue(c.id,{value:u})}e.setValue(n,{value:l})}),a.addEventListener("resetform",s=>{const o=r.defaultFieldValue||"Off";s.target.checked=o===r.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",s=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(n,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,s)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class xV extends $d{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,r=this.data,n=r.id;let i=e.getValue(n,{value:r.fieldValue===r.buttonValue}).value;if(typeof i=="string"&&(i=i!==r.buttonValue,e.setValue(n,{value:i})),i)for(const s of this._getElementsByName(r.fieldName,n))e.setValue(s.id,{value:!1});const a=document.createElement("input");if(yd.add(a),a.setAttribute("data-element-id",n),a.disabled=r.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=r.fieldName,i&&a.setAttribute("checked",!0),a.tabIndex=gx,a.addEventListener("change",s=>{const{name:o,checked:l}=s.target;for(const c of this._getElementsByName(o,n))e.setValue(c.id,{value:!1});e.setValue(n,{value:l})}),a.addEventListener("resetform",s=>{const o=r.defaultFieldValue;s.target.checked=o!=null&&o===r.buttonValue}),this.enableScripting&&this.hasJSActions){const s=r.buttonValue;a.addEventListener("updatefromsandbox",o=>{const l={value:c=>{const u=s===c.detail.value;for(const f of this._getElementsByName(c.target.name)){const d=u&&f.id===n;f.domElement&&(f.domElement.checked=d),e.setValue(f.id,{value:d})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class sMe extends gV{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const r=e.lastChild;return this.enableScripting&&this.hasJSActions&&r&&(this._setDefaultPropertiesFromJS(r),r.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class oMe extends $d{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,r=this.data.id,n=e.getValue(r,{value:this.data.fieldValue}),i=document.createElement("select");yd.add(i),i.setAttribute("data-element-id",r),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=gx;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",u=>{const f=this.data.defaultFieldValue;for(const d of i.options)d.selected=d.value===f});for(const u of this.data.options){const f=document.createElement("option");f.textContent=u.displayValue,f.value=u.exportValue,n.value.includes(u.exportValue)&&(f.setAttribute("selected",!0),a=!1),i.append(f)}let s=null;if(a){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),i.prepend(u),s=()=>{u.remove(),i.removeEventListener("input",s),s=null},i.addEventListener("input",s)}const o=u=>{const f=u?"value":"textContent",{options:d,multiple:h}=i;return h?Array.prototype.filter.call(d,m=>m.selected).map(m=>m[f]):d.selectedIndex===-1?null:d[d.selectedIndex][f]};let l=o(!1);const c=u=>{const f=u.target.options;return Array.prototype.map.call(f,d=>({displayValue:d.textContent,exportValue:d.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",u=>{const f={value(d){s==null||s();const h=d.detail.value,m=new Set(Array.isArray(h)?h:[h]);for(const p of i.options)p.selected=m.has(p.value);e.setValue(r,{value:o(!0)}),l=o(!1)},multipleSelection(d){i.multiple=!0},remove(d){const h=i.options,m=d.detail.remove;h[m].selected=!1,i.remove(m),h.length>0&&Array.prototype.findIndex.call(h,y=>y.selected)===-1&&(h[0].selected=!0),e.setValue(r,{value:o(!0),items:c(d)}),l=o(!1)},clear(d){for(;i.length!==0;)i.remove(0);e.setValue(r,{value:null,items:[]}),l=o(!1)},insert(d){const{index:h,displayValue:m,exportValue:p}=d.detail.insert,y=i.children[h],w=document.createElement("option");w.textContent=m,w.value=p,y?y.before(w):i.append(w),e.setValue(r,{value:o(!0),items:c(d)}),l=o(!1)},items(d){const{items:h}=d.detail;for(;i.length!==0;)i.remove(0);for(const m of h){const{displayValue:p,exportValue:y}=m,w=document.createElement("option");w.textContent=p,w.value=y,i.append(w)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(r,{value:o(!0),items:c(d)}),l=o(!1)},indices(d){const h=new Set(d.detail.indices);for(const m of d.target.options)m.selected=h.has(m.index);e.setValue(r,{value:o(!0)}),l=o(!1)},editable(d){d.target.disabled=!d.detail.editable}};this._dispatchEventFromSandbox(f,u)}),i.addEventListener("input",u=>{var h;const f=o(!0),d=o(!1);e.setValue(r,{value:f}),u.preventDefault(),(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:l,change:d,changeEx:f,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):i.addEventListener("input",function(u){e.setValue(r,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class VC extends Gr{constructor(e){const{data:r,elements:n}=e;super(e,{isRenderable:Gr._hasPopupData(r)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new lMe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),r=[];for(const n of this.elements)n.popup=e,n.container.ariaHasPopup="dialog",r.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(n=>`${OO}${n}`).join(",")),this.container}}var h0,bb,Sb,p0,Tf,Rr,Zo,m0,my,gy,g0,Qo,ws,el,vy,tl,yy,Ef,Cf,Qt,W1,HC,wV,_V,bV,SV,z1,G1,WC;class lMe{constructor({container:e,color:r,elements:n,titleObj:i,modificationDate:a,contentsObj:s,richText:o,parent:l,rect:c,parentRect:u,open:f}){B(this,Qt);B(this,h0,M(this,Qt,bV).bind(this));B(this,bb,M(this,Qt,WC).bind(this));B(this,Sb,M(this,Qt,G1).bind(this));B(this,p0,M(this,Qt,z1).bind(this));B(this,Tf,null);B(this,Rr,null);B(this,Zo,null);B(this,m0,null);B(this,my,null);B(this,gy,null);B(this,g0,null);B(this,Qo,!1);B(this,ws,null);B(this,el,null);B(this,vy,null);B(this,tl,null);B(this,yy,null);B(this,Ef,null);B(this,Cf,!1);var d;I(this,Rr,e),I(this,yy,i),I(this,Zo,s),I(this,tl,o),I(this,gy,l),I(this,Tf,r),I(this,vy,c),I(this,g0,u),I(this,my,n),I(this,m0,RO.toDateObject(a)),this.trigger=n.flatMap(h=>h.getElementsToTriggerPopup());for(const h of this.trigger)h.addEventListener("click",g(this,p0)),h.addEventListener("mouseenter",g(this,Sb)),h.addEventListener("mouseleave",g(this,bb)),h.classList.add("popupTriggerArea");for(const h of n)(d=h.container)==null||d.addEventListener("keydown",g(this,h0));g(this,Rr).hidden=!0,f&&M(this,Qt,z1).call(this)}render(){if(g(this,ws))return;const e=I(this,ws,document.createElement("div"));if(e.className="popup",g(this,Tf)){const a=e.style.outlineColor=Ge.makeHexColor(...g(this,Tf));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`:e.style.backgroundColor=Ge.makeHexColor(...g(this,Tf).map(o=>Math.floor(.7*(255-o)+o)))}const r=document.createElement("span");r.className="header";const n=document.createElement("h1");if(r.append(n),{dir:n.dir,str:n.textContent}=g(this,yy),e.append(r),g(this,m0)){const a=document.createElement("span");a.classList.add("popupDate"),a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:g(this,m0).valueOf()})),r.append(a)}const i=g(this,Qt,W1);if(i)mV.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const a=this._formatContents(g(this,Zo));e.append(a)}g(this,Rr).append(e)}_formatContents({str:e,dir:r}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=r;const i=e.split(/(?:\r\n?|\n)/);for(let a=0,s=i.length;a<s;++a){const o=i[a];n.append(document.createTextNode(o)),a<s-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:r}){var n;g(this,Ef)||I(this,Ef,{contentsObj:g(this,Zo),richText:g(this,tl)}),e&&I(this,el,null),r&&(I(this,tl,M(this,Qt,_V).call(this,r)),I(this,Zo,null)),(n=g(this,ws))==null||n.remove(),I(this,ws,null)}resetEdited(){var e;g(this,Ef)&&({contentsObj:vi(this,Zo)._,richText:vi(this,tl)._}=g(this,Ef),I(this,Ef,null),(e=g(this,ws))==null||e.remove(),I(this,ws,null),I(this,el,null))}forceHide(){I(this,Cf,this.isVisible),g(this,Cf)&&(g(this,Rr).hidden=!0)}maybeShow(){g(this,Cf)&&(g(this,ws)||M(this,Qt,G1).call(this),I(this,Cf,!1),g(this,Rr).hidden=!1)}get isVisible(){return g(this,Rr).hidden===!1}}h0=new WeakMap,bb=new WeakMap,Sb=new WeakMap,p0=new WeakMap,Tf=new WeakMap,Rr=new WeakMap,Zo=new WeakMap,m0=new WeakMap,my=new WeakMap,gy=new WeakMap,g0=new WeakMap,Qo=new WeakMap,ws=new WeakMap,el=new WeakMap,vy=new WeakMap,tl=new WeakMap,yy=new WeakMap,Ef=new WeakMap,Cf=new WeakMap,Qt=new WeakSet,W1=function(){const e=g(this,tl),r=g(this,Zo);return e!=null&&e.str&&(!(r!=null&&r.str)||r.str===e.str)&&g(this,tl).html||null},HC=function(){var e,r,n;return((n=(r=(e=g(this,Qt,W1))==null?void 0:e.attributes)==null?void 0:r.style)==null?void 0:n.fontSize)||0},wV=function(){var e,r,n;return((n=(r=(e=g(this,Qt,W1))==null?void 0:e.attributes)==null?void 0:r.style)==null?void 0:n.color)||null},_V=function(e){const r=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:r}]}},i={style:{color:g(this,Qt,wV),fontSize:g(this,Qt,HC)?`calc(${g(this,Qt,HC)}px * var(--scale-factor))`:""}};for(const a of e.split(`
`))r.push({name:"span",value:a,attributes:i});return n},bV=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&g(this,Qo))&&M(this,Qt,z1).call(this)},SV=function(){if(g(this,el)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:r,pageHeight:n,pageX:i,pageY:a}}}=g(this,gy);let s=!!g(this,g0),o=s?g(this,g0):g(this,vy);for(const m of g(this,my))if(!o||Ge.intersect(m.data.rect,o)!==null){o=m.data.rect,s=!0;break}const l=Ge.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),u=s?o[2]-o[0]+5:0,f=l[0]+u,d=l[1];I(this,el,[100*(f-i)/r,100*(d-a)/n]);const{style:h}=g(this,Rr);h.left=`${g(this,el)[0]}%`,h.top=`${g(this,el)[1]}%`},z1=function(){I(this,Qo,!g(this,Qo)),g(this,Qo)?(M(this,Qt,G1).call(this),g(this,Rr).addEventListener("click",g(this,p0)),g(this,Rr).addEventListener("keydown",g(this,h0))):(M(this,Qt,WC).call(this),g(this,Rr).removeEventListener("click",g(this,p0)),g(this,Rr).removeEventListener("keydown",g(this,h0)))},G1=function(){g(this,ws)||this.render(),this.isVisible?g(this,Qo)&&g(this,Rr).classList.add("focused"):(M(this,Qt,SV).call(this),g(this,Rr).hidden=!1,g(this,Rr).style.zIndex=parseInt(g(this,Rr).style.zIndex)+1e3)},WC=function(){g(this,Rr).classList.remove("focused"),!(g(this,Qo)||!this.isVisible)&&(g(this,Rr).hidden=!0,g(this,Rr).style.zIndex=parseInt(g(this,Rr).style.zIndex)-1e3)};class AV extends Gr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=ht.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const r of this.textContent){const n=document.createElement("span");n.textContent=r,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var xy;class cMe extends Gr{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});B(this,xy,null)}render(){this.container.classList.add("lineAnnotation");const r=this.data,{width:n,height:i}=Cl(r.rect),a=this.svgFactory.create(n,i,!0),s=I(this,xy,this.svgFactory.createElement("svg:line"));return s.setAttribute("x1",r.rect[2]-r.lineCoordinates[0]),s.setAttribute("y1",r.rect[3]-r.lineCoordinates[1]),s.setAttribute("x2",r.rect[2]-r.lineCoordinates[2]),s.setAttribute("y2",r.rect[3]-r.lineCoordinates[3]),s.setAttribute("stroke-width",r.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),a.append(s),this.container.append(a),!r.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,xy)}addHighlightArea(){this.container.classList.add("highlightArea")}}xy=new WeakMap;var wy;class uMe extends Gr{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});B(this,wy,null)}render(){this.container.classList.add("squareAnnotation");const r=this.data,{width:n,height:i}=Cl(r.rect),a=this.svgFactory.create(n,i,!0),s=r.borderStyle.width,o=I(this,wy,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",s/2),o.setAttribute("y",s/2),o.setAttribute("width",n-s),o.setAttribute("height",i-s),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!r.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,wy)}addHighlightArea(){this.container.classList.add("highlightArea")}}wy=new WeakMap;var _y;class fMe extends Gr{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});B(this,_y,null)}render(){this.container.classList.add("circleAnnotation");const r=this.data,{width:n,height:i}=Cl(r.rect),a=this.svgFactory.create(n,i,!0),s=r.borderStyle.width,o=I(this,_y,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",n/2),o.setAttribute("cy",i/2),o.setAttribute("rx",n/2-s/2),o.setAttribute("ry",i/2-s/2),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!r.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,_y)}addHighlightArea(){this.container.classList.add("highlightArea")}}_y=new WeakMap;var by;class TV extends Gr{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});B(this,by,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:r,vertices:n,borderStyle:i,popupRef:a}}=this;if(!n)return this.container;const{width:s,height:o}=Cl(r),l=this.svgFactory.create(s,o,!0);let c=[];for(let f=0,d=n.length;f<d;f+=2){const h=n[f]-r[0],m=r[3]-n[f+1];c.push(`${h},${m}`)}c=c.join(" ");const u=I(this,by,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",c),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return g(this,by)}addHighlightArea(){this.container.classList.add("highlightArea")}}by=new WeakMap;class dMe extends TV{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class hMe extends Gr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Sy;class VO extends Gr{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});B(this,Sy,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?ht.HIGHLIGHT:ht.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:r,inkLists:n,borderStyle:i,popupRef:a}}=this,{width:s,height:o}=Cl(r),l=this.svgFactory.create(s,o,!0);for(const c of n){let u=[];for(let d=0,h=c.length;d<h;d+=2){const m=c[d]-r[0],p=r[3]-c[d+1];u.push(`${m},${p}`)}u=u.join(" ");const f=this.svgFactory.createElement(this.svgElementName);g(this,Sy).push(f),f.setAttribute("points",u),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),l.append(f)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(l),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return g(this,Sy)}addHighlightArea(){this.container.classList.add("highlightArea")}}Sy=new WeakMap;class EV extends Gr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=ht.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class pMe extends Gr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class mMe extends Gr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class gMe extends Gr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class CV extends Gr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=ht.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Ay,Ty,zC;class vMe extends Gr{constructor(r){var i;super(r,{isRenderable:!0});B(this,Ty);B(this,Ay,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:r,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",M(this,Ty,zC).bind(this)),I(this,Ay,i);const{isMac:a}=Ci.platform;return r.addEventListener("keydown",s=>{s.key==="Enter"&&(a?s.metaKey:s.ctrlKey)&&M(this,Ty,zC).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),r.append(i),r}getElementsToTriggerPopup(){return g(this,Ay)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ay=new WeakMap,Ty=new WeakSet,zC=function(){var r;(r=this.downloadManager)==null||r.openOrDownloadData(this.content,this.filename)};var Ey,kf,Pf,Cy,bd,kV,GC;class yMe{constructor({div:e,accessibilityManager:r,annotationCanvasMap:n,annotationEditorUIManager:i,page:a,viewport:s,structTreeLayer:o}){B(this,bd);B(this,Ey,null);B(this,kf,null);B(this,Pf,new Map);B(this,Cy,null);this.div=e,I(this,Ey,r),I(this,kf,n),I(this,Cy,o||null),this.page=a,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return g(this,Pf).size>0}async render(e){var s;const{annotations:r}=e,n=this.div;gd(n,this.viewport);const i=new Map,a={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new UO,annotationStorage:e.annotationStorage||new FO,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of r){if(o.noHTML)continue;const l=o.annotationType===cn.POPUP;if(l){const f=i.get(o.id);if(!f)continue;a.elements=f}else{const{width:f,height:d}=Cl(o.rect);if(f<=0||d<=0)continue}a.data=o;const c=tMe.create(a);if(!c.isRenderable)continue;if(!l&&o.popupRef){const f=i.get(o.popupRef);f?f.push(c):i.set(o.popupRef,[c])}const u=c.render();o.hidden&&(u.style.visibility="hidden"),await M(this,bd,kV).call(this,u,o.id),c._isEditable&&(g(this,Pf).set(c.data.id,c),(s=this._annotationEditorUIManager)==null||s.renderAnnotationElement(c))}M(this,bd,GC).call(this)}update({viewport:e}){const r=this.div;this.viewport=e,gd(r,{rotation:e.rotation}),M(this,bd,GC).call(this),r.hidden=!1}getEditableAnnotations(){return Array.from(g(this,Pf).values())}getEditableAnnotation(e){return g(this,Pf).get(e)}}Ey=new WeakMap,kf=new WeakMap,Pf=new WeakMap,Cy=new WeakMap,bd=new WeakSet,kV=async function(e,r){var s,o;const n=e.firstChild||e,i=n.id=`${OO}${r}`,a=await((s=g(this,Cy))==null?void 0:s.getAriaAttributes(i));if(a)for(const[l,c]of a)n.setAttribute(l,c);this.div.append(e),(o=g(this,Ey))==null||o.moveElementInDOM(this.div,e,n,!1)},GC=function(){if(!g(this,kf))return;const e=this.div;for(const[r,n]of g(this,kf)){const i=e.querySelector(`[data-annotation-id="${r}"]`);if(!i)continue;n.className="annotationContent";const{firstChild:a}=i;a?a.nodeName==="CANVAS"?a.replaceWith(n):a.classList.contains("annotationContent")?a.after(n):a.before(n):i.append(n)}g(this,kf).clear()};const m1=/\r\n?|\n/g;var _s,ra,ky,If,na,sn,PV,IV,OV,q1,Pl,X1,K1,MV,XC,NV;const rr=class rr extends zt{constructor(r){super({...r,name:"freeTextEditor"});B(this,sn);B(this,_s);B(this,ra,"");B(this,ky,`${this.id}-editor`);B(this,If,null);B(this,na);I(this,_s,r.color||rr._defaultColor||zt._defaultLineColor),I(this,na,r.fontSize||rr._defaultFontSize)}static get _keyboardManager(){const r=rr.prototype,n=s=>s.isEmpty(),i=vd.TRANSLATE_SMALL,a=vd.TRANSLATE_BIG;return Ct(this,"_keyboardManager",new mx([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],r.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],r.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],r._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],r._translateEmpty,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],r._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],r._translateEmpty,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],r._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],r._translateEmpty,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],r._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],r._translateEmpty,{args:[0,a],checker:n}]]))}static initialize(r,n){zt.initialize(r,n);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(r,n){switch(r){case st.FREETEXT_SIZE:rr._defaultFontSize=n;break;case st.FREETEXT_COLOR:rr._defaultColor=n;break}}updateParams(r,n){switch(r){case st.FREETEXT_SIZE:M(this,sn,PV).call(this,n);break;case st.FREETEXT_COLOR:M(this,sn,IV).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[st.FREETEXT_SIZE,rr._defaultFontSize],[st.FREETEXT_COLOR,rr._defaultColor||zt._defaultLineColor]]}get propertiesToUpdate(){return[[st.FREETEXT_SIZE,g(this,na)],[st.FREETEXT_COLOR,g(this,_s)]]}_translateEmpty(r,n){this._uiManager.translateSelectedEditors(r,n,!0)}getInitialTranslation(){const r=this.parentScale;return[-rr._internalPadding*r,-(rr._internalPadding+g(this,na))*r]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(ht.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),I(this,If,new AbortController);const r=this._uiManager.combinedSignal(g(this,If));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:r}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:r}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:r}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:r}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:r})}disableEditMode(){var r;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",g(this,ky)),this._isDraggable=!0,(r=g(this,If))==null||r.abort(),I(this,If,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(r){this._focusEventsAllowed&&(super.focusin(r),r.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var r;this.width||(this.enableEditMode(),this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const r=g(this,ra),n=I(this,ra,M(this,sn,OV).call(this).trimEnd());if(r===n)return;const i=a=>{if(I(this,ra,a),!a){this.remove();return}M(this,sn,K1).call(this),this._uiManager.rebuild(this),M(this,sn,q1).call(this)};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(r)},mustExec:!1}),M(this,sn,q1).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(r){this.enterInEditMode()}keydown(r){r.target===this.div&&r.key==="Enter"&&(this.enterInEditMode(),r.preventDefault())}editorDivKeydown(r){rr._keyboardManager.exec(this,r)}editorDivFocus(r){this.isEditing=!0}editorDivBlur(r){this.isEditing=!1}editorDivInput(r){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let r,n;this.width&&(r=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",g(this,ky)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${g(this,na)}px * var(--scale-factor))`,i.color=g(this,_s),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),X_(this,this.div,["dblclick","keydown"]),this.width){const[a,s]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[u,f]=this.pageDimensions,[d,h]=this.pageTranslation;let m,p;switch(this.rotation){case 0:m=r+(o[0]-d)/u,p=n+this.height-(o[1]-h)/f;break;case 90:m=r+(o[0]-d)/u,p=n-(o[1]-h)/f,[l,c]=[c,-l];break;case 180:m=r-this.width+(o[0]-d)/u,p=n-(o[1]-h)/f,[l,c]=[-l,-c];break;case 270:m=r+(o[0]-d-this.height*f)/u,p=n+(o[1]-h-this.width*u)/f,[l,c]=[-c,l];break}this.setAt(m*a,p*s,l,c)}else this.setAt(r*a,n*s,this.width*a,this.height*s);M(this,sn,K1).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(r){var m,p,y;const n=r.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;r.preventDefault();const a=M(m=rr,Pl,XC).call(m,n.getData("text")||"").replaceAll(m1,`
`);if(!a)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const o=s.getRangeAt(0);if(!a.includes(`
`)){o.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:l,startOffset:c}=o,u=[],f=[];if(l.nodeType===Node.TEXT_NODE){const w=l.parentElement;if(f.push(l.nodeValue.slice(c).replaceAll(m1,"")),w!==this.editorDiv){let b=u;for(const _ of this.editorDiv.childNodes){if(_===w){b=f;continue}b.push(M(p=rr,Pl,X1).call(p,_))}}u.push(l.nodeValue.slice(0,c).replaceAll(m1,""))}else if(l===this.editorDiv){let w=u,b=0;for(const _ of this.editorDiv.childNodes)b++===c&&(w=f),w.push(M(y=rr,Pl,X1).call(y,_))}I(this,ra,`${u.join(`
`)}${a}${f.join(`
`)}`),M(this,sn,K1).call(this);const d=new Range;let h=u.reduce((w,b)=>w+b.length,0);for(const{firstChild:w}of this.editorDiv.childNodes)if(w.nodeType===Node.TEXT_NODE){const b=w.nodeValue.length;if(h<=b){d.setStart(w,h),d.setEnd(w,h);break}h-=b}s.removeAllRanges(),s.addRange(d)}get contentDiv(){return this.editorDiv}static async deserialize(r,n,i){var o;let a=null;if(r instanceof AV){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:u,rotation:f,id:d,popupRef:h},textContent:m,textPosition:p,parent:{page:{pageNumber:y}}}=r;if(!m||m.length===0)return null;a=r={annotationType:ht.FREETEXT,color:Array.from(c),fontSize:l,value:m.join(`
`),position:p,pageIndex:y-1,rect:u.slice(0),rotation:f,id:d,deleted:!1,popupRef:h}}const s=await super.deserialize(r,n,i);return I(s,na,r.fontSize),I(s,_s,Ge.makeHexColor(...r.color)),I(s,ra,M(o=rr,Pl,XC).call(o,r.value)),s.annotationElementId=r.id||null,s._initialData=a,s}serialize(r=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=rr._internalPadding*this.parentScale,i=this.getRect(n,n),a=zt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:g(this,_s)),s={annotationType:ht.FREETEXT,color:a,fontSize:g(this,na),value:M(this,sn,MV).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return r?s:this.annotationElementId&&!M(this,sn,NV).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(r){const n=super.renderAnnotationElement(r);if(this.deleted)return n;const{style:i}=n;i.fontSize=`calc(${g(this,na)}px * var(--scale-factor))`,i.color=g(this,_s),n.replaceChildren();for(const s of g(this,ra).split(`
`)){const o=document.createElement("div");o.append(s?document.createTextNode(s):document.createElement("br")),n.append(o)}const a=rr._internalPadding*this.parentScale;return r.updateEdited({rect:this.getRect(a,a),popupContent:g(this,ra)}),n}resetAnnotationElement(r){super.resetAnnotationElement(r),r.resetEdited()}};_s=new WeakMap,ra=new WeakMap,ky=new WeakMap,If=new WeakMap,na=new WeakMap,sn=new WeakSet,PV=function(r){const n=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--scale-factor))`,this.translate(0,-(a-g(this,na))*this.parentScale),I(this,na,a),M(this,sn,q1).call(this)},i=g(this,na);this.addCommands({cmd:n.bind(this,r),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:st.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},IV=function(r){const n=a=>{I(this,_s,this.editorDiv.style.color=a)},i=g(this,_s);this.addCommands({cmd:n.bind(this,r),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:st.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},OV=function(){var i;const r=[];this.editorDiv.normalize();let n=null;for(const a of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&a.nodeName==="BR"||(r.push(M(i=rr,Pl,X1).call(i,a)),n=a);return r.join(`
`)},q1=function(){const[r,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:a,div:s}=this,o=s.style.display,l=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",a.div.append(this.div),i=s.getBoundingClientRect(),s.remove(),s.style.display=o,s.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/r,this.height=i.height/n):(this.width=i.height/r,this.height=i.width/n),this.fixAndSetPosition()},Pl=new WeakSet,X1=function(r){return(r.nodeType===Node.TEXT_NODE?r.nodeValue:r.innerText).replaceAll(m1,"")},K1=function(){if(this.editorDiv.replaceChildren(),!!g(this,ra))for(const r of g(this,ra).split(`
`)){const n=document.createElement("div");n.append(r?document.createTextNode(r):document.createElement("br")),this.editorDiv.append(n)}},MV=function(){return g(this,ra).replaceAll(""," ")},XC=function(r){return r.replaceAll(" ","")},NV=function(r){const{value:n,fontSize:i,color:a,pageIndex:s}=this._initialData;return this._hasBeenMoved||r.value!==n||r.fontSize!==i||r.color.some((o,l)=>o!==a[l])||r.pageIndex!==s},B(rr,Pl),at(rr,"_freeTextDefaultContent",""),at(rr,"_internalPadding",0),at(rr,"_defaultColor",null),at(rr,"_defaultFontSize",10),at(rr,"_type","freetext"),at(rr,"_editorType",ht.FREETEXT);let qC=rr;class RV{toSVGPath(){ur("Abstract method `toSVGPath` must be implemented.")}get box(){ur("Abstract getter `box` must be implemented.")}serialize(e,r){ur("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){ur("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){ur("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var ia,bs,v0,y0,co,_t,Of,Mf,Py,Iy,x0,w0,kc,Oy,Ab,Tb,xn,Mm,DV,FV,LV,$V,BV,jV;const jo=class jo{constructor({x:e,y:r},n,i,a,s,o=0){B(this,xn);B(this,ia);B(this,bs,[]);B(this,v0);B(this,y0);B(this,co,[]);B(this,_t,new Float64Array(18));B(this,Of);B(this,Mf);B(this,Py);B(this,Iy);B(this,x0);B(this,w0);B(this,kc,[]);I(this,ia,n),I(this,w0,a*i),I(this,y0,s),g(this,_t).set([NaN,NaN,NaN,NaN,e,r],6),I(this,v0,o),I(this,Iy,g(jo,Oy)*i),I(this,Py,g(jo,Tb)*i),I(this,x0,i),g(this,kc).push(e,r)}isEmpty(){return isNaN(g(this,_t)[8])}add({x:e,y:r}){var k;I(this,Of,e),I(this,Mf,r);const[n,i,a,s]=g(this,ia);let[o,l,c,u]=g(this,_t).subarray(8,12);const f=e-c,d=r-u,h=Math.hypot(f,d);if(h<g(this,Py))return!1;const m=h-g(this,Iy),p=m/h,y=p*f,w=p*d;let b=o,_=l;o=c,l=u,c+=y,u+=w,(k=g(this,kc))==null||k.push(e,r);const A=-w/m,S=y/m,T=A*g(this,w0),E=S*g(this,w0);return g(this,_t).set(g(this,_t).subarray(2,8),0),g(this,_t).set([c+T,u+E],4),g(this,_t).set(g(this,_t).subarray(14,18),12),g(this,_t).set([c-T,u-E],16),isNaN(g(this,_t)[6])?(g(this,co).length===0&&(g(this,_t).set([o+T,l+E],2),g(this,co).push(NaN,NaN,NaN,NaN,(o+T-n)/a,(l+E-i)/s),g(this,_t).set([o-T,l-E],14),g(this,bs).push(NaN,NaN,NaN,NaN,(o-T-n)/a,(l-E-i)/s)),g(this,_t).set([b,_,o,l,c,u],6),!this.isEmpty()):(g(this,_t).set([b,_,o,l,c,u],6),Math.abs(Math.atan2(_-l,b-o)-Math.atan2(w,y))<Math.PI/2?([o,l,c,u]=g(this,_t).subarray(2,6),g(this,co).push(NaN,NaN,NaN,NaN,((o+c)/2-n)/a,((l+u)/2-i)/s),[o,l,b,_]=g(this,_t).subarray(14,18),g(this,bs).push(NaN,NaN,NaN,NaN,((b+o)/2-n)/a,((_+l)/2-i)/s),!0):([b,_,o,l,c,u]=g(this,_t).subarray(0,6),g(this,co).push(((b+5*o)/6-n)/a,((_+5*l)/6-i)/s,((5*o+c)/6-n)/a,((5*l+u)/6-i)/s,((o+c)/2-n)/a,((l+u)/2-i)/s),[c,u,o,l,b,_]=g(this,_t).subarray(12,18),g(this,bs).push(((b+5*o)/6-n)/a,((_+5*l)/6-i)/s,((5*o+c)/6-n)/a,((5*l+u)/6-i)/s,((o+c)/2-n)/a,((l+u)/2-i)/s),!0))}toSVGPath(){if(this.isEmpty())return"";const e=g(this,co),r=g(this,bs);if(isNaN(g(this,_t)[6])&&!this.isEmpty())return M(this,xn,DV).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);M(this,xn,LV).call(this,n);for(let i=r.length-6;i>=6;i-=6)isNaN(r[i])?n.push(`L${r[i+4]} ${r[i+5]}`):n.push(`C${r[i]} ${r[i+1]} ${r[i+2]} ${r[i+3]} ${r[i+4]} ${r[i+5]}`);return M(this,xn,FV).call(this,n),n.join(" ")}newFreeDrawOutline(e,r,n,i,a,s){return new UV(e,r,n,i,a,s)}getOutlines(){var f;const e=g(this,co),r=g(this,bs),n=g(this,_t),[i,a,s,o]=g(this,ia),l=new Float64Array((((f=g(this,kc))==null?void 0:f.length)??0)+2);for(let d=0,h=l.length-2;d<h;d+=2)l[d]=(g(this,kc)[d]-i)/s,l[d+1]=(g(this,kc)[d+1]-a)/o;if(l[l.length-2]=(g(this,Of)-i)/s,l[l.length-1]=(g(this,Mf)-a)/o,isNaN(n[6])&&!this.isEmpty())return M(this,xn,$V).call(this,l);const c=new Float64Array(g(this,co).length+24+g(this,bs).length);let u=e.length;for(let d=0;d<u;d+=2){if(isNaN(e[d])){c[d]=c[d+1]=NaN;continue}c[d]=e[d],c[d+1]=e[d+1]}u=M(this,xn,jV).call(this,c,u);for(let d=r.length-6;d>=6;d-=6)for(let h=0;h<6;h+=2){if(isNaN(r[d+h])){c[u]=c[u+1]=NaN,u+=2;continue}c[u]=r[d+h],c[u+1]=r[d+h+1],u+=2}return M(this,xn,BV).call(this,c,u),this.newFreeDrawOutline(c,l,g(this,ia),g(this,x0),g(this,v0),g(this,y0))}};ia=new WeakMap,bs=new WeakMap,v0=new WeakMap,y0=new WeakMap,co=new WeakMap,_t=new WeakMap,Of=new WeakMap,Mf=new WeakMap,Py=new WeakMap,Iy=new WeakMap,x0=new WeakMap,w0=new WeakMap,kc=new WeakMap,Oy=new WeakMap,Ab=new WeakMap,Tb=new WeakMap,xn=new WeakSet,Mm=function(){const e=g(this,_t).subarray(4,6),r=g(this,_t).subarray(16,18),[n,i,a,s]=g(this,ia);return[(g(this,Of)+(e[0]-r[0])/2-n)/a,(g(this,Mf)+(e[1]-r[1])/2-i)/s,(g(this,Of)+(r[0]-e[0])/2-n)/a,(g(this,Mf)+(r[1]-e[1])/2-i)/s]},DV=function(){const[e,r,n,i]=g(this,ia),[a,s,o,l]=M(this,xn,Mm).call(this);return`M${(g(this,_t)[2]-e)/n} ${(g(this,_t)[3]-r)/i} L${(g(this,_t)[4]-e)/n} ${(g(this,_t)[5]-r)/i} L${a} ${s} L${o} ${l} L${(g(this,_t)[16]-e)/n} ${(g(this,_t)[17]-r)/i} L${(g(this,_t)[14]-e)/n} ${(g(this,_t)[15]-r)/i} Z`},FV=function(e){const r=g(this,bs);e.push(`L${r[4]} ${r[5]} Z`)},LV=function(e){const[r,n,i,a]=g(this,ia),s=g(this,_t).subarray(4,6),o=g(this,_t).subarray(16,18),[l,c,u,f]=M(this,xn,Mm).call(this);e.push(`L${(s[0]-r)/i} ${(s[1]-n)/a} L${l} ${c} L${u} ${f} L${(o[0]-r)/i} ${(o[1]-n)/a}`)},$V=function(e){const r=g(this,_t),[n,i,a,s]=g(this,ia),[o,l,c,u]=M(this,xn,Mm).call(this),f=new Float64Array(36);return f.set([NaN,NaN,NaN,NaN,(r[2]-n)/a,(r[3]-i)/s,NaN,NaN,NaN,NaN,(r[4]-n)/a,(r[5]-i)/s,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,(r[16]-n)/a,(r[17]-i)/s,NaN,NaN,NaN,NaN,(r[14]-n)/a,(r[15]-i)/s],0),this.newFreeDrawOutline(f,e,g(this,ia),g(this,x0),g(this,v0),g(this,y0))},BV=function(e,r){const n=g(this,bs);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],r),r+=6},jV=function(e,r){const n=g(this,_t).subarray(4,6),i=g(this,_t).subarray(16,18),[a,s,o,l]=g(this,ia),[c,u,f,d]=M(this,xn,Mm).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-a)/o,(n[1]-s)/l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,f,d,NaN,NaN,NaN,NaN,(i[0]-a)/o,(i[1]-s)/l],r),r+=24},B(jo,Oy,8),B(jo,Ab,2),B(jo,Tb,g(jo,Oy)+g(jo,Ab));let Y_=jo;var _0,Nf,rl,My,aa,Ny,Vr,Wi,Nm,Rm,VV;class UV extends RV{constructor(r,n,i,a,s,o){super();B(this,Wi);B(this,_0);B(this,Nf,null);B(this,rl);B(this,My);B(this,aa);B(this,Ny);B(this,Vr);I(this,Vr,r),I(this,aa,n),I(this,_0,i),I(this,Ny,a),I(this,rl,s),I(this,My,o),M(this,Wi,VV).call(this,o);const{x:l,y:c,width:u,height:f}=g(this,Nf);for(let d=0,h=r.length;d<h;d+=2)r[d]=(r[d]-l)/u,r[d+1]=(r[d+1]-c)/f;for(let d=0,h=n.length;d<h;d+=2)n[d]=(n[d]-l)/u,n[d+1]=(n[d+1]-c)/f}toSVGPath(){const r=[`M${g(this,Vr)[4]} ${g(this,Vr)[5]}`];for(let n=6,i=g(this,Vr).length;n<i;n+=6){if(isNaN(g(this,Vr)[n])){r.push(`L${g(this,Vr)[n+4]} ${g(this,Vr)[n+5]}`);continue}r.push(`C${g(this,Vr)[n]} ${g(this,Vr)[n+1]} ${g(this,Vr)[n+2]} ${g(this,Vr)[n+3]} ${g(this,Vr)[n+4]} ${g(this,Vr)[n+5]}`)}return r.push("Z"),r.join(" ")}serialize([r,n,i,a],s){const o=i-r,l=a-n;let c,u;switch(s){case 0:c=M(this,Wi,Nm).call(this,g(this,Vr),r,a,o,-l),u=M(this,Wi,Nm).call(this,g(this,aa),r,a,o,-l);break;case 90:c=M(this,Wi,Rm).call(this,g(this,Vr),r,n,o,l),u=M(this,Wi,Rm).call(this,g(this,aa),r,n,o,l);break;case 180:c=M(this,Wi,Nm).call(this,g(this,Vr),i,n,-o,l),u=M(this,Wi,Nm).call(this,g(this,aa),i,n,-o,l);break;case 270:c=M(this,Wi,Rm).call(this,g(this,Vr),i,a,-o,-l),u=M(this,Wi,Rm).call(this,g(this,aa),i,a,-o,-l);break}return{outline:Array.from(c),points:[Array.from(u)]}}get box(){return g(this,Nf)}newOutliner(r,n,i,a,s,o=0){return new Y_(r,n,i,a,s,o)}getNewOutline(r,n){const{x:i,y:a,width:s,height:o}=g(this,Nf),[l,c,u,f]=g(this,_0),d=s*u,h=o*f,m=i*u+l,p=a*f+c,y=this.newOutliner({x:g(this,aa)[0]*d+m,y:g(this,aa)[1]*h+p},g(this,_0),g(this,Ny),r,g(this,My),n??g(this,rl));for(let w=2;w<g(this,aa).length;w+=2)y.add({x:g(this,aa)[w]*d+m,y:g(this,aa)[w+1]*h+p});return y.getOutlines()}get mustRemoveSelfIntersections(){return!0}}_0=new WeakMap,Nf=new WeakMap,rl=new WeakMap,My=new WeakMap,aa=new WeakMap,Ny=new WeakMap,Vr=new WeakMap,Wi=new WeakSet,Nm=function(r,n,i,a,s){const o=new Float64Array(r.length);for(let l=0,c=r.length;l<c;l+=2)o[l]=n+r[l]*a,o[l+1]=i+r[l+1]*s;return o},Rm=function(r,n,i,a,s){const o=new Float64Array(r.length);for(let l=0,c=r.length;l<c;l+=2)o[l]=n+r[l+1]*a,o[l+1]=i+r[l]*s;return o},VV=function(r){const n=g(this,Vr);let i=n[4],a=n[5],s=i,o=a,l=i,c=a,u=i,f=a;const d=r?Math.max:Math.min;for(let w=6,b=n.length;w<b;w+=6){if(isNaN(n[w]))s=Math.min(s,n[w+4]),o=Math.min(o,n[w+5]),l=Math.max(l,n[w+4]),c=Math.max(c,n[w+5]),f<n[w+5]?(u=n[w+4],f=n[w+5]):f===n[w+5]&&(u=d(u,n[w+4]));else{const _=Ge.bezierBoundingBox(i,a,...n.slice(w,w+6));s=Math.min(s,_[0]),o=Math.min(o,_[1]),l=Math.max(l,_[2]),c=Math.max(c,_[3]),f<_[3]?(u=_[2],f=_[3]):f===_[3]&&(u=d(u,_[2]))}i=n[w+4],a=n[w+5]}const h=s-g(this,rl),m=o-g(this,rl),p=l-s+2*g(this,rl),y=c-o+2*g(this,rl);I(this,Nf,{x:h,y:m,width:p,height:y,lastPoint:[u,f]})};var Ry,Pc,Ss,Pi,HV,Y1,WV,zV,KC;class kL{constructor(e,r=0,n=0,i=!0){B(this,Pi);B(this,Ry);B(this,Pc,[]);B(this,Ss,[]);let a=1/0,s=-1/0,o=1/0,l=-1/0;const c=10**-4;for(const{x:y,y:w,width:b,height:_}of e){const A=Math.floor((y-r)/c)*c,S=Math.ceil((y+b+r)/c)*c,T=Math.floor((w-r)/c)*c,E=Math.ceil((w+_+r)/c)*c,P=[A,T,E,!0],k=[S,T,E,!1];g(this,Pc).push(P,k),a=Math.min(a,A),s=Math.max(s,S),o=Math.min(o,T),l=Math.max(l,E)}const u=s-a+2*n,f=l-o+2*n,d=a-n,h=o-n,m=g(this,Pc).at(i?-1:-2),p=[m[0],m[2]];for(const y of g(this,Pc)){const[w,b,_]=y;y[0]=(w-d)/u,y[1]=(b-h)/f,y[2]=(_-h)/f}I(this,Ry,{x:d,y:h,width:u,height:f,lastPoint:p})}getOutlines(){g(this,Pc).sort((r,n)=>r[0]-n[0]||r[1]-n[1]||r[2]-n[2]);const e=[];for(const r of g(this,Pc))r[3]?(e.push(...M(this,Pi,KC).call(this,r)),M(this,Pi,WV).call(this,r)):(M(this,Pi,zV).call(this,r),e.push(...M(this,Pi,KC).call(this,r)));return M(this,Pi,HV).call(this,e)}}Ry=new WeakMap,Pc=new WeakMap,Ss=new WeakMap,Pi=new WeakSet,HV=function(e){const r=[],n=new Set;for(const s of e){const[o,l,c]=s;r.push([o,l,s],[o,c,s])}r.sort((s,o)=>s[1]-o[1]||s[0]-o[0]);for(let s=0,o=r.length;s<o;s+=2){const l=r[s][2],c=r[s+1][2];l.push(c),c.push(l),n.add(l),n.add(c)}const i=[];let a;for(;n.size>0;){const s=n.values().next().value;let[o,l,c,u,f]=s;n.delete(s);let d=o,h=l;for(a=[o,c],i.push(a);;){let m;if(n.has(u))m=u;else if(n.has(f))m=f;else break;n.delete(m),[o,l,c,u,f]=m,d!==o&&(a.push(d,h,o,h===l?l:c),d=o),h=h===l?c:l}a.push(d,h)}return new xMe(i,g(this,Ry))},Y1=function(e){const r=g(this,Ss);let n=0,i=r.length-1;for(;n<=i;){const a=n+i>>1,s=r[a][0];if(s===e)return a;s<e?n=a+1:i=a-1}return i+1},WV=function([,e,r]){const n=M(this,Pi,Y1).call(this,e);g(this,Ss).splice(n,0,[e,r])},zV=function([,e,r]){const n=M(this,Pi,Y1).call(this,e);for(let i=n;i<g(this,Ss).length;i++){const[a,s]=g(this,Ss)[i];if(a!==e)break;if(a===e&&s===r){g(this,Ss).splice(i,1);return}}for(let i=n-1;i>=0;i--){const[a,s]=g(this,Ss)[i];if(a!==e)break;if(a===e&&s===r){g(this,Ss).splice(i,1);return}}},KC=function(e){const[r,n,i]=e,a=[[r,n,i]],s=M(this,Pi,Y1).call(this,i);for(let o=0;o<s;o++){const[l,c]=g(this,Ss)[o];for(let u=0,f=a.length;u<f;u++){const[,d,h]=a[u];if(!(c<=d||h<=l)){if(d>=l){if(h>c)a[u][1]=c;else{if(f===1)return[];a.splice(u,1),u--,f--}continue}a[u][2]=l,h>c&&a.push([r,c,h])}}}return a};var Dy,b0;class xMe extends RV{constructor(r,n){super();B(this,Dy);B(this,b0);I(this,b0,r),I(this,Dy,n)}toSVGPath(){const r=[];for(const n of g(this,b0)){let[i,a]=n;r.push(`M${i} ${a}`);for(let s=2;s<n.length;s+=2){const o=n[s],l=n[s+1];o===i?(r.push(`V${l}`),a=l):l===a&&(r.push(`H${o}`),i=o)}r.push("Z")}return r.join(" ")}serialize([r,n,i,a],s){const o=[],l=i-r,c=a-n;for(const u of g(this,b0)){const f=new Array(u.length);for(let d=0;d<u.length;d+=2)f[d]=r+u[d]*l,f[d+1]=a-u[d+1]*c;o.push(f)}return o}get box(){return g(this,Dy)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Dy=new WeakMap,b0=new WeakMap;class YC extends Y_{newFreeDrawOutline(e,r,n,i,a,s){return new wMe(e,r,n,i,a,s)}get classNamesForDrawing(){return["highlight","free"]}}class wMe extends UV{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,r,n,i,a,s=0){return new YC(e,r,n,i,a,s)}}var As,Rf,S0,dn,Fy,A0,Ly,$y,Ic,Ts,T0,By,Jt,JC,ZC,QC,Ru,GV,tc;const Ri=class Ri{constructor({editor:e=null,uiManager:r=null}){B(this,Jt);B(this,As,null);B(this,Rf,null);B(this,S0);B(this,dn,null);B(this,Fy,!1);B(this,A0,!1);B(this,Ly,null);B(this,$y);B(this,Ic,null);B(this,Ts,null);B(this,T0);var n;e?(I(this,A0,!1),I(this,T0,st.HIGHLIGHT_COLOR),I(this,Ly,e)):(I(this,A0,!0),I(this,T0,st.HIGHLIGHT_DEFAULT_COLOR)),I(this,Ts,(e==null?void 0:e._uiManager)||r),I(this,$y,g(this,Ts)._eventBus),I(this,S0,(e==null?void 0:e.color)||((n=g(this,Ts))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),g(Ri,By)||I(Ri,By,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ct(this,"_keyboardManager",new mx([[["Escape","mac+Escape"],Ri.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ri.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ri.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ri.prototype._moveToPrevious],[["Home","mac+Home"],Ri.prototype._moveToBeginning],[["End","mac+End"],Ri.prototype._moveToEnd]]))}renderButton(){const e=I(this,As,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const r=g(this,Ts)._signal;e.addEventListener("click",M(this,Jt,Ru).bind(this),{signal:r}),e.addEventListener("keydown",M(this,Jt,QC).bind(this),{signal:r});const n=I(this,Rf,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=g(this,S0),e.append(n),e}renderMainDropdown(){const e=I(this,dn,M(this,Jt,JC).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===g(this,As)){M(this,Jt,Ru).call(this,e);return}const r=e.target.getAttribute("data-color");r&&M(this,Jt,ZC).call(this,r,e)}_moveToNext(e){var r,n;if(!g(this,Jt,tc)){M(this,Jt,Ru).call(this,e);return}if(e.target===g(this,As)){(r=g(this,dn).firstChild)==null||r.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var r,n;if(e.target===((r=g(this,dn))==null?void 0:r.firstChild)||e.target===g(this,As)){g(this,Jt,tc)&&this._hideDropdownFromKeyboard();return}g(this,Jt,tc)||M(this,Jt,Ru).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var r;if(!g(this,Jt,tc)){M(this,Jt,Ru).call(this,e);return}(r=g(this,dn).firstChild)==null||r.focus()}_moveToEnd(e){var r;if(!g(this,Jt,tc)){M(this,Jt,Ru).call(this,e);return}(r=g(this,dn).lastChild)==null||r.focus()}hideDropdown(){var e,r;(e=g(this,dn))==null||e.classList.add("hidden"),(r=g(this,Ic))==null||r.abort(),I(this,Ic,null)}_hideDropdownFromKeyboard(){var e;if(!g(this,A0)){if(!g(this,Jt,tc)){(e=g(this,Ly))==null||e.unselect();return}this.hideDropdown(),g(this,As).focus({preventScroll:!0,focusVisible:g(this,Fy)})}}updateColor(e){if(g(this,Rf)&&(g(this,Rf).style.backgroundColor=e),!g(this,dn))return;const r=g(this,Ts).highlightColors.values();for(const n of g(this,dn).children)n.setAttribute("aria-selected",r.next().value===e)}destroy(){var e,r;(e=g(this,As))==null||e.remove(),I(this,As,null),I(this,Rf,null),(r=g(this,dn))==null||r.remove(),I(this,dn,null)}};As=new WeakMap,Rf=new WeakMap,S0=new WeakMap,dn=new WeakMap,Fy=new WeakMap,A0=new WeakMap,Ly=new WeakMap,$y=new WeakMap,Ic=new WeakMap,Ts=new WeakMap,T0=new WeakMap,By=new WeakMap,Jt=new WeakSet,JC=function(){const e=document.createElement("div"),r=g(this,Ts)._signal;e.addEventListener("contextmenu",ns,{signal:r}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,i]of g(this,Ts).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",i),a.title=n,a.setAttribute("data-l10n-id",g(Ri,By)[n]);const s=document.createElement("span");a.append(s),s.className="swatch",s.style.backgroundColor=i,a.setAttribute("aria-selected",i===g(this,S0)),a.addEventListener("click",M(this,Jt,ZC).bind(this,i),{signal:r}),e.append(a)}return e.addEventListener("keydown",M(this,Jt,QC).bind(this),{signal:r}),e},ZC=function(e,r){r.stopPropagation(),g(this,$y).dispatch("switchannotationeditorparams",{source:this,type:g(this,T0),value:e})},QC=function(e){Ri._keyboardManager.exec(this,e)},Ru=function(e){if(g(this,Jt,tc)){this.hideDropdown();return}if(I(this,Fy,e.detail===0),g(this,Ic)||(I(this,Ic,new AbortController),window.addEventListener("pointerdown",M(this,Jt,GV).bind(this),{signal:g(this,Ts).combinedSignal(g(this,Ic))})),g(this,dn)){g(this,dn).classList.remove("hidden");return}const r=I(this,dn,M(this,Jt,JC).call(this));g(this,As).append(r)},GV=function(e){var r;(r=g(this,dn))!=null&&r.contains(e.target)||this.hideDropdown()},tc=function(){return g(this,dn)&&!g(this,dn).classList.contains("hidden")},B(Ri,By,null);let J_=Ri;var E0,jy,nl,Df,C0,La,Uy,Vy,Ff,Es,ti,Li,k0,il,hn,P0,$a,Hy,ut,ek,J1,qV,XV,KV,tk,Du,za,rh,YV,Z1,Dm,JV,ZV,QV,eH,tH;const Lt=class Lt extends zt{constructor(r){super({...r,name:"highlightEditor"});B(this,ut);B(this,E0,null);B(this,jy,0);B(this,nl);B(this,Df,null);B(this,C0,null);B(this,La,null);B(this,Uy,null);B(this,Vy,0);B(this,Ff,null);B(this,Es,null);B(this,ti,null);B(this,Li,!1);B(this,k0,null);B(this,il);B(this,hn,null);B(this,P0,"");B(this,$a);B(this,Hy,"");this.color=r.color||Lt._defaultColor,I(this,$a,r.thickness||Lt._defaultThickness),I(this,il,r.opacity||Lt._defaultOpacity),I(this,nl,r.boxes||null),I(this,Hy,r.methodOfCreation||""),I(this,P0,r.text||""),this._isDraggable=!1,r.highlightId>-1?(I(this,Li,!0),M(this,ut,J1).call(this,r),M(this,ut,Du).call(this)):g(this,nl)&&(I(this,E0,r.anchorNode),I(this,jy,r.anchorOffset),I(this,Uy,r.focusNode),I(this,Vy,r.focusOffset),M(this,ut,ek).call(this),M(this,ut,Du).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const r=Lt.prototype;return Ct(this,"_keyboardManager",new mx([[["ArrowLeft","mac+ArrowLeft"],r._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],r._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],r._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],r._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:g(this,Li)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:g(this,$a),methodOfCreation:g(this,Hy)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(r){return{numberOfColors:r.get("color").size}}static initialize(r,n){var i;zt.initialize(r,n),Lt._defaultColor||(Lt._defaultColor=((i=n.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(r,n){switch(r){case st.HIGHLIGHT_DEFAULT_COLOR:Lt._defaultColor=n;break;case st.HIGHLIGHT_THICKNESS:Lt._defaultThickness=n;break}}translateInPage(r,n){}get toolbarPosition(){return g(this,k0)}updateParams(r,n){switch(r){case st.HIGHLIGHT_COLOR:M(this,ut,qV).call(this,n);break;case st.HIGHLIGHT_THICKNESS:M(this,ut,XV).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[st.HIGHLIGHT_DEFAULT_COLOR,Lt._defaultColor],[st.HIGHLIGHT_THICKNESS,Lt._defaultThickness]]}get propertiesToUpdate(){return[[st.HIGHLIGHT_COLOR,this.color||Lt._defaultColor],[st.HIGHLIGHT_THICKNESS,g(this,$a)||Lt._defaultThickness],[st.HIGHLIGHT_FREE,g(this,Li)]]}async addEditToolbar(){const r=await super.addEditToolbar();return r?(this._uiManager.highlightColors&&(I(this,C0,new J_({editor:this})),r.addColorPicker(g(this,C0))),r):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(M(this,ut,Dm).call(this))}getBaseTranslation(){return[0,0]}getRect(r,n){return super.getRect(r,n,M(this,ut,Dm).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){M(this,ut,tk).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(M(this,ut,Du).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(r){var i;let n=!1;this.parent&&!r?M(this,ut,tk).call(this):r&&(M(this,ut,Du).call(this,r),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(r),this.show(this._isVisible),n&&this.select()}rotate(r){var a,s,o;const{drawLayer:n}=this.parent;let i;g(this,Li)?(r=(r-this.rotation+360)%360,i=M(a=Lt,za,rh).call(a,g(this,Es).box,r)):i=M(s=Lt,za,rh).call(s,this,r),n.rotate(g(this,ti),r),n.rotate(g(this,hn),r),n.updateBox(g(this,ti),i),n.updateBox(g(this,hn),M(o=Lt,za,rh).call(o,g(this,La).box,r))}render(){if(this.div)return this.div;const r=super.render();g(this,P0)&&(r.setAttribute("aria-label",g(this,P0)),r.setAttribute("role","mark")),g(this,Li)?r.classList.add("free"):this.div.addEventListener("keydown",M(this,ut,YV).bind(this),{signal:this._uiManager._signal});const n=I(this,Ff,document.createElement("div"));r.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=g(this,Df);const[i,a]=this.parentDimensions;return this.setDims(this.width*i,this.height*a),X_(this,g(this,Ff),["pointerover","pointerleave"]),this.enableEditing(),r}pointerover(){this.isSelected||this.parent.drawLayer.addClass(g(this,hn),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(g(this,hn),"hovered")}_moveCaret(r){switch(this.parent.unselect(this),r){case 0:case 2:M(this,ut,Z1).call(this,!0);break;case 1:case 3:M(this,ut,Z1).call(this,!1);break}}select(){var r,n;super.select(),g(this,hn)&&((r=this.parent)==null||r.drawLayer.removeClass(g(this,hn),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(g(this,hn),"selected"))}unselect(){var r;super.unselect(),g(this,hn)&&((r=this.parent)==null||r.drawLayer.removeClass(g(this,hn),"selected"),g(this,Li)||M(this,ut,Z1).call(this,!1))}get _mustFixPosition(){return!g(this,Li)}show(r=this._isVisible){super.show(r),this.parent&&(this.parent.drawLayer.show(g(this,ti),r),this.parent.drawLayer.show(g(this,hn),r))}static startHighlighting(r,n,{target:i,x:a,y:s}){const{x:o,y:l,width:c,height:u}=i.getBoundingClientRect(),f=new AbortController,d=r.combinedSignal(f),h=p=>{p.preventDefault(),p.stopPropagation()},m=p=>{f.abort(),M(this,za,eH).call(this,r,p)};window.addEventListener("blur",m,{signal:d}),window.addEventListener("pointerup",m,{signal:d}),window.addEventListener("pointerdown",h,{capture:!0,passive:!1,signal:d}),window.addEventListener("contextmenu",ns,{signal:d}),i.addEventListener("pointermove",M(this,za,QV).bind(this,r),{signal:d}),this._freeHighlight=new YC({x:a,y:s},[o,l,c,u],r.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=r.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(r,n,i){var p,y,w,b;let a=null;if(r instanceof EV){const{data:{quadPoints:_,rect:A,rotation:S,id:T,color:E,opacity:P,popupRef:k},parent:{page:{pageNumber:N}}}=r;a=r={annotationType:ht.HIGHLIGHT,color:Array.from(E),opacity:P,quadPoints:_,boxes:null,pageIndex:N-1,rect:A.slice(0),rotation:S,id:T,deleted:!1,popupRef:k}}else if(r instanceof VO){const{data:{inkLists:_,rect:A,rotation:S,id:T,color:E,borderStyle:{rawWidth:P},popupRef:k},parent:{page:{pageNumber:N}}}=r;a=r={annotationType:ht.HIGHLIGHT,color:Array.from(E),thickness:P,inkLists:_,boxes:null,pageIndex:N-1,rect:A.slice(0),rotation:S,id:T,deleted:!1,popupRef:k}}const{color:s,quadPoints:o,inkLists:l,opacity:c}=r,u=await super.deserialize(r,n,i);u.color=Ge.makeHexColor(...s),I(u,il,c||1),l&&I(u,$a,r.thickness),u.annotationElementId=r.id||null,u._initialData=a;const[f,d]=u.pageDimensions,[h,m]=u.pageTranslation;if(o){const _=I(u,nl,[]);for(let A=0;A<o.length;A+=8)_.push({x:(o[A]-h)/f,y:1-(o[A+1]-m)/d,width:(o[A+2]-o[A])/f,height:(o[A+1]-o[A+5])/d});M(p=u,ut,ek).call(p),M(y=u,ut,Du).call(y),u.rotate(u.rotation)}else if(l){I(u,Li,!0);const _=l[0],A={x:_[0]-h,y:d-(_[1]-m)},S=new YC(A,[0,0,f,d],1,g(u,$a)/2,!0,.001);for(let P=0,k=_.length;P<k;P+=2)A.x=_[P]-h,A.y=d-(_[P+1]-m),S.add(A);const{id:T,clipPathId:E}=n.drawLayer.draw(S,u.color,u._defaultOpacity,!0);M(w=u,ut,J1).call(w,{highlightOutlines:S.getOutlines(),highlightId:T,clipPathId:E}),M(b=u,ut,Du).call(b)}return u}serialize(r=!1){if(this.isEmpty()||r)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),i=zt._colorManager.convert(this.color),a={annotationType:ht.HIGHLIGHT,color:i,opacity:g(this,il),thickness:g(this,$a),quadPoints:M(this,ut,JV).call(this),outlines:M(this,ut,ZV).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:M(this,ut,Dm).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!M(this,ut,tH).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(r){return r.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};E0=new WeakMap,jy=new WeakMap,nl=new WeakMap,Df=new WeakMap,C0=new WeakMap,La=new WeakMap,Uy=new WeakMap,Vy=new WeakMap,Ff=new WeakMap,Es=new WeakMap,ti=new WeakMap,Li=new WeakMap,k0=new WeakMap,il=new WeakMap,hn=new WeakMap,P0=new WeakMap,$a=new WeakMap,Hy=new WeakMap,ut=new WeakSet,ek=function(){const r=new kL(g(this,nl),.001);I(this,Es,r.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=g(this,Es).box;const n=new kL(g(this,nl),.0025,.001,this._uiManager.direction==="ltr");I(this,La,n.getOutlines());const{lastPoint:i}=g(this,La).box;I(this,k0,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},J1=function({highlightOutlines:r,highlightId:n,clipPathId:i}){var f,d;if(I(this,Es,r),I(this,La,r.getNewOutline(g(this,$a)/2+1.5,.0025)),n>=0)I(this,ti,n),I(this,Df,i),this.parent.drawLayer.finalizeLine(n,r),I(this,hn,this.parent.drawLayer.drawOutline(g(this,La)));else if(this.parent){const h=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(g(this,ti),r),this.parent.drawLayer.updateBox(g(this,ti),M(f=Lt,za,rh).call(f,g(this,Es).box,(h-this.rotation+360)%360)),this.parent.drawLayer.updateLine(g(this,hn),g(this,La)),this.parent.drawLayer.updateBox(g(this,hn),M(d=Lt,za,rh).call(d,g(this,La).box,h))}const{x:s,y:o,width:l,height:c}=r.box;switch(this.rotation){case 0:this.x=s,this.y=o,this.width=l,this.height=c;break;case 90:{const[h,m]=this.parentDimensions;this.x=o,this.y=1-s,this.width=l*m/h,this.height=c*h/m;break}case 180:this.x=1-s,this.y=1-o,this.width=l,this.height=c;break;case 270:{const[h,m]=this.parentDimensions;this.x=1-o,this.y=s,this.width=l*m/h,this.height=c*h/m;break}}const{lastPoint:u}=g(this,La).box;I(this,k0,[(u[0]-s)/l,(u[1]-o)/c])},qV=function(r){const n=(s,o)=>{var l,c,u;this.color=s,(l=this.parent)==null||l.drawLayer.changeColor(g(this,ti),s),(c=g(this,C0))==null||c.updateColor(s),I(this,il,o),(u=this.parent)==null||u.drawLayer.changeOpacity(g(this,ti),o)},i=this.color,a=g(this,il);this.addCommands({cmd:n.bind(this,r,Lt._defaultOpacity),undo:n.bind(this,i,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:st.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(r)},!0)},XV=function(r){const n=g(this,$a),i=a=>{I(this,$a,a),M(this,ut,KV).call(this,a)};this.addCommands({cmd:i.bind(this,r),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:st.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:r},!0)},KV=function(r){if(!g(this,Li))return;M(this,ut,J1).call(this,{highlightOutlines:g(this,Es).getNewOutline(r/2)}),this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)},tk=function(){g(this,ti)===null||!this.parent||(this.parent.drawLayer.remove(g(this,ti)),I(this,ti,null),this.parent.drawLayer.remove(g(this,hn)),I(this,hn,null))},Du=function(r=this.parent){g(this,ti)===null&&({id:vi(this,ti)._,clipPathId:vi(this,Df)._}=r.drawLayer.draw(g(this,Es),this.color,g(this,il)),I(this,hn,r.drawLayer.drawOutline(g(this,La))),g(this,Ff)&&(g(this,Ff).style.clipPath=g(this,Df)))},za=new WeakSet,rh=function({x:r,y:n,width:i,height:a},s){switch(s){case 90:return{x:1-n-a,y:r,width:a,height:i};case 180:return{x:1-r-i,y:1-n-a,width:i,height:a};case 270:return{x:n,y:1-r-i,width:a,height:i}}return{x:r,y:n,width:i,height:a}},YV=function(r){Lt._keyboardManager.exec(this,r)},Z1=function(r){if(!g(this,E0))return;const n=window.getSelection();r?n.setPosition(g(this,E0),g(this,jy)):n.setPosition(g(this,Uy),g(this,Vy))},Dm=function(){return g(this,Li)?this.rotation:0},JV=function(){if(g(this,Li))return null;const[r,n]=this.pageDimensions,[i,a]=this.pageTranslation,s=g(this,nl),o=new Float32Array(s.length*8);let l=0;for(const{x:c,y:u,width:f,height:d}of s){const h=c*r+i,m=(1-u-d)*n+a;o[l]=o[l+4]=h,o[l+1]=o[l+3]=m,o[l+2]=o[l+6]=h+f*r,o[l+5]=o[l+7]=m+d*n,l+=8}return o},ZV=function(r){return g(this,Es).serialize(r,M(this,ut,Dm).call(this))},QV=function(r,n){this._freeHighlight.add(n)&&r.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},eH=function(r,n){this._freeHighlight.isEmpty()?r.drawLayer.remove(this._freeHighlightId):r.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},tH=function(r){const{color:n}=this._initialData;return r.color.some((i,a)=>i!==n[a])},B(Lt,za),at(Lt,"_defaultColor",null),at(Lt,"_defaultOpacity",1),at(Lt,"_defaultThickness",12),at(Lt,"_type","highlight"),at(Lt,"_editorType",ht.HIGHLIGHT),at(Lt,"_freeHighlightId",-1),at(Lt,"_freeHighlight",null),at(Lt,"_freeHighlightClipId","");let Z_=Lt;var Lf,$f,uo,al,Ba,Bf,jf,Uf,sl,I0,Vf,Hf,Oc,Pe,rH,nH,iH,aH,nk,sH,ik,oH,lH,cH,uH,fH,Fu,ak,sk,ok,Q1,ew,nh,lk,tw,Ul,dH,ck,hH,pH,uk,rw,Fm;const Sr=class Sr extends zt{constructor(r){super({...r,name:"inkEditor"});B(this,Pe);B(this,Lf,0);B(this,$f,0);B(this,uo,null);B(this,al,new Path2D);B(this,Ba,!1);B(this,Bf,null);B(this,jf,!1);B(this,Uf,!1);B(this,sl,null);B(this,I0,null);B(this,Vf,0);B(this,Hf,0);B(this,Oc,null);this.color=r.color||null,this.thickness=r.thickness||null,this.opacity=r.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(r,n){zt.initialize(r,n)}static updateDefaultParams(r,n){switch(r){case st.INK_THICKNESS:Sr._defaultThickness=n;break;case st.INK_COLOR:Sr._defaultColor=n;break;case st.INK_OPACITY:Sr._defaultOpacity=n/100;break}}updateParams(r,n){switch(r){case st.INK_THICKNESS:M(this,Pe,rH).call(this,n);break;case st.INK_COLOR:M(this,Pe,nH).call(this,n);break;case st.INK_OPACITY:M(this,Pe,iH).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[st.INK_THICKNESS,Sr._defaultThickness],[st.INK_COLOR,Sr._defaultColor||zt._defaultLineColor],[st.INK_OPACITY,Math.round(Sr._defaultOpacity*100)]]}get propertiesToUpdate(){return[[st.INK_THICKNESS,this.thickness||Sr._defaultThickness],[st.INK_COLOR,this.color||Sr._defaultColor||zt._defaultLineColor],[st.INK_OPACITY,Math.round(100*(this.opacity??Sr._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(M(this,Pe,Q1).call(this),M(this,Pe,ew).call(this)),this.isAttachedToDOM||(this.parent.add(this),M(this,Pe,nh).call(this)),M(this,Pe,Fm).call(this)))}remove(){var r;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,g(this,uo)&&(clearTimeout(g(this,uo)),I(this,uo,null)),(r=g(this,sl))==null||r.disconnect(),I(this,sl,null),super.remove())}setParent(r){!this.parent&&r?this._uiManager.removeShouldRescale(this):this.parent&&r===null&&this._uiManager.addShouldRescale(this),super.setParent(r)}onScaleChanging(){const[r,n]=this.parentDimensions,i=this.width*r,a=this.height*n;this.setDimensions(i,a)}enableEditMode(){g(this,Ba)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,M(this,Pe,ak).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),M(this,Pe,sk).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){g(this,Ba)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),I(this,Ba,!0),this.div.classList.add("disabled"),M(this,Pe,Fm).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(r){this._focusEventsAllowed&&(super.focusin(r),this.enableEditMode())}canvasPointerdown(r){r.button!==0||!this.isInEditMode()||g(this,Ba)||(this.setInForeground(),r.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),M(this,Pe,sH).call(this,r.offsetX,r.offsetY))}canvasPointermove(r){r.preventDefault(),M(this,Pe,ik).call(this,r.offsetX,r.offsetY)}canvasPointerup(r){r.preventDefault(),M(this,Pe,ok).call(this,r)}canvasPointerleave(r){M(this,Pe,ok).call(this,r)}get isResizable(){return!this.isEmpty()&&g(this,Ba)}render(){if(this.div)return this.div;let r,n;this.width&&(r=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,a,s,o]=M(this,Pe,aH).call(this);if(this.setAt(i,a,0,0),this.setDims(s,o),M(this,Pe,Q1).call(this),this.width){const[l,c]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*c),this.setAt(r*l,n*c,this.width*l,this.height*c),I(this,Uf,!0),M(this,Pe,nh).call(this),this.setDims(this.width*l,this.height*c),M(this,Pe,Fu).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return M(this,Pe,ew).call(this),this.div}setDimensions(r,n){const i=Math.round(r),a=Math.round(n);if(g(this,Vf)===i&&g(this,Hf)===a)return;I(this,Vf,i),I(this,Hf,a),this.canvas.style.visibility="hidden";const[s,o]=this.parentDimensions;this.width=r/s,this.height=n/o,this.fixAndSetPosition(),g(this,Ba)&&M(this,Pe,lk).call(this,r,n),M(this,Pe,nh).call(this),M(this,Pe,Fu).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(r,n,i){var y,w,b;if(r instanceof VO)return null;const a=await super.deserialize(r,n,i);a.thickness=r.thickness,a.color=Ge.makeHexColor(...r.color),a.opacity=r.opacity;const[s,o]=a.pageDimensions,l=a.width*s,c=a.height*o,u=a.parentScale,f=r.thickness/2;I(a,Ba,!0),I(a,Vf,Math.round(l)),I(a,Hf,Math.round(c));const{paths:d,rect:h,rotation:m}=r;for(let{bezier:_}of d){_=M(y=Sr,Ul,hH).call(y,_,h,m);const A=[];a.paths.push(A);let S=u*(_[0]-f),T=u*(_[1]-f);for(let P=2,k=_.length;P<k;P+=6){const N=u*(_[P]-f),O=u*(_[P+1]-f),R=u*(_[P+2]-f),W=u*(_[P+3]-f),Q=u*(_[P+4]-f),j=u*(_[P+5]-f);A.push([[S,T],[N,O],[R,W],[Q,j]]),S=Q,T=j}const E=M(this,Ul,dH).call(this,A);a.bezierPath2D.push(E)}const p=M(w=a,Pe,uk).call(w);return I(a,$f,Math.max(zt.MIN_SIZE,p[2]-p[0])),I(a,Lf,Math.max(zt.MIN_SIZE,p[3]-p[1])),M(b=a,Pe,lk).call(b,l,c),a}serialize(){if(this.isEmpty())return null;const r=this.getRect(0,0),n=zt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:ht.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:M(this,Pe,pH).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,r),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Lf=new WeakMap,$f=new WeakMap,uo=new WeakMap,al=new WeakMap,Ba=new WeakMap,Bf=new WeakMap,jf=new WeakMap,Uf=new WeakMap,sl=new WeakMap,I0=new WeakMap,Vf=new WeakMap,Hf=new WeakMap,Oc=new WeakMap,Pe=new WeakSet,rH=function(r){const n=a=>{this.thickness=a,M(this,Pe,Fm).call(this)},i=this.thickness;this.addCommands({cmd:n.bind(this,r),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:st.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},nH=function(r){const n=a=>{this.color=a,M(this,Pe,Fu).call(this)},i=this.color;this.addCommands({cmd:n.bind(this,r),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:st.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},iH=function(r){const n=a=>{this.opacity=a,M(this,Pe,Fu).call(this)};r/=100;const i=this.opacity;this.addCommands({cmd:n.bind(this,r),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:st.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},aH=function(){const{parentRotation:r,parentDimensions:[n,i]}=this;switch(r){case 90:return[0,i,i,n];case 180:return[n,i,n,i];case 270:return[n,0,i,n];default:return[0,0,n,i]}},nk=function(){const{ctx:r,color:n,opacity:i,thickness:a,parentScale:s,scaleFactor:o}=this;r.lineWidth=a*s/o,r.lineCap="round",r.lineJoin="round",r.miterLimit=10,r.strokeStyle=`${n}${VIe(i)}`},sH=function(r,n){this.canvas.addEventListener("contextmenu",ns,{signal:this._uiManager._signal}),M(this,Pe,sk).call(this),I(this,Bf,new AbortController);const i=this._uiManager.combinedSignal(g(this,Bf));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:i}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:i}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:i}),this.isEditing=!0,g(this,Uf)||(I(this,Uf,!0),M(this,Pe,nh).call(this),this.thickness||(this.thickness=Sr._defaultThickness),this.color||(this.color=Sr._defaultColor||zt._defaultLineColor),this.opacity??(this.opacity=Sr._defaultOpacity)),this.currentPath.push([r,n]),I(this,jf,!1),M(this,Pe,nk).call(this),I(this,Oc,()=>{M(this,Pe,cH).call(this),g(this,Oc)&&window.requestAnimationFrame(g(this,Oc))}),window.requestAnimationFrame(g(this,Oc))},ik=function(r,n){const[i,a]=this.currentPath.at(-1);if(this.currentPath.length>1&&r===i&&n===a)return;const s=this.currentPath;let o=g(this,al);if(s.push([r,n]),I(this,jf,!0),s.length<=2){o.moveTo(...s[0]),o.lineTo(r,n);return}s.length===3&&(I(this,al,o=new Path2D),o.moveTo(...s[0])),M(this,Pe,uH).call(this,o,...s.at(-3),...s.at(-2),r,n)},oH=function(){if(this.currentPath.length===0)return;const r=this.currentPath.at(-1);g(this,al).lineTo(...r)},lH=function(r,n){I(this,Oc,null),r=Math.min(Math.max(r,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),M(this,Pe,ik).call(this,r,n),M(this,Pe,oH).call(this);let i;if(this.currentPath.length!==1)i=M(this,Pe,fH).call(this);else{const c=[r,n];i=[[c,c.slice(),c.slice(),c]]}const a=g(this,al),s=this.currentPath;this.currentPath=[],I(this,al,new Path2D);const o=()=>{this.allRawPaths.push(s),this.paths.push(i),this.bezierPath2D.push(a),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(M(this,Pe,Q1).call(this),M(this,Pe,ew).call(this)),M(this,Pe,Fm).call(this))};this.addCommands({cmd:o,undo:l,mustExec:!0})},cH=function(){if(!g(this,jf))return;I(this,jf,!1);const r=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),i=n.map(o=>o[0]),a=n.map(o=>o[1]);Math.min(...i)-r,Math.max(...i)+r,Math.min(...a)-r,Math.max(...a)+r;const{ctx:s}=this;s.save(),s.clearRect(0,0,this.canvas.width,this.canvas.height);for(const o of this.bezierPath2D)s.stroke(o);s.stroke(g(this,al)),s.restore()},uH=function(r,n,i,a,s,o,l){const c=(n+a)/2,u=(i+s)/2,f=(a+o)/2,d=(s+l)/2;r.bezierCurveTo(c+2*(a-c)/3,u+2*(s-u)/3,f+2*(a-f)/3,d+2*(s-d)/3,f,d)},fH=function(){const r=this.currentPath;if(r.length<=2)return[[r[0],r[0],r.at(-1),r.at(-1)]];const n=[];let i,[a,s]=r[0];for(i=1;i<r.length-2;i++){const[h,m]=r[i],[p,y]=r[i+1],w=(h+p)/2,b=(m+y)/2,_=[a+2*(h-a)/3,s+2*(m-s)/3],A=[w+2*(h-w)/3,b+2*(m-b)/3];n.push([[a,s],_,A,[w,b]]),[a,s]=[w,b]}const[o,l]=r[i],[c,u]=r[i+1],f=[a+2*(o-a)/3,s+2*(l-s)/3],d=[c+2*(o-c)/3,u+2*(l-u)/3];return n.push([[a,s],f,d,[c,u]]),n},Fu=function(){if(this.isEmpty()){M(this,Pe,tw).call(this);return}M(this,Pe,nk).call(this);const{canvas:r,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,r.width,r.height),M(this,Pe,tw).call(this);for(const i of this.bezierPath2D)n.stroke(i)},ak=function(){if(g(this,I0))return;I(this,I0,new AbortController);const r=this._uiManager.combinedSignal(g(this,I0));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:r})},sk=function(){var r;(r=this.pointerdownAC)==null||r.abort(),this.pointerdownAC=null},ok=function(r){var n;(n=g(this,Bf))==null||n.abort(),I(this,Bf,null),M(this,Pe,ak).call(this),g(this,uo)&&clearTimeout(g(this,uo)),I(this,uo,setTimeout(()=>{I(this,uo,null),this.canvas.removeEventListener("contextmenu",ns)},10)),M(this,Pe,lH).call(this,r.offsetX,r.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Q1=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},ew=function(){I(this,sl,new ResizeObserver(r=>{const n=r[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),g(this,sl).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var r;(r=g(this,sl))==null||r.disconnect(),I(this,sl,null)},{once:!0})},nh=function(){if(!g(this,Uf))return;const[r,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*r),this.canvas.height=Math.ceil(this.height*n),M(this,Pe,tw).call(this)},lk=function(r,n){const i=M(this,Pe,rw).call(this),a=(r-i)/g(this,$f),s=(n-i)/g(this,Lf);this.scaleFactor=Math.min(a,s)},tw=function(){const r=M(this,Pe,rw).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+r,this.translationY*this.scaleFactor+r)},Ul=new WeakSet,dH=function(r){const n=new Path2D;for(let i=0,a=r.length;i<a;i++){const[s,o,l,c]=r[i];i===0&&n.moveTo(...s),n.bezierCurveTo(o[0],o[1],l[0],l[1],c[0],c[1])}return n},ck=function(r,n,i){const[a,s,o,l]=n;switch(i){case 0:for(let c=0,u=r.length;c<u;c+=2)r[c]+=a,r[c+1]=l-r[c+1];break;case 90:for(let c=0,u=r.length;c<u;c+=2){const f=r[c];r[c]=r[c+1]+a,r[c+1]=f+s}break;case 180:for(let c=0,u=r.length;c<u;c+=2)r[c]=o-r[c],r[c+1]+=s;break;case 270:for(let c=0,u=r.length;c<u;c+=2){const f=r[c];r[c]=o-r[c+1],r[c+1]=l-f}break;default:throw new Error("Invalid rotation")}return r},hH=function(r,n,i){const[a,s,o,l]=n;switch(i){case 0:for(let c=0,u=r.length;c<u;c+=2)r[c]-=a,r[c+1]=l-r[c+1];break;case 90:for(let c=0,u=r.length;c<u;c+=2){const f=r[c];r[c]=r[c+1]-s,r[c+1]=f-a}break;case 180:for(let c=0,u=r.length;c<u;c+=2)r[c]=o-r[c],r[c+1]-=s;break;case 270:for(let c=0,u=r.length;c<u;c+=2){const f=r[c];r[c]=l-r[c+1],r[c+1]=o-f}break;default:throw new Error("Invalid rotation")}return r},pH=function(r,n,i,a){var u,f;const s=[],o=this.thickness/2,l=r*n+o,c=r*i+o;for(const d of this.paths){const h=[],m=[];for(let p=0,y=d.length;p<y;p++){const[w,b,_,A]=d[p];if(w[0]===A[0]&&w[1]===A[1]&&y===1){const W=r*w[0]+l,Q=r*w[1]+c;h.push(W,Q),m.push(W,Q);break}const S=r*w[0]+l,T=r*w[1]+c,E=r*b[0]+l,P=r*b[1]+c,k=r*_[0]+l,N=r*_[1]+c,O=r*A[0]+l,R=r*A[1]+c;p===0&&(h.push(S,T),m.push(S,T)),h.push(E,P,k,N,O,R),m.push(E,P),p===y-1&&m.push(O,R)}s.push({bezier:M(u=Sr,Ul,ck).call(u,h,a,this.rotation),points:M(f=Sr,Ul,ck).call(f,m,a,this.rotation)})}return s},uk=function(){let r=1/0,n=-1/0,i=1/0,a=-1/0;for(const s of this.paths)for(const[o,l,c,u]of s){const f=Ge.bezierBoundingBox(...o,...l,...c,...u);r=Math.min(r,f[0]),i=Math.min(i,f[1]),n=Math.max(n,f[2]),a=Math.max(a,f[3])}return[r,i,n,a]},rw=function(){return g(this,Ba)?Math.ceil(this.thickness*this.parentScale):0},Fm=function(r=!1){if(this.isEmpty())return;if(!g(this,Ba)){M(this,Pe,Fu).call(this);return}const n=M(this,Pe,uk).call(this),i=M(this,Pe,rw).call(this);I(this,$f,Math.max(zt.MIN_SIZE,n[2]-n[0])),I(this,Lf,Math.max(zt.MIN_SIZE,n[3]-n[1]));const a=Math.ceil(i+g(this,$f)*this.scaleFactor),s=Math.ceil(i+g(this,Lf)*this.scaleFactor),[o,l]=this.parentDimensions;this.width=a/o,this.height=s/l,this.setAspectRatio(a,s);const c=this.translationX,u=this.translationY;this.translationX=-n[0],this.translationY=-n[1],M(this,Pe,nh).call(this),M(this,Pe,Fu).call(this),I(this,Vf,a),I(this,Hf,s),this.setDims(a,s);const f=r?i/this.scaleFactor/2:0;this.translate(c-this.translationX-f,u-this.translationY-f)},B(Sr,Ul),at(Sr,"_defaultColor",null),at(Sr,"_defaultOpacity",1),at(Sr,"_defaultThickness",1),at(Sr,"_type","ink"),at(Sr,"_editorType",ht.INK);let rk=Sr;var Tr,$n,Mc,ol,Nc,O0,fo,ll,ho,sa,M0,Et,Lm,$m,nw,dk,mH,iw,hk,aw,gH,vH;const hg=class hg extends zt{constructor(r){super({...r,name:"stampEditor"});B(this,Et);B(this,Tr,null);B(this,$n,null);B(this,Mc,null);B(this,ol,null);B(this,Nc,null);B(this,O0,"");B(this,fo,null);B(this,ll,null);B(this,ho,null);B(this,sa,!1);B(this,M0,!1);I(this,ol,r.bitmapUrl),I(this,Nc,r.bitmapFile)}static initialize(r,n){zt.initialize(r,n)}static get supportedTypes(){return Ct(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return Ct(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(r){return this.supportedTypes.includes(r)}static paste(r,n){n.pasteEditor(ht.STAMP,{bitmapFile:r.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var r;return{type:"stamp",hasAltText:!!((r=this.altTextData)!=null&&r.altText)}}static computeTelemetryFinalData(r){const n=r.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(r=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:s,height:o}=r||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:a,width:s,height:o,channels:a.length/(s*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),n&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var r,n;g(this,$n)&&(I(this,Tr,null),this._uiManager.imageManager.deleteId(g(this,$n)),(r=g(this,fo))==null||r.remove(),I(this,fo,null),(n=g(this,ll))==null||n.disconnect(),I(this,ll,null),g(this,ho)&&(clearTimeout(g(this,ho)),I(this,ho,null))),super.remove()}rebuild(){if(!this.parent){g(this,$n)&&M(this,Et,nw).call(this);return}super.rebuild(),this.div!==null&&(g(this,$n)&&g(this,fo)===null&&M(this,Et,nw).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(g(this,Mc)||g(this,Tr)||g(this,ol)||g(this,Nc)||g(this,$n))}get isResizable(){return!0}render(){if(this.div)return this.div;let r,n;if(this.width&&(r=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),g(this,Tr)?M(this,Et,dk).call(this):M(this,Et,nw).call(this),this.width&&!this.annotationElementId){const[i,a]=this.parentDimensions;this.setAt(r*i,n*a,this.width*i,this.height*a)}return this.div}copyCanvas(r,n,i=!1){var h;r||(r=224);const{width:a,height:s}=g(this,Tr),o=new lC;let l=g(this,Tr),c=a,u=s,f=null;if(n){if(a>n||s>n){const P=Math.min(n/a,n/s);c=Math.floor(a*P),u=Math.floor(s*P)}f=document.createElement("canvas");const m=f.width=Math.ceil(c*o.sx),p=f.height=Math.ceil(u*o.sy);g(this,sa)||(l=M(this,Et,iw).call(this,m,p));const y=f.getContext("2d");y.filter=this._uiManager.hcmFilter;let w="white",b="#cfcfd8";this._uiManager.hcmFilter!=="none"?b="black":(h=window.matchMedia)!=null&&h.call(window,"(prefers-color-scheme: dark)").matches&&(w="#8f8f9d",b="#42414d");const _=15,A=_*o.sx,S=_*o.sy,T=new OffscreenCanvas(A*2,S*2),E=T.getContext("2d");E.fillStyle=w,E.fillRect(0,0,A*2,S*2),E.fillStyle=b,E.fillRect(0,0,A,S),E.fillRect(A,S,A,S),y.fillStyle=y.createPattern(T,"repeat"),y.fillRect(0,0,m,p),y.drawImage(l,0,0,l.width,l.height,0,0,m,p)}let d=null;if(i){let m,p;if(o.symmetric&&l.width<r&&l.height<r)m=l.width,p=l.height;else if(l=g(this,Tr),a>r||s>r){const b=Math.min(r/a,r/s);m=Math.floor(a*b),p=Math.floor(s*b),g(this,sa)||(l=M(this,Et,iw).call(this,m,p))}const w=new OffscreenCanvas(m,p).getContext("2d",{willReadFrequently:!0});w.drawImage(l,0,0,l.width,l.height,0,0,m,p),d={width:m,height:p,data:w.getImageData(0,0,m,p).data}}return{canvas:f,width:c,height:u,imageData:d}}getImageForAltText(){return g(this,fo)}static async deserialize(r,n,i){var p;let a=null;if(r instanceof CV){const{data:{rect:y,rotation:w,id:b,structParent:_,popupRef:A},container:S,parent:{page:{pageNumber:T}}}=r,E=S.querySelector("canvas"),P=i.imageManager.getFromCanvas(S.id,E);E.remove();const k=((p=await n._structTree.getAriaAttributes(`${OO}${b}`))==null?void 0:p.get("aria-label"))||"";a=r={annotationType:ht.STAMP,bitmapId:P.id,bitmap:P.bitmap,pageIndex:T-1,rect:y.slice(0),rotation:w,id:b,deleted:!1,accessibilityData:{decorative:!1,altText:k},isSvg:!1,structParent:_,popupRef:A}}const s=await super.deserialize(r,n,i),{rect:o,bitmap:l,bitmapUrl:c,bitmapId:u,isSvg:f,accessibilityData:d}=r;u&&i.imageManager.isValidId(u)?(I(s,$n,u),l&&I(s,Tr,l)):I(s,ol,c),I(s,sa,f);const[h,m]=s.pageDimensions;return s.width=(o[2]-o[0])/h,s.height=(o[3]-o[1])/m,s.annotationElementId=r.id||null,d&&(s.altTextData=d),s._initialData=a,I(s,M0,!!a),s}serialize(r=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:ht.STAMP,bitmapId:g(this,$n),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:g(this,sa),structTreeParentId:this._structTreeParentId};if(r)return i.bitmapUrl=M(this,Et,aw).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i;const{decorative:a,altText:s}=this.serializeAltText(!1);if(!a&&s&&(i.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const l=M(this,Et,vH).call(this,i);if(l.isSame)return null;l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,n===null)return i;n.stamps||(n.stamps=new Map);const o=g(this,sa)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(g(this,$n)))n.stamps.set(g(this,$n),{area:o,serialized:i}),i.bitmap=M(this,Et,aw).call(this,!1);else if(g(this,sa)){const l=n.stamps.get(g(this,$n));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=M(this,Et,aw).call(this,!1))}return i}renderAnnotationElement(r){return r.updateEdited({rect:this.getRect(0,0)}),null}};Tr=new WeakMap,$n=new WeakMap,Mc=new WeakMap,ol=new WeakMap,Nc=new WeakMap,O0=new WeakMap,fo=new WeakMap,ll=new WeakMap,ho=new WeakMap,sa=new WeakMap,M0=new WeakMap,Et=new WeakSet,Lm=function(r,n=!1){if(!r){this.remove();return}I(this,Tr,r.bitmap),n||(I(this,$n,r.id),I(this,sa,r.isSvg)),r.file&&I(this,O0,r.file.name),M(this,Et,dk).call(this)},$m=function(){if(I(this,Mc,null),this._uiManager.enableWaiting(!1),!!g(this,fo)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&g(this,Tr)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&g(this,Tr)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},nw=function(){if(g(this,$n)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(g(this,$n)).then(i=>M(this,Et,Lm).call(this,i,!0)).finally(()=>M(this,Et,$m).call(this));return}if(g(this,ol)){const i=g(this,ol);I(this,ol,null),this._uiManager.enableWaiting(!0),I(this,Mc,this._uiManager.imageManager.getFromUrl(i).then(a=>M(this,Et,Lm).call(this,a)).finally(()=>M(this,Et,$m).call(this)));return}if(g(this,Nc)){const i=g(this,Nc);I(this,Nc,null),this._uiManager.enableWaiting(!0),I(this,Mc,this._uiManager.imageManager.getFromFile(i).then(a=>M(this,Et,Lm).call(this,a)).finally(()=>M(this,Et,$m).call(this)));return}const r=document.createElement("input");r.type="file",r.accept=hg.supportedTypesStr;const n=this._uiManager._signal;I(this,Mc,new Promise(i=>{r.addEventListener("change",async()=>{if(!r.files||r.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(r.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),M(this,Et,Lm).call(this,a)}i()},{signal:n}),r.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>M(this,Et,$m).call(this))),r.click()},dk=function(){const{div:r}=this;let{width:n,height:i}=g(this,Tr);const[a,s]=this.pageDimensions,o=.75;if(this.width)n=this.width*a,i=this.height*s;else if(n>o*a||i>o*s){const f=Math.min(o*a/n,o*s/i);n*=f,i*=f}const[l,c]=this.parentDimensions;this.setDims(n*l/a,i*c/s),this._uiManager.enableWaiting(!1);const u=I(this,fo,document.createElement("canvas"));u.setAttribute("role","img"),this.addContainer(u),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(r.hidden=!1),M(this,Et,hk).call(this,n,i),M(this,Et,gH).call(this),g(this,M0)||(this.parent.addUndoableEditor(this),I(this,M0,!0)),this._reportTelemetry({action:"inserted_image"}),g(this,O0)&&u.setAttribute("aria-label",g(this,O0))},mH=function(r,n){var o;const[i,a]=this.parentDimensions;this.width=r/i,this.height=n/a,(o=this._initialOptions)!=null&&o.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,g(this,ho)!==null&&clearTimeout(g(this,ho)),I(this,ho,setTimeout(()=>{I(this,ho,null),M(this,Et,hk).call(this,r,n)},200))},iw=function(r,n){const{width:i,height:a}=g(this,Tr);let s=i,o=a,l=g(this,Tr);for(;s>2*r||o>2*n;){const c=s,u=o;s>2*r&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const f=new OffscreenCanvas(s,o);f.getContext("2d").drawImage(l,0,0,c,u,0,0,s,o),l=f.transferToImageBitmap()}return l},hk=function(r,n){const i=new lC,a=Math.ceil(r*i.sx),s=Math.ceil(n*i.sy),o=g(this,fo);if(!o||o.width===a&&o.height===s)return;o.width=a,o.height=s;const l=g(this,sa)?g(this,Tr):M(this,Et,iw).call(this,a,s),c=o.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(l,0,0,l.width,l.height,0,0,a,s)},aw=function(r){if(r){if(g(this,sa)){const a=this._uiManager.imageManager.getSvgUrl(g(this,$n));if(a)return a}const n=document.createElement("canvas");return{width:n.width,height:n.height}=g(this,Tr),n.getContext("2d").drawImage(g(this,Tr),0,0),n.toDataURL()}if(g(this,sa)){const[n,i]=this.pageDimensions,a=Math.round(this.width*n*su.PDF_TO_CSS_UNITS),s=Math.round(this.height*i*su.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(a,s);return o.getContext("2d").drawImage(g(this,Tr),0,0,g(this,Tr).width,g(this,Tr).height,0,0,a,s),o.transferToImageBitmap()}return structuredClone(g(this,Tr))},gH=function(){this._uiManager._signal&&(I(this,ll,new ResizeObserver(r=>{const n=r[0].contentRect;n.width&&n.height&&M(this,Et,mH).call(this,n.width,n.height)})),g(this,ll).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var r;(r=g(this,ll))==null||r.disconnect(),I(this,ll,null)},{once:!0}))},vH=function(r){var c;const{rect:n,pageIndex:i,accessibilityData:{altText:a}}=this._initialData,s=r.rect.every((u,f)=>Math.abs(u-n[f])<1),o=r.pageIndex===i,l=(((c=r.accessibilityData)==null?void 0:c.alt)||"")===a;return{isSame:s&&o&&l,isSameAltText:l}},at(hg,"_type","stamp"),at(hg,"_editorType",ht.STAMP);let fk=hg;var Wf,N0,po,Rc,cl,oa,Dc,R0,D0,ri,ul,Je,Fc,zn,yH,mk,gk,vk,sw;const fs=class fs{constructor({uiManager:e,pageIndex:r,div:n,structTreeLayer:i,accessibilityManager:a,annotationLayer:s,drawLayer:o,textLayer:l,viewport:c,l10n:u}){B(this,zn);B(this,Wf);B(this,N0,!1);B(this,po,null);B(this,Rc,null);B(this,cl,null);B(this,oa,new Map);B(this,Dc,!1);B(this,R0,!1);B(this,D0,!1);B(this,ri,null);B(this,ul,null);B(this,Je);const f=[...g(fs,Fc).values()];if(!fs._initialized){fs._initialized=!0;for(const d of f)d.initialize(u,e)}e.registerEditorTypes(f),I(this,Je,e),this.pageIndex=r,this.div=n,I(this,Wf,a),I(this,po,s),this.viewport=c,I(this,ri,l),this.drawLayer=o,this._structTree=i,g(this,Je).addLayer(this)}get isEmpty(){return g(this,oa).size===0}get isInvisible(){return this.isEmpty&&g(this,Je).getMode()===ht.NONE}updateToolbar(e){g(this,Je).updateToolbar(e)}updateMode(e=g(this,Je).getMode()){switch(M(this,zn,sw).call(this),e){case ht.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ht.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case ht.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:r}=this.div;for(const n of g(fs,Fc).values())r.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var r;return e===((r=g(this,ri))==null?void 0:r.div)}addInkEditorIfNeeded(e){if(g(this,Je).getMode()!==ht.INK)return;if(!e){for(const n of g(this,oa).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){g(this,Je).setEditingState(e)}addCommands(e){g(this,Je).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var r;(r=g(this,po))==null||r.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of g(this,oa).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(g(this,Je).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!g(this,po))return;const r=g(this,po).getEditableAnnotations();for(const n of r){if(n.hide(),g(this,Je).isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const i=await this.deserialize(n);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;I(this,D0,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,r=new Map;for(const a of g(this,oa).values())if(a.disableEditing(),!!a.annotationElementId){if(a.serialize()!==null){e.set(a.annotationElementId,a);continue}else r.set(a.annotationElementId,a);(i=this.getEditableAnnotation(a.annotationElementId))==null||i.show(),a.remove()}if(g(this,po)){const a=g(this,po).getEditableAnnotations();for(const s of a){const{id:o}=s.data;if(g(this,Je).isDeletedAnnotationElement(o))continue;let l=r.get(o);if(l){l.resetAnnotationElement(s),l.show(!1),s.show();continue}l=e.get(o),l&&(g(this,Je).addChangedExistingAnnotation(l),l.renderAnnotationElement(s)&&l.show(!1)),s.show()}}M(this,zn,sw).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const a of g(fs,Fc).values())n.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),I(this,D0,!1)}getEditableAnnotation(e){var r;return((r=g(this,po))==null?void 0:r.getEditableAnnotation(e))||null}setActiveEditor(e){g(this,Je).getActive()!==e&&g(this,Je).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=g(this,ri))!=null&&e.div&&!g(this,ul)){I(this,ul,new AbortController);const r=g(this,Je).combinedSignal(g(this,ul));g(this,ri).div.addEventListener("pointerdown",M(this,zn,yH).bind(this),{signal:r}),g(this,ri).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=g(this,ri))!=null&&e.div&&g(this,ul)&&(g(this,ul).abort(),I(this,ul,null),g(this,ri).div.classList.remove("highlighting"))}enableClick(){if(g(this,Rc))return;I(this,Rc,new AbortController);const e=g(this,Je).combinedSignal(g(this,Rc));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=g(this,Rc))==null||e.abort(),I(this,Rc,null)}attach(e){g(this,oa).set(e.id,e);const{annotationElementId:r}=e;r&&g(this,Je).isDeletedAnnotationElement(r)&&g(this,Je).removeDeletedAnnotationElement(e)}detach(e){var r;g(this,oa).delete(e.id),(r=g(this,Wf))==null||r.removePointerInTextLayer(e.contentDiv),!g(this,D0)&&e.annotationElementId&&g(this,Je).addDeletedAnnotationElement(e)}remove(e){this.detach(e),g(this,Je).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,g(this,R0)||this.addInkEditorIfNeeded(!1)}changeParent(e){var r;e.parent!==this&&(e.parent&&e.annotationElementId&&(g(this,Je).addDeletedAnnotationElement(e.annotationElementId),zt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(r=e.parent)==null||r.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),g(this,Je).addEditor(e),this.attach(e),!e.isAttachedToDOM){const r=e.render();this.div.append(r),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),g(this,Je).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:r}=document;e.div.contains(r)&&!g(this,cl)&&(e._focusEventsAllowed=!1,I(this,cl,setTimeout(()=>{I(this,cl,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:g(this,Je)._signal}),r.focus())},0))),e._structTreeParentId=(n=g(this,Wf))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const r=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:r,undo:n,mustExec:!1})}getNextId(){return g(this,Je).getId()}combinedSignal(e){return g(this,Je).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=g(this,zn,mk))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,r){g(this,Je).updateToolbar(e),g(this,Je).updateMode(e);const{offsetX:n,offsetY:i}=M(this,zn,vk).call(this),a=this.getNextId(),s=M(this,zn,gk).call(this,{parent:this,id:a,x:n,y:i,uiManager:g(this,Je),isCentered:!0,...r});s&&this.add(s)}async deserialize(e){var r;return await((r=g(fs,Fc).get(e.annotationType??e.annotationEditorType))==null?void 0:r.deserialize(e,this,g(this,Je)))||null}createAndAddNewEditor(e,r,n={}){const i=this.getNextId(),a=M(this,zn,gk).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:g(this,Je),isCentered:r,...n});return a&&this.add(a),a}addNewEditor(){this.createAndAddNewEditor(M(this,zn,vk).call(this),!0)}setSelected(e){g(this,Je).setSelected(e)}toggleSelected(e){g(this,Je).toggleSelected(e)}unselect(e){g(this,Je).unselect(e)}pointerup(e){const{isMac:r}=Ci.platform;if(!(e.button!==0||e.ctrlKey&&r)&&e.target===this.div&&g(this,Dc)){if(I(this,Dc,!1),!g(this,N0)){I(this,N0,!0);return}if(g(this,Je).getMode()===ht.STAMP){g(this,Je).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(g(this,Je).getMode()===ht.HIGHLIGHT&&this.enableTextSelection(),g(this,Dc)){I(this,Dc,!1);return}const{isMac:r}=Ci.platform;if(e.button!==0||e.ctrlKey&&r||e.target!==this.div)return;I(this,Dc,!0);const n=g(this,Je).getActive();I(this,N0,!n||n.isEmpty())}findNewParent(e,r,n){const i=g(this,Je).findParent(r,n);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,r;((e=g(this,Je).getActive())==null?void 0:e.parent)===this&&(g(this,Je).commitOrRemove(),g(this,Je).setActiveEditor(null)),g(this,cl)&&(clearTimeout(g(this,cl)),I(this,cl,null));for(const n of g(this,oa).values())(r=g(this,Wf))==null||r.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,g(this,oa).clear(),g(this,Je).removeLayer(this)}render({viewport:e}){this.viewport=e,gd(this.div,e);for(const r of g(this,Je).getEditors(this.pageIndex))this.add(r),r.rebuild();this.updateMode()}update({viewport:e}){g(this,Je).commitOrRemove(),M(this,zn,sw).call(this);const r=this.viewport.rotation,n=e.rotation;if(this.viewport=e,gd(this.div,{rotation:n}),r!==n)for(const i of g(this,oa).values())i.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:r}=this.viewport.rawDims;return[e,r]}get scale(){return g(this,Je).viewParameters.realScale}};Wf=new WeakMap,N0=new WeakMap,po=new WeakMap,Rc=new WeakMap,cl=new WeakMap,oa=new WeakMap,Dc=new WeakMap,R0=new WeakMap,D0=new WeakMap,ri=new WeakMap,ul=new WeakMap,Je=new WeakMap,Fc=new WeakMap,zn=new WeakSet,yH=function(e){g(this,Je).unselectAll();const{target:r}=e;if(r===g(this,ri).div||(r.getAttribute("role")==="img"||r.classList.contains("endOfContent"))&&g(this,ri).div.contains(r)){const{isMac:n}=Ci.platform;if(e.button!==0||e.ctrlKey&&n)return;g(this,Je).showAllEditors("highlight",!0,!0),g(this,ri).div.classList.add("free"),this.toggleDrawing(),Z_.startHighlighting(this,g(this,Je).direction==="ltr",{target:g(this,ri).div,x:e.x,y:e.y}),g(this,ri).div.addEventListener("pointerup",()=>{g(this,ri).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:g(this,Je)._signal}),e.preventDefault()}},mk=function(){return g(fs,Fc).get(g(this,Je).getMode())},gk=function(e){const r=g(this,zn,mk);return r?new r.prototype.constructor(e):null},vk=function(){const{x:e,y:r,width:n,height:i}=this.div.getBoundingClientRect(),a=Math.max(0,e),s=Math.max(0,r),o=Math.min(window.innerWidth,e+n),l=Math.min(window.innerHeight,r+i),c=(a+o)/2-e,u=(s+l)/2-r,[f,d]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:f,offsetY:d}},sw=function(){I(this,R0,!0);for(const e of g(this,oa).values())e.isEmpty()&&e.remove();I(this,R0,!1)},at(fs,"_initialized",!1),B(fs,Fc,new Map([qC,rk,fk,Z_].map(e=>[e._editorType,e])));let pk=fs;var mo,Wy,Zr,fl,zy,xk,Sd,wk,xH;const Dn=class Dn{constructor({pageIndex:e}){B(this,Sd);B(this,mo,null);B(this,Wy,0);B(this,Zr,new Map);B(this,fl,new Map);this.pageIndex=e}setParent(e){if(!g(this,mo)){I(this,mo,e);return}if(g(this,mo)!==e){if(g(this,Zr).size>0)for(const r of g(this,Zr).values())r.remove(),e.append(r);I(this,mo,e)}}static get _svgFactory(){return Ct(this,"_svgFactory",new UO)}draw(e,r,n,i=!1){const a=vi(this,Wy)._++,s=M(this,Sd,wk).call(this,e.box);s.classList.add(...e.classNamesForDrawing);const o=Dn._svgFactory.createElement("defs");s.append(o);const l=Dn._svgFactory.createElement("path");o.append(l);const c=`path_p${this.pageIndex}_${a}`;l.setAttribute("id",c),l.setAttribute("d",e.toSVGPath()),i&&g(this,fl).set(a,l);const u=M(this,Sd,xH).call(this,o,c),f=Dn._svgFactory.createElement("use");return s.append(f),s.setAttribute("fill",r),s.setAttribute("fill-opacity",n),f.setAttribute("href",`#${c}`),g(this,Zr).set(a,s),{id:a,clipPathId:`url(#${u})`}}drawOutline(e){const r=vi(this,Wy)._++,n=M(this,Sd,wk).call(this,e.box);n.classList.add(...e.classNamesForOutlining);const i=Dn._svgFactory.createElement("defs");n.append(i);const a=Dn._svgFactory.createElement("path");i.append(a);const s=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",s),a.setAttribute("d",e.toSVGPath()),a.setAttribute("vector-effect","non-scaling-stroke");let o;if(e.mustRemoveSelfIntersections){const u=Dn._svgFactory.createElement("mask");i.append(u),o=`mask_p${this.pageIndex}_${r}`,u.setAttribute("id",o),u.setAttribute("maskUnits","objectBoundingBox");const f=Dn._svgFactory.createElement("rect");u.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const d=Dn._svgFactory.createElement("use");u.append(d),d.setAttribute("href",`#${s}`),d.setAttribute("stroke","none"),d.setAttribute("fill","black"),d.setAttribute("fill-rule","nonzero"),d.classList.add("mask")}const l=Dn._svgFactory.createElement("use");n.append(l),l.setAttribute("href",`#${s}`),o&&l.setAttribute("mask",`url(#${o})`);const c=l.cloneNode();return n.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),g(this,Zr).set(r,n),r}finalizeLine(e,r){const n=g(this,fl).get(e);g(this,fl).delete(e),this.updateBox(e,r.box),n.setAttribute("d",r.toSVGPath())}updateLine(e,r){g(this,Zr).get(e).firstChild.firstChild.setAttribute("d",r.toSVGPath())}updatePath(e,r){g(this,fl).get(e).setAttribute("d",r.toSVGPath())}updateBox(e,r){var n;M(n=Dn,zy,xk).call(n,g(this,Zr).get(e),r)}show(e,r){g(this,Zr).get(e).classList.toggle("hidden",!r)}rotate(e,r){g(this,Zr).get(e).setAttribute("data-main-rotation",r)}changeColor(e,r){g(this,Zr).get(e).setAttribute("fill",r)}changeOpacity(e,r){g(this,Zr).get(e).setAttribute("fill-opacity",r)}addClass(e,r){g(this,Zr).get(e).classList.add(r)}removeClass(e,r){g(this,Zr).get(e).classList.remove(r)}getSVGRoot(e){return g(this,Zr).get(e)}remove(e){g(this,fl).delete(e),g(this,mo)!==null&&(g(this,Zr).get(e).remove(),g(this,Zr).delete(e))}destroy(){I(this,mo,null);for(const e of g(this,Zr).values())e.remove();g(this,Zr).clear(),g(this,fl).clear()}};mo=new WeakMap,Wy=new WeakMap,Zr=new WeakMap,fl=new WeakMap,zy=new WeakSet,xk=function(e,{x:r=0,y:n=0,width:i=1,height:a=1}={}){const{style:s}=e;s.top=`${100*n}%`,s.left=`${100*r}%`,s.width=`${100*i}%`,s.height=`${100*a}%`},Sd=new WeakSet,wk=function(e){var n;const r=Dn._svgFactory.create(1,1,!0);return g(this,mo).append(r),r.setAttribute("aria-hidden",!0),M(n=Dn,zy,xk).call(n,r,e),r},xH=function(e,r){const n=Dn._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${r}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const a=Dn._svgFactory.createElement("use");return n.append(a),a.setAttribute("href",`#${r}`),a.classList.add("clip"),i},B(Dn,zy);let yk=Dn;lt.AbortException;lt.AnnotationEditorLayer;lt.AnnotationEditorParamsType;lt.AnnotationEditorType;lt.AnnotationEditorUIManager;lt.AnnotationLayer;lt.AnnotationMode;lt.ColorPicker;lt.DOMSVGFactory;lt.DrawLayer;lt.FeatureTest;var _Me=lt.GlobalWorkerOptions;lt.ImageKind;lt.InvalidPDFException;lt.MissingPDFException;lt.OPS;lt.OutputScale;lt.PDFDataRangeTransport;lt.PDFDateString;lt.PDFWorker;lt.PasswordResponses;lt.PermissionFlag;lt.PixelsPerInch;lt.RenderingCancelledException;lt.TextLayer;lt.UnexpectedResponseException;lt.Util;lt.VerbosityLevel;lt.XfaLayer;lt.build;lt.createValidAbsoluteUrl;lt.fetchData;var bMe=lt.getDocument;lt.getFilenameFromUrl;lt.getPdfFilenameFromUrl;lt.getXfaPageViewport;lt.isDataScheme;lt.isPdfFile;lt.noContextMenu;lt.normalizeUnicode;lt.setLayerDimensions;lt.shadow;var SMe=lt.version;_Me.workerSrc=`https://unpkg.com/pdfjs-dist@${SMe}/build/pdf.worker.min.mjs`;const AMe=t=>{let e=0,r=0,n=0;if(e+=(t.speedingEventRate||0)*11,e+=(t.seatbeltOffRate||0)*11,e+=(t.signSignalRate||0)*11,e+=(t.distractionsRate||0)*7.1,e+=(t.followingDistanceRate||0)*4.7,t.dcr!==void 0){const i=Math.max(0,100-t.dcr);r+=i*12}if(t.dsb!==void 0&&(r+=t.dsb/500*12),t.pod!==void 0){const i=Math.max(0,100-t.pod);r+=i*3}return t.cdfDpmo!==void 0&&(n+=t.cdfDpmo/1e3*6),t.ced!==void 0&&(n+=t.ced*50),{score:parseFloat((e+r+n).toFixed(2)),breakdown:{safety:parseFloat(e.toFixed(2)),quality:parseFloat(r.toFixed(2)),customer:parseFloat(n.toFixed(2)),total:parseFloat((e+r+n).toFixed(2))}}},TMe=async t=>{const e=await t.arrayBuffer(),r=await bMe({data:e}).promise;let n="";for(let S=1;S<=r.numPages;S++){const P=(await(await r.getPage(S)).getTextContent()).items.map(k=>k.str).join(" ");n+=" "+P}const i=n.split(/\s+/).filter(S=>S.length>0),a=[];let s="Unknown",o="Unknown",l="Unknown",c="Unknown",u=[];const f={safety:"Unknown",quality:"Unknown",team:"Unknown"},d=n.match(/Week\s+(\d+)/i);d&&(s=d[1]);const h=n.match(/GVIA\s+at\s+([A-Z0-9]+)/i);h&&(o=h[1]);const m=/Overall Standing:?\s*([\d.]+)\s*[|]\s*([A-Za-z\s]+?)(?=\s*(?:Poor|Fair|Great|Fantastic|Safety|Daily|Week))/i,p=n.match(m);if(p)l=p[1],c=p[2].trim();else{const S=n.match(/Overall Standing[:\s]*([\d.]+)/i);S&&(l=S[1]);const T=/(Fantastic Plus|Fantastic|Great|Fair|Poor)/i,E=n.match(new RegExp(`Overall Standing[\\s\\S]*?${T.source}`,"i"));E&&(c=E[1])}const y=n.match(/Safety and Compliance:?\s*([A-Za-z\s]+?)(?=\s*(?:i\s+On-Road|Compliance|Metric|$))/i);y&&(f.safety=y[1].trim());const w=n.match(/Delivery Quality:?\s*([A-Za-z\s]+?)(?=\s*(?:Customer|$))/i);w&&(f.quality=w[1].trim());const b=n.match(/Team and Fleet:?\s*([A-Za-z\s]+?)(?=\s*(?:i\s+Tenured|$))/i);b&&(f.team=b[1].trim());const _=/Recommended Focus Areas[\s\S]*?1\.\s*(.+?)[\s\S]*?2\.\s*(.+?)[\s\S]*?3\.\s*(.+?)(?=\s*(?:Improving|Current|Page|$))/i;let A=n.match(_);if(!A){const S=/(?:Key|Recommended) Focus Areas[\s\S]*?1\.\s*(.+?)[\s\S]*?2\.\s*(.+?)[\s\S]*?3\.\s*(.+?)(?=\s*(?:Announcements|Page|Improving|$))/i;A=n.match(S)}A&&(u=[A[1].trim(),A[2].trim(),A[3].trim()]);for(let S=0;S<i.length;S++){const T=i[S];if(/^[A-Z0-9]{8,}$/.test(T)&&/[A-Z]/.test(T)&&/[0-9]/.test(T)){let P=-1;for(let k=1;k<=6;k++){const N=i[S-k];if(/^\d+$/.test(N)){P=S-k;break}}if(P!==-1){const N=i.slice(P+1,S).join(" "),O=parseInt(i[P]),R=T,W=[];let Q=S+1;for(let j=0;j<15&&!(Q>=i.length);j++){let Y=i[Q];Y==="No"&&i[Q+1]==="Data"?(Y="0",Q+=2):Q+=1,W.push(Y)}if(W.length===15){const j=te=>{if(!te)return 0;const se=te.replace(/[%]/g,""),D=parseFloat(se);return isNaN(D)?0:D},Y={speedingEventRate:j(W[3]),seatbeltOffRate:j(W[2]),signSignalRate:j(W[6]),distractionsRate:j(W[4]),followingDistanceRate:j(W[5]),dcr:j(W[9]),dsb:j(W[10]),pod:j(W[11]),cdfDpmo:j(W[7]),ced:j(W[8])},{score:J,breakdown:Z}=AMe(Y),V={rank:O,name:N,transporterId:R,delivered:j(W[0]),fico:W[1]==="0"?"No Data":W[1],seatbeltOffRate:Y.seatbeltOffRate,speedingEventRate:Y.speedingEventRate,distractionsRate:Y.distractionsRate,followingDistanceRate:Y.followingDistanceRate,signSignalRate:Y.signSignalRate,cdfDpmo:Y.cdfDpmo,ced:Y.ced,dcr:Y.dcr,dsb:Y.dsb,pod:Y.pod,psb:j(W[12]),dsbCount:j(W[13]),podOpps:j(W[14]),impactScore:J,impactBreakdown:Z};a.find(te=>te.transporterId===V.transporterId)||a.push(V)}}}}return{week:s,station:o,overallScore:l,overallTier:c,keyFocusAreas:u,categoryScores:f,drivers:a}};var Dt;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},t.find=(i,a)=>{for(const s of i)if(a(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Dt||(Dt={}));var PL;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(PL||(PL={}));const je=Dt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ac=t=>{switch(typeof t){case"undefined":return je.undefined;case"string":return je.string;case"number":return Number.isNaN(t)?je.nan:je.number;case"boolean":return je.boolean;case"function":return je.function;case"bigint":return je.bigint;case"symbol":return je.symbol;case"object":return Array.isArray(t)?je.array:t===null?je.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?je.promise:typeof Map<"u"&&t instanceof Map?je.map:typeof Set<"u"&&t instanceof Set?je.set:typeof Date<"u"&&t instanceof Date?je.date:je.object;default:return je.unknown}},Se=Dt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Bl extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let o=n,l=0;for(;l<s.path.length;){const c=s.path[l];l===s.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(s))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return i(this),n}static assert(e){if(!(e instanceof Bl))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Dt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];r[a]=r[a]||[],r[a].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Bl.create=t=>new Bl(t);const _k=(t,e)=>{let r;switch(t.code){case Se.invalid_type:t.received===je.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Se.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Dt.jsonStringifyReplacer)}`;break;case Se.unrecognized_keys:r=`Unrecognized key(s) in object: ${Dt.joinValues(t.keys,", ")}`;break;case Se.invalid_union:r="Invalid input";break;case Se.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Dt.joinValues(t.options)}`;break;case Se.invalid_enum_value:r=`Invalid enum value. Expected ${Dt.joinValues(t.options)}, received '${t.received}'`;break;case Se.invalid_arguments:r="Invalid function arguments";break;case Se.invalid_return_type:r="Invalid function return type";break;case Se.invalid_date:r="Invalid date";break;case Se.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Dt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Se.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Se.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Se.custom:r="Invalid input";break;case Se.invalid_intersection_types:r="Intersection results could not be merged";break;case Se.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Se.not_finite:r="Number must be finite";break;default:r=e.defaultError,Dt.assertNever(t)}return{message:r}};let EMe=_k;function CMe(){return EMe}const kMe=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,a=[...r,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)o=c(s,{data:e,defaultError:o}).message;return{...i,path:a,message:o}};function Re(t,e){const r=CMe(),n=kMe({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===_k?void 0:_k].filter(i=>!!i)});t.common.issues.push(n)}class Ii{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return ot;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const a=await i.key,s=await i.value;n.push({key:a,value:s})}return Ii.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return ot;a.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[a.value]=s.value)}return{status:e.value,value:n}}}const ot=Object.freeze({status:"aborted"}),Bm=t=>({status:"dirty",value:t}),os=t=>({status:"valid",value:t}),IL=t=>t.status==="aborted",OL=t=>t.status==="dirty",mp=t=>t.status==="valid",Q_=t=>typeof Promise<"u"&&t instanceof Promise;var We;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(We||(We={}));class ko{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ML=(t,e)=>{if(mp(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Bl(t.common.issues);return this._error=r,this._error}}};function pt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,o)=>{const{message:l}=t;return s.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??n??o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:i}}class Pt{get description(){return this._def.description}_getType(e){return ac(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:ac(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ii,ctx:{common:e.parent.common,data:e.data,parsedType:ac(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Q_(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ac(e)},i=this._parseSync({data:e,path:n.path,parent:n});return ML(n,i)}"~validate"(e){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ac(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:r});return mp(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(i=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>mp(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ac(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(Q_(i)?i:Promise.resolve(i));return ML(n,a)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const s=e(i),o=()=>a.addIssue({code:Se.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new yp({schema:this,typeName:nt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Qc.create(this,this._def)}nullable(){return xp.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Eo.create(this)}promise(){return ib.create(this,this._def)}or(e){return tb.create([this,e],this._def)}and(e){return rb.create(this,e,this._def)}transform(e){return new yp({...pt(this._def),schema:this,typeName:nt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Tk({...pt(this._def),innerType:this,defaultValue:r,typeName:nt.ZodDefault})}brand(){return new JMe({typeName:nt.ZodBranded,type:this,...pt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Ek({...pt(this._def),innerType:this,catchValue:r,typeName:nt.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return HO.create(this,e)}readonly(){return Ck.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const PMe=/^c[^\s-]{8,}$/i,IMe=/^[0-9a-z]+$/,OMe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,MMe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,NMe=/^[a-z0-9_-]{21}$/i,RMe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,DMe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,FMe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,LMe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let bT;const $Me=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,BMe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,jMe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,UMe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,VMe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,HMe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,wH="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",WMe=new RegExp(`^${wH}$`);function _H(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function zMe(t){return new RegExp(`^${_H(t)}$`)}function GMe(t){let e=`${wH}T${_H(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function qMe(t,e){return!!((e==="v4"||!e)&&$Me.test(t)||(e==="v6"||!e)&&jMe.test(t))}function XMe(t,e){if(!RMe.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function KMe(t,e){return!!((e==="v4"||!e)&&BMe.test(t)||(e==="v6"||!e)&&UMe.test(t))}class wo extends Pt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==je.string){const a=this._getOrReturnCtx(e);return Re(a,{code:Se.invalid_type,expected:je.string,received:a.parsedType}),ot}const n=new Ii;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),Re(i,{code:Se.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),Re(i,{code:Se.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const s=e.data.length>a.value,o=e.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(e,i),s?Re(i,{code:Se.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&Re(i,{code:Se.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")FMe.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"email",code:Se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")bT||(bT=new RegExp(LMe,"u")),bT.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"emoji",code:Se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")MMe.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"uuid",code:Se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")NMe.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"nanoid",code:Se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")PMe.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"cuid",code:Se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")IMe.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"cuid2",code:Se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")OMe.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"ulid",code:Se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Re(i,{validation:"url",code:Se.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"regex",code:Se.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),Re(i,{code:Se.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),Re(i,{code:Se.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),Re(i,{code:Se.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?GMe(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{code:Se.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?WMe.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{code:Se.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?zMe(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{code:Se.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?DMe.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"duration",code:Se.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?qMe(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"ip",code:Se.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?XMe(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"jwt",code:Se.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?KMe(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"cidr",code:Se.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?VMe.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"base64",code:Se.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?HMe.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"base64url",code:Se.invalid_string,message:a.message}),n.dirty()):Dt.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:Se.invalid_string,...We.errToObj(n)})}_addCheck(e){return new wo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...We.errToObj(e)})}url(e){return this._addCheck({kind:"url",...We.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...We.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...We.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...We.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...We.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...We.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...We.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...We.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...We.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...We.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...We.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...We.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...We.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...We.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...We.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...We.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...We.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...We.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...We.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...We.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...We.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...We.errToObj(r)})}nonempty(e){return this.min(1,We.errToObj(e))}trim(){return new wo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new wo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new wo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}wo.create=t=>new wo({checks:[],typeName:nt.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...pt(t)});function YMe(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,a=Number.parseInt(t.toFixed(i).replace(".","")),s=Number.parseInt(e.toFixed(i).replace(".",""));return a%s/10**i}class xd extends Pt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==je.number){const a=this._getOrReturnCtx(e);return Re(a,{code:Se.invalid_type,expected:je.number,received:a.parsedType}),ot}let n;const i=new Ii;for(const a of this._def.checks)a.kind==="int"?Dt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Re(n,{code:Se.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),Re(n,{code:Se.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),Re(n,{code:Se.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?YMe(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),Re(n,{code:Se.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Re(n,{code:Se.not_finite,message:a.message}),i.dirty()):Dt.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,We.toString(r))}gt(e,r){return this.setLimit("min",e,!1,We.toString(r))}lte(e,r){return this.setLimit("max",e,!0,We.toString(r))}lt(e,r){return this.setLimit("max",e,!1,We.toString(r))}setLimit(e,r,n,i){return new xd({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:We.toString(i)}]})}_addCheck(e){return new xd({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:We.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:We.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:We.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:We.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:We.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:We.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:We.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:We.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:We.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Dt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}xd.create=t=>new xd({checks:[],typeName:nt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...pt(t)});class wd extends Pt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==je.bigint)return this._getInvalidInput(e);let n;const i=new Ii;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),Re(n,{code:Se.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),Re(n,{code:Se.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Re(n,{code:Se.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Dt.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return Re(r,{code:Se.invalid_type,expected:je.bigint,received:r.parsedType}),ot}gte(e,r){return this.setLimit("min",e,!0,We.toString(r))}gt(e,r){return this.setLimit("min",e,!1,We.toString(r))}lte(e,r){return this.setLimit("max",e,!0,We.toString(r))}lt(e,r){return this.setLimit("max",e,!1,We.toString(r))}setLimit(e,r,n,i){return new wd({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:We.toString(i)}]})}_addCheck(e){return new wd({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:We.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:We.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:We.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:We.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:We.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}wd.create=t=>new wd({checks:[],typeName:nt.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...pt(t)});class eb extends Pt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==je.boolean){const n=this._getOrReturnCtx(e);return Re(n,{code:Se.invalid_type,expected:je.boolean,received:n.parsedType}),ot}return os(e.data)}}eb.create=t=>new eb({typeName:nt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...pt(t)});class gp extends Pt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==je.date){const a=this._getOrReturnCtx(e);return Re(a,{code:Se.invalid_type,expected:je.date,received:a.parsedType}),ot}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Re(a,{code:Se.invalid_date}),ot}const n=new Ii;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),Re(i,{code:Se.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),Re(i,{code:Se.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):Dt.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new gp({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:We.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:We.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}gp.create=t=>new gp({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:nt.ZodDate,...pt(t)});class NL extends Pt{_parse(e){if(this._getType(e)!==je.symbol){const n=this._getOrReturnCtx(e);return Re(n,{code:Se.invalid_type,expected:je.symbol,received:n.parsedType}),ot}return os(e.data)}}NL.create=t=>new NL({typeName:nt.ZodSymbol,...pt(t)});class RL extends Pt{_parse(e){if(this._getType(e)!==je.undefined){const n=this._getOrReturnCtx(e);return Re(n,{code:Se.invalid_type,expected:je.undefined,received:n.parsedType}),ot}return os(e.data)}}RL.create=t=>new RL({typeName:nt.ZodUndefined,...pt(t)});class DL extends Pt{_parse(e){if(this._getType(e)!==je.null){const n=this._getOrReturnCtx(e);return Re(n,{code:Se.invalid_type,expected:je.null,received:n.parsedType}),ot}return os(e.data)}}DL.create=t=>new DL({typeName:nt.ZodNull,...pt(t)});class FL extends Pt{constructor(){super(...arguments),this._any=!0}_parse(e){return os(e.data)}}FL.create=t=>new FL({typeName:nt.ZodAny,...pt(t)});class bk extends Pt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return os(e.data)}}bk.create=t=>new bk({typeName:nt.ZodUnknown,...pt(t)});class lu extends Pt{_parse(e){const r=this._getOrReturnCtx(e);return Re(r,{code:Se.invalid_type,expected:je.never,received:r.parsedType}),ot}}lu.create=t=>new lu({typeName:nt.ZodNever,...pt(t)});class LL extends Pt{_parse(e){if(this._getType(e)!==je.undefined){const n=this._getOrReturnCtx(e);return Re(n,{code:Se.invalid_type,expected:je.void,received:n.parsedType}),ot}return os(e.data)}}LL.create=t=>new LL({typeName:nt.ZodVoid,...pt(t)});class Eo extends Pt{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==je.array)return Re(r,{code:Se.invalid_type,expected:je.array,received:r.parsedType}),ot;if(i.exactLength!==null){const s=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(s||o)&&(Re(r,{code:s?Se.too_big:Se.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Re(r,{code:Se.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Re(r,{code:Se.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,o)=>i.type._parseAsync(new ko(r,s,r.path,o)))).then(s=>Ii.mergeArray(n,s));const a=[...r.data].map((s,o)=>i.type._parseSync(new ko(r,s,r.path,o)));return Ii.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new Eo({...this._def,minLength:{value:e,message:We.toString(r)}})}max(e,r){return new Eo({...this._def,maxLength:{value:e,message:We.toString(r)}})}length(e,r){return new Eo({...this._def,exactLength:{value:e,message:We.toString(r)}})}nonempty(e){return this.min(1,e)}}Eo.create=(t,e)=>new Eo({type:t,minLength:null,maxLength:null,exactLength:null,typeName:nt.ZodArray,...pt(e)});function ih(t){if(t instanceof rn){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Qc.create(ih(n))}return new rn({...t._def,shape:()=>e})}else return t instanceof Eo?new Eo({...t._def,type:ih(t.element)}):t instanceof Qc?Qc.create(ih(t.unwrap())):t instanceof xp?xp.create(ih(t.unwrap())):t instanceof _d?_d.create(t.items.map(e=>ih(e))):t}class rn extends Pt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Dt.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==je.object){const c=this._getOrReturnCtx(e);return Re(c,{code:Se.invalid_type,expected:je.object,received:c.parsedType}),ot}const{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof lu&&this._def.unknownKeys==="strip"))for(const c in i.data)s.includes(c)||o.push(c);const l=[];for(const c of s){const u=a[c],f=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new ko(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof lu){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")o.length>0&&(Re(i,{code:Se.unrecognized_keys,keys:o}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of o){const f=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new ko(i,f,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const f=await u.key,d=await u.value;c.push({key:f,value:d,alwaysSet:u.alwaysSet})}return c}).then(c=>Ii.mergeObjectSync(n,c)):Ii.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return We.errToObj,new rn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var a,s;const i=((s=(a=this._def).errorMap)==null?void 0:s.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:We.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new rn({...this._def,unknownKeys:"strip"})}passthrough(){return new rn({...this._def,unknownKeys:"passthrough"})}extend(e){return new rn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new rn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:nt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new rn({...this._def,catchall:e})}pick(e){const r={};for(const n of Dt.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new rn({...this._def,shape:()=>r})}omit(e){const r={};for(const n of Dt.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new rn({...this._def,shape:()=>r})}deepPartial(){return ih(this)}partial(e){const r={};for(const n of Dt.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new rn({...this._def,shape:()=>r})}required(e){const r={};for(const n of Dt.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Qc;)a=a._def.innerType;r[n]=a}return new rn({...this._def,shape:()=>r})}keyof(){return bH(Dt.objectKeys(this.shape))}}rn.create=(t,e)=>new rn({shape:()=>t,unknownKeys:"strip",catchall:lu.create(),typeName:nt.ZodObject,...pt(e)});rn.strictCreate=(t,e)=>new rn({shape:()=>t,unknownKeys:"strict",catchall:lu.create(),typeName:nt.ZodObject,...pt(e)});rn.lazycreate=(t,e)=>new rn({shape:t,unknownKeys:"strip",catchall:lu.create(),typeName:nt.ZodObject,...pt(e)});class tb extends Pt{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new Bl(o.ctx.common.issues));return Re(r,{code:Se.invalid_union,unionErrors:s}),ot}if(r.common.async)return Promise.all(n.map(async a=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(l=>new Bl(l));return Re(r,{code:Se.invalid_union,unionErrors:o}),ot}}get options(){return this._def.options}}tb.create=(t,e)=>new tb({options:t,typeName:nt.ZodUnion,...pt(e)});function Sk(t,e){const r=ac(t),n=ac(e);if(t===e)return{valid:!0,data:t};if(r===je.object&&n===je.object){const i=Dt.objectKeys(e),a=Dt.objectKeys(t).filter(o=>i.indexOf(o)!==-1),s={...t,...e};for(const o of a){const l=Sk(t[o],e[o]);if(!l.valid)return{valid:!1};s[o]=l.data}return{valid:!0,data:s}}else if(r===je.array&&n===je.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const s=t[a],o=e[a],l=Sk(s,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===je.date&&n===je.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class rb extends Pt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(a,s)=>{if(IL(a)||IL(s))return ot;const o=Sk(a.value,s.value);return o.valid?((OL(a)||OL(s))&&r.dirty(),{status:r.value,value:o.data}):(Re(n,{code:Se.invalid_intersection_types}),ot)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}rb.create=(t,e,r)=>new rb({left:t,right:e,typeName:nt.ZodIntersection,...pt(r)});class _d extends Pt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==je.array)return Re(n,{code:Se.invalid_type,expected:je.array,received:n.parsedType}),ot;if(n.data.length<this._def.items.length)return Re(n,{code:Se.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ot;!this._def.rest&&n.data.length>this._def.items.length&&(Re(n,{code:Se.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((s,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new ko(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(a).then(s=>Ii.mergeArray(r,s)):Ii.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new _d({...this._def,rest:e})}}_d.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new _d({items:t,typeName:nt.ZodTuple,rest:null,...pt(e)})};class nb extends Pt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==je.object)return Re(n,{code:Se.invalid_type,expected:je.object,received:n.parsedType}),ot;const i=[],a=this._def.keyType,s=this._def.valueType;for(const o in n.data)i.push({key:a._parse(new ko(n,o,n.path,o)),value:s._parse(new ko(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?Ii.mergeObjectAsync(r,i):Ii.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Pt?new nb({keyType:e,valueType:r,typeName:nt.ZodRecord,...pt(n)}):new nb({keyType:wo.create(),valueType:e,typeName:nt.ZodRecord,...pt(r)})}}class $L extends Pt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==je.map)return Re(n,{code:Se.invalid_type,expected:je.map,received:n.parsedType}),ot;const i=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([o,l],c)=>({key:i._parse(new ko(n,o,n.path,[c,"key"])),value:a._parse(new ko(n,l,n.path,[c,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of s){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return ot;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const l of s){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return ot;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}}}}$L.create=(t,e,r)=>new $L({valueType:e,keyType:t,typeName:nt.ZodMap,...pt(r)});class Iv extends Pt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==je.set)return Re(n,{code:Se.invalid_type,expected:je.set,received:n.parsedType}),ot;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Re(n,{code:Se.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Re(n,{code:Se.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function s(l){const c=new Set;for(const u of l){if(u.status==="aborted")return ot;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}const o=[...n.data.values()].map((l,c)=>a._parse(new ko(n,l,n.path,c)));return n.common.async?Promise.all(o).then(l=>s(l)):s(o)}min(e,r){return new Iv({...this._def,minSize:{value:e,message:We.toString(r)}})}max(e,r){return new Iv({...this._def,maxSize:{value:e,message:We.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Iv.create=(t,e)=>new Iv({valueType:t,minSize:null,maxSize:null,typeName:nt.ZodSet,...pt(e)});class Ak extends Pt{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Ak.create=(t,e)=>new Ak({getter:t,typeName:nt.ZodLazy,...pt(e)});class BL extends Pt{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Re(r,{received:r.data,code:Se.invalid_literal,expected:this._def.value}),ot}return{status:"valid",value:e.data}}get value(){return this._def.value}}BL.create=(t,e)=>new BL({value:t,typeName:nt.ZodLiteral,...pt(e)});function bH(t,e){return new vp({values:t,typeName:nt.ZodEnum,...pt(e)})}class vp extends Pt{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Re(r,{expected:Dt.joinValues(n),received:r.parsedType,code:Se.invalid_type}),ot}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return Re(r,{received:r.data,code:Se.invalid_enum_value,options:n}),ot}return os(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return vp.create(e,{...this._def,...r})}exclude(e,r=this._def){return vp.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}vp.create=bH;class jL extends Pt{_parse(e){const r=Dt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==je.string&&n.parsedType!==je.number){const i=Dt.objectValues(r);return Re(n,{expected:Dt.joinValues(i),received:n.parsedType,code:Se.invalid_type}),ot}if(this._cache||(this._cache=new Set(Dt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Dt.objectValues(r);return Re(n,{received:n.data,code:Se.invalid_enum_value,options:i}),ot}return os(e.data)}get enum(){return this._def.values}}jL.create=(t,e)=>new jL({values:t,typeName:nt.ZodNativeEnum,...pt(e)});class ib extends Pt{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==je.promise&&r.common.async===!1)return Re(r,{code:Se.invalid_type,expected:je.promise,received:r.parsedType}),ot;const n=r.parsedType===je.promise?r.data:Promise.resolve(r.data);return os(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}ib.create=(t,e)=>new ib({type:t,typeName:nt.ZodPromise,...pt(e)});class yp extends Pt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===nt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:s=>{Re(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(n.data,a);if(n.common.async)return Promise.resolve(s).then(async o=>{if(r.value==="aborted")return ot;const l=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return l.status==="aborted"?ot:l.status==="dirty"||r.value==="dirty"?Bm(l.value):l});{if(r.value==="aborted")return ot;const o=this._def.schema._parseSync({data:s,path:n.path,parent:n});return o.status==="aborted"?ot:o.status==="dirty"||r.value==="dirty"?Bm(o.value):o}}if(i.type==="refinement"){const s=o=>{const l=i.refinement(o,a);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?ot:(o.status==="dirty"&&r.dirty(),s(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?ot:(o.status==="dirty"&&r.dirty(),s(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!mp(s))return ot;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>mp(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:r.value,value:o})):ot);Dt.assertNever(i)}}yp.create=(t,e,r)=>new yp({schema:t,typeName:nt.ZodEffects,effect:e,...pt(r)});yp.createWithPreprocess=(t,e,r)=>new yp({schema:e,effect:{type:"preprocess",transform:t},typeName:nt.ZodEffects,...pt(r)});class Qc extends Pt{_parse(e){return this._getType(e)===je.undefined?os(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Qc.create=(t,e)=>new Qc({innerType:t,typeName:nt.ZodOptional,...pt(e)});class xp extends Pt{_parse(e){return this._getType(e)===je.null?os(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}xp.create=(t,e)=>new xp({innerType:t,typeName:nt.ZodNullable,...pt(e)});class Tk extends Pt{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===je.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Tk.create=(t,e)=>new Tk({innerType:t,typeName:nt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...pt(e)});class Ek extends Pt{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Q_(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Bl(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Bl(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Ek.create=(t,e)=>new Ek({innerType:t,typeName:nt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...pt(e)});class UL extends Pt{_parse(e){if(this._getType(e)!==je.nan){const n=this._getOrReturnCtx(e);return Re(n,{code:Se.invalid_type,expected:je.nan,received:n.parsedType}),ot}return{status:"valid",value:e.data}}}UL.create=t=>new UL({typeName:nt.ZodNaN,...pt(t)});class JMe extends Pt{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class HO extends Pt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ot:a.status==="dirty"?(r.dirty(),Bm(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ot:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new HO({in:e,out:r,typeName:nt.ZodPipeline})}}class Ck extends Pt{_parse(e){const r=this._def.innerType._parse(e),n=i=>(mp(i)&&(i.value=Object.freeze(i.value)),i);return Q_(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}Ck.create=(t,e)=>new Ck({innerType:t,typeName:nt.ZodReadonly,...pt(e)});var nt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(nt||(nt={}));const Cu=wo.create,VL=xd.create;wd.create;const ZMe=eb.create;gp.create;const HL=bk.create;lu.create;const jm=Eo.create,QMe=rn.create,eNe=tb.create;rb.create;_d.create;const tNe=nb.create,rNe=Ak.create,nNe=vp.create;ib.create;Qc.create;xp.create;const Xd={string:t=>wo.create({...t,coerce:!0}),number:t=>xd.create({...t,coerce:!0}),boolean:t=>eb.create({...t,coerce:!0}),bigint:t=>wd.create({...t,coerce:!0}),date:t=>gp.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let iNe,aNe;function sNe(){return{geminiUrl:iNe,vertexUrl:aNe}}function oNe(t,e,r){var n,i,a;if(!(!((n=t.httpOptions)===null||n===void 0)&&n.baseUrl)){const s=sNe();return t.vertexai?(i=s.vertexUrl)!==null&&i!==void 0?i:e:(a=s.geminiUrl)!==null&&a!==void 0?a:r}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vx{}function rt(t,e){const r=/\{([^}]+)\}/g;return t.replace(r,(n,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function x(t,e,r){for(let a=0;a<e.length-1;a++){const s=e[a];if(s.endsWith("[]")){const o=s.slice(0,-2);if(!(o in t))if(Array.isArray(r))t[o]=Array.from({length:r.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[o])){const l=t[o];if(Array.isArray(r))for(let c=0;c<l.length;c++){const u=l[c];x(u,e.slice(a+1),r[c])}else for(const c of l)x(c,e.slice(a+1),r)}return}else if(s.endsWith("[0]")){const o=s.slice(0,-3);o in t||(t[o]=[{}]);const l=t[o];x(l[0],e.slice(a+1),r);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const n=e[e.length-1],i=t[n];if(i!==void 0){if(!r||typeof r=="object"&&Object.keys(r).length===0||r===i)return;if(typeof i=="object"&&typeof r=="object"&&i!==null&&r!==null)Object.assign(i,r);else throw new Error(`Cannot set value for an existing key. Key: ${n}`)}else t[n]=r}function v(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return;const n=e[r];if(n.endsWith("[]")){const i=n.slice(0,-2);if(i in t){const a=t[i];return Array.isArray(a)?a.map(s=>v(s,e.slice(r+1))):void 0}else return}else t=t[n]}return t}catch(r){if(r instanceof TypeError)return;throw r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var WL;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(WL||(WL={}));var zL;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(zL||(zL={}));var GL;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(GL||(GL={}));var qL;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(qL||(qL={}));var XL;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(XL||(XL={}));var go;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT"})(go||(go={}));var KL;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(KL||(KL={}));var YL;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(YL||(YL={}));var JL;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY"})(JL||(JL={}));var ZL;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(ZL||(ZL={}));var QL;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(QL||(QL={}));var e3;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(e3||(e3={}));var t3;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(t3||(t3={}));var ab;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(ab||(ab={}));var r3;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(r3||(r3={}));var kk;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(kk||(kk={}));var n3;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(n3||(n3={}));var i3;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(i3||(i3={}));var a3;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(a3||(a3={}));var s3;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(s3||(s3={}));var o3;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(o3||(o3={}));var l3;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(l3||(l3={}));var c3;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(c3||(c3={}));var u3;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(u3||(u3={}));var f3;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(f3||(f3={}));var d3;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(d3||(d3={}));var h3;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(h3||(h3={}));var p3;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(p3||(p3={}));var m3;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(m3||(m3={}));var g3;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(g3||(g3={}));var v3;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(v3||(v3={}));var y3;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(y3||(y3={}));var x3;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(x3||(x3={}));var w3;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(w3||(w3={}));var _3;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(_3||(_3={}));var b3;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(b3||(b3={}));var S3;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(S3||(S3={}));var A3;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(A3||(A3={}));var T3;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY"})(T3||(T3={}));var _h;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(_h||(_h={}));class pm{get text(){var e,r,n,i,a,s,o,l;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",u=!1;const f=[];for(const d of(l=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[h,m]of Object.entries(d))h!=="text"&&h!=="thought"&&(m!==null||m!==void 0)&&f.push(h);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;u=!0,c+=d.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?c:void 0}get data(){var e,r,n,i,a,s,o,l;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const u=[];for(const f of(l=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[d,h]of Object.entries(f))d!=="inlineData"&&(h!==null||h!==void 0)&&u.push(d);f.inlineData&&typeof f.inlineData.data=="string"&&(c+=atob(f.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,r,n,i,a,s,o,l;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(l=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(u=>u.functionCall).map(u=>u.functionCall).filter(u=>u!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,r,n,i,a,s,o,l,c;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=(l=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,r,n,i,a,s,o,l,c;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=(l=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.output}}class E3{}class C3{}class lNe{}class cNe{}class k3{}class P3{}class I3{}class uNe{}class O3{}class M3{}class N3{}class fNe{}class Pk{constructor(e){const r={};for(const n of e.headers.entries())r[n[0]]=n[1];this.headers=r,this.responseInternal=e}json(){return this.responseInternal.json()}}class dNe{}class hNe{}class pNe{get text(){var e,r,n;let i="",a=!1;const s=[];for(const o of(n=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[l,c]of Object.entries(o))l!=="text"&&l!=="thought"&&c!==null&&s.push(l);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;a=!0,i+=o.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,r,n;let i="";const a=[];for(const s of(n=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[o,l]of Object.entries(s))o!=="inlineData"&&l!==null&&a.push(o);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class mNe{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pr(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const r=e.split("/",2);return`publishers/${r[0]}/models/${r[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function SH(t,e){const r=pr(t,e);return r?r.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}`:r.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${r}`:r:""}function AH(t,e){return Array.isArray(e)?e.map(r=>sb(t,r)):[sb(t,e)]}function sb(t,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function gNe(t,e){const r=sb(t,e);if(r.mimeType&&r.mimeType.startsWith("image/"))return r;throw new Error(`Unsupported mime type: ${r.mimeType}`)}function vNe(t,e){const r=sb(t,e);if(r.mimeType&&r.mimeType.startsWith("audio/"))return r;throw new Error(`Unsupported mime type: ${r.mimeType}`)}function R3(t,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function TH(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(r=>R3(t,r)):[R3(t,e)]}function Ik(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function D3(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function F3(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Hi(t,e){if(e==null)throw new Error("ContentUnion is required");return Ik(e)?e:{role:"user",parts:TH(t,e)}}function EH(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(r=>{const n=Hi(t,r);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]});if(t.isVertexAI()){const r=Hi(t,e);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]}return Array.isArray(e)?e.map(r=>Hi(t,r)):[Hi(t,e)]}function Vs(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(D3(e)||F3(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Hi(t,e)]}const r=[],n=[],i=Ik(e[0]);for(const a of e){const s=Ik(a);if(s!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)r.push(a);else{if(D3(a)||F3(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(a)}}return i||r.push({role:"user",parts:TH(t,n)}),r}const L3=nNe(["string","number","integer","object","array","boolean","null"]),yNe=eNe([L3,jm(L3)]);function xNe(t=!0){const e=rNe(()=>{const r=QMe({type:yNe.optional(),format:Cu().optional(),title:Cu().optional(),description:Cu().optional(),default:HL().optional(),items:e.optional(),minItems:Xd.string().optional(),maxItems:Xd.string().optional(),enum:jm(HL()).optional(),properties:tNe(Cu(),e).optional(),required:jm(Cu()).optional(),minProperties:Xd.string().optional(),maxProperties:Xd.string().optional(),propertyOrdering:jm(Cu()).optional(),minimum:VL().optional(),maximum:VL().optional(),minLength:Xd.string().optional(),maxLength:Xd.string().optional(),pattern:Cu().optional(),anyOf:jm(e).optional(),additionalProperties:ZMe().optional()});return t?r.strict():r});return e}function wNe(t,e){t.includes("null")&&(e.nullable=!0);const r=t.filter(n=>n!=="null");if(r.length===1)e.type=Object.keys(go).includes(r[0].toUpperCase())?go[r[0].toUpperCase()]:go.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const n of r)e.anyOf.push({type:Object.keys(go).includes(n.toUpperCase())?go[n.toUpperCase()]:go.TYPE_UNSPECIFIED})}}function fg(t){const e={},r=["items"],n=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&wNe(t.type,e);for(const[s,o]of Object.entries(t))if(o!=null)if(s=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.keys(go).includes(o.toUpperCase())?o.toUpperCase():go.TYPE_UNSPECIFIED}else if(r.includes(s))e[s]=fg(o);else if(n.includes(s)){const l=[];for(const c of o){if(c.type=="null"){e.nullable=!0;continue}l.push(fg(c))}e[s]=l}else if(i.includes(s)){const l={};for(const[c,u]of Object.entries(o))l[c]=fg(u);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=o}return e}function ob(t,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const r=xNe().parse(e);return fg(r)}else return fg(e)}function CH(t,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function kH(t,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function qS(t,e){if(e.functionDeclarations)for(const r of e.functionDeclarations)r.parameters&&(r.parameters=ob(t,r.parameters)),r.response&&(r.response=ob(t,r.response));return e}function XS(t,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const r=[];for(const n of e)r.push(n);return r}function _Ne(t,e,r,n=1){const i=!e.startsWith(`${r}/`)&&e.split("/").length===n;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${r}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}/${e}`:e:i?`${r}/${e}`:e}function Su(t,e){if(typeof e!="string")throw new Error("name must be a string");return _Ne(t,e,"cachedContents")}function PH(t,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Au(t,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function bNe(t){return t!=null&&typeof t=="object"&&"name"in t}function SNe(t){return t!=null&&typeof t=="object"&&"video"in t}function ANe(t){return t!=null&&typeof t=="object"&&"uri"in t}function IH(t,e){var r;let n;if(bNe(e)&&(n=e.name),!(ANe(e)&&(n=e.uri,n===void 0))&&!(SNe(e)&&(n=(r=e.video)===null||r===void 0?void 0:r.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const a=n.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${n}`);n=a[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function OH(t,e){let r;return t.isVertexAI()?r=e?"publishers/google/models":"models":r=e?"models":"tunedModels",r}function MH(t,e){for(const r of["models","tunedModels","publisherModels"])if(TNe(e,r))return e[r];return[]}function TNe(t,e){return t!==null&&typeof t=="object"&&e in t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ENe(t,e){const r={},n=v(e,["fps"]);n!=null&&x(r,["fps"],n);const i=v(e,["endOffset"]);i!=null&&x(r,["endOffset"],i);const a=v(e,["startOffset"]);return a!=null&&x(r,["startOffset"],a),r}function CNe(t,e){const r={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["data"]);n!=null&&x(r,["data"],n);const i=v(e,["mimeType"]);return i!=null&&x(r,["mimeType"],i),r}function kNe(t,e){const r={},n=v(e,["videoMetadata"]);n!=null&&x(r,["videoMetadata"],ENe(t,n));const i=v(e,["thought"]);i!=null&&x(r,["thought"],i);const a=v(e,["inlineData"]);a!=null&&x(r,["inlineData"],CNe(t,a));const s=v(e,["codeExecutionResult"]);s!=null&&x(r,["codeExecutionResult"],s);const o=v(e,["executableCode"]);o!=null&&x(r,["executableCode"],o);const l=v(e,["fileData"]);l!=null&&x(r,["fileData"],l);const c=v(e,["functionCall"]);c!=null&&x(r,["functionCall"],c);const u=v(e,["functionResponse"]);u!=null&&x(r,["functionResponse"],u);const f=v(e,["text"]);return f!=null&&x(r,["text"],f),r}function $3(t,e){const r={},n=v(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>kNe(t,s))),x(r,["parts"],a)}const i=v(e,["role"]);return i!=null&&x(r,["role"],i),r}function PNe(t,e){const r={},n=v(e,["behavior"]);n!=null&&x(r,["behavior"],n);const i=v(e,["description"]);i!=null&&x(r,["description"],i);const a=v(e,["name"]);a!=null&&x(r,["name"],a);const s=v(e,["parameters"]);s!=null&&x(r,["parameters"],s);const o=v(e,["response"]);return o!=null&&x(r,["response"],o),r}function INe(t,e){const r={},n=v(e,["startTime"]);n!=null&&x(r,["startTime"],n);const i=v(e,["endTime"]);return i!=null&&x(r,["endTime"],i),r}function ONe(t,e){const r={},n=v(e,["timeRangeFilter"]);return n!=null&&x(r,["timeRangeFilter"],INe(t,n)),r}function MNe(t,e){const r={},n=v(e,["mode"]);n!=null&&x(r,["mode"],n);const i=v(e,["dynamicThreshold"]);return i!=null&&x(r,["dynamicThreshold"],i),r}function NNe(t,e){const r={},n=v(e,["dynamicRetrievalConfig"]);return n!=null&&x(r,["dynamicRetrievalConfig"],MNe(t,n)),r}function RNe(){return{}}function DNe(t,e){const r={},n=v(e,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>PNe(t,c))),x(r,["functionDeclarations"],l)}if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=v(e,["googleSearch"]);i!=null&&x(r,["googleSearch"],ONe(t,i));const a=v(e,["googleSearchRetrieval"]);if(a!=null&&x(r,["googleSearchRetrieval"],NNe(t,a)),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(v(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");v(e,["urlContext"])!=null&&x(r,["urlContext"],RNe());const o=v(e,["codeExecution"]);return o!=null&&x(r,["codeExecution"],o),r}function FNe(t,e){const r={},n=v(e,["mode"]);n!=null&&x(r,["mode"],n);const i=v(e,["allowedFunctionNames"]);return i!=null&&x(r,["allowedFunctionNames"],i),r}function LNe(t,e){const r={},n=v(e,["latitude"]);n!=null&&x(r,["latitude"],n);const i=v(e,["longitude"]);return i!=null&&x(r,["longitude"],i),r}function $Ne(t,e){const r={},n=v(e,["latLng"]);return n!=null&&x(r,["latLng"],LNe(t,n)),r}function BNe(t,e){const r={},n=v(e,["functionCallingConfig"]);n!=null&&x(r,["functionCallingConfig"],FNe(t,n));const i=v(e,["retrievalConfig"]);return i!=null&&x(r,["retrievalConfig"],$Ne(t,i)),r}function jNe(t,e,r){const n={},i=v(e,["ttl"]);r!==void 0&&i!=null&&x(r,["ttl"],i);const a=v(e,["expireTime"]);r!==void 0&&a!=null&&x(r,["expireTime"],a);const s=v(e,["displayName"]);r!==void 0&&s!=null&&x(r,["displayName"],s);const o=v(e,["contents"]);if(r!==void 0&&o!=null){let f=Vs(t,o);Array.isArray(f)&&(f=f.map(d=>$3(t,d))),x(r,["contents"],f)}const l=v(e,["systemInstruction"]);r!==void 0&&l!=null&&x(r,["systemInstruction"],$3(t,Hi(t,l)));const c=v(e,["tools"]);if(r!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(d=>DNe(t,d))),x(r,["tools"],f)}const u=v(e,["toolConfig"]);if(r!==void 0&&u!=null&&x(r,["toolConfig"],BNe(t,u)),v(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function UNe(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["model"],SH(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],jNe(t,i,r)),r}function VNe(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["_url","name"],Su(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],i),r}function HNe(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["_url","name"],Su(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],i),r}function WNe(t,e,r){const n={},i=v(e,["ttl"]);r!==void 0&&i!=null&&x(r,["ttl"],i);const a=v(e,["expireTime"]);return r!==void 0&&a!=null&&x(r,["expireTime"],a),n}function zNe(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["_url","name"],Su(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],WNe(t,i,r)),r}function GNe(t,e,r){const n={},i=v(e,["pageSize"]);r!==void 0&&i!=null&&x(r,["_query","pageSize"],i);const a=v(e,["pageToken"]);return r!==void 0&&a!=null&&x(r,["_query","pageToken"],a),n}function qNe(t,e){const r={},n=v(e,["config"]);return n!=null&&x(r,["config"],GNe(t,n,r)),r}function XNe(t,e){const r={},n=v(e,["fps"]);n!=null&&x(r,["fps"],n);const i=v(e,["endOffset"]);i!=null&&x(r,["endOffset"],i);const a=v(e,["startOffset"]);return a!=null&&x(r,["startOffset"],a),r}function KNe(t,e){const r={},n=v(e,["displayName"]);n!=null&&x(r,["displayName"],n);const i=v(e,["data"]);i!=null&&x(r,["data"],i);const a=v(e,["mimeType"]);return a!=null&&x(r,["mimeType"],a),r}function YNe(t,e){const r={},n=v(e,["videoMetadata"]);n!=null&&x(r,["videoMetadata"],XNe(t,n));const i=v(e,["thought"]);i!=null&&x(r,["thought"],i);const a=v(e,["inlineData"]);a!=null&&x(r,["inlineData"],KNe(t,a));const s=v(e,["codeExecutionResult"]);s!=null&&x(r,["codeExecutionResult"],s);const o=v(e,["executableCode"]);o!=null&&x(r,["executableCode"],o);const l=v(e,["fileData"]);l!=null&&x(r,["fileData"],l);const c=v(e,["functionCall"]);c!=null&&x(r,["functionCall"],c);const u=v(e,["functionResponse"]);u!=null&&x(r,["functionResponse"],u);const f=v(e,["text"]);return f!=null&&x(r,["text"],f),r}function B3(t,e){const r={},n=v(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>YNe(t,s))),x(r,["parts"],a)}const i=v(e,["role"]);return i!=null&&x(r,["role"],i),r}function JNe(t,e){const r={};if(v(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(e,["description"]);n!=null&&x(r,["description"],n);const i=v(e,["name"]);i!=null&&x(r,["name"],i);const a=v(e,["parameters"]);a!=null&&x(r,["parameters"],a);const s=v(e,["response"]);return s!=null&&x(r,["response"],s),r}function ZNe(t,e){const r={},n=v(e,["startTime"]);n!=null&&x(r,["startTime"],n);const i=v(e,["endTime"]);return i!=null&&x(r,["endTime"],i),r}function QNe(t,e){const r={},n=v(e,["timeRangeFilter"]);return n!=null&&x(r,["timeRangeFilter"],ZNe(t,n)),r}function eRe(t,e){const r={},n=v(e,["mode"]);n!=null&&x(r,["mode"],n);const i=v(e,["dynamicThreshold"]);return i!=null&&x(r,["dynamicThreshold"],i),r}function tRe(t,e){const r={},n=v(e,["dynamicRetrievalConfig"]);return n!=null&&x(r,["dynamicRetrievalConfig"],eRe(t,n)),r}function rRe(){return{}}function nRe(t,e){const r={},n=v(e,["apiKeyString"]);return n!=null&&x(r,["apiKeyString"],n),r}function iRe(t,e){const r={},n=v(e,["apiKeyConfig"]);n!=null&&x(r,["apiKeyConfig"],nRe(t,n));const i=v(e,["authType"]);i!=null&&x(r,["authType"],i);const a=v(e,["googleServiceAccountConfig"]);a!=null&&x(r,["googleServiceAccountConfig"],a);const s=v(e,["httpBasicAuthConfig"]);s!=null&&x(r,["httpBasicAuthConfig"],s);const o=v(e,["oauthConfig"]);o!=null&&x(r,["oauthConfig"],o);const l=v(e,["oidcConfig"]);return l!=null&&x(r,["oidcConfig"],l),r}function aRe(t,e){const r={},n=v(e,["authConfig"]);return n!=null&&x(r,["authConfig"],iRe(t,n)),r}function sRe(t,e){const r={},n=v(e,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(f=>JNe(t,f))),x(r,["functionDeclarations"],u)}const i=v(e,["retrieval"]);i!=null&&x(r,["retrieval"],i);const a=v(e,["googleSearch"]);a!=null&&x(r,["googleSearch"],QNe(t,a));const s=v(e,["googleSearchRetrieval"]);s!=null&&x(r,["googleSearchRetrieval"],tRe(t,s)),v(e,["enterpriseWebSearch"])!=null&&x(r,["enterpriseWebSearch"],rRe());const l=v(e,["googleMaps"]);if(l!=null&&x(r,["googleMaps"],aRe(t,l)),v(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const c=v(e,["codeExecution"]);return c!=null&&x(r,["codeExecution"],c),r}function oRe(t,e){const r={},n=v(e,["mode"]);n!=null&&x(r,["mode"],n);const i=v(e,["allowedFunctionNames"]);return i!=null&&x(r,["allowedFunctionNames"],i),r}function lRe(t,e){const r={},n=v(e,["latitude"]);n!=null&&x(r,["latitude"],n);const i=v(e,["longitude"]);return i!=null&&x(r,["longitude"],i),r}function cRe(t,e){const r={},n=v(e,["latLng"]);return n!=null&&x(r,["latLng"],lRe(t,n)),r}function uRe(t,e){const r={},n=v(e,["functionCallingConfig"]);n!=null&&x(r,["functionCallingConfig"],oRe(t,n));const i=v(e,["retrievalConfig"]);return i!=null&&x(r,["retrievalConfig"],cRe(t,i)),r}function fRe(t,e,r){const n={},i=v(e,["ttl"]);r!==void 0&&i!=null&&x(r,["ttl"],i);const a=v(e,["expireTime"]);r!==void 0&&a!=null&&x(r,["expireTime"],a);const s=v(e,["displayName"]);r!==void 0&&s!=null&&x(r,["displayName"],s);const o=v(e,["contents"]);if(r!==void 0&&o!=null){let d=Vs(t,o);Array.isArray(d)&&(d=d.map(h=>B3(t,h))),x(r,["contents"],d)}const l=v(e,["systemInstruction"]);r!==void 0&&l!=null&&x(r,["systemInstruction"],B3(t,Hi(t,l)));const c=v(e,["tools"]);if(r!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>sRe(t,h))),x(r,["tools"],d)}const u=v(e,["toolConfig"]);r!==void 0&&u!=null&&x(r,["toolConfig"],uRe(t,u));const f=v(e,["kmsKeyName"]);return r!==void 0&&f!=null&&x(r,["encryption_spec","kmsKeyName"],f),n}function dRe(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["model"],SH(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],fRe(t,i,r)),r}function hRe(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["_url","name"],Su(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],i),r}function pRe(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["_url","name"],Su(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],i),r}function mRe(t,e,r){const n={},i=v(e,["ttl"]);r!==void 0&&i!=null&&x(r,["ttl"],i);const a=v(e,["expireTime"]);return r!==void 0&&a!=null&&x(r,["expireTime"],a),n}function gRe(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["_url","name"],Su(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],mRe(t,i,r)),r}function vRe(t,e,r){const n={},i=v(e,["pageSize"]);r!==void 0&&i!=null&&x(r,["_query","pageSize"],i);const a=v(e,["pageToken"]);return r!==void 0&&a!=null&&x(r,["_query","pageToken"],a),n}function yRe(t,e){const r={},n=v(e,["config"]);return n!=null&&x(r,["config"],vRe(t,n,r)),r}function ow(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["name"],n);const i=v(e,["displayName"]);i!=null&&x(r,["displayName"],i);const a=v(e,["model"]);a!=null&&x(r,["model"],a);const s=v(e,["createTime"]);s!=null&&x(r,["createTime"],s);const o=v(e,["updateTime"]);o!=null&&x(r,["updateTime"],o);const l=v(e,["expireTime"]);l!=null&&x(r,["expireTime"],l);const c=v(e,["usageMetadata"]);return c!=null&&x(r,["usageMetadata"],c),r}function xRe(){return{}}function wRe(t,e){const r={},n=v(e,["nextPageToken"]);n!=null&&x(r,["nextPageToken"],n);const i=v(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>ow(t,s))),x(r,["cachedContents"],a)}return r}function lw(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["name"],n);const i=v(e,["displayName"]);i!=null&&x(r,["displayName"],i);const a=v(e,["model"]);a!=null&&x(r,["model"],a);const s=v(e,["createTime"]);s!=null&&x(r,["createTime"],s);const o=v(e,["updateTime"]);o!=null&&x(r,["updateTime"],o);const l=v(e,["expireTime"]);l!=null&&x(r,["expireTime"],l);const c=v(e,["usageMetadata"]);return c!=null&&x(r,["usageMetadata"],c),r}function _Re(){return{}}function bRe(t,e){const r={},n=v(e,["nextPageToken"]);n!=null&&x(r,["nextPageToken"],n);const i=v(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>lw(t,s))),x(r,["cachedContents"],a)}return r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var wp;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(wp||(wp={}));class KS{constructor(e,r,n,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=r,this.init(e,n,i)}init(e,r,n){var i,a;this.nameInternal=e,this.pageInternal=r[this.nameInternal]||[],this.idxInternal=0;let s={config:{}};n?typeof n=="object"?s=Object.assign({},n):s=n:s={config:{}},s.config&&(s.config.pageToken=r.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(a=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SRe extends vx{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new KS(wp.PAGED_ITEM_CACHED_CONTENTS,n=>this.listInternal(n),await this.listInternal(r),r)}async create(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=dRe(this.apiClient,e);return o=rt("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>lw(this.apiClient,u))}else{const c=UNe(this.apiClient,e);return o=rt("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>ow(this.apiClient,u))}}async get(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=hRe(this.apiClient,e);return o=rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>lw(this.apiClient,u))}else{const c=VNe(this.apiClient,e);return o=rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>ow(this.apiClient,u))}}async delete(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=pRe(this.apiClient,e);return o=rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(()=>{const u=_Re(),f=new M3;return Object.assign(f,u),f})}else{const c=HNe(this.apiClient,e);return o=rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(()=>{const u=xRe(),f=new M3;return Object.assign(f,u),f})}}async update(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=gRe(this.apiClient,e);return o=rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>lw(this.apiClient,u))}else{const c=zNe(this.apiClient,e);return o=rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>ow(this.apiClient,u))}}async listInternal(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=yRe(this.apiClient,e);return o=rt("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>{const f=bRe(this.apiClient,u),d=new N3;return Object.assign(d,f),d})}else{const c=qNe(this.apiClient,e);return o=rt("cachedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>{const f=wRe(this.apiClient,u),d=new N3;return Object.assign(d,f),d})}}}function j3(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cr(t){return this instanceof Cr?(this.v=t,this):new Cr(t)}function dg(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(m){return Promise.resolve(m).then(h,f)}}function o(h,m){n[h]&&(i[h]=function(p){return new Promise(function(y,w){a.push([h,p,y,w])>1||l(h,p)})},m&&(i[h]=m(i[h])))}function l(h,m){try{c(n[h](m))}catch(p){d(a[0][3],p)}}function c(h){h.value instanceof Cr?Promise.resolve(h.value.v).then(u,f):d(a[0][2],h)}function u(h){l("next",h)}function f(h){l("throw",h)}function d(h,m){h(m),a.shift(),a.length&&l(a[0][0],a[0][1])}}function cw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof j3=="function"?j3(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(s){return new Promise(function(o,l){s=t[a](s),i(o,l,s.done,s.value)})}}function i(a,s,o,l){Promise.resolve(l).then(function(c){a({value:c,done:o})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ARe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const r=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return r===void 0?!1:NH(r)}function NH(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function TRe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function U3(t){if(t===void 0||t.length===0)return[];const e=[],r=t.length;let n=0;for(;n<r;)if(t[n].role==="user")e.push(t[n]),n++;else{const i=[];let a=!0;for(;n<r&&t[n].role==="model";)i.push(t[n]),a&&!NH(t[n])&&(a=!1),n++;a?e.push(...i):e.pop()}return e}class ERe{constructor(e,r){this.modelsModule=e,this.apiClient=r}create(e){return new CRe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class CRe{constructor(e,r,n,i={},a=[]){this.apiClient=e,this.modelsModule=r,this.model=n,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),TRe(a)}async sendMessage(e){var r;await this.sendPromise;const n=Hi(this.apiClient,e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=e.config)!==null&&r!==void 0?r:this.config});return this.sendPromise=(async()=>{var a,s,o;const l=await i,c=(s=(a=l.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content,u=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let d=[];u!=null&&(d=(o=u.slice(f))!==null&&o!==void 0?o:[]);const h=c?[c]:[];this.recordHistory(n,h,d)})(),await this.sendPromise,i}async sendMessageStream(e){var r;await this.sendPromise;const n=Hi(this.apiClient,e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=e.config)!==null&&r!==void 0?r:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,n)}getHistory(e=!1){const r=e?U3(this.history):this.history;return structuredClone(r)}processStreamResponse(e,r){var n,i;return dg(this,arguments,function*(){var s,o,l,c;const u=[];try{for(var f=!0,d=cw(e),h;h=yield Cr(d.next()),s=h.done,!s;f=!0){c=h.value,f=!1;const m=c;if(ARe(m)){const p=(i=(n=m.candidates)===null||n===void 0?void 0:n[0])===null||i===void 0?void 0:i.content;p!==void 0&&u.push(p)}yield yield Cr(m)}}catch(m){o={error:m}}finally{try{!f&&!s&&(l=d.return)&&(yield Cr(l.call(d)))}finally{if(o)throw o.error}}this.recordHistory(r,u)})}recordHistory(e,r,n){let i=[];r.length>0&&r.every(a=>a.role!==void 0)?i=r:i.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...U3(n)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kRe(t,e,r){const n={},i=v(e,["pageSize"]);r!==void 0&&i!=null&&x(r,["_query","pageSize"],i);const a=v(e,["pageToken"]);return r!==void 0&&a!=null&&x(r,["_query","pageToken"],a),n}function PRe(t,e){const r={},n=v(e,["config"]);return n!=null&&x(r,["config"],kRe(t,n,r)),r}function IRe(t,e){const r={},n=v(e,["details"]);n!=null&&x(r,["details"],n);const i=v(e,["message"]);i!=null&&x(r,["message"],i);const a=v(e,["code"]);return a!=null&&x(r,["code"],a),r}function ORe(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["name"],n);const i=v(e,["displayName"]);i!=null&&x(r,["displayName"],i);const a=v(e,["mimeType"]);a!=null&&x(r,["mimeType"],a);const s=v(e,["sizeBytes"]);s!=null&&x(r,["sizeBytes"],s);const o=v(e,["createTime"]);o!=null&&x(r,["createTime"],o);const l=v(e,["expirationTime"]);l!=null&&x(r,["expirationTime"],l);const c=v(e,["updateTime"]);c!=null&&x(r,["updateTime"],c);const u=v(e,["sha256Hash"]);u!=null&&x(r,["sha256Hash"],u);const f=v(e,["uri"]);f!=null&&x(r,["uri"],f);const d=v(e,["downloadUri"]);d!=null&&x(r,["downloadUri"],d);const h=v(e,["state"]);h!=null&&x(r,["state"],h);const m=v(e,["source"]);m!=null&&x(r,["source"],m);const p=v(e,["videoMetadata"]);p!=null&&x(r,["videoMetadata"],p);const y=v(e,["error"]);return y!=null&&x(r,["error"],IRe(t,y)),r}function MRe(t,e){const r={},n=v(e,["file"]);n!=null&&x(r,["file"],ORe(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],i),r}function NRe(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["_url","file"],IH(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],i),r}function RRe(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["_url","file"],IH(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],i),r}function DRe(t,e){const r={},n=v(e,["details"]);n!=null&&x(r,["details"],n);const i=v(e,["message"]);i!=null&&x(r,["message"],i);const a=v(e,["code"]);return a!=null&&x(r,["code"],a),r}function Ok(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["name"],n);const i=v(e,["displayName"]);i!=null&&x(r,["displayName"],i);const a=v(e,["mimeType"]);a!=null&&x(r,["mimeType"],a);const s=v(e,["sizeBytes"]);s!=null&&x(r,["sizeBytes"],s);const o=v(e,["createTime"]);o!=null&&x(r,["createTime"],o);const l=v(e,["expirationTime"]);l!=null&&x(r,["expirationTime"],l);const c=v(e,["updateTime"]);c!=null&&x(r,["updateTime"],c);const u=v(e,["sha256Hash"]);u!=null&&x(r,["sha256Hash"],u);const f=v(e,["uri"]);f!=null&&x(r,["uri"],f);const d=v(e,["downloadUri"]);d!=null&&x(r,["downloadUri"],d);const h=v(e,["state"]);h!=null&&x(r,["state"],h);const m=v(e,["source"]);m!=null&&x(r,["source"],m);const p=v(e,["videoMetadata"]);p!=null&&x(r,["videoMetadata"],p);const y=v(e,["error"]);return y!=null&&x(r,["error"],DRe(t,y)),r}function FRe(t,e){const r={},n=v(e,["nextPageToken"]);n!=null&&x(r,["nextPageToken"],n);const i=v(e,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Ok(t,s))),x(r,["files"],a)}return r}function LRe(){return{}}function $Re(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BRe extends vx{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new KS(wp.PAGED_ITEM_FILES,n=>this.listInternal(n),await this.listInternal(r),r)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(r=>Ok(this.apiClient,r))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=PRe(this.apiClient,e);return a=rt("files",o._url),s=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=FRe(this.apiClient,l),u=new fNe;return Object.assign(u,c),u})}}async createInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=MRe(this.apiClient,e);return a=rt("upload/v1beta/files",o._url),s=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(()=>{const l=LRe(),c=new dNe;return Object.assign(c,l),c})}}async get(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=NRe(this.apiClient,e);return a=rt("files/{file}",o._url),s=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>Ok(this.apiClient,l))}}async delete(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=RRe(this.apiClient,e);return a=rt("files/{file}",o._url),s=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(()=>{const l=$Re(),c=new hNe;return Object.assign(c,l),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jRe(t,e){const r={},n=v(e,["voiceName"]);return n!=null&&x(r,["voiceName"],n),r}function URe(t,e){const r={},n=v(e,["voiceName"]);return n!=null&&x(r,["voiceName"],n),r}function RH(t,e){const r={},n=v(e,["prebuiltVoiceConfig"]);return n!=null&&x(r,["prebuiltVoiceConfig"],jRe(t,n)),r}function VRe(t,e){const r={},n=v(e,["prebuiltVoiceConfig"]);return n!=null&&x(r,["prebuiltVoiceConfig"],URe(t,n)),r}function HRe(t,e){const r={},n=v(e,["speaker"]);n!=null&&x(r,["speaker"],n);const i=v(e,["voiceConfig"]);return i!=null&&x(r,["voiceConfig"],RH(t,i)),r}function WRe(t,e){const r={},n=v(e,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>HRe(t,a))),x(r,["speakerVoiceConfigs"],i)}return r}function zRe(t,e){const r={},n=v(e,["voiceConfig"]);n!=null&&x(r,["voiceConfig"],RH(t,n));const i=v(e,["multiSpeakerVoiceConfig"]);i!=null&&x(r,["multiSpeakerVoiceConfig"],WRe(t,i));const a=v(e,["languageCode"]);return a!=null&&x(r,["languageCode"],a),r}function GRe(t,e){const r={},n=v(e,["voiceConfig"]);if(n!=null&&x(r,["voiceConfig"],VRe(t,n)),v(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=v(e,["languageCode"]);return i!=null&&x(r,["languageCode"],i),r}function qRe(t,e){const r={},n=v(e,["fps"]);n!=null&&x(r,["fps"],n);const i=v(e,["endOffset"]);i!=null&&x(r,["endOffset"],i);const a=v(e,["startOffset"]);return a!=null&&x(r,["startOffset"],a),r}function XRe(t,e){const r={},n=v(e,["fps"]);n!=null&&x(r,["fps"],n);const i=v(e,["endOffset"]);i!=null&&x(r,["endOffset"],i);const a=v(e,["startOffset"]);return a!=null&&x(r,["startOffset"],a),r}function KRe(t,e){const r={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["data"]);n!=null&&x(r,["data"],n);const i=v(e,["mimeType"]);return i!=null&&x(r,["mimeType"],i),r}function YRe(t,e){const r={},n=v(e,["displayName"]);n!=null&&x(r,["displayName"],n);const i=v(e,["data"]);i!=null&&x(r,["data"],i);const a=v(e,["mimeType"]);return a!=null&&x(r,["mimeType"],a),r}function JRe(t,e){const r={},n=v(e,["videoMetadata"]);n!=null&&x(r,["videoMetadata"],qRe(t,n));const i=v(e,["thought"]);i!=null&&x(r,["thought"],i);const a=v(e,["inlineData"]);a!=null&&x(r,["inlineData"],KRe(t,a));const s=v(e,["codeExecutionResult"]);s!=null&&x(r,["codeExecutionResult"],s);const o=v(e,["executableCode"]);o!=null&&x(r,["executableCode"],o);const l=v(e,["fileData"]);l!=null&&x(r,["fileData"],l);const c=v(e,["functionCall"]);c!=null&&x(r,["functionCall"],c);const u=v(e,["functionResponse"]);u!=null&&x(r,["functionResponse"],u);const f=v(e,["text"]);return f!=null&&x(r,["text"],f),r}function ZRe(t,e){const r={},n=v(e,["videoMetadata"]);n!=null&&x(r,["videoMetadata"],XRe(t,n));const i=v(e,["thought"]);i!=null&&x(r,["thought"],i);const a=v(e,["inlineData"]);a!=null&&x(r,["inlineData"],YRe(t,a));const s=v(e,["codeExecutionResult"]);s!=null&&x(r,["codeExecutionResult"],s);const o=v(e,["executableCode"]);o!=null&&x(r,["executableCode"],o);const l=v(e,["fileData"]);l!=null&&x(r,["fileData"],l);const c=v(e,["functionCall"]);c!=null&&x(r,["functionCall"],c);const u=v(e,["functionResponse"]);u!=null&&x(r,["functionResponse"],u);const f=v(e,["text"]);return f!=null&&x(r,["text"],f),r}function QRe(t,e){const r={},n=v(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>JRe(t,s))),x(r,["parts"],a)}const i=v(e,["role"]);return i!=null&&x(r,["role"],i),r}function eDe(t,e){const r={},n=v(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>ZRe(t,s))),x(r,["parts"],a)}const i=v(e,["role"]);return i!=null&&x(r,["role"],i),r}function tDe(t,e){const r={},n=v(e,["behavior"]);n!=null&&x(r,["behavior"],n);const i=v(e,["description"]);i!=null&&x(r,["description"],i);const a=v(e,["name"]);a!=null&&x(r,["name"],a);const s=v(e,["parameters"]);s!=null&&x(r,["parameters"],s);const o=v(e,["response"]);return o!=null&&x(r,["response"],o),r}function rDe(t,e){const r={};if(v(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(e,["description"]);n!=null&&x(r,["description"],n);const i=v(e,["name"]);i!=null&&x(r,["name"],i);const a=v(e,["parameters"]);a!=null&&x(r,["parameters"],a);const s=v(e,["response"]);return s!=null&&x(r,["response"],s),r}function nDe(t,e){const r={},n=v(e,["startTime"]);n!=null&&x(r,["startTime"],n);const i=v(e,["endTime"]);return i!=null&&x(r,["endTime"],i),r}function iDe(t,e){const r={},n=v(e,["startTime"]);n!=null&&x(r,["startTime"],n);const i=v(e,["endTime"]);return i!=null&&x(r,["endTime"],i),r}function aDe(t,e){const r={},n=v(e,["timeRangeFilter"]);return n!=null&&x(r,["timeRangeFilter"],nDe(t,n)),r}function sDe(t,e){const r={},n=v(e,["timeRangeFilter"]);return n!=null&&x(r,["timeRangeFilter"],iDe(t,n)),r}function oDe(t,e){const r={},n=v(e,["mode"]);n!=null&&x(r,["mode"],n);const i=v(e,["dynamicThreshold"]);return i!=null&&x(r,["dynamicThreshold"],i),r}function lDe(t,e){const r={},n=v(e,["mode"]);n!=null&&x(r,["mode"],n);const i=v(e,["dynamicThreshold"]);return i!=null&&x(r,["dynamicThreshold"],i),r}function cDe(t,e){const r={},n=v(e,["dynamicRetrievalConfig"]);return n!=null&&x(r,["dynamicRetrievalConfig"],oDe(t,n)),r}function uDe(t,e){const r={},n=v(e,["dynamicRetrievalConfig"]);return n!=null&&x(r,["dynamicRetrievalConfig"],lDe(t,n)),r}function fDe(){return{}}function dDe(t,e){const r={},n=v(e,["apiKeyString"]);return n!=null&&x(r,["apiKeyString"],n),r}function hDe(t,e){const r={},n=v(e,["apiKeyConfig"]);n!=null&&x(r,["apiKeyConfig"],dDe(t,n));const i=v(e,["authType"]);i!=null&&x(r,["authType"],i);const a=v(e,["googleServiceAccountConfig"]);a!=null&&x(r,["googleServiceAccountConfig"],a);const s=v(e,["httpBasicAuthConfig"]);s!=null&&x(r,["httpBasicAuthConfig"],s);const o=v(e,["oauthConfig"]);o!=null&&x(r,["oauthConfig"],o);const l=v(e,["oidcConfig"]);return l!=null&&x(r,["oidcConfig"],l),r}function pDe(t,e){const r={},n=v(e,["authConfig"]);return n!=null&&x(r,["authConfig"],hDe(t,n)),r}function mDe(){return{}}function gDe(t,e){const r={},n=v(e,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>tDe(t,c))),x(r,["functionDeclarations"],l)}if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=v(e,["googleSearch"]);i!=null&&x(r,["googleSearch"],aDe(t,i));const a=v(e,["googleSearchRetrieval"]);if(a!=null&&x(r,["googleSearchRetrieval"],cDe(t,a)),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(v(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");v(e,["urlContext"])!=null&&x(r,["urlContext"],mDe());const o=v(e,["codeExecution"]);return o!=null&&x(r,["codeExecution"],o),r}function vDe(t,e){const r={},n=v(e,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(f=>rDe(t,f))),x(r,["functionDeclarations"],u)}const i=v(e,["retrieval"]);i!=null&&x(r,["retrieval"],i);const a=v(e,["googleSearch"]);a!=null&&x(r,["googleSearch"],sDe(t,a));const s=v(e,["googleSearchRetrieval"]);s!=null&&x(r,["googleSearchRetrieval"],uDe(t,s)),v(e,["enterpriseWebSearch"])!=null&&x(r,["enterpriseWebSearch"],fDe());const l=v(e,["googleMaps"]);if(l!=null&&x(r,["googleMaps"],pDe(t,l)),v(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const c=v(e,["codeExecution"]);return c!=null&&x(r,["codeExecution"],c),r}function yDe(t,e){const r={},n=v(e,["handle"]);if(n!=null&&x(r,["handle"],n),v(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return r}function xDe(t,e){const r={},n=v(e,["handle"]);n!=null&&x(r,["handle"],n);const i=v(e,["transparent"]);return i!=null&&x(r,["transparent"],i),r}function V3(){return{}}function H3(){return{}}function wDe(t,e){const r={},n=v(e,["disabled"]);n!=null&&x(r,["disabled"],n);const i=v(e,["startOfSpeechSensitivity"]);i!=null&&x(r,["startOfSpeechSensitivity"],i);const a=v(e,["endOfSpeechSensitivity"]);a!=null&&x(r,["endOfSpeechSensitivity"],a);const s=v(e,["prefixPaddingMs"]);s!=null&&x(r,["prefixPaddingMs"],s);const o=v(e,["silenceDurationMs"]);return o!=null&&x(r,["silenceDurationMs"],o),r}function _De(t,e){const r={},n=v(e,["disabled"]);n!=null&&x(r,["disabled"],n);const i=v(e,["startOfSpeechSensitivity"]);i!=null&&x(r,["startOfSpeechSensitivity"],i);const a=v(e,["endOfSpeechSensitivity"]);a!=null&&x(r,["endOfSpeechSensitivity"],a);const s=v(e,["prefixPaddingMs"]);s!=null&&x(r,["prefixPaddingMs"],s);const o=v(e,["silenceDurationMs"]);return o!=null&&x(r,["silenceDurationMs"],o),r}function bDe(t,e){const r={},n=v(e,["automaticActivityDetection"]);n!=null&&x(r,["automaticActivityDetection"],wDe(t,n));const i=v(e,["activityHandling"]);i!=null&&x(r,["activityHandling"],i);const a=v(e,["turnCoverage"]);return a!=null&&x(r,["turnCoverage"],a),r}function SDe(t,e){const r={},n=v(e,["automaticActivityDetection"]);n!=null&&x(r,["automaticActivityDetection"],_De(t,n));const i=v(e,["activityHandling"]);i!=null&&x(r,["activityHandling"],i);const a=v(e,["turnCoverage"]);return a!=null&&x(r,["turnCoverage"],a),r}function ADe(t,e){const r={},n=v(e,["targetTokens"]);return n!=null&&x(r,["targetTokens"],n),r}function TDe(t,e){const r={},n=v(e,["targetTokens"]);return n!=null&&x(r,["targetTokens"],n),r}function EDe(t,e){const r={},n=v(e,["triggerTokens"]);n!=null&&x(r,["triggerTokens"],n);const i=v(e,["slidingWindow"]);return i!=null&&x(r,["slidingWindow"],ADe(t,i)),r}function CDe(t,e){const r={},n=v(e,["triggerTokens"]);n!=null&&x(r,["triggerTokens"],n);const i=v(e,["slidingWindow"]);return i!=null&&x(r,["slidingWindow"],TDe(t,i)),r}function kDe(t,e){const r={},n=v(e,["proactiveAudio"]);return n!=null&&x(r,["proactiveAudio"],n),r}function PDe(t,e){const r={},n=v(e,["proactiveAudio"]);return n!=null&&x(r,["proactiveAudio"],n),r}function IDe(t,e,r){const n={},i=v(e,["generationConfig"]);r!==void 0&&i!=null&&x(r,["setup","generationConfig"],i);const a=v(e,["responseModalities"]);r!==void 0&&a!=null&&x(r,["setup","generationConfig","responseModalities"],a);const s=v(e,["temperature"]);r!==void 0&&s!=null&&x(r,["setup","generationConfig","temperature"],s);const o=v(e,["topP"]);r!==void 0&&o!=null&&x(r,["setup","generationConfig","topP"],o);const l=v(e,["topK"]);r!==void 0&&l!=null&&x(r,["setup","generationConfig","topK"],l);const c=v(e,["maxOutputTokens"]);r!==void 0&&c!=null&&x(r,["setup","generationConfig","maxOutputTokens"],c);const u=v(e,["mediaResolution"]);r!==void 0&&u!=null&&x(r,["setup","generationConfig","mediaResolution"],u);const f=v(e,["seed"]);r!==void 0&&f!=null&&x(r,["setup","generationConfig","seed"],f);const d=v(e,["speechConfig"]);r!==void 0&&d!=null&&x(r,["setup","generationConfig","speechConfig"],zRe(t,kH(t,d)));const h=v(e,["enableAffectiveDialog"]);r!==void 0&&h!=null&&x(r,["setup","generationConfig","enableAffectiveDialog"],h);const m=v(e,["systemInstruction"]);r!==void 0&&m!=null&&x(r,["setup","systemInstruction"],QRe(t,Hi(t,m)));const p=v(e,["tools"]);if(r!==void 0&&p!=null){let T=XS(t,p);Array.isArray(T)&&(T=T.map(E=>gDe(t,qS(t,E)))),x(r,["setup","tools"],T)}const y=v(e,["sessionResumption"]);r!==void 0&&y!=null&&x(r,["setup","sessionResumption"],yDe(t,y));const w=v(e,["inputAudioTranscription"]);r!==void 0&&w!=null&&x(r,["setup","inputAudioTranscription"],V3());const b=v(e,["outputAudioTranscription"]);r!==void 0&&b!=null&&x(r,["setup","outputAudioTranscription"],V3());const _=v(e,["realtimeInputConfig"]);r!==void 0&&_!=null&&x(r,["setup","realtimeInputConfig"],bDe(t,_));const A=v(e,["contextWindowCompression"]);r!==void 0&&A!=null&&x(r,["setup","contextWindowCompression"],EDe(t,A));const S=v(e,["proactivity"]);return r!==void 0&&S!=null&&x(r,["setup","proactivity"],kDe(t,S)),n}function ODe(t,e,r){const n={},i=v(e,["generationConfig"]);r!==void 0&&i!=null&&x(r,["setup","generationConfig"],i);const a=v(e,["responseModalities"]);r!==void 0&&a!=null&&x(r,["setup","generationConfig","responseModalities"],a);const s=v(e,["temperature"]);r!==void 0&&s!=null&&x(r,["setup","generationConfig","temperature"],s);const o=v(e,["topP"]);r!==void 0&&o!=null&&x(r,["setup","generationConfig","topP"],o);const l=v(e,["topK"]);r!==void 0&&l!=null&&x(r,["setup","generationConfig","topK"],l);const c=v(e,["maxOutputTokens"]);r!==void 0&&c!=null&&x(r,["setup","generationConfig","maxOutputTokens"],c);const u=v(e,["mediaResolution"]);r!==void 0&&u!=null&&x(r,["setup","generationConfig","mediaResolution"],u);const f=v(e,["seed"]);r!==void 0&&f!=null&&x(r,["setup","generationConfig","seed"],f);const d=v(e,["speechConfig"]);r!==void 0&&d!=null&&x(r,["setup","generationConfig","speechConfig"],GRe(t,kH(t,d)));const h=v(e,["enableAffectiveDialog"]);r!==void 0&&h!=null&&x(r,["setup","generationConfig","enableAffectiveDialog"],h);const m=v(e,["systemInstruction"]);r!==void 0&&m!=null&&x(r,["setup","systemInstruction"],eDe(t,Hi(t,m)));const p=v(e,["tools"]);if(r!==void 0&&p!=null){let T=XS(t,p);Array.isArray(T)&&(T=T.map(E=>vDe(t,qS(t,E)))),x(r,["setup","tools"],T)}const y=v(e,["sessionResumption"]);r!==void 0&&y!=null&&x(r,["setup","sessionResumption"],xDe(t,y));const w=v(e,["inputAudioTranscription"]);r!==void 0&&w!=null&&x(r,["setup","inputAudioTranscription"],H3());const b=v(e,["outputAudioTranscription"]);r!==void 0&&b!=null&&x(r,["setup","outputAudioTranscription"],H3());const _=v(e,["realtimeInputConfig"]);r!==void 0&&_!=null&&x(r,["setup","realtimeInputConfig"],SDe(t,_));const A=v(e,["contextWindowCompression"]);r!==void 0&&A!=null&&x(r,["setup","contextWindowCompression"],CDe(t,A));const S=v(e,["proactivity"]);return r!==void 0&&S!=null&&x(r,["setup","proactivity"],PDe(t,S)),n}function MDe(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["setup","model"],pr(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],IDe(t,i,r)),r}function NDe(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["setup","model"],pr(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],ODe(t,i,r)),r}function RDe(){return{}}function DDe(){return{}}function FDe(){return{}}function LDe(){return{}}function $De(t,e){const r={},n=v(e,["media"]);n!=null&&x(r,["mediaChunks"],AH(t,n));const i=v(e,["audio"]);i!=null&&x(r,["audio"],vNe(t,i));const a=v(e,["audioStreamEnd"]);a!=null&&x(r,["audioStreamEnd"],a);const s=v(e,["video"]);s!=null&&x(r,["video"],gNe(t,s));const o=v(e,["text"]);return o!=null&&x(r,["text"],o),v(e,["activityStart"])!=null&&x(r,["activityStart"],RDe()),v(e,["activityEnd"])!=null&&x(r,["activityEnd"],FDe()),r}function BDe(t,e){const r={},n=v(e,["media"]);if(n!=null&&x(r,["mediaChunks"],AH(t,n)),v(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const i=v(e,["audioStreamEnd"]);if(i!=null&&x(r,["audioStreamEnd"],i),v(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(v(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return v(e,["activityStart"])!=null&&x(r,["activityStart"],DDe()),v(e,["activityEnd"])!=null&&x(r,["activityEnd"],LDe()),r}function DH(t,e){const r={},n=v(e,["text"]);n!=null&&x(r,["text"],n);const i=v(e,["weight"]);return i!=null&&x(r,["weight"],i),r}function jDe(t,e){const r={},n=v(e,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>DH(t,a))),x(r,["weightedPrompts"],i)}return r}function FH(t,e){const r={},n=v(e,["temperature"]);n!=null&&x(r,["temperature"],n);const i=v(e,["topK"]);i!=null&&x(r,["topK"],i);const a=v(e,["seed"]);a!=null&&x(r,["seed"],a);const s=v(e,["guidance"]);s!=null&&x(r,["guidance"],s);const o=v(e,["bpm"]);o!=null&&x(r,["bpm"],o);const l=v(e,["density"]);l!=null&&x(r,["density"],l);const c=v(e,["brightness"]);c!=null&&x(r,["brightness"],c);const u=v(e,["scale"]);u!=null&&x(r,["scale"],u);const f=v(e,["muteBass"]);f!=null&&x(r,["muteBass"],f);const d=v(e,["muteDrums"]);d!=null&&x(r,["muteDrums"],d);const h=v(e,["onlyBassAndDrums"]);h!=null&&x(r,["onlyBassAndDrums"],h);const m=v(e,["musicGenerationMode"]);return m!=null&&x(r,["musicGenerationMode"],m),r}function UDe(t,e){const r={},n=v(e,["musicGenerationConfig"]);return n!=null&&x(r,["musicGenerationConfig"],FH(t,n)),r}function LH(t,e){const r={},n=v(e,["model"]);return n!=null&&x(r,["model"],n),r}function $H(t,e){const r={},n=v(e,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>DH(t,a))),x(r,["weightedPrompts"],i)}return r}function Mk(t,e){const r={},n=v(e,["setup"]);n!=null&&x(r,["setup"],LH(t,n));const i=v(e,["clientContent"]);i!=null&&x(r,["clientContent"],$H(t,i));const a=v(e,["musicGenerationConfig"]);a!=null&&x(r,["musicGenerationConfig"],FH(t,a));const s=v(e,["playbackControl"]);return s!=null&&x(r,["playbackControl"],s),r}function VDe(){return{}}function HDe(){return{}}function WDe(t,e){const r={},n=v(e,["fps"]);n!=null&&x(r,["fps"],n);const i=v(e,["endOffset"]);i!=null&&x(r,["endOffset"],i);const a=v(e,["startOffset"]);return a!=null&&x(r,["startOffset"],a),r}function zDe(t,e){const r={},n=v(e,["fps"]);n!=null&&x(r,["fps"],n);const i=v(e,["endOffset"]);i!=null&&x(r,["endOffset"],i);const a=v(e,["startOffset"]);return a!=null&&x(r,["startOffset"],a),r}function GDe(t,e){const r={},n=v(e,["data"]);n!=null&&x(r,["data"],n);const i=v(e,["mimeType"]);return i!=null&&x(r,["mimeType"],i),r}function qDe(t,e){const r={},n=v(e,["displayName"]);n!=null&&x(r,["displayName"],n);const i=v(e,["data"]);i!=null&&x(r,["data"],i);const a=v(e,["mimeType"]);return a!=null&&x(r,["mimeType"],a),r}function XDe(t,e){const r={},n=v(e,["videoMetadata"]);n!=null&&x(r,["videoMetadata"],WDe(t,n));const i=v(e,["thought"]);i!=null&&x(r,["thought"],i);const a=v(e,["inlineData"]);a!=null&&x(r,["inlineData"],GDe(t,a));const s=v(e,["codeExecutionResult"]);s!=null&&x(r,["codeExecutionResult"],s);const o=v(e,["executableCode"]);o!=null&&x(r,["executableCode"],o);const l=v(e,["fileData"]);l!=null&&x(r,["fileData"],l);const c=v(e,["functionCall"]);c!=null&&x(r,["functionCall"],c);const u=v(e,["functionResponse"]);u!=null&&x(r,["functionResponse"],u);const f=v(e,["text"]);return f!=null&&x(r,["text"],f),r}function KDe(t,e){const r={},n=v(e,["videoMetadata"]);n!=null&&x(r,["videoMetadata"],zDe(t,n));const i=v(e,["thought"]);i!=null&&x(r,["thought"],i);const a=v(e,["inlineData"]);a!=null&&x(r,["inlineData"],qDe(t,a));const s=v(e,["codeExecutionResult"]);s!=null&&x(r,["codeExecutionResult"],s);const o=v(e,["executableCode"]);o!=null&&x(r,["executableCode"],o);const l=v(e,["fileData"]);l!=null&&x(r,["fileData"],l);const c=v(e,["functionCall"]);c!=null&&x(r,["functionCall"],c);const u=v(e,["functionResponse"]);u!=null&&x(r,["functionResponse"],u);const f=v(e,["text"]);return f!=null&&x(r,["text"],f),r}function YDe(t,e){const r={},n=v(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>XDe(t,s))),x(r,["parts"],a)}const i=v(e,["role"]);return i!=null&&x(r,["role"],i),r}function JDe(t,e){const r={},n=v(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>KDe(t,s))),x(r,["parts"],a)}const i=v(e,["role"]);return i!=null&&x(r,["role"],i),r}function W3(t,e){const r={},n=v(e,["text"]);n!=null&&x(r,["text"],n);const i=v(e,["finished"]);return i!=null&&x(r,["finished"],i),r}function z3(t,e){const r={},n=v(e,["text"]);n!=null&&x(r,["text"],n);const i=v(e,["finished"]);return i!=null&&x(r,["finished"],i),r}function ZDe(t,e){const r={},n=v(e,["retrievedUrl"]);n!=null&&x(r,["retrievedUrl"],n);const i=v(e,["urlRetrievalStatus"]);return i!=null&&x(r,["urlRetrievalStatus"],i),r}function QDe(t,e){const r={},n=v(e,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>ZDe(t,a))),x(r,["urlMetadata"],i)}return r}function eFe(t,e){const r={},n=v(e,["modelTurn"]);n!=null&&x(r,["modelTurn"],YDe(t,n));const i=v(e,["turnComplete"]);i!=null&&x(r,["turnComplete"],i);const a=v(e,["interrupted"]);a!=null&&x(r,["interrupted"],a);const s=v(e,["groundingMetadata"]);s!=null&&x(r,["groundingMetadata"],s);const o=v(e,["generationComplete"]);o!=null&&x(r,["generationComplete"],o);const l=v(e,["inputTranscription"]);l!=null&&x(r,["inputTranscription"],W3(t,l));const c=v(e,["outputTranscription"]);c!=null&&x(r,["outputTranscription"],W3(t,c));const u=v(e,["urlContextMetadata"]);return u!=null&&x(r,["urlContextMetadata"],QDe(t,u)),r}function tFe(t,e){const r={},n=v(e,["modelTurn"]);n!=null&&x(r,["modelTurn"],JDe(t,n));const i=v(e,["turnComplete"]);i!=null&&x(r,["turnComplete"],i);const a=v(e,["interrupted"]);a!=null&&x(r,["interrupted"],a);const s=v(e,["groundingMetadata"]);s!=null&&x(r,["groundingMetadata"],s);const o=v(e,["generationComplete"]);o!=null&&x(r,["generationComplete"],o);const l=v(e,["inputTranscription"]);l!=null&&x(r,["inputTranscription"],z3(t,l));const c=v(e,["outputTranscription"]);return c!=null&&x(r,["outputTranscription"],z3(t,c)),r}function rFe(t,e){const r={},n=v(e,["id"]);n!=null&&x(r,["id"],n);const i=v(e,["args"]);i!=null&&x(r,["args"],i);const a=v(e,["name"]);return a!=null&&x(r,["name"],a),r}function nFe(t,e){const r={},n=v(e,["args"]);n!=null&&x(r,["args"],n);const i=v(e,["name"]);return i!=null&&x(r,["name"],i),r}function iFe(t,e){const r={},n=v(e,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>rFe(t,a))),x(r,["functionCalls"],i)}return r}function aFe(t,e){const r={},n=v(e,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>nFe(t,a))),x(r,["functionCalls"],i)}return r}function sFe(t,e){const r={},n=v(e,["ids"]);return n!=null&&x(r,["ids"],n),r}function oFe(t,e){const r={},n=v(e,["ids"]);return n!=null&&x(r,["ids"],n),r}function g1(t,e){const r={},n=v(e,["modality"]);n!=null&&x(r,["modality"],n);const i=v(e,["tokenCount"]);return i!=null&&x(r,["tokenCount"],i),r}function v1(t,e){const r={},n=v(e,["modality"]);n!=null&&x(r,["modality"],n);const i=v(e,["tokenCount"]);return i!=null&&x(r,["tokenCount"],i),r}function lFe(t,e){const r={},n=v(e,["promptTokenCount"]);n!=null&&x(r,["promptTokenCount"],n);const i=v(e,["cachedContentTokenCount"]);i!=null&&x(r,["cachedContentTokenCount"],i);const a=v(e,["responseTokenCount"]);a!=null&&x(r,["responseTokenCount"],a);const s=v(e,["toolUsePromptTokenCount"]);s!=null&&x(r,["toolUsePromptTokenCount"],s);const o=v(e,["thoughtsTokenCount"]);o!=null&&x(r,["thoughtsTokenCount"],o);const l=v(e,["totalTokenCount"]);l!=null&&x(r,["totalTokenCount"],l);const c=v(e,["promptTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>g1(t,m))),x(r,["promptTokensDetails"],h)}const u=v(e,["cacheTokensDetails"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(m=>g1(t,m))),x(r,["cacheTokensDetails"],h)}const f=v(e,["responseTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>g1(t,m))),x(r,["responseTokensDetails"],h)}const d=v(e,["toolUsePromptTokensDetails"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>g1(t,m))),x(r,["toolUsePromptTokensDetails"],h)}return r}function cFe(t,e){const r={},n=v(e,["promptTokenCount"]);n!=null&&x(r,["promptTokenCount"],n);const i=v(e,["cachedContentTokenCount"]);i!=null&&x(r,["cachedContentTokenCount"],i);const a=v(e,["candidatesTokenCount"]);a!=null&&x(r,["responseTokenCount"],a);const s=v(e,["toolUsePromptTokenCount"]);s!=null&&x(r,["toolUsePromptTokenCount"],s);const o=v(e,["thoughtsTokenCount"]);o!=null&&x(r,["thoughtsTokenCount"],o);const l=v(e,["totalTokenCount"]);l!=null&&x(r,["totalTokenCount"],l);const c=v(e,["promptTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(p=>v1(t,p))),x(r,["promptTokensDetails"],m)}const u=v(e,["cacheTokensDetails"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(p=>v1(t,p))),x(r,["cacheTokensDetails"],m)}const f=v(e,["candidatesTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(p=>v1(t,p))),x(r,["responseTokensDetails"],m)}const d=v(e,["toolUsePromptTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(p=>v1(t,p))),x(r,["toolUsePromptTokensDetails"],m)}const h=v(e,["trafficType"]);return h!=null&&x(r,["trafficType"],h),r}function uFe(t,e){const r={},n=v(e,["timeLeft"]);return n!=null&&x(r,["timeLeft"],n),r}function fFe(t,e){const r={},n=v(e,["timeLeft"]);return n!=null&&x(r,["timeLeft"],n),r}function dFe(t,e){const r={},n=v(e,["newHandle"]);n!=null&&x(r,["newHandle"],n);const i=v(e,["resumable"]);i!=null&&x(r,["resumable"],i);const a=v(e,["lastConsumedClientMessageIndex"]);return a!=null&&x(r,["lastConsumedClientMessageIndex"],a),r}function hFe(t,e){const r={},n=v(e,["newHandle"]);n!=null&&x(r,["newHandle"],n);const i=v(e,["resumable"]);i!=null&&x(r,["resumable"],i);const a=v(e,["lastConsumedClientMessageIndex"]);return a!=null&&x(r,["lastConsumedClientMessageIndex"],a),r}function pFe(t,e){const r={};v(e,["setupComplete"])!=null&&x(r,["setupComplete"],VDe());const i=v(e,["serverContent"]);i!=null&&x(r,["serverContent"],eFe(t,i));const a=v(e,["toolCall"]);a!=null&&x(r,["toolCall"],iFe(t,a));const s=v(e,["toolCallCancellation"]);s!=null&&x(r,["toolCallCancellation"],sFe(t,s));const o=v(e,["usageMetadata"]);o!=null&&x(r,["usageMetadata"],lFe(t,o));const l=v(e,["goAway"]);l!=null&&x(r,["goAway"],uFe(t,l));const c=v(e,["sessionResumptionUpdate"]);return c!=null&&x(r,["sessionResumptionUpdate"],dFe(t,c)),r}function mFe(t,e){const r={};v(e,["setupComplete"])!=null&&x(r,["setupComplete"],HDe());const i=v(e,["serverContent"]);i!=null&&x(r,["serverContent"],tFe(t,i));const a=v(e,["toolCall"]);a!=null&&x(r,["toolCall"],aFe(t,a));const s=v(e,["toolCallCancellation"]);s!=null&&x(r,["toolCallCancellation"],oFe(t,s));const o=v(e,["usageMetadata"]);o!=null&&x(r,["usageMetadata"],cFe(t,o));const l=v(e,["goAway"]);l!=null&&x(r,["goAway"],fFe(t,l));const c=v(e,["sessionResumptionUpdate"]);return c!=null&&x(r,["sessionResumptionUpdate"],hFe(t,c)),r}function gFe(){return{}}function vFe(t,e){const r={},n=v(e,["text"]);n!=null&&x(r,["text"],n);const i=v(e,["weight"]);return i!=null&&x(r,["weight"],i),r}function yFe(t,e){const r={},n=v(e,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>vFe(t,a))),x(r,["weightedPrompts"],i)}return r}function xFe(t,e){const r={},n=v(e,["temperature"]);n!=null&&x(r,["temperature"],n);const i=v(e,["topK"]);i!=null&&x(r,["topK"],i);const a=v(e,["seed"]);a!=null&&x(r,["seed"],a);const s=v(e,["guidance"]);s!=null&&x(r,["guidance"],s);const o=v(e,["bpm"]);o!=null&&x(r,["bpm"],o);const l=v(e,["density"]);l!=null&&x(r,["density"],l);const c=v(e,["brightness"]);c!=null&&x(r,["brightness"],c);const u=v(e,["scale"]);u!=null&&x(r,["scale"],u);const f=v(e,["muteBass"]);f!=null&&x(r,["muteBass"],f);const d=v(e,["muteDrums"]);d!=null&&x(r,["muteDrums"],d);const h=v(e,["onlyBassAndDrums"]);h!=null&&x(r,["onlyBassAndDrums"],h);const m=v(e,["musicGenerationMode"]);return m!=null&&x(r,["musicGenerationMode"],m),r}function wFe(t,e){const r={},n=v(e,["clientContent"]);n!=null&&x(r,["clientContent"],yFe(t,n));const i=v(e,["musicGenerationConfig"]);return i!=null&&x(r,["musicGenerationConfig"],xFe(t,i)),r}function _Fe(t,e){const r={},n=v(e,["data"]);n!=null&&x(r,["data"],n);const i=v(e,["mimeType"]);i!=null&&x(r,["mimeType"],i);const a=v(e,["sourceMetadata"]);return a!=null&&x(r,["sourceMetadata"],wFe(t,a)),r}function bFe(t,e){const r={},n=v(e,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>_Fe(t,a))),x(r,["audioChunks"],i)}return r}function SFe(t,e){const r={},n=v(e,["text"]);n!=null&&x(r,["text"],n);const i=v(e,["filteredReason"]);return i!=null&&x(r,["filteredReason"],i),r}function AFe(t,e){const r={};v(e,["setupComplete"])!=null&&x(r,["setupComplete"],gFe());const i=v(e,["serverContent"]);i!=null&&x(r,["serverContent"],bFe(t,i));const a=v(e,["filteredPrompt"]);return a!=null&&x(r,["filteredPrompt"],SFe(t,a)),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TFe(t,e){const r={},n=v(e,["fps"]);n!=null&&x(r,["fps"],n);const i=v(e,["endOffset"]);i!=null&&x(r,["endOffset"],i);const a=v(e,["startOffset"]);return a!=null&&x(r,["startOffset"],a),r}function EFe(t,e){const r={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["data"]);n!=null&&x(r,["data"],n);const i=v(e,["mimeType"]);return i!=null&&x(r,["mimeType"],i),r}function CFe(t,e){const r={},n=v(e,["videoMetadata"]);n!=null&&x(r,["videoMetadata"],TFe(t,n));const i=v(e,["thought"]);i!=null&&x(r,["thought"],i);const a=v(e,["inlineData"]);a!=null&&x(r,["inlineData"],EFe(t,a));const s=v(e,["codeExecutionResult"]);s!=null&&x(r,["codeExecutionResult"],s);const o=v(e,["executableCode"]);o!=null&&x(r,["executableCode"],o);const l=v(e,["fileData"]);l!=null&&x(r,["fileData"],l);const c=v(e,["functionCall"]);c!=null&&x(r,["functionCall"],c);const u=v(e,["functionResponse"]);u!=null&&x(r,["functionResponse"],u);const f=v(e,["text"]);return f!=null&&x(r,["text"],f),r}function YS(t,e){const r={},n=v(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>CFe(t,s))),x(r,["parts"],a)}const i=v(e,["role"]);return i!=null&&x(r,["role"],i),r}function kFe(t,e){const r={};if(v(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=v(e,["category"]);n!=null&&x(r,["category"],n);const i=v(e,["threshold"]);return i!=null&&x(r,["threshold"],i),r}function PFe(t,e){const r={},n=v(e,["behavior"]);n!=null&&x(r,["behavior"],n);const i=v(e,["description"]);i!=null&&x(r,["description"],i);const a=v(e,["name"]);a!=null&&x(r,["name"],a);const s=v(e,["parameters"]);s!=null&&x(r,["parameters"],s);const o=v(e,["response"]);return o!=null&&x(r,["response"],o),r}function IFe(t,e){const r={},n=v(e,["startTime"]);n!=null&&x(r,["startTime"],n);const i=v(e,["endTime"]);return i!=null&&x(r,["endTime"],i),r}function OFe(t,e){const r={},n=v(e,["timeRangeFilter"]);return n!=null&&x(r,["timeRangeFilter"],IFe(t,n)),r}function MFe(t,e){const r={},n=v(e,["mode"]);n!=null&&x(r,["mode"],n);const i=v(e,["dynamicThreshold"]);return i!=null&&x(r,["dynamicThreshold"],i),r}function NFe(t,e){const r={},n=v(e,["dynamicRetrievalConfig"]);return n!=null&&x(r,["dynamicRetrievalConfig"],MFe(t,n)),r}function RFe(){return{}}function DFe(t,e){const r={},n=v(e,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>PFe(t,c))),x(r,["functionDeclarations"],l)}if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=v(e,["googleSearch"]);i!=null&&x(r,["googleSearch"],OFe(t,i));const a=v(e,["googleSearchRetrieval"]);if(a!=null&&x(r,["googleSearchRetrieval"],NFe(t,a)),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(v(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");v(e,["urlContext"])!=null&&x(r,["urlContext"],RFe());const o=v(e,["codeExecution"]);return o!=null&&x(r,["codeExecution"],o),r}function FFe(t,e){const r={},n=v(e,["mode"]);n!=null&&x(r,["mode"],n);const i=v(e,["allowedFunctionNames"]);return i!=null&&x(r,["allowedFunctionNames"],i),r}function LFe(t,e){const r={},n=v(e,["latitude"]);n!=null&&x(r,["latitude"],n);const i=v(e,["longitude"]);return i!=null&&x(r,["longitude"],i),r}function $Fe(t,e){const r={},n=v(e,["latLng"]);return n!=null&&x(r,["latLng"],LFe(t,n)),r}function BFe(t,e){const r={},n=v(e,["functionCallingConfig"]);n!=null&&x(r,["functionCallingConfig"],FFe(t,n));const i=v(e,["retrievalConfig"]);return i!=null&&x(r,["retrievalConfig"],$Fe(t,i)),r}function jFe(t,e){const r={},n=v(e,["voiceName"]);return n!=null&&x(r,["voiceName"],n),r}function BH(t,e){const r={},n=v(e,["prebuiltVoiceConfig"]);return n!=null&&x(r,["prebuiltVoiceConfig"],jFe(t,n)),r}function UFe(t,e){const r={},n=v(e,["speaker"]);n!=null&&x(r,["speaker"],n);const i=v(e,["voiceConfig"]);return i!=null&&x(r,["voiceConfig"],BH(t,i)),r}function VFe(t,e){const r={},n=v(e,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>UFe(t,a))),x(r,["speakerVoiceConfigs"],i)}return r}function HFe(t,e){const r={},n=v(e,["voiceConfig"]);n!=null&&x(r,["voiceConfig"],BH(t,n));const i=v(e,["multiSpeakerVoiceConfig"]);i!=null&&x(r,["multiSpeakerVoiceConfig"],VFe(t,i));const a=v(e,["languageCode"]);return a!=null&&x(r,["languageCode"],a),r}function WFe(t,e){const r={},n=v(e,["includeThoughts"]);n!=null&&x(r,["includeThoughts"],n);const i=v(e,["thinkingBudget"]);return i!=null&&x(r,["thinkingBudget"],i),r}function zFe(t,e,r){const n={},i=v(e,["systemInstruction"]);r!==void 0&&i!=null&&x(r,["systemInstruction"],YS(t,Hi(t,i)));const a=v(e,["temperature"]);a!=null&&x(n,["temperature"],a);const s=v(e,["topP"]);s!=null&&x(n,["topP"],s);const o=v(e,["topK"]);o!=null&&x(n,["topK"],o);const l=v(e,["candidateCount"]);l!=null&&x(n,["candidateCount"],l);const c=v(e,["maxOutputTokens"]);c!=null&&x(n,["maxOutputTokens"],c);const u=v(e,["stopSequences"]);u!=null&&x(n,["stopSequences"],u);const f=v(e,["responseLogprobs"]);f!=null&&x(n,["responseLogprobs"],f);const d=v(e,["logprobs"]);d!=null&&x(n,["logprobs"],d);const h=v(e,["presencePenalty"]);h!=null&&x(n,["presencePenalty"],h);const m=v(e,["frequencyPenalty"]);m!=null&&x(n,["frequencyPenalty"],m);const p=v(e,["seed"]);p!=null&&x(n,["seed"],p);const y=v(e,["responseMimeType"]);y!=null&&x(n,["responseMimeType"],y);const w=v(e,["responseSchema"]);if(w!=null&&x(n,["responseSchema"],ob(t,w)),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=v(e,["safetySettings"]);if(r!==void 0&&b!=null){let N=b;Array.isArray(N)&&(N=N.map(O=>kFe(t,O))),x(r,["safetySettings"],N)}const _=v(e,["tools"]);if(r!==void 0&&_!=null){let N=XS(t,_);Array.isArray(N)&&(N=N.map(O=>DFe(t,qS(t,O)))),x(r,["tools"],N)}const A=v(e,["toolConfig"]);if(r!==void 0&&A!=null&&x(r,["toolConfig"],BFe(t,A)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=v(e,["cachedContent"]);r!==void 0&&S!=null&&x(r,["cachedContent"],Su(t,S));const T=v(e,["responseModalities"]);T!=null&&x(n,["responseModalities"],T);const E=v(e,["mediaResolution"]);E!=null&&x(n,["mediaResolution"],E);const P=v(e,["speechConfig"]);if(P!=null&&x(n,["speechConfig"],HFe(t,CH(t,P))),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=v(e,["thinkingConfig"]);return k!=null&&x(n,["thinkingConfig"],WFe(t,k)),n}function G3(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","model"],pr(t,n));const i=v(e,["contents"]);if(i!=null){let s=Vs(t,i);Array.isArray(s)&&(s=s.map(o=>YS(t,o))),x(r,["contents"],s)}const a=v(e,["config"]);return a!=null&&x(r,["generationConfig"],zFe(t,a,r)),r}function GFe(t,e,r){const n={},i=v(e,["taskType"]);r!==void 0&&i!=null&&x(r,["requests[]","taskType"],i);const a=v(e,["title"]);r!==void 0&&a!=null&&x(r,["requests[]","title"],a);const s=v(e,["outputDimensionality"]);if(r!==void 0&&s!=null&&x(r,["requests[]","outputDimensionality"],s),v(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function qFe(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","model"],pr(t,n));const i=v(e,["contents"]);i!=null&&x(r,["requests[]","content"],EH(t,i));const a=v(e,["config"]);a!=null&&x(r,["config"],GFe(t,a,r));const s=v(e,["model"]);return s!==void 0&&x(r,["requests[]","model"],pr(t,s)),r}function XFe(t,e,r){const n={};if(v(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=v(e,["numberOfImages"]);r!==void 0&&i!=null&&x(r,["parameters","sampleCount"],i);const a=v(e,["aspectRatio"]);r!==void 0&&a!=null&&x(r,["parameters","aspectRatio"],a);const s=v(e,["guidanceScale"]);if(r!==void 0&&s!=null&&x(r,["parameters","guidanceScale"],s),v(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=v(e,["safetyFilterLevel"]);r!==void 0&&o!=null&&x(r,["parameters","safetySetting"],o);const l=v(e,["personGeneration"]);r!==void 0&&l!=null&&x(r,["parameters","personGeneration"],l);const c=v(e,["includeSafetyAttributes"]);r!==void 0&&c!=null&&x(r,["parameters","includeSafetyAttributes"],c);const u=v(e,["includeRaiReason"]);r!==void 0&&u!=null&&x(r,["parameters","includeRaiReason"],u);const f=v(e,["language"]);r!==void 0&&f!=null&&x(r,["parameters","language"],f);const d=v(e,["outputMimeType"]);r!==void 0&&d!=null&&x(r,["parameters","outputOptions","mimeType"],d);const h=v(e,["outputCompressionQuality"]);if(r!==void 0&&h!=null&&x(r,["parameters","outputOptions","compressionQuality"],h),v(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(v(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function KFe(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","model"],pr(t,n));const i=v(e,["prompt"]);i!=null&&x(r,["instances[0]","prompt"],i);const a=v(e,["config"]);return a!=null&&x(r,["config"],XFe(t,a,r)),r}function YFe(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","name"],pr(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],i),r}function JFe(t,e,r){const n={},i=v(e,["pageSize"]);r!==void 0&&i!=null&&x(r,["_query","pageSize"],i);const a=v(e,["pageToken"]);r!==void 0&&a!=null&&x(r,["_query","pageToken"],a);const s=v(e,["filter"]);r!==void 0&&s!=null&&x(r,["_query","filter"],s);const o=v(e,["queryBase"]);return r!==void 0&&o!=null&&x(r,["_url","models_url"],OH(t,o)),n}function ZFe(t,e){const r={},n=v(e,["config"]);return n!=null&&x(r,["config"],JFe(t,n,r)),r}function QFe(t,e,r){const n={},i=v(e,["displayName"]);r!==void 0&&i!=null&&x(r,["displayName"],i);const a=v(e,["description"]);r!==void 0&&a!=null&&x(r,["description"],a);const s=v(e,["defaultCheckpointId"]);return r!==void 0&&s!=null&&x(r,["defaultCheckpointId"],s),n}function e4e(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","name"],pr(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],QFe(t,i,r)),r}function t4e(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","name"],pr(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],i),r}function r4e(t,e){const r={};if(v(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(v(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(v(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return r}function n4e(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","model"],pr(t,n));const i=v(e,["contents"]);if(i!=null){let s=Vs(t,i);Array.isArray(s)&&(s=s.map(o=>YS(t,o))),x(r,["contents"],s)}const a=v(e,["config"]);return a!=null&&x(r,["config"],r4e(t,a)),r}function i4e(t,e){const r={};if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=v(e,["imageBytes"]);n!=null&&x(r,["bytesBase64Encoded"],Au(t,n));const i=v(e,["mimeType"]);return i!=null&&x(r,["mimeType"],i),r}function a4e(t,e,r){const n={},i=v(e,["numberOfVideos"]);if(r!==void 0&&i!=null&&x(r,["parameters","sampleCount"],i),v(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=v(e,["durationSeconds"]);if(r!==void 0&&a!=null&&x(r,["parameters","durationSeconds"],a),v(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=v(e,["aspectRatio"]);if(r!==void 0&&s!=null&&x(r,["parameters","aspectRatio"],s),v(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const o=v(e,["personGeneration"]);if(r!==void 0&&o!=null&&x(r,["parameters","personGeneration"],o),v(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=v(e,["negativePrompt"]);if(r!==void 0&&l!=null&&x(r,["parameters","negativePrompt"],l),v(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function s4e(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","model"],pr(t,n));const i=v(e,["prompt"]);i!=null&&x(r,["instances[0]","prompt"],i);const a=v(e,["image"]);a!=null&&x(r,["instances[0]","image"],i4e(t,a));const s=v(e,["config"]);return s!=null&&x(r,["config"],a4e(t,s,r)),r}function o4e(t,e){const r={},n=v(e,["fps"]);n!=null&&x(r,["fps"],n);const i=v(e,["endOffset"]);i!=null&&x(r,["endOffset"],i);const a=v(e,["startOffset"]);return a!=null&&x(r,["startOffset"],a),r}function l4e(t,e){const r={},n=v(e,["displayName"]);n!=null&&x(r,["displayName"],n);const i=v(e,["data"]);i!=null&&x(r,["data"],i);const a=v(e,["mimeType"]);return a!=null&&x(r,["mimeType"],a),r}function c4e(t,e){const r={},n=v(e,["videoMetadata"]);n!=null&&x(r,["videoMetadata"],o4e(t,n));const i=v(e,["thought"]);i!=null&&x(r,["thought"],i);const a=v(e,["inlineData"]);a!=null&&x(r,["inlineData"],l4e(t,a));const s=v(e,["codeExecutionResult"]);s!=null&&x(r,["codeExecutionResult"],s);const o=v(e,["executableCode"]);o!=null&&x(r,["executableCode"],o);const l=v(e,["fileData"]);l!=null&&x(r,["fileData"],l);const c=v(e,["functionCall"]);c!=null&&x(r,["functionCall"],c);const u=v(e,["functionResponse"]);u!=null&&x(r,["functionResponse"],u);const f=v(e,["text"]);return f!=null&&x(r,["text"],f),r}function Up(t,e){const r={},n=v(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>c4e(t,s))),x(r,["parts"],a)}const i=v(e,["role"]);return i!=null&&x(r,["role"],i),r}function u4e(t,e){const r={},n=v(e,["featureSelectionPreference"]);return n!=null&&x(r,["featureSelectionPreference"],n),r}function f4e(t,e){const r={},n=v(e,["method"]);n!=null&&x(r,["method"],n);const i=v(e,["category"]);i!=null&&x(r,["category"],i);const a=v(e,["threshold"]);return a!=null&&x(r,["threshold"],a),r}function d4e(t,e){const r={};if(v(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(e,["description"]);n!=null&&x(r,["description"],n);const i=v(e,["name"]);i!=null&&x(r,["name"],i);const a=v(e,["parameters"]);a!=null&&x(r,["parameters"],a);const s=v(e,["response"]);return s!=null&&x(r,["response"],s),r}function h4e(t,e){const r={},n=v(e,["startTime"]);n!=null&&x(r,["startTime"],n);const i=v(e,["endTime"]);return i!=null&&x(r,["endTime"],i),r}function p4e(t,e){const r={},n=v(e,["timeRangeFilter"]);return n!=null&&x(r,["timeRangeFilter"],h4e(t,n)),r}function m4e(t,e){const r={},n=v(e,["mode"]);n!=null&&x(r,["mode"],n);const i=v(e,["dynamicThreshold"]);return i!=null&&x(r,["dynamicThreshold"],i),r}function g4e(t,e){const r={},n=v(e,["dynamicRetrievalConfig"]);return n!=null&&x(r,["dynamicRetrievalConfig"],m4e(t,n)),r}function v4e(){return{}}function y4e(t,e){const r={},n=v(e,["apiKeyString"]);return n!=null&&x(r,["apiKeyString"],n),r}function x4e(t,e){const r={},n=v(e,["apiKeyConfig"]);n!=null&&x(r,["apiKeyConfig"],y4e(t,n));const i=v(e,["authType"]);i!=null&&x(r,["authType"],i);const a=v(e,["googleServiceAccountConfig"]);a!=null&&x(r,["googleServiceAccountConfig"],a);const s=v(e,["httpBasicAuthConfig"]);s!=null&&x(r,["httpBasicAuthConfig"],s);const o=v(e,["oauthConfig"]);o!=null&&x(r,["oauthConfig"],o);const l=v(e,["oidcConfig"]);return l!=null&&x(r,["oidcConfig"],l),r}function w4e(t,e){const r={},n=v(e,["authConfig"]);return n!=null&&x(r,["authConfig"],x4e(t,n)),r}function jH(t,e){const r={},n=v(e,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(f=>d4e(t,f))),x(r,["functionDeclarations"],u)}const i=v(e,["retrieval"]);i!=null&&x(r,["retrieval"],i);const a=v(e,["googleSearch"]);a!=null&&x(r,["googleSearch"],p4e(t,a));const s=v(e,["googleSearchRetrieval"]);s!=null&&x(r,["googleSearchRetrieval"],g4e(t,s)),v(e,["enterpriseWebSearch"])!=null&&x(r,["enterpriseWebSearch"],v4e());const l=v(e,["googleMaps"]);if(l!=null&&x(r,["googleMaps"],w4e(t,l)),v(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const c=v(e,["codeExecution"]);return c!=null&&x(r,["codeExecution"],c),r}function _4e(t,e){const r={},n=v(e,["mode"]);n!=null&&x(r,["mode"],n);const i=v(e,["allowedFunctionNames"]);return i!=null&&x(r,["allowedFunctionNames"],i),r}function b4e(t,e){const r={},n=v(e,["latitude"]);n!=null&&x(r,["latitude"],n);const i=v(e,["longitude"]);return i!=null&&x(r,["longitude"],i),r}function S4e(t,e){const r={},n=v(e,["latLng"]);return n!=null&&x(r,["latLng"],b4e(t,n)),r}function A4e(t,e){const r={},n=v(e,["functionCallingConfig"]);n!=null&&x(r,["functionCallingConfig"],_4e(t,n));const i=v(e,["retrievalConfig"]);return i!=null&&x(r,["retrievalConfig"],S4e(t,i)),r}function T4e(t,e){const r={},n=v(e,["voiceName"]);return n!=null&&x(r,["voiceName"],n),r}function E4e(t,e){const r={},n=v(e,["prebuiltVoiceConfig"]);return n!=null&&x(r,["prebuiltVoiceConfig"],T4e(t,n)),r}function C4e(t,e){const r={},n=v(e,["voiceConfig"]);if(n!=null&&x(r,["voiceConfig"],E4e(t,n)),v(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=v(e,["languageCode"]);return i!=null&&x(r,["languageCode"],i),r}function k4e(t,e){const r={},n=v(e,["includeThoughts"]);n!=null&&x(r,["includeThoughts"],n);const i=v(e,["thinkingBudget"]);return i!=null&&x(r,["thinkingBudget"],i),r}function P4e(t,e,r){const n={},i=v(e,["systemInstruction"]);r!==void 0&&i!=null&&x(r,["systemInstruction"],Up(t,Hi(t,i)));const a=v(e,["temperature"]);a!=null&&x(n,["temperature"],a);const s=v(e,["topP"]);s!=null&&x(n,["topP"],s);const o=v(e,["topK"]);o!=null&&x(n,["topK"],o);const l=v(e,["candidateCount"]);l!=null&&x(n,["candidateCount"],l);const c=v(e,["maxOutputTokens"]);c!=null&&x(n,["maxOutputTokens"],c);const u=v(e,["stopSequences"]);u!=null&&x(n,["stopSequences"],u);const f=v(e,["responseLogprobs"]);f!=null&&x(n,["responseLogprobs"],f);const d=v(e,["logprobs"]);d!=null&&x(n,["logprobs"],d);const h=v(e,["presencePenalty"]);h!=null&&x(n,["presencePenalty"],h);const m=v(e,["frequencyPenalty"]);m!=null&&x(n,["frequencyPenalty"],m);const p=v(e,["seed"]);p!=null&&x(n,["seed"],p);const y=v(e,["responseMimeType"]);y!=null&&x(n,["responseMimeType"],y);const w=v(e,["responseSchema"]);w!=null&&x(n,["responseSchema"],ob(t,w));const b=v(e,["routingConfig"]);b!=null&&x(n,["routingConfig"],b);const _=v(e,["modelSelectionConfig"]);_!=null&&x(n,["modelConfig"],u4e(t,_));const A=v(e,["safetySettings"]);if(r!==void 0&&A!=null){let Q=A;Array.isArray(Q)&&(Q=Q.map(j=>f4e(t,j))),x(r,["safetySettings"],Q)}const S=v(e,["tools"]);if(r!==void 0&&S!=null){let Q=XS(t,S);Array.isArray(Q)&&(Q=Q.map(j=>jH(t,qS(t,j)))),x(r,["tools"],Q)}const T=v(e,["toolConfig"]);r!==void 0&&T!=null&&x(r,["toolConfig"],A4e(t,T));const E=v(e,["labels"]);r!==void 0&&E!=null&&x(r,["labels"],E);const P=v(e,["cachedContent"]);r!==void 0&&P!=null&&x(r,["cachedContent"],Su(t,P));const k=v(e,["responseModalities"]);k!=null&&x(n,["responseModalities"],k);const N=v(e,["mediaResolution"]);N!=null&&x(n,["mediaResolution"],N);const O=v(e,["speechConfig"]);O!=null&&x(n,["speechConfig"],C4e(t,CH(t,O)));const R=v(e,["audioTimestamp"]);R!=null&&x(n,["audioTimestamp"],R);const W=v(e,["thinkingConfig"]);return W!=null&&x(n,["thinkingConfig"],k4e(t,W)),n}function q3(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","model"],pr(t,n));const i=v(e,["contents"]);if(i!=null){let s=Vs(t,i);Array.isArray(s)&&(s=s.map(o=>Up(t,o))),x(r,["contents"],s)}const a=v(e,["config"]);return a!=null&&x(r,["generationConfig"],P4e(t,a,r)),r}function I4e(t,e,r){const n={},i=v(e,["taskType"]);r!==void 0&&i!=null&&x(r,["instances[]","task_type"],i);const a=v(e,["title"]);r!==void 0&&a!=null&&x(r,["instances[]","title"],a);const s=v(e,["outputDimensionality"]);r!==void 0&&s!=null&&x(r,["parameters","outputDimensionality"],s);const o=v(e,["mimeType"]);r!==void 0&&o!=null&&x(r,["instances[]","mimeType"],o);const l=v(e,["autoTruncate"]);return r!==void 0&&l!=null&&x(r,["parameters","autoTruncate"],l),n}function O4e(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","model"],pr(t,n));const i=v(e,["contents"]);i!=null&&x(r,["instances[]","content"],EH(t,i));const a=v(e,["config"]);return a!=null&&x(r,["config"],I4e(t,a,r)),r}function M4e(t,e,r){const n={},i=v(e,["outputGcsUri"]);r!==void 0&&i!=null&&x(r,["parameters","storageUri"],i);const a=v(e,["negativePrompt"]);r!==void 0&&a!=null&&x(r,["parameters","negativePrompt"],a);const s=v(e,["numberOfImages"]);r!==void 0&&s!=null&&x(r,["parameters","sampleCount"],s);const o=v(e,["aspectRatio"]);r!==void 0&&o!=null&&x(r,["parameters","aspectRatio"],o);const l=v(e,["guidanceScale"]);r!==void 0&&l!=null&&x(r,["parameters","guidanceScale"],l);const c=v(e,["seed"]);r!==void 0&&c!=null&&x(r,["parameters","seed"],c);const u=v(e,["safetyFilterLevel"]);r!==void 0&&u!=null&&x(r,["parameters","safetySetting"],u);const f=v(e,["personGeneration"]);r!==void 0&&f!=null&&x(r,["parameters","personGeneration"],f);const d=v(e,["includeSafetyAttributes"]);r!==void 0&&d!=null&&x(r,["parameters","includeSafetyAttributes"],d);const h=v(e,["includeRaiReason"]);r!==void 0&&h!=null&&x(r,["parameters","includeRaiReason"],h);const m=v(e,["language"]);r!==void 0&&m!=null&&x(r,["parameters","language"],m);const p=v(e,["outputMimeType"]);r!==void 0&&p!=null&&x(r,["parameters","outputOptions","mimeType"],p);const y=v(e,["outputCompressionQuality"]);r!==void 0&&y!=null&&x(r,["parameters","outputOptions","compressionQuality"],y);const w=v(e,["addWatermark"]);r!==void 0&&w!=null&&x(r,["parameters","addWatermark"],w);const b=v(e,["enhancePrompt"]);return r!==void 0&&b!=null&&x(r,["parameters","enhancePrompt"],b),n}function N4e(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","model"],pr(t,n));const i=v(e,["prompt"]);i!=null&&x(r,["instances[0]","prompt"],i);const a=v(e,["config"]);return a!=null&&x(r,["config"],M4e(t,a,r)),r}function WO(t,e){const r={},n=v(e,["gcsUri"]);n!=null&&x(r,["gcsUri"],n);const i=v(e,["imageBytes"]);i!=null&&x(r,["bytesBase64Encoded"],Au(t,i));const a=v(e,["mimeType"]);return a!=null&&x(r,["mimeType"],a),r}function R4e(t,e){const r={},n=v(e,["maskMode"]);n!=null&&x(r,["maskMode"],n);const i=v(e,["segmentationClasses"]);i!=null&&x(r,["maskClasses"],i);const a=v(e,["maskDilation"]);return a!=null&&x(r,["dilation"],a),r}function D4e(t,e){const r={},n=v(e,["controlType"]);n!=null&&x(r,["controlType"],n);const i=v(e,["enableControlImageComputation"]);return i!=null&&x(r,["computeControl"],i),r}function F4e(t,e){const r={},n=v(e,["styleDescription"]);return n!=null&&x(r,["styleDescription"],n),r}function L4e(t,e){const r={},n=v(e,["subjectType"]);n!=null&&x(r,["subjectType"],n);const i=v(e,["subjectDescription"]);return i!=null&&x(r,["subjectDescription"],i),r}function $4e(t,e){const r={},n=v(e,["referenceImage"]);n!=null&&x(r,["referenceImage"],WO(t,n));const i=v(e,["referenceId"]);i!=null&&x(r,["referenceId"],i);const a=v(e,["referenceType"]);a!=null&&x(r,["referenceType"],a);const s=v(e,["maskImageConfig"]);s!=null&&x(r,["maskImageConfig"],R4e(t,s));const o=v(e,["controlImageConfig"]);o!=null&&x(r,["controlImageConfig"],D4e(t,o));const l=v(e,["styleImageConfig"]);l!=null&&x(r,["styleImageConfig"],F4e(t,l));const c=v(e,["subjectImageConfig"]);return c!=null&&x(r,["subjectImageConfig"],L4e(t,c)),r}function B4e(t,e,r){const n={},i=v(e,["outputGcsUri"]);r!==void 0&&i!=null&&x(r,["parameters","storageUri"],i);const a=v(e,["negativePrompt"]);r!==void 0&&a!=null&&x(r,["parameters","negativePrompt"],a);const s=v(e,["numberOfImages"]);r!==void 0&&s!=null&&x(r,["parameters","sampleCount"],s);const o=v(e,["aspectRatio"]);r!==void 0&&o!=null&&x(r,["parameters","aspectRatio"],o);const l=v(e,["guidanceScale"]);r!==void 0&&l!=null&&x(r,["parameters","guidanceScale"],l);const c=v(e,["seed"]);r!==void 0&&c!=null&&x(r,["parameters","seed"],c);const u=v(e,["safetyFilterLevel"]);r!==void 0&&u!=null&&x(r,["parameters","safetySetting"],u);const f=v(e,["personGeneration"]);r!==void 0&&f!=null&&x(r,["parameters","personGeneration"],f);const d=v(e,["includeSafetyAttributes"]);r!==void 0&&d!=null&&x(r,["parameters","includeSafetyAttributes"],d);const h=v(e,["includeRaiReason"]);r!==void 0&&h!=null&&x(r,["parameters","includeRaiReason"],h);const m=v(e,["language"]);r!==void 0&&m!=null&&x(r,["parameters","language"],m);const p=v(e,["outputMimeType"]);r!==void 0&&p!=null&&x(r,["parameters","outputOptions","mimeType"],p);const y=v(e,["outputCompressionQuality"]);r!==void 0&&y!=null&&x(r,["parameters","outputOptions","compressionQuality"],y);const w=v(e,["editMode"]);r!==void 0&&w!=null&&x(r,["parameters","editMode"],w);const b=v(e,["baseSteps"]);return r!==void 0&&b!=null&&x(r,["parameters","editConfig","baseSteps"],b),n}function j4e(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","model"],pr(t,n));const i=v(e,["prompt"]);i!=null&&x(r,["instances[0]","prompt"],i);const a=v(e,["referenceImages"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>$4e(t,l))),x(r,["instances[0]","referenceImages"],o)}const s=v(e,["config"]);return s!=null&&x(r,["config"],B4e(t,s,r)),r}function U4e(t,e,r){const n={},i=v(e,["includeRaiReason"]);r!==void 0&&i!=null&&x(r,["parameters","includeRaiReason"],i);const a=v(e,["outputMimeType"]);r!==void 0&&a!=null&&x(r,["parameters","outputOptions","mimeType"],a);const s=v(e,["outputCompressionQuality"]);r!==void 0&&s!=null&&x(r,["parameters","outputOptions","compressionQuality"],s);const o=v(e,["numberOfImages"]);r!==void 0&&o!=null&&x(r,["parameters","sampleCount"],o);const l=v(e,["mode"]);return r!==void 0&&l!=null&&x(r,["parameters","mode"],l),n}function V4e(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","model"],pr(t,n));const i=v(e,["image"]);i!=null&&x(r,["instances[0]","image"],WO(t,i));const a=v(e,["upscaleFactor"]);a!=null&&x(r,["parameters","upscaleConfig","upscaleFactor"],a);const s=v(e,["config"]);return s!=null&&x(r,["config"],U4e(t,s,r)),r}function H4e(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","name"],pr(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],i),r}function W4e(t,e,r){const n={},i=v(e,["pageSize"]);r!==void 0&&i!=null&&x(r,["_query","pageSize"],i);const a=v(e,["pageToken"]);r!==void 0&&a!=null&&x(r,["_query","pageToken"],a);const s=v(e,["filter"]);r!==void 0&&s!=null&&x(r,["_query","filter"],s);const o=v(e,["queryBase"]);return r!==void 0&&o!=null&&x(r,["_url","models_url"],OH(t,o)),n}function z4e(t,e){const r={},n=v(e,["config"]);return n!=null&&x(r,["config"],W4e(t,n,r)),r}function G4e(t,e,r){const n={},i=v(e,["displayName"]);r!==void 0&&i!=null&&x(r,["displayName"],i);const a=v(e,["description"]);r!==void 0&&a!=null&&x(r,["description"],a);const s=v(e,["defaultCheckpointId"]);return r!==void 0&&s!=null&&x(r,["defaultCheckpointId"],s),n}function q4e(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","model"],pr(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],G4e(t,i,r)),r}function X4e(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","name"],pr(t,n));const i=v(e,["config"]);return i!=null&&x(r,["config"],i),r}function K4e(t,e,r){const n={},i=v(e,["systemInstruction"]);r!==void 0&&i!=null&&x(r,["systemInstruction"],Up(t,Hi(t,i)));const a=v(e,["tools"]);if(r!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>jH(t,l))),x(r,["tools"],o)}const s=v(e,["generationConfig"]);return r!==void 0&&s!=null&&x(r,["generationConfig"],s),n}function Y4e(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","model"],pr(t,n));const i=v(e,["contents"]);if(i!=null){let s=Vs(t,i);Array.isArray(s)&&(s=s.map(o=>Up(t,o))),x(r,["contents"],s)}const a=v(e,["config"]);return a!=null&&x(r,["config"],K4e(t,a,r)),r}function J4e(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","model"],pr(t,n));const i=v(e,["contents"]);if(i!=null){let s=Vs(t,i);Array.isArray(s)&&(s=s.map(o=>Up(t,o))),x(r,["contents"],s)}const a=v(e,["config"]);return a!=null&&x(r,["config"],a),r}function Z4e(t,e,r){const n={},i=v(e,["numberOfVideos"]);r!==void 0&&i!=null&&x(r,["parameters","sampleCount"],i);const a=v(e,["outputGcsUri"]);r!==void 0&&a!=null&&x(r,["parameters","storageUri"],a);const s=v(e,["fps"]);r!==void 0&&s!=null&&x(r,["parameters","fps"],s);const o=v(e,["durationSeconds"]);r!==void 0&&o!=null&&x(r,["parameters","durationSeconds"],o);const l=v(e,["seed"]);r!==void 0&&l!=null&&x(r,["parameters","seed"],l);const c=v(e,["aspectRatio"]);r!==void 0&&c!=null&&x(r,["parameters","aspectRatio"],c);const u=v(e,["resolution"]);r!==void 0&&u!=null&&x(r,["parameters","resolution"],u);const f=v(e,["personGeneration"]);r!==void 0&&f!=null&&x(r,["parameters","personGeneration"],f);const d=v(e,["pubsubTopic"]);r!==void 0&&d!=null&&x(r,["parameters","pubsubTopic"],d);const h=v(e,["negativePrompt"]);r!==void 0&&h!=null&&x(r,["parameters","negativePrompt"],h);const m=v(e,["enhancePrompt"]);return r!==void 0&&m!=null&&x(r,["parameters","enhancePrompt"],m),n}function Q4e(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["_url","model"],pr(t,n));const i=v(e,["prompt"]);i!=null&&x(r,["instances[0]","prompt"],i);const a=v(e,["image"]);a!=null&&x(r,["instances[0]","image"],WO(t,a));const s=v(e,["config"]);return s!=null&&x(r,["config"],Z4e(t,s,r)),r}function eLe(t,e){const r={},n=v(e,["fps"]);n!=null&&x(r,["fps"],n);const i=v(e,["endOffset"]);i!=null&&x(r,["endOffset"],i);const a=v(e,["startOffset"]);return a!=null&&x(r,["startOffset"],a),r}function tLe(t,e){const r={},n=v(e,["data"]);n!=null&&x(r,["data"],n);const i=v(e,["mimeType"]);return i!=null&&x(r,["mimeType"],i),r}function rLe(t,e){const r={},n=v(e,["videoMetadata"]);n!=null&&x(r,["videoMetadata"],eLe(t,n));const i=v(e,["thought"]);i!=null&&x(r,["thought"],i);const a=v(e,["inlineData"]);a!=null&&x(r,["inlineData"],tLe(t,a));const s=v(e,["codeExecutionResult"]);s!=null&&x(r,["codeExecutionResult"],s);const o=v(e,["executableCode"]);o!=null&&x(r,["executableCode"],o);const l=v(e,["fileData"]);l!=null&&x(r,["fileData"],l);const c=v(e,["functionCall"]);c!=null&&x(r,["functionCall"],c);const u=v(e,["functionResponse"]);u!=null&&x(r,["functionResponse"],u);const f=v(e,["text"]);return f!=null&&x(r,["text"],f),r}function nLe(t,e){const r={},n=v(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>rLe(t,s))),x(r,["parts"],a)}const i=v(e,["role"]);return i!=null&&x(r,["role"],i),r}function iLe(t,e){const r={},n=v(e,["citationSources"]);return n!=null&&x(r,["citations"],n),r}function aLe(t,e){const r={},n=v(e,["retrievedUrl"]);n!=null&&x(r,["retrievedUrl"],n);const i=v(e,["urlRetrievalStatus"]);return i!=null&&x(r,["urlRetrievalStatus"],i),r}function sLe(t,e){const r={},n=v(e,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>aLe(t,a))),x(r,["urlMetadata"],i)}return r}function oLe(t,e){const r={},n=v(e,["content"]);n!=null&&x(r,["content"],nLe(t,n));const i=v(e,["citationMetadata"]);i!=null&&x(r,["citationMetadata"],iLe(t,i));const a=v(e,["tokenCount"]);a!=null&&x(r,["tokenCount"],a);const s=v(e,["finishReason"]);s!=null&&x(r,["finishReason"],s);const o=v(e,["urlContextMetadata"]);o!=null&&x(r,["urlContextMetadata"],sLe(t,o));const l=v(e,["avgLogprobs"]);l!=null&&x(r,["avgLogprobs"],l);const c=v(e,["groundingMetadata"]);c!=null&&x(r,["groundingMetadata"],c);const u=v(e,["index"]);u!=null&&x(r,["index"],u);const f=v(e,["logprobsResult"]);f!=null&&x(r,["logprobsResult"],f);const d=v(e,["safetyRatings"]);return d!=null&&x(r,["safetyRatings"],d),r}function X3(t,e){const r={},n=v(e,["candidates"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>oLe(t,l))),x(r,["candidates"],o)}const i=v(e,["modelVersion"]);i!=null&&x(r,["modelVersion"],i);const a=v(e,["promptFeedback"]);a!=null&&x(r,["promptFeedback"],a);const s=v(e,["usageMetadata"]);return s!=null&&x(r,["usageMetadata"],s),r}function lLe(t,e){const r={},n=v(e,["values"]);return n!=null&&x(r,["values"],n),r}function cLe(){return{}}function uLe(t,e){const r={},n=v(e,["embeddings"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>lLe(t,s))),x(r,["embeddings"],a)}return v(e,["metadata"])!=null&&x(r,["metadata"],cLe()),r}function fLe(t,e){const r={},n=v(e,["bytesBase64Encoded"]);n!=null&&x(r,["imageBytes"],Au(t,n));const i=v(e,["mimeType"]);return i!=null&&x(r,["mimeType"],i),r}function UH(t,e){const r={},n=v(e,["safetyAttributes","categories"]);n!=null&&x(r,["categories"],n);const i=v(e,["safetyAttributes","scores"]);i!=null&&x(r,["scores"],i);const a=v(e,["contentType"]);return a!=null&&x(r,["contentType"],a),r}function dLe(t,e){const r={},n=v(e,["_self"]);n!=null&&x(r,["image"],fLe(t,n));const i=v(e,["raiFilteredReason"]);i!=null&&x(r,["raiFilteredReason"],i);const a=v(e,["_self"]);return a!=null&&x(r,["safetyAttributes"],UH(t,a)),r}function hLe(t,e){const r={},n=v(e,["predictions"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>dLe(t,s))),x(r,["generatedImages"],a)}const i=v(e,["positivePromptSafetyAttributes"]);return i!=null&&x(r,["positivePromptSafetyAttributes"],UH(t,i)),r}function pLe(t,e){const r={},n=v(e,["baseModel"]);n!=null&&x(r,["baseModel"],n);const i=v(e,["createTime"]);i!=null&&x(r,["createTime"],i);const a=v(e,["updateTime"]);return a!=null&&x(r,["updateTime"],a),r}function Nk(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["name"],n);const i=v(e,["displayName"]);i!=null&&x(r,["displayName"],i);const a=v(e,["description"]);a!=null&&x(r,["description"],a);const s=v(e,["version"]);s!=null&&x(r,["version"],s);const o=v(e,["_self"]);o!=null&&x(r,["tunedModelInfo"],pLe(t,o));const l=v(e,["inputTokenLimit"]);l!=null&&x(r,["inputTokenLimit"],l);const c=v(e,["outputTokenLimit"]);c!=null&&x(r,["outputTokenLimit"],c);const u=v(e,["supportedGenerationMethods"]);return u!=null&&x(r,["supportedActions"],u),r}function mLe(t,e){const r={},n=v(e,["nextPageToken"]);n!=null&&x(r,["nextPageToken"],n);const i=v(e,["_self"]);if(i!=null){let a=MH(t,i);Array.isArray(a)&&(a=a.map(s=>Nk(t,s))),x(r,["models"],a)}return r}function gLe(){return{}}function vLe(t,e){const r={},n=v(e,["totalTokens"]);n!=null&&x(r,["totalTokens"],n);const i=v(e,["cachedContentTokenCount"]);return i!=null&&x(r,["cachedContentTokenCount"],i),r}function yLe(t,e){const r={},n=v(e,["video","uri"]);n!=null&&x(r,["uri"],n);const i=v(e,["video","encodedVideo"]);i!=null&&x(r,["videoBytes"],Au(t,i));const a=v(e,["encoding"]);return a!=null&&x(r,["mimeType"],a),r}function xLe(t,e){const r={},n=v(e,["_self"]);return n!=null&&x(r,["video"],yLe(t,n)),r}function wLe(t,e){const r={},n=v(e,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>xLe(t,o))),x(r,["generatedVideos"],s)}const i=v(e,["raiMediaFilteredCount"]);i!=null&&x(r,["raiMediaFilteredCount"],i);const a=v(e,["raiMediaFilteredReasons"]);return a!=null&&x(r,["raiMediaFilteredReasons"],a),r}function _Le(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["name"],n);const i=v(e,["metadata"]);i!=null&&x(r,["metadata"],i);const a=v(e,["done"]);a!=null&&x(r,["done"],a);const s=v(e,["error"]);s!=null&&x(r,["error"],s);const o=v(e,["response","generateVideoResponse"]);return o!=null&&x(r,["response"],wLe(t,o)),r}function bLe(t,e){const r={},n=v(e,["fps"]);n!=null&&x(r,["fps"],n);const i=v(e,["endOffset"]);i!=null&&x(r,["endOffset"],i);const a=v(e,["startOffset"]);return a!=null&&x(r,["startOffset"],a),r}function SLe(t,e){const r={},n=v(e,["displayName"]);n!=null&&x(r,["displayName"],n);const i=v(e,["data"]);i!=null&&x(r,["data"],i);const a=v(e,["mimeType"]);return a!=null&&x(r,["mimeType"],a),r}function ALe(t,e){const r={},n=v(e,["videoMetadata"]);n!=null&&x(r,["videoMetadata"],bLe(t,n));const i=v(e,["thought"]);i!=null&&x(r,["thought"],i);const a=v(e,["inlineData"]);a!=null&&x(r,["inlineData"],SLe(t,a));const s=v(e,["codeExecutionResult"]);s!=null&&x(r,["codeExecutionResult"],s);const o=v(e,["executableCode"]);o!=null&&x(r,["executableCode"],o);const l=v(e,["fileData"]);l!=null&&x(r,["fileData"],l);const c=v(e,["functionCall"]);c!=null&&x(r,["functionCall"],c);const u=v(e,["functionResponse"]);u!=null&&x(r,["functionResponse"],u);const f=v(e,["text"]);return f!=null&&x(r,["text"],f),r}function TLe(t,e){const r={},n=v(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>ALe(t,s))),x(r,["parts"],a)}const i=v(e,["role"]);return i!=null&&x(r,["role"],i),r}function ELe(t,e){const r={},n=v(e,["citations"]);return n!=null&&x(r,["citations"],n),r}function CLe(t,e){const r={},n=v(e,["content"]);n!=null&&x(r,["content"],TLe(t,n));const i=v(e,["citationMetadata"]);i!=null&&x(r,["citationMetadata"],ELe(t,i));const a=v(e,["finishMessage"]);a!=null&&x(r,["finishMessage"],a);const s=v(e,["finishReason"]);s!=null&&x(r,["finishReason"],s);const o=v(e,["avgLogprobs"]);o!=null&&x(r,["avgLogprobs"],o);const l=v(e,["groundingMetadata"]);l!=null&&x(r,["groundingMetadata"],l);const c=v(e,["index"]);c!=null&&x(r,["index"],c);const u=v(e,["logprobsResult"]);u!=null&&x(r,["logprobsResult"],u);const f=v(e,["safetyRatings"]);return f!=null&&x(r,["safetyRatings"],f),r}function K3(t,e){const r={},n=v(e,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(u=>CLe(t,u))),x(r,["candidates"],c)}const i=v(e,["createTime"]);i!=null&&x(r,["createTime"],i);const a=v(e,["responseId"]);a!=null&&x(r,["responseId"],a);const s=v(e,["modelVersion"]);s!=null&&x(r,["modelVersion"],s);const o=v(e,["promptFeedback"]);o!=null&&x(r,["promptFeedback"],o);const l=v(e,["usageMetadata"]);return l!=null&&x(r,["usageMetadata"],l),r}function kLe(t,e){const r={},n=v(e,["truncated"]);n!=null&&x(r,["truncated"],n);const i=v(e,["token_count"]);return i!=null&&x(r,["tokenCount"],i),r}function PLe(t,e){const r={},n=v(e,["values"]);n!=null&&x(r,["values"],n);const i=v(e,["statistics"]);return i!=null&&x(r,["statistics"],kLe(t,i)),r}function ILe(t,e){const r={},n=v(e,["billableCharacterCount"]);return n!=null&&x(r,["billableCharacterCount"],n),r}function OLe(t,e){const r={},n=v(e,["predictions[]","embeddings"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>PLe(t,s))),x(r,["embeddings"],a)}const i=v(e,["metadata"]);return i!=null&&x(r,["metadata"],ILe(t,i)),r}function MLe(t,e){const r={},n=v(e,["gcsUri"]);n!=null&&x(r,["gcsUri"],n);const i=v(e,["bytesBase64Encoded"]);i!=null&&x(r,["imageBytes"],Au(t,i));const a=v(e,["mimeType"]);return a!=null&&x(r,["mimeType"],a),r}function VH(t,e){const r={},n=v(e,["safetyAttributes","categories"]);n!=null&&x(r,["categories"],n);const i=v(e,["safetyAttributes","scores"]);i!=null&&x(r,["scores"],i);const a=v(e,["contentType"]);return a!=null&&x(r,["contentType"],a),r}function zO(t,e){const r={},n=v(e,["_self"]);n!=null&&x(r,["image"],MLe(t,n));const i=v(e,["raiFilteredReason"]);i!=null&&x(r,["raiFilteredReason"],i);const a=v(e,["_self"]);a!=null&&x(r,["safetyAttributes"],VH(t,a));const s=v(e,["prompt"]);return s!=null&&x(r,["enhancedPrompt"],s),r}function NLe(t,e){const r={},n=v(e,["predictions"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>zO(t,s))),x(r,["generatedImages"],a)}const i=v(e,["positivePromptSafetyAttributes"]);return i!=null&&x(r,["positivePromptSafetyAttributes"],VH(t,i)),r}function RLe(t,e){const r={},n=v(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>zO(t,a))),x(r,["generatedImages"],i)}return r}function DLe(t,e){const r={},n=v(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>zO(t,a))),x(r,["generatedImages"],i)}return r}function FLe(t,e){const r={},n=v(e,["endpoint"]);n!=null&&x(r,["name"],n);const i=v(e,["deployedModelId"]);return i!=null&&x(r,["deployedModelId"],i),r}function LLe(t,e){const r={},n=v(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&x(r,["baseModel"],n);const i=v(e,["createTime"]);i!=null&&x(r,["createTime"],i);const a=v(e,["updateTime"]);return a!=null&&x(r,["updateTime"],a),r}function $Le(t,e){const r={},n=v(e,["checkpointId"]);n!=null&&x(r,["checkpointId"],n);const i=v(e,["epoch"]);i!=null&&x(r,["epoch"],i);const a=v(e,["step"]);return a!=null&&x(r,["step"],a),r}function Rk(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["name"],n);const i=v(e,["displayName"]);i!=null&&x(r,["displayName"],i);const a=v(e,["description"]);a!=null&&x(r,["description"],a);const s=v(e,["versionId"]);s!=null&&x(r,["version"],s);const o=v(e,["deployedModels"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(h=>FLe(t,h))),x(r,["endpoints"],d)}const l=v(e,["labels"]);l!=null&&x(r,["labels"],l);const c=v(e,["_self"]);c!=null&&x(r,["tunedModelInfo"],LLe(t,c));const u=v(e,["defaultCheckpointId"]);u!=null&&x(r,["defaultCheckpointId"],u);const f=v(e,["checkpoints"]);if(f!=null){let d=f;Array.isArray(d)&&(d=d.map(h=>$Le(t,h))),x(r,["checkpoints"],d)}return r}function BLe(t,e){const r={},n=v(e,["nextPageToken"]);n!=null&&x(r,["nextPageToken"],n);const i=v(e,["_self"]);if(i!=null){let a=MH(t,i);Array.isArray(a)&&(a=a.map(s=>Rk(t,s))),x(r,["models"],a)}return r}function jLe(){return{}}function ULe(t,e){const r={},n=v(e,["totalTokens"]);return n!=null&&x(r,["totalTokens"],n),r}function VLe(t,e){const r={},n=v(e,["tokensInfo"]);return n!=null&&x(r,["tokensInfo"],n),r}function HLe(t,e){const r={},n=v(e,["gcsUri"]);n!=null&&x(r,["uri"],n);const i=v(e,["bytesBase64Encoded"]);i!=null&&x(r,["videoBytes"],Au(t,i));const a=v(e,["mimeType"]);return a!=null&&x(r,["mimeType"],a),r}function WLe(t,e){const r={},n=v(e,["_self"]);return n!=null&&x(r,["video"],HLe(t,n)),r}function zLe(t,e){const r={},n=v(e,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>WLe(t,o))),x(r,["generatedVideos"],s)}const i=v(e,["raiMediaFilteredCount"]);i!=null&&x(r,["raiMediaFilteredCount"],i);const a=v(e,["raiMediaFilteredReasons"]);return a!=null&&x(r,["raiMediaFilteredReasons"],a),r}function GLe(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["name"],n);const i=v(e,["metadata"]);i!=null&&x(r,["metadata"],i);const a=v(e,["done"]);a!=null&&x(r,["done"],a);const s=v(e,["error"]);s!=null&&x(r,["error"],s);const o=v(e,["response"]);return o!=null&&x(r,["response"],zLe(t,o)),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qLe="Content-Type",XLe="X-Server-Timeout",KLe="User-Agent",Dk="x-goog-api-client",YLe="1.0.0",JLe=`google-genai-sdk/${YLe}`,ZLe="v1beta1",QLe="v1beta",Y3=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class HH extends Error{constructor(e,r){r?super(e,{cause:r}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class Fk extends Error{constructor(e,r){r?super(e,{cause:r}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class e3e{constructor(e){var r,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:ZLe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:QLe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const n=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&n.push(e.apiVersion),n.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),r=new URL(e);return r.protocol=r.protocol=="http:"?"ws":"wss",r.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,r,n){const i=[this.getRequestUrlInternal(r)];return n&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,r,n);if(e.queryParams)for(const[s,o]of Object.entries(e.queryParams))i.searchParams.append(s,String(o));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,r,e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,r){const n=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(r))typeof a=="object"?n[i]=Object.assign(Object.assign({},n[i]),a):a!==void 0&&(n[i]=a);return n}async requestStream(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,r,n);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,r,e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,r,n){if(r&&r.timeout||n){const i=new AbortController,a=i.signal;r.timeout&&(r==null?void 0:r.timeout)>0&&setTimeout(()=>i.abort(),r.timeout),n&&n.addEventListener("abort",()=>{i.abort()}),e.signal=a}return e.headers=await this.getHeadersInternal(r),e}async unaryApiCall(e,r,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:n})).then(async i=>(await J3(i),new Pk(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,r,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:n})).then(async i=>(await J3(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var r;return dg(this,arguments,function*(){const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:o,value:l}=yield Cr(i.read());if(o){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=a.decode(l);try{const f=JSON.parse(c);if("error"in f){const d=JSON.parse(JSON.stringify(f.error)),h=d.status,m=d.code,p=`got status: ${h}. ${JSON.stringify(f)}`;if(m>=400&&m<500)throw new HH(p);if(m>=500&&m<600)throw new Fk(p)}}catch(f){const d=f;if(d.name==="ClientError"||d.name==="ServerError")throw f}s+=c;let u=s.match(Y3);for(;u;){const f=u[1];try{const d=new Response(f,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Cr(new Pk(d)),s=s.slice(u[0].length),u=s.match(Y3)}catch(d){throw new Error(`exception parsing stream chunk ${f}. ${d}`)}}}}finally{i.releaseLock()}})}async apiCall(e,r){return fetch(e,r).catch(n=>{throw new Error(`exception ${n} sending request`)})}getDefaultHeaders(){const e={},r=JLe+" "+this.clientOptions.userAgentExtra;return e[KLe]=r,e[Dk]=r,e[qLe]="application/json",e}async getHeadersInternal(e){const r=new Headers;if(e&&e.headers){for(const[n,i]of Object.entries(e.headers))r.append(n,i);e.timeout&&e.timeout>0&&r.append(XLe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r),r}async uploadFile(e,r){var n;const i={};r!=null&&(i.mimeType=r.mimeType,i.name=r.name,i.displayName=r.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,s=await a.stat(e);i.sizeBytes=String(s.size);const o=(n=r==null?void 0:r.mimeType)!==null&&n!==void 0?n:s.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const l=await this.fetchUploadUrl(i,r);return a.upload(e,l,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,r){var n;let i={};r!=null&&r.httpOptions?i=r.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const a={file:e},s=await this.request({path:rt("upload/v1beta/files",a._url),body:JSON.stringify(a),httpMethod:"POST",httpOptions:i});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const o=(n=s==null?void 0:s.headers)===null||n===void 0?void 0:n["x-goog-upload-url"];if(o===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return o}}async function J3(t){var e;if(t===void 0)throw new Fk("response is undefined");if(!t.ok){const r=t.status,n=t.statusText;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const a=`got status: ${r} ${n}. ${JSON.stringify(i)}`;throw r>=400&&r<500?new HH(a):r>=500&&r<600?new Fk(a):new Error(a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Z3="mcp_used/unknown";function WH(t){for(const e of t)if(GO(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function zH(t){var e;const r=(e=t[Dk])!==null&&e!==void 0?e:"";r.includes(Z3)||(t[Dk]=(r+` ${Z3}`).trimStart())}function t3e(t){var e,r,n;return(n=(r=(e=t.config)===null||e===void 0?void 0:e.tools)===null||r===void 0?void 0:r.some(i=>GO(i)))!==null&&n!==void 0?n:!1}function r3e(t){var e,r,n;return(n=(r=(e=t.config)===null||e===void 0?void 0:e.tools)===null||r===void 0?void 0:r.some(i=>!GO(i)))!==null&&n!==void 0?n:!1}function GO(t){return t!==null&&typeof t=="object"&&"tool"in t&&"callTool"in t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function n3e(t,e,r){const n=new mNe;let i;r.data instanceof Blob?i=JSON.parse(await r.data.text()):i=JSON.parse(r.data);const a=AFe(t,i);Object.assign(n,a),e(n)}class i3e{constructor(e,r,n){this.apiClient=e,this.auth=r,this.webSocketFactory=n}async connect(e){var r,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),s=o3e(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${o}`;let c=()=>{};const u=new Promise(_=>{c=_}),f=e.callbacks,d=function(){c({})},h=this.apiClient,m={onopen:d,onmessage:_=>{n3e(h,f.onmessage,_)},onerror:(r=f==null?void 0:f.onerror)!==null&&r!==void 0?r:function(_){},onclose:(n=f==null?void 0:f.onclose)!==null&&n!==void 0?n:function(_){}},p=this.webSocketFactory.create(l,s3e(s),m);p.connect(),await u;const y=pr(this.apiClient,e.model),w=LH(this.apiClient,{model:y}),b=Mk(this.apiClient,{setup:w});return p.send(JSON.stringify(b)),new a3e(p,this.apiClient)}}class a3e{constructor(e,r){this.conn=e,this.apiClient=r}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const r=jDe(this.apiClient,e),n=$H(this.apiClient,r);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const r=UDe(this.apiClient,e),n=Mk(this.apiClient,r);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const r=Mk(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(r))}play(){this.sendPlaybackControl(_h.PLAY)}pause(){this.sendPlaybackControl(_h.PAUSE)}stop(){this.sendPlaybackControl(_h.STOP)}resetContext(){this.sendPlaybackControl(_h.RESET_CONTEXT)}close(){this.conn.close()}}function s3e(t){const e={};return t.forEach((r,n)=>{e[n]=r}),e}function o3e(t){const e=new Headers;for(const[r,n]of Object.entries(t))e.append(r,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const l3e="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function c3e(t,e,r){const n=new pNe;let i;if(r.data instanceof Blob?i=JSON.parse(await r.data.text()):i=JSON.parse(r.data),t.isVertexAI()){const a=mFe(t,i);Object.assign(n,a)}else{const a=pFe(t,i);Object.assign(n,a)}e(n)}class u3e{constructor(e,r,n){this.apiClient=e,this.auth=r,this.webSocketFactory=n,this.music=new i3e(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var r,n,i,a,s,o;const l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let u;const f=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&WH(e.config.tools)&&zH(f);const d=p3e(f);if(this.apiClient.isVertexAI())u=`${l}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(d);else{const k=this.apiClient.getApiKey();u=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateContent?key=${k}`}let h=()=>{};const m=new Promise(k=>{h=k}),p=e.callbacks,y=function(){var k;(k=p==null?void 0:p.onopen)===null||k===void 0||k.call(p),h({})},w=this.apiClient,b={onopen:y,onmessage:k=>{c3e(w,p.onmessage,k)},onerror:(r=p==null?void 0:p.onerror)!==null&&r!==void 0?r:function(k){},onclose:(n=p==null?void 0:p.onclose)!==null&&n!==void 0?n:function(k){}},_=this.webSocketFactory.create(u,h3e(d),b);_.connect(),await m;let A=pr(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&A.startsWith("publishers/")){const k=this.apiClient.getProject(),N=this.apiClient.getLocation();A=`projects/${k}/locations/${N}/`+A}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ab.AUDIO]}:e.config.responseModalities=[ab.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const T=(o=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[],E=[];for(const k of T)if(this.isCallableTool(k)){const N=k;E.push(await N.tool())}else E.push(k);E.length>0&&(e.config.tools=E);const P={model:A,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=NDe(this.apiClient,P):S=MDe(this.apiClient,P),delete S.config,_.send(JSON.stringify(S)),new d3e(_,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const f3e={turnComplete:!0};class d3e{constructor(e,r){this.conn=e,this.apiClient=r}tLiveClientContent(e,r){if(r.turns!==null&&r.turns!==void 0){let n=[];try{n=Vs(e,r.turns),e.isVertexAI()?n=n.map(i=>Up(e,i)):n=n.map(i=>YS(e,i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`)}return{clientContent:{turns:n,turnComplete:r.turnComplete}}}return{clientContent:{turnComplete:r.turnComplete}}}tLiveClienttToolResponse(e,r){let n=[];if(r.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(r.functionResponses)?n=r.functionResponses:n=[r.functionResponses],n.length===0)throw new Error("functionResponses is required.");for(const a of n){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(l3e)}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},f3e),e);const r=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(r))}sendRealtimeInput(e){let r={};this.apiClient.isVertexAI()?r={realtimeInput:BDe(this.apiClient,e)}:r={realtimeInput:$De(this.apiClient,e)},this.conn.send(JSON.stringify(r))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const r=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(r))}close(){this.conn.close()}}function h3e(t){const e={};return t.forEach((r,n)=>{e[n]=r}),e}function p3e(t){const e=new Headers;for(const[r,n]of Object.entries(t))e.append(r,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Q3=10;function e5(t){var e,r,n;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(r=t==null?void 0:t.tools)!==null&&r!==void 0?r:[])if(uw(s)){i=!0;break}if(!i)return!0;const a=(n=t==null?void 0:t.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function uw(t){return"callTool"in t&&typeof t.callTool=="function"}function t5(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m3e extends vx{constructor(e){super(),this.apiClient=e,this.generateContent=async r=>{var n,i,a,s,o;const l=await this.processParamsForMcpUsage(r);if(!t3e(r)||e5(r.config))return await this.generateContentInternal(l);if(r3e(r))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let c,u;const f=Vs(this.apiClient,l.contents),d=(a=(i=(n=l.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:Q3;let h=0;for(;h<d&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const m=c.candidates[0].content,p=[];for(const y of(o=(s=r.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[])if(uw(y)){const b=await y.callTool(c.functionCalls);p.push(...b)}h++,u={role:"user",parts:p},l.contents=Vs(this.apiClient,l.contents),l.contents.push(m),l.contents.push(u),t5(l.config)&&(f.push(m),f.push(u))}return t5(l.config)&&(c.automaticFunctionCallingHistory=f),c},this.generateContentStream=async r=>{if(e5(r.config)){const n=await this.processParamsForMcpUsage(r);return await this.generateContentStreamInternal(n)}else return await this.processAfcStream(r)},this.generateImages=async r=>await this.generateImagesInternal(r).then(n=>{var i;let a;const s=[];if(n!=null&&n.generatedImages)for(const l of n.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=l==null?void 0:l.safetyAttributes:s.push(l);let o;return a?o={generatedImages:s,positivePromptSafetyAttributes:a}:o={generatedImages:s},o}),this.list=async r=>{var n;const s={config:Object.assign(Object.assign({},{queryBase:!0}),r==null?void 0:r.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((n=s.config)===null||n===void 0)&&n.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new KS(wp.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(s),s)},this.editImage=async r=>{const n={model:r.model,prompt:r.prompt,referenceImages:[],config:r.config};return r.referenceImages&&r.referenceImages&&(n.referenceImages=r.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(n)},this.upscaleImage=async r=>{let n={numberOfImages:1,mode:"upscale"};r.config&&(n=Object.assign(Object.assign({},n),r.config));const i={model:r.model,image:r.image,upscaleFactor:r.upscaleFactor,config:n};return await this.upscaleImageInternal(i)}}async processParamsForMcpUsage(e){var r,n,i;const a=(r=e.config)===null||r===void 0?void 0:r.tools;if(!a)return e;const s=await Promise.all(a.map(async l=>uw(l)?await l.tool():l)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(o.config.tools=s,e.config&&e.config.tools&&WH(e.config.tools)){const l=(i=(n=e.config.httpOptions)===null||n===void 0?void 0:n.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},l);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),zH(c),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return o}async initAfcToolsMap(e){var r,n,i;const a=new Map;for(const s of(n=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&n!==void 0?n:[])if(uw(s)){const o=s,l=await o.tool();for(const c of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(a.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);a.set(c.name,o)}}return a}async processAfcStream(e){var r,n,i;const a=(i=(n=(r=e.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls)!==null&&i!==void 0?i:Q3;let s=!1,o=0;const l=await this.initAfcToolsMap(e);return function(c,u,f){var d,h;return dg(this,arguments,function*(){for(var m,p,y,w;o<a;){s&&(o++,s=!1);const S=yield Cr(c.processParamsForMcpUsage(f)),T=yield Cr(c.generateContentStreamInternal(S)),E=[],P=[];try{for(var b=!0,_=(p=void 0,cw(T)),A;A=yield Cr(_.next()),m=A.done,!m;b=!0){w=A.value,b=!1;const k=w;if(yield yield Cr(k),k.candidates&&(!((d=k.candidates[0])===null||d===void 0)&&d.content)){P.push(k.candidates[0].content);for(const N of(h=k.candidates[0].content.parts)!==null&&h!==void 0?h:[])if(o<a&&N.functionCall){if(!N.functionCall.name)throw new Error("Function call name was not returned by the model.");if(u.has(N.functionCall.name)){const O=yield Cr(u.get(N.functionCall.name).callTool([N.functionCall]));E.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${u.keys()}, mising tool: ${N.functionCall.name}`)}}}}catch(k){p={error:k}}finally{try{!b&&!m&&(y=_.return)&&(yield Cr(y.call(_)))}finally{if(p)throw p.error}}if(E.length>0){s=!0;const k=new pm;k.candidates=[{content:{role:"user",parts:E}}],yield yield Cr(k);const N=[];N.push(...P),N.push({role:"user",parts:E});const O=Vs(c.apiClient,f.contents).concat(N);f.contents=O}else break}})}(this,l,e)}async generateContentInternal(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=q3(this.apiClient,e);return o=rt("{model}:generateContent",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>{const f=K3(this.apiClient,u),d=new pm;return Object.assign(d,f),d})}else{const c=G3(this.apiClient,e);return o=rt("{model}:generateContent",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>{const f=X3(this.apiClient,u),d=new pm;return Object.assign(d,f),d})}}async generateContentStreamInternal(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=q3(this.apiClient,e);o=rt("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c.config,delete c._url,delete c._query;const u=this.apiClient;return s=u.requestStream({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}),s.then(function(f){return dg(this,arguments,function*(){var d,h,m,p;try{for(var y=!0,w=cw(f),b;b=yield Cr(w.next()),d=b.done,!d;y=!0){p=b.value,y=!1;const A=K3(u,yield Cr(p.json())),S=new pm;Object.assign(S,A),yield yield Cr(S)}}catch(_){h={error:_}}finally{try{!y&&!d&&(m=w.return)&&(yield Cr(m.call(w)))}finally{if(h)throw h.error}}})})}else{const c=G3(this.apiClient,e);o=rt("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c.config,delete c._url,delete c._query;const u=this.apiClient;return s=u.requestStream({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(f){return dg(this,arguments,function*(){var d,h,m,p;try{for(var y=!0,w=cw(f),b;b=yield Cr(w.next()),d=b.done,!d;y=!0){p=b.value,y=!1;const A=X3(u,yield Cr(p.json())),S=new pm;Object.assign(S,A),yield yield Cr(S)}}catch(_){h={error:_}}finally{try{!y&&!d&&(m=w.return)&&(yield Cr(m.call(w)))}finally{if(h)throw h.error}}})})}}async embedContent(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=O4e(this.apiClient,e);return o=rt("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>{const f=OLe(this.apiClient,u),d=new E3;return Object.assign(d,f),d})}else{const c=qFe(this.apiClient,e);return o=rt("{model}:batchEmbedContents",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>{const f=uLe(this.apiClient,u),d=new E3;return Object.assign(d,f),d})}}async generateImagesInternal(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=N4e(this.apiClient,e);return o=rt("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>{const f=NLe(this.apiClient,u),d=new C3;return Object.assign(d,f),d})}else{const c=KFe(this.apiClient,e);return o=rt("{model}:predict",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>{const f=hLe(this.apiClient,u),d=new C3;return Object.assign(d,f),d})}}async editImageInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=j4e(this.apiClient,e);return a=rt("{model}:predict",o._url),s=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=RLe(this.apiClient,l),u=new lNe;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=V4e(this.apiClient,e);return a=rt("{model}:predict",o._url),s=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=DLe(this.apiClient,l),u=new cNe;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=H4e(this.apiClient,e);return o=rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>Rk(this.apiClient,u))}else{const c=YFe(this.apiClient,e);return o=rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>Nk(this.apiClient,u))}}async listInternal(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=z4e(this.apiClient,e);return o=rt("{models_url}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>{const f=BLe(this.apiClient,u),d=new k3;return Object.assign(d,f),d})}else{const c=ZFe(this.apiClient,e);return o=rt("{models_url}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>{const f=mLe(this.apiClient,u),d=new k3;return Object.assign(d,f),d})}}async update(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=q4e(this.apiClient,e);return o=rt("{model}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>Rk(this.apiClient,u))}else{const c=e4e(this.apiClient,e);return o=rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>Nk(this.apiClient,u))}}async delete(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=X4e(this.apiClient,e);return o=rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(()=>{const u=jLe(),f=new P3;return Object.assign(f,u),f})}else{const c=t4e(this.apiClient,e);return o=rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(()=>{const u=gLe(),f=new P3;return Object.assign(f,u),f})}}async countTokens(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=Y4e(this.apiClient,e);return o=rt("{model}:countTokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>{const f=ULe(this.apiClient,u),d=new I3;return Object.assign(d,f),d})}else{const c=n4e(this.apiClient,e);return o=rt("{model}:countTokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>{const f=vLe(this.apiClient,u),d=new I3;return Object.assign(d,f),d})}}async computeTokens(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=J4e(this.apiClient,e);return a=rt("{model}:computeTokens",o._url),s=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>{const c=VLe(this.apiClient,l),u=new uNe;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=Q4e(this.apiClient,e);return o=rt("{model}:predictLongRunning",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>GLe(this.apiClient,u))}else{const c=s4e(this.apiClient,e);return o=rt("{model}:predictLongRunning",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>_Le(this.apiClient,u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g3e(t,e){const r={},n=v(e,["operationName"]);n!=null&&x(r,["_url","operationName"],n);const i=v(e,["config"]);return i!=null&&x(r,["config"],i),r}function v3e(t,e){const r={},n=v(e,["operationName"]);n!=null&&x(r,["_url","operationName"],n);const i=v(e,["config"]);return i!=null&&x(r,["config"],i),r}function y3e(t,e){const r={},n=v(e,["operationName"]);n!=null&&x(r,["operationName"],n);const i=v(e,["resourceName"]);i!=null&&x(r,["_url","resourceName"],i);const a=v(e,["config"]);return a!=null&&x(r,["config"],a),r}function x3e(t,e){const r={},n=v(e,["video","uri"]);n!=null&&x(r,["uri"],n);const i=v(e,["video","encodedVideo"]);i!=null&&x(r,["videoBytes"],Au(t,i));const a=v(e,["encoding"]);return a!=null&&x(r,["mimeType"],a),r}function w3e(t,e){const r={},n=v(e,["_self"]);return n!=null&&x(r,["video"],x3e(t,n)),r}function _3e(t,e){const r={},n=v(e,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>w3e(t,o))),x(r,["generatedVideos"],s)}const i=v(e,["raiMediaFilteredCount"]);i!=null&&x(r,["raiMediaFilteredCount"],i);const a=v(e,["raiMediaFilteredReasons"]);return a!=null&&x(r,["raiMediaFilteredReasons"],a),r}function b3e(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["name"],n);const i=v(e,["metadata"]);i!=null&&x(r,["metadata"],i);const a=v(e,["done"]);a!=null&&x(r,["done"],a);const s=v(e,["error"]);s!=null&&x(r,["error"],s);const o=v(e,["response","generateVideoResponse"]);return o!=null&&x(r,["response"],_3e(t,o)),r}function S3e(t,e){const r={},n=v(e,["gcsUri"]);n!=null&&x(r,["uri"],n);const i=v(e,["bytesBase64Encoded"]);i!=null&&x(r,["videoBytes"],Au(t,i));const a=v(e,["mimeType"]);return a!=null&&x(r,["mimeType"],a),r}function A3e(t,e){const r={},n=v(e,["_self"]);return n!=null&&x(r,["video"],S3e(t,n)),r}function T3e(t,e){const r={},n=v(e,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>A3e(t,o))),x(r,["generatedVideos"],s)}const i=v(e,["raiMediaFilteredCount"]);i!=null&&x(r,["raiMediaFilteredCount"],i);const a=v(e,["raiMediaFilteredReasons"]);return a!=null&&x(r,["raiMediaFilteredReasons"],a),r}function r5(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["name"],n);const i=v(e,["metadata"]);i!=null&&x(r,["metadata"],i);const a=v(e,["done"]);a!=null&&x(r,["done"],a);const s=v(e,["error"]);s!=null&&x(r,["error"],s);const o=v(e,["response"]);return o!=null&&x(r,["response"],T3e(t,o)),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class E3e extends vx{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const r=e.operation,n=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=r.name.split("/operations/")[0];let a;return n&&"httpOptions"in n&&(a=n.httpOptions),this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:i,config:{httpOptions:a}})}else return this.getVideosOperationInternal({operationName:r.name,config:n})}async getVideosOperationInternal(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=v3e(this.apiClient,e);return o=rt("{operationName}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>r5(this.apiClient,u))}else{const c=g3e(this.apiClient,e);return o=rt("{operationName}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>b3e(this.apiClient,u))}}async fetchPredictVideosOperationInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=y3e(this.apiClient,e);return a=rt("{resourceName}:fetchPredictOperation",o._url),s=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>r5(this.apiClient,l))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function C3e(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["_url","name"],n);const i=v(e,["config"]);return i!=null&&x(r,["config"],i),r}function k3e(t,e,r){const n={},i=v(e,["pageSize"]);r!==void 0&&i!=null&&x(r,["_query","pageSize"],i);const a=v(e,["pageToken"]);r!==void 0&&a!=null&&x(r,["_query","pageToken"],a);const s=v(e,["filter"]);return r!==void 0&&s!=null&&x(r,["_query","filter"],s),n}function P3e(t,e){const r={},n=v(e,["config"]);return n!=null&&x(r,["config"],k3e(t,n,r)),r}function I3e(t,e){const r={},n=v(e,["textInput"]);n!=null&&x(r,["textInput"],n);const i=v(e,["output"]);return i!=null&&x(r,["output"],i),r}function O3e(t,e){const r={};if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=v(e,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>I3e(t,a))),x(r,["examples","examples"],i)}return r}function M3e(t,e,r){const n={};if(v(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=v(e,["tunedModelDisplayName"]);if(r!==void 0&&i!=null&&x(r,["displayName"],i),v(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=v(e,["epochCount"]);r!==void 0&&a!=null&&x(r,["tuningTask","hyperparameters","epochCount"],a);const s=v(e,["learningRateMultiplier"]);if(s!=null&&x(n,["tuningTask","hyperparameters","learningRateMultiplier"],s),v(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(v(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=v(e,["batchSize"]);r!==void 0&&o!=null&&x(r,["tuningTask","hyperparameters","batchSize"],o);const l=v(e,["learningRate"]);return r!==void 0&&l!=null&&x(r,["tuningTask","hyperparameters","learningRate"],l),n}function N3e(t,e){const r={},n=v(e,["baseModel"]);n!=null&&x(r,["baseModel"],n);const i=v(e,["trainingDataset"]);i!=null&&x(r,["tuningTask","trainingData"],O3e(t,i));const a=v(e,["config"]);return a!=null&&x(r,["config"],M3e(t,a,r)),r}function R3e(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["_url","name"],n);const i=v(e,["config"]);return i!=null&&x(r,["config"],i),r}function D3e(t,e,r){const n={},i=v(e,["pageSize"]);r!==void 0&&i!=null&&x(r,["_query","pageSize"],i);const a=v(e,["pageToken"]);r!==void 0&&a!=null&&x(r,["_query","pageToken"],a);const s=v(e,["filter"]);return r!==void 0&&s!=null&&x(r,["_query","filter"],s),n}function F3e(t,e){const r={},n=v(e,["config"]);return n!=null&&x(r,["config"],D3e(t,n,r)),r}function L3e(t,e,r){const n={},i=v(e,["gcsUri"]);if(r!==void 0&&i!=null&&x(r,["supervisedTuningSpec","trainingDatasetUri"],i),v(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function $3e(t,e){const r={},n=v(e,["gcsUri"]);return n!=null&&x(r,["validationDatasetUri"],n),r}function B3e(t,e,r){const n={},i=v(e,["validationDataset"]);r!==void 0&&i!=null&&x(r,["supervisedTuningSpec"],$3e(t,i));const a=v(e,["tunedModelDisplayName"]);r!==void 0&&a!=null&&x(r,["tunedModelDisplayName"],a);const s=v(e,["description"]);r!==void 0&&s!=null&&x(r,["description"],s);const o=v(e,["epochCount"]);r!==void 0&&o!=null&&x(r,["supervisedTuningSpec","hyperParameters","epochCount"],o);const l=v(e,["learningRateMultiplier"]);r!==void 0&&l!=null&&x(r,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],l);const c=v(e,["exportLastCheckpointOnly"]);r!==void 0&&c!=null&&x(r,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const u=v(e,["adapterSize"]);if(r!==void 0&&u!=null&&x(r,["supervisedTuningSpec","hyperParameters","adapterSize"],u),v(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(v(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function j3e(t,e){const r={},n=v(e,["baseModel"]);n!=null&&x(r,["baseModel"],n);const i=v(e,["trainingDataset"]);i!=null&&x(r,["supervisedTuningSpec","trainingDatasetUri"],L3e(t,i,r));const a=v(e,["config"]);return a!=null&&x(r,["config"],B3e(t,a,r)),r}function U3e(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["model"],n);const i=v(e,["name"]);return i!=null&&x(r,["endpoint"],i),r}function GH(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["name"],n);const i=v(e,["state"]);i!=null&&x(r,["state"],PH(t,i));const a=v(e,["createTime"]);a!=null&&x(r,["createTime"],a);const s=v(e,["tuningTask","startTime"]);s!=null&&x(r,["startTime"],s);const o=v(e,["tuningTask","completeTime"]);o!=null&&x(r,["endTime"],o);const l=v(e,["updateTime"]);l!=null&&x(r,["updateTime"],l);const c=v(e,["description"]);c!=null&&x(r,["description"],c);const u=v(e,["baseModel"]);u!=null&&x(r,["baseModel"],u);const f=v(e,["_self"]);f!=null&&x(r,["tunedModel"],U3e(t,f));const d=v(e,["distillationSpec"]);d!=null&&x(r,["distillationSpec"],d);const h=v(e,["experiment"]);h!=null&&x(r,["experiment"],h);const m=v(e,["labels"]);m!=null&&x(r,["labels"],m);const p=v(e,["pipelineJob"]);p!=null&&x(r,["pipelineJob"],p);const y=v(e,["tunedModelDisplayName"]);return y!=null&&x(r,["tunedModelDisplayName"],y),r}function V3e(t,e){const r={},n=v(e,["nextPageToken"]);n!=null&&x(r,["nextPageToken"],n);const i=v(e,["tunedModels"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>GH(t,s))),x(r,["tuningJobs"],a)}return r}function H3e(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["name"],n);const i=v(e,["metadata"]);i!=null&&x(r,["metadata"],i);const a=v(e,["done"]);a!=null&&x(r,["done"],a);const s=v(e,["error"]);return s!=null&&x(r,["error"],s),r}function W3e(t,e){const r={},n=v(e,["checkpointId"]);n!=null&&x(r,["checkpointId"],n);const i=v(e,["epoch"]);i!=null&&x(r,["epoch"],i);const a=v(e,["step"]);a!=null&&x(r,["step"],a);const s=v(e,["endpoint"]);return s!=null&&x(r,["endpoint"],s),r}function z3e(t,e){const r={},n=v(e,["model"]);n!=null&&x(r,["model"],n);const i=v(e,["endpoint"]);i!=null&&x(r,["endpoint"],i);const a=v(e,["checkpoints"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>W3e(t,o))),x(r,["checkpoints"],s)}return r}function Lk(t,e){const r={},n=v(e,["name"]);n!=null&&x(r,["name"],n);const i=v(e,["state"]);i!=null&&x(r,["state"],PH(t,i));const a=v(e,["createTime"]);a!=null&&x(r,["createTime"],a);const s=v(e,["startTime"]);s!=null&&x(r,["startTime"],s);const o=v(e,["endTime"]);o!=null&&x(r,["endTime"],o);const l=v(e,["updateTime"]);l!=null&&x(r,["updateTime"],l);const c=v(e,["error"]);c!=null&&x(r,["error"],c);const u=v(e,["description"]);u!=null&&x(r,["description"],u);const f=v(e,["baseModel"]);f!=null&&x(r,["baseModel"],f);const d=v(e,["tunedModel"]);d!=null&&x(r,["tunedModel"],z3e(t,d));const h=v(e,["supervisedTuningSpec"]);h!=null&&x(r,["supervisedTuningSpec"],h);const m=v(e,["tuningDataStats"]);m!=null&&x(r,["tuningDataStats"],m);const p=v(e,["encryptionSpec"]);p!=null&&x(r,["encryptionSpec"],p);const y=v(e,["partnerModelTuningSpec"]);y!=null&&x(r,["partnerModelTuningSpec"],y);const w=v(e,["distillationSpec"]);w!=null&&x(r,["distillationSpec"],w);const b=v(e,["experiment"]);b!=null&&x(r,["experiment"],b);const _=v(e,["labels"]);_!=null&&x(r,["labels"],_);const A=v(e,["pipelineJob"]);A!=null&&x(r,["pipelineJob"],A);const S=v(e,["tunedModelDisplayName"]);return S!=null&&x(r,["tunedModelDisplayName"],S),r}function G3e(t,e){const r={},n=v(e,["nextPageToken"]);n!=null&&x(r,["nextPageToken"],n);const i=v(e,["tuningJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Lk(t,s))),x(r,["tuningJobs"],a)}return r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class q3e extends vx{constructor(e){super(),this.apiClient=e,this.get=async r=>await this.getInternal(r),this.list=async(r={})=>new KS(wp.PAGED_ITEM_TUNING_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.tune=async r=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(r);{const n=await this.tuneMldevInternal(r);let i="";return n.metadata!==void 0&&n.metadata.tunedModel!==void 0?i=n.metadata.tunedModel:n.name!==void 0&&n.name.includes("/operations/")&&(i=n.name.split("/operations/")[0]),{name:i,state:kk.JOB_STATE_QUEUED}}}}async getInternal(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=R3e(this.apiClient,e);return o=rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>Lk(this.apiClient,u))}else{const c=C3e(this.apiClient,e);return o=rt("{name}",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>GH(this.apiClient,u))}}async listInternal(e){var r,n,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const c=F3e(this.apiClient,e);return o=rt("tuningJobs",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),s.then(u=>{const f=G3e(this.apiClient,u),d=new O3;return Object.assign(d,f),d})}else{const c=P3e(this.apiClient,e);return o=rt("tunedModels",c._url),l=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),s.then(u=>{const f=V3e(this.apiClient,u),d=new O3;return Object.assign(d,f),d})}}async tuneInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=j3e(this.apiClient,e);return a=rt("tuningJobs",o._url),s=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>Lk(this.apiClient,l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=N3e(this.apiClient,e);return a=rt("tunedModels",o._url),s=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),i.then(l=>H3e(this.apiClient,l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class X3e{async download(e,r){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const K3e=1024*1024*8,Y3e=3,J3e=1e3,Z3e=2,ST="x-goog-upload-status";async function Q3e(t,e,r){var n,i,a;let s=0,o=0,l=new Pk(new Response),c="upload";for(s=t.size;o<s;){const f=Math.min(K3e,s-o),d=t.slice(o,o+f);o+f>=s&&(c+=", finalize");let h=0,m=J3e;for(;h<Y3e&&(l=await r.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(o),"Content-Length":String(f)}}}),!(!((n=l==null?void 0:l.headers)===null||n===void 0)&&n[ST]));)h++,await t5e(m),m=m*Z3e;if(o+=f,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[ST])!=="active")break;if(s<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const u=await(l==null?void 0:l.json());if(((a=l==null?void 0:l.headers)===null||a===void 0?void 0:a[ST])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function e5e(t){return{size:t.size,type:t.type}}function t5e(t){return new Promise(e=>setTimeout(e,t))}class r5e{async upload(e,r,n){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Q3e(e,r,n)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await e5e(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class n5e{create(e,r,n){return new i5e(e,r,n)}}class i5e{constructor(e,r,n){this.url=e,this.headers=r,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const n5="x-goog-api-key";class a5e{constructor(e){this.apiKey=e}async addAuthHeaders(e){e.get(n5)===null&&e.append(n5,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const s5e="gl-node/";class JS{constructor(e){var r;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(r=e.vertexai)!==null&&r!==void 0?r:!1,this.apiKey=e.apiKey;const n=oNe(e,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion;const i=new a5e(this.apiKey);this.apiClient=new e3e({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:s5e+"web",uploader:new r5e,downloader:new X3e}),this.models=new m3e(this.apiClient),this.live=new u3e(this.apiClient,i,new n5e),this.chats=new ERe(this.models,this.apiClient),this.caches=new SRe(this.apiClient),this.files=new BRe(this.apiClient),this.operations=new E3e(this.apiClient),this.tunings=new q3e(this.apiClient)}}const o5e=async(t,e,r,n,i)=>{if(!t)throw new Error("API Key is missing. Please set it in the settings.");const a=new JS({apiKey:t}),s="gemini-2.5-flash",o={situation:`Logistics Rescue Planning. ${i.toFixed(2)} hours remaining in shift.`,summary:n,driversInTrouble:e.map(c=>({name:c.name,stopsBehind:c.diff,currentPace:c.pace,stopsRemaining:c.remaining})),topHelpers:r.slice(0,8).map(c=>({name:c.name,surplusCapacity:Math.abs(c.diff),pace:c.pace}))},l=`
    You are an expert logistics coordinator AI. 
    Analyze the JSON data provided below regarding delivery drivers.
    
    Data: ${JSON.stringify(o)}

    Your Goal: Create a concise, tactical "Rescue Plan".
    
    Guidelines:
    1. Identify the most critical driver (highest stops behind).
    2. Suggest specific swaps: "Assign [Driver A] to take [X] stops from [Driver B]". Match high-pace helpers with struggling drivers.
    3. Keep it under 150 words. Use bullet points.
    4. Be direct and action-oriented.
    5. If the deficit is huge and helpers are few, warn the dispatcher to call in extra shifts.
    `;try{return(await a.models.generateContent({model:s,contents:l})).text||"AI could not generate a plan."}catch(c){return console.error("AI Generation Error:",c),"Error generating AI plan. Please check your API Key in settings."}},l5e=async(t,e,r)=>{if(!t)throw new Error("API Key is missing. Please check Settings.");const n=new JS({apiKey:t}),i="gemini-2.5-flash",a=[];e.speedingEventRate>0&&a.push(`Speeding: ${e.speedingEventRate} events (Weight: 11% of Safety). Definition: Traveling 10+ MPH over limit.`),e.distractionsRate>0&&a.push(`Distracted Driving: ${e.distractionsRate} events (Weight: 7.1% of Safety). Definition: Phone use or looking down.`),e.signSignalRate>0&&a.push(`Sign/Signal Violations: ${e.signSignalRate} events (Weight: 11% of Safety). Definition: Running stop signs/lights.`),e.seatbeltOffRate>0&&a.push(`Seatbelt Off: ${e.seatbeltOffRate} events (Weight: 11% of Safety).`),e.followingDistanceRate>0&&a.push(`Following Distance: ${e.followingDistanceRate} events (Weight: 4.7% of Safety). Definition: <0.6s distance.`),e.dcr<99.9&&a.push(`DCR (Delivery Completion): ${e.dcr}% (Target 99.9%, Weight: 12% of Overall). Packages delivered vs attempted.`),e.pod<98&&a.push(`Photo Quality (POD): ${e.pod}% (Target 98%+, Weight: 3% of Overall). Clear photos, no shoes/pets visible.`),e.cdfDpmo>500&&a.push(`Customer Feedback (CDF): ${e.cdfDpmo} DPMO (Weight: 6% of Overall). Negative customer reviews.`),e.ced>0&&a.push(`Escalations (CED): ${e.ced} defects (Weight: 12% of Overall). Severe complaints.`);const s=a.length===0,o=`
    You are a professional Amazon DSP Dispatcher/Manager. Write a data-driven, educational coaching text message to driver ${e.name}.
    
    Context:
    - Week: ${r}
    - FICO Score: ${e.fico}
    - Performance Gaps: ${s?"None! Perfect scorecard.":a.join(`
- `)}
    
    Goals:
    1. BE EDUCATIONAL: Explain briefly *what* the metric is if they failed it.
    2. EXPLAIN IMPACT: Mention how it hurts the scorecard (e.g. "This makes up 11% of our safety score").
    3. PROVIDE A TIP: Give one actionable tip to improve (e.g., "Check your rabbit for notes", "Scan packages at door").
    4. Tone: Professional, constructive, serious but supportive.
    5. Format: Text message suitable for SMS/Chime. Keep it under 100 words.
    6. If perfect, give high praise and mention their contribution to the team's bonus potential.
    `;try{return(await n.models.generateContent({model:i,contents:o})).text||"Could not generate message."}catch(l){return console.error("AI Coaching Error:",l),"Error generating message. Check API Key."}},c5e=async(t,e,r,n)=>{if(!t)throw new Error("API Key missing");const i=new JS({apiKey:t}),a="gemini-2.5-flash";let s=0,o=0;r!=null&&r.detailedRescueLogs?Object.values(r.detailedRescueLogs).forEach(u=>{s+=u.length,o+=u.reduce((f,d)=>f+d.stopsRemoved,0)}):r&&(s=r.drivers.filter(u=>Number(u.stopsRescuedFromDriver)>0).length,o=r.drivers.reduce((u,f)=>u+Number(f.stopsRescuedFromDriver||0),0));const l={today:e?{driverCount:e.totalDrivers}:"Data not loaded yet",yesterday:r?{date:new Date(r.date).toLocaleDateString(),rescuesPerformed:s,stopsRescued:o,topHelpers:r.drivers.filter(u=>Number(u.stopsRescuedByDriver)>0).sort((u,f)=>Number(f.stopsRescuedByDriver)-Number(u.stopsRescuedByDriver)).slice(0,3).map(u=>`${u.name} (${u.stopsRescuedByDriver} stops)`)}:"No data for yesterday",scorecard:n?{week:n.week,tier:n.overallTier,score:n.overallScore,focusAreas:n.keyFocusAreas}:"No scorecard loaded"},c=`
    Act as a Charismatic Amazon DSP Dispatch Manager. Write a 2-minute "Morning Standup" script to read to the drivers.
    
    Data Context: ${JSON.stringify(l)}
    
    Structure:
    1. **Hook**: Energy, welcome back.
    2. **Yesterday's Wins**: Shout out the specific top helpers from yesterday (if any). Mention the *actual* number of rescues performed (${s}).
    3. **Scorecard Focus**: If scorecard data exists, mention the "Tier" and the #1 Focus Area. Explain why it matters.
    4. **Today's Mission**: General encouragement based on the driver count.
    5. **Safety Sign-off**: End with a safety catchphrase (e.g., "Buckle up, slow down").
    
    Tone: Motivational, direct, authoritative but friendly.
    `;try{return(await i.models.generateContent({model:a,contents:c})).text||"Could not generate script."}catch(u){return console.error("Standup Gen Error:",u),"Error generating script."}},u5e=async(t,e,r)=>{if(!t)throw new Error("API Key missing");const n=new JS({apiKey:t}),i="gemini-2.5-flash",a=r.scorecardHistory?r.scorecardHistory.map(l=>`Week ${l.week}: ${l.overallTier} (${l.overallScore})`).join("; "):"No past scorecards.",s={current_status:r.currentDrivers?r.currentDrivers.map(l=>({name:l.name,route:l.routeId,status:l.diff>0?"Behind":"Ahead",stops_diff:l.diff,pace:l.pace,battery:l.batteryLevel})):"No live route data",latest_scorecard:r.scorecard?{week:r.scorecard.week,tier:r.scorecard.overallTier,score:r.scorecard.overallScore,focus:r.scorecard.keyFocusAreas,drivers_sample:r.scorecard.drivers.slice(0,5).map(l=>({name:l.name,fico:l.fico,speeding:l.speedingEventRate,dcr:l.dcr}))}:"No current scorecard",scorecard_history_summary:a,history_days:r.history?r.history.length:0},o=`
    You are "Dispatch Bot", an intelligent assistant for an Amazon DSP owner.
    User Query: "${e}"
    
    Context Data: ${JSON.stringify(s)}
    
    Instructions:
    1. Answer using the data provided.
    2. You have access to the current live routes, the latest scorecard, and a summary of past scorecards.
    3. If asked about trends (e.g. "Are we improving?"), use the scorecard_history_summary.
    4. If asked about a specific driver's current status, use current_status.
    5. Keep answers concise and professional.
    `;try{return(await n.models.generateContent({model:i,contents:o})).text||"I couldn't process that request."}catch(l){return console.error("Chatbot Error:",l),"Sorry, I encountered an error connecting to the AI."}},i5={"Customer Delivery Feedback":"6%","Delivery Success Behaviors":"12%","Sign/Signal Violations Rate":"11%","Speeding Event Rate":"11%","Seatbelt Off Rate":"11%","Distractions Rate":"7.1%","Following Distance Rate":"4.7%","Delivery Completion Rate":"12%","Photo-On-Delivery":"3%","Customer Escalation":"12%"},f5e=({onAnalysisLoaded:t,onSave:e})=>{const[r,n]=re.useState(null),[i,a]=re.useState(!1),[s,o]=re.useState(null),l=re.useRef(null),[c,u]=re.useState(null),[f,d]=re.useState(""),[h,m]=re.useState(!1),[p,y]=re.useState(!1),[w,b]=re.useState(!1),[_,A]=re.useState(null),[S,T]=re.useState({key:"impactScore",direction:"desc"});re.useEffect(()=>{r&&t&&t(r)},[r,t]);const E=async j=>{var J;const Y=(J=j.target.files)==null?void 0:J[0];if(Y){a(!0),o(null);try{if(Y.type!=="application/pdf")throw new Error("Please upload a valid PDF file.");const Z=await TMe(Y);if(Z.drivers.length===0)throw new Error("No driver data found. Ensure you uploaded the full Scorecard PDF.");n(Z)}catch(Z){console.error(Z),o(Z.message||"Failed to parse PDF.")}finally{a(!1)}}},P=re.useMemo(()=>{if(!r)return[];const j=[...r.drivers];return j.sort((Y,J)=>{const Z=Y[S.key],V=J[S.key];if(typeof Z=="number"&&typeof V=="number")return S.direction==="asc"?Z-V:V-Z;const te=String(Z).toLowerCase(),se=String(V).toLowerCase();return te<se?S.direction==="asc"?-1:1:te>se?S.direction==="asc"?1:-1:0}),j},[r,S]),k=j=>{T(Y=>({key:j,direction:Y.key===j&&Y.direction==="desc"?"asc":"desc"}))},N=({column:j})=>S.key!==j?C.jsx(x8,{className:"w-3 h-3 ml-1 opacity-30"}):S.direction==="asc"?C.jsx(w8,{className:"w-3 h-3 ml-1"}):C.jsx(y8,{className:"w-3 h-3 ml-1"}),O=j=>{for(const Y in i5)if(j.toLowerCase().includes(Y.toLowerCase())||Y.toLowerCase().includes(j.toLowerCase()))return i5[Y];return null},R=async(j,Y)=>{const J=Y.currentTarget.getBoundingClientRect();let Z=J.left-340;Z<20&&(Z=J.right+10),A({top:J.top+window.scrollY-50,left:Z+window.scrollX}),u(j),y(!0),m(!0),d(""),b(!1);const V=localStorage.getItem("gemini_api_key");if(!V){d("Please set your Gemini API Key in settings to use this feature."),m(!1);return}const te=await l5e(V,j,(r==null?void 0:r.week)||"Current");d(te),m(!1)},W=()=>{navigator.clipboard.writeText(f),b(!0),setTimeout(()=>b(!1),2e3)},Q=({title:j,icon:Y,drivers:J,valueKey:Z,type:V,threshold:te=0,suffix:se=""})=>{const q=[...J].sort((X,ee)=>{const ae=Number(X[Z])||0,ue=Number(ee[Z])||0;return V==="high"?ue-ae:ae-ue}).slice(0,5).filter(X=>{const ee=Number(X[Z])||0;return ee===0&&V==="high"||V==="low"&&ee===100?!1:V==="high"?ee>te:ee<(te||100)});return q.length===0?null:C.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden flex flex-col h-full",children:[C.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:C.jsxs("h4",{className:"font-bold text-gray-700 flex items-center text-sm",children:[C.jsx(Y,{className:"w-4 h-4 mr-2 text-indigo-600"}),j]})}),C.jsx("div",{className:"flex-1",children:C.jsx("table",{className:"min-w-full divide-y divide-gray-50",children:C.jsx("tbody",{children:q.map(X=>C.jsxs("tr",{className:"hover:bg-gray-50",children:[C.jsx("td",{className:"px-4 py-2 text-xs font-medium text-gray-900 truncate max-w-[120px]",children:X.name}),C.jsxs("td",{className:`px-4 py-2 text-xs font-bold text-right ${V==="high"?"text-red-600":"text-orange-600"}`,children:[X[Z],se]})]},X.transporterId))})})})]})};return C.jsxs("div",{className:"space-y-6 animate-fade-in pb-12 relative",children:[C.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[C.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[C.jsxs("div",{children:[C.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[C.jsx(NP,{className:"w-6 h-6 mr-2 text-indigo-600"}),"Scorecard Analyzer"]}),C.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Upload PDF to see detailed impact analysis and rankings."})]}),C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsx("input",{type:"file",ref:l,className:"hidden",accept:".pdf",onChange:E}),C.jsxs("button",{onClick:()=>{var j;return(j=l.current)==null?void 0:j.click()},disabled:i,className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 shadow-sm transition-colors disabled:opacity-70",children:[i?C.jsx(Og,{className:"w-5 h-5 animate-spin"}):C.jsx(RP,{className:"w-5 h-5 mr-2"})," ",i?"Analyzing...":"Upload PDF"]}),r&&e&&C.jsxs("button",{onClick:()=>e(r),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 shadow-sm transition-colors",children:[C.jsx(Vb,{className:"w-5 h-5 mr-2"})," Save Scorecard"]})]})]}),s&&C.jsxs("div",{className:"mt-4 p-3 bg-red-50 text-red-700 text-sm rounded-lg flex items-center",children:[C.jsx(MP,{className:"w-5 h-5 mr-2"})," ",s]})]}),r&&C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[C.jsxs("div",{className:`md:col-span-4 rounded-xl shadow-md p-6 text-white flex flex-col justify-center ${r.overallTier.toLowerCase().includes("fantastic")?"bg-gradient-to-r from-green-600 to-emerald-700":"bg-gradient-to-r from-red-600 to-orange-700"}`,children:[C.jsxs("div",{className:"flex justify-between items-start",children:[C.jsxs("div",{children:[C.jsx("span",{className:"text-white/80 text-xs font-bold uppercase tracking-wider",children:"Overall Standing"}),C.jsx("div",{className:"text-3xl font-bold mt-1",children:r.overallTier||"Unknown"}),C.jsxs("div",{className:"text-white/90 text-sm mt-1",children:["Score: ",r.overallScore]})]}),C.jsx(FG,{className:"w-8 h-8 text-white/30"})]}),C.jsxs("div",{className:"mt-4 pt-4 border-t border-white/20 grid grid-cols-3 gap-2 text-center",children:[C.jsxs("div",{children:[C.jsx("div",{className:"text-[10px] uppercase opacity-70",children:"Safety"}),C.jsx("div",{className:"text-xs font-bold",children:r.categoryScores.safety})]}),C.jsxs("div",{children:[C.jsx("div",{className:"text-[10px] uppercase opacity-70",children:"Quality"}),C.jsx("div",{className:"text-xs font-bold",children:r.categoryScores.quality})]}),C.jsxs("div",{children:[C.jsx("div",{className:"text-[10px] uppercase opacity-70",children:"Team"}),C.jsx("div",{className:"text-xs font-bold",children:r.categoryScores.team})]})]})]}),C.jsxs("div",{className:"md:col-span-5 bg-white rounded-xl shadow-sm border border-gray-100 p-6 flex flex-col justify-center",children:[C.jsxs("span",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider flex items-center mb-2",children:[C.jsx(lq,{className:"w-3 h-3 mr-1"})," Amazon Key Focus Areas"]}),r.keyFocusAreas.length>0?C.jsx("ul",{className:"space-y-2",children:r.keyFocusAreas.map((j,Y)=>{const J=O(j);return C.jsxs("li",{className:"text-sm font-medium text-gray-800 flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center",children:[C.jsx("span",{className:"w-5 h-5 rounded-full bg-indigo-50 text-indigo-600 text-xs flex items-center justify-center mr-2 font-bold border border-indigo-100",children:Y+1}),j]}),J&&C.jsxs("span",{className:"text-xs font-bold text-red-500 bg-red-50 px-2 py-0.5 rounded",children:["Impact: ",J]})]},Y)})}):C.jsx("span",{className:"text-gray-400 italic text-sm",children:"No focus areas extracted from PDF."})]}),C.jsx("div",{className:"md:col-span-3 bg-white rounded-xl shadow-sm border border-gray-100 p-6 flex flex-col justify-center",children:C.jsxs("div",{className:"flex justify-between mb-2",children:[C.jsxs("div",{children:[C.jsx("span",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider",children:"Week"}),C.jsx("div",{className:"text-xl font-bold text-gray-900",children:r.week})]}),C.jsxs("div",{className:"text-right",children:[C.jsx("span",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider",children:"Station"}),C.jsx("div",{className:"text-xl font-bold text-gray-900",children:r.station})]})]})})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4 mt-6",children:[C.jsx(Q,{title:"Speeding Events",icon:sN,drivers:r.drivers,valueKey:"speedingEventRate",type:"high"}),C.jsx(Q,{title:"Sign/Signal Violations",icon:sN,drivers:r.drivers,valueKey:"signSignalRate",type:"high"}),C.jsx(Q,{title:"Low Delivery Completion",icon:iq,drivers:r.drivers,valueKey:"dcr",type:"low",threshold:99.9,suffix:"%"}),C.jsx(Q,{title:"Photo Quality (POD)",icon:jG,drivers:r.drivers,valueKey:"pod",type:"low",threshold:98,suffix:"%"}),C.jsx(Q,{title:"Cust. Feedback (DPMO)",icon:cq,drivers:r.drivers,valueKey:"cdfDpmo",type:"high",threshold:1e3})]}),C.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mt-8",children:[C.jsx("div",{className:"px-6 py-4 border-b border-gray-100 bg-gray-50 flex justify-between items-center",children:C.jsx("h3",{className:"font-bold text-gray-900",children:"Detailed Driver Performance"})}),C.jsx("div",{className:"overflow-x-auto",children:C.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[C.jsx("thead",{className:"bg-gray-50",children:C.jsxs("tr",{children:[C.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-600 uppercase sticky left-0 bg-gray-50 z-10 w-40",children:"Driver Name"}),C.jsxs("th",{className:"px-2 py-3 text-right text-xs font-bold text-indigo-700 uppercase cursor-pointer",onClick:()=>k("impactScore"),children:["Impact ",C.jsx(N,{column:"impactScore"})]}),C.jsxs("th",{className:"px-2 py-3 text-right text-xs font-medium text-gray-500 uppercase cursor-pointer",title:"Packages Delivered",onClick:()=>k("delivered"),children:["Delivered ",C.jsx(N,{column:"delivered"})]}),C.jsxs("th",{className:"px-2 py-3 text-right text-xs font-medium text-gray-500 uppercase cursor-pointer",title:"FICO Score",onClick:()=>k("fico"),children:["FICO ",C.jsx(N,{column:"fico"})]}),C.jsxs("th",{className:"px-2 py-3 text-right text-xs font-medium text-red-600 uppercase cursor-pointer",title:"Seatbelt Off Rate",onClick:()=>k("seatbeltOffRate"),children:["Seatbelt ",C.jsx(N,{column:"seatbeltOffRate"})]}),C.jsxs("th",{className:"px-2 py-3 text-right text-xs font-medium text-red-600 uppercase cursor-pointer",title:"Speeding Event Rate",onClick:()=>k("speedingEventRate"),children:["Speed ",C.jsx(N,{column:"speedingEventRate"})]}),C.jsxs("th",{className:"px-2 py-3 text-right text-xs font-medium text-red-600 uppercase cursor-pointer",title:"Distractions Rate",onClick:()=>k("distractionsRate"),children:["Distract ",C.jsx(N,{column:"distractionsRate"})]}),C.jsxs("th",{className:"px-2 py-3 text-right text-xs font-medium text-red-600 uppercase cursor-pointer",title:"Following Distance Rate",onClick:()=>k("followingDistanceRate"),children:["Follow ",C.jsx(N,{column:"followingDistanceRate"})]}),C.jsxs("th",{className:"px-2 py-3 text-right text-xs font-medium text-red-600 uppercase cursor-pointer",title:"Sign/Signal Violations",onClick:()=>k("signSignalRate"),children:["Signal ",C.jsx(N,{column:"signSignalRate"})]}),C.jsxs("th",{className:"px-2 py-3 text-right text-xs font-medium text-blue-600 uppercase cursor-pointer",title:"Customer Delivery Feedback (DPMO)",onClick:()=>k("cdfDpmo"),children:["CDF ",C.jsx(N,{column:"cdfDpmo"})]}),C.jsxs("th",{className:"px-2 py-3 text-right text-xs font-medium text-blue-600 uppercase cursor-pointer",title:"Customer Escalations",onClick:()=>k("ced"),children:["CED ",C.jsx(N,{column:"ced"})]}),C.jsxs("th",{className:"px-2 py-3 text-right text-xs font-medium text-green-600 uppercase cursor-pointer",title:"Delivery Completion Rate",onClick:()=>k("dcr"),children:["DCR ",C.jsx(N,{column:"dcr"})]}),C.jsxs("th",{className:"px-2 py-3 text-right text-xs font-medium text-green-600 uppercase cursor-pointer",title:"Delivery Success Behaviors",onClick:()=>k("dsb"),children:["DSB ",C.jsx(N,{column:"dsb"})]}),C.jsxs("th",{className:"px-2 py-3 text-right text-xs font-medium text-gray-500 uppercase cursor-pointer",title:"DSB Count",onClick:()=>k("dsbCount"),children:["DSB# ",C.jsx(N,{column:"dsbCount"})]}),C.jsxs("th",{className:"px-2 py-3 text-right text-xs font-medium text-green-600 uppercase cursor-pointer",title:"Photo On Delivery",onClick:()=>k("pod"),children:["POD ",C.jsx(N,{column:"pod"})]}),C.jsxs("th",{className:"px-2 py-3 text-right text-xs font-medium text-gray-500 uppercase cursor-pointer",title:"POD Opportunities",onClick:()=>k("podOpps"),children:["POD# ",C.jsx(N,{column:"podOpps"})]}),C.jsxs("th",{className:"px-2 py-3 text-right text-xs font-medium text-green-600 uppercase cursor-pointer",title:"Pickup Success Behaviors",onClick:()=>k("psb"),children:["PSB ",C.jsx(N,{column:"psb"})]}),C.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase sticky right-0 bg-gray-50 z-10",children:"Coach"})]})}),C.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P.map((j,Y)=>C.jsxs("tr",{className:`hover:bg-gray-50 ${Y%2===0?"bg-white":"bg-gray-50/30"}`,children:[C.jsx("td",{className:"px-4 py-3 text-xs font-medium text-gray-900 whitespace-nowrap sticky left-0 bg-white z-10",children:j.name}),C.jsx("td",{className:"px-2 py-3 text-xs text-right font-bold",children:C.jsx("span",{className:`px-2 py-1 rounded ${j.impactScore>20?"bg-red-600 text-white":"bg-green-100 text-green-800"}`,children:j.impactScore})}),C.jsx("td",{className:"px-2 py-3 text-xs text-right text-gray-500",children:j.delivered}),C.jsx("td",{className:"px-2 py-3 text-xs text-right text-gray-500",children:j.fico}),C.jsx("td",{className:`px-2 py-3 text-xs text-right ${j.seatbeltOffRate>0?"font-bold text-red-600":"text-gray-400"}`,children:j.seatbeltOffRate}),C.jsx("td",{className:`px-2 py-3 text-xs text-right ${j.speedingEventRate>0?"font-bold text-red-600":"text-gray-400"}`,children:j.speedingEventRate}),C.jsx("td",{className:`px-2 py-3 text-xs text-right ${j.distractionsRate>0?"font-bold text-red-600":"text-gray-400"}`,children:j.distractionsRate}),C.jsx("td",{className:`px-2 py-3 text-xs text-right ${j.followingDistanceRate>0?"font-bold text-red-600":"text-gray-400"}`,children:j.followingDistanceRate}),C.jsx("td",{className:`px-2 py-3 text-xs text-right ${j.signSignalRate>0?"font-bold text-red-600":"text-gray-400"}`,children:j.signSignalRate}),C.jsx("td",{className:`px-2 py-3 text-xs text-right ${j.cdfDpmo>1e3?"font-bold text-orange-600":"text-gray-600"}`,children:j.cdfDpmo}),C.jsx("td",{className:`px-2 py-3 text-xs text-right ${j.ced>0?"font-bold text-red-600":"text-gray-400"}`,children:j.ced}),C.jsxs("td",{className:`px-2 py-3 text-xs text-right font-bold ${j.dcr<99.9?"text-red-600":"text-green-600"}`,children:[j.dcr,"%"]}),C.jsx("td",{className:"px-2 py-3 text-xs text-right text-gray-600",children:j.dsb}),C.jsx("td",{className:"px-2 py-3 text-xs text-right text-gray-400",children:j.dsbCount}),C.jsxs("td",{className:`px-2 py-3 text-xs text-right font-bold ${j.pod<98.5?"text-orange-600":"text-green-600"}`,children:[j.pod,"%"]}),C.jsx("td",{className:"px-2 py-3 text-xs text-right text-gray-400",children:j.podOpps}),C.jsxs("td",{className:"px-2 py-3 text-xs text-right text-gray-600",children:[j.psb,"%"]}),C.jsx("td",{className:"px-4 py-3 text-xs text-right font-medium sticky right-0 bg-white z-10",children:C.jsx("button",{onClick:J=>R(j,J),className:"text-indigo-600 hover:text-indigo-900 bg-indigo-50 hover:bg-indigo-100 px-2 py-1 rounded",children:C.jsx(yE,{className:"w-3 h-3"})})})]},j.transporterId))})]})})]})]}),p&&c&&_&&C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"fixed inset-0 z-[99]",onClick:()=>y(!1)}),C.jsxs("div",{style:{top:_.top,left:_.left},className:"absolute z-[100] bg-white rounded-xl shadow-2xl border border-gray-200 w-80 animate-fade-in overflow-hidden",children:[C.jsxs("div",{className:"bg-indigo-700 px-4 py-3 flex justify-between items-center",children:[C.jsxs("h3",{className:"text-white font-bold flex items-center text-sm",children:[C.jsx(yE,{className:"w-4 h-4 mr-2"})," Coaching"]}),C.jsx("button",{onClick:()=>y(!1),className:"text-indigo-200 hover:text-white",children:C.jsx(So,{className:"w-4 h-4"})})]}),C.jsx("div",{className:"p-4",children:h?C.jsxs("div",{className:"flex flex-col items-center justify-center py-4 text-gray-500",children:[C.jsx(Og,{className:"w-6 h-6 animate-spin text-indigo-600 mb-2"}),C.jsx("p",{className:"text-xs",children:"Generating..."})]}):C.jsxs("div",{className:"bg-gray-50 p-3 rounded border border-gray-200 relative",children:[C.jsx("p",{className:"text-gray-800 text-xs whitespace-pre-wrap leading-relaxed",children:f}),C.jsx("button",{onClick:W,className:"absolute top-2 right-2 p-1.5 rounded hover:bg-gray-200 text-gray-500",children:C.jsx(T8,{className:"w-3 h-3"})})]})})]})]})]})},d5e=({contextData:t})=>{const[e,r]=re.useState(!1),[n,i]=re.useState(""),[a,s]=re.useState([{role:"ai",text:"Hello! I am your Dispatch Assistant. Ask me about driver performance, scorecard metrics, or route status.",timestamp:Date.now()}]),[o,l]=re.useState(!1),c=re.useRef(null);re.useEffect(()=>{c.current&&(c.current.scrollTop=c.current.scrollHeight)},[a,e]);const u=async()=>{if(!n.trim())return;const d=localStorage.getItem("gemini_api_key");if(!d){s(p=>[...p,{role:"ai",text:"Please set your Gemini API Key in the Settings menu first.",timestamp:Date.now()}]);return}const h={role:"user",text:n,timestamp:Date.now()};s(p=>[...p,h]),i(""),l(!0);const m=await u5e(d,h.text,t);s(p=>[...p,{role:"ai",text:m,timestamp:Date.now()}]),l(!1)},f=d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),u())};return C.jsxs("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col items-end font-sans",children:[e&&C.jsxs("div",{className:"mb-4 w-80 sm:w-96 bg-white rounded-2xl shadow-2xl border border-gray-200 overflow-hidden animate-fade-in flex flex-col h-[500px]",children:[C.jsxs("div",{className:"bg-indigo-600 p-4 flex justify-between items-center text-white",children:[C.jsxs("div",{className:"flex items-center",children:[C.jsx("div",{className:"bg-white/20 p-1.5 rounded-full mr-2",children:C.jsx(_8,{className:"w-5 h-5"})}),C.jsx("span",{className:"font-bold text-sm",children:"Dispatch Assistant"})]}),C.jsx("button",{onClick:()=>r(!1),className:"text-indigo-100 hover:text-white transition-colors",children:C.jsx(So,{className:"w-5 h-5"})})]}),C.jsxs("div",{ref:c,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 custom-scrollbar",children:[a.map((d,h)=>C.jsx("div",{className:`flex ${d.role==="user"?"justify-end":"justify-start"}`,children:C.jsx("div",{className:`max-w-[85%] rounded-2xl px-4 py-2.5 text-sm shadow-sm ${d.role==="user"?"bg-indigo-600 text-white rounded-tr-none":"bg-white text-gray-800 border border-gray-200 rounded-tl-none"}`,children:d.text})},h)),o&&C.jsx("div",{className:"flex justify-start",children:C.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl rounded-tl-none px-4 py-3 shadow-sm",children:C.jsxs("div",{className:"flex space-x-1",children:[C.jsx("div",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"0s"}}),C.jsx("div",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),C.jsx("div",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})]}),C.jsxs("div",{className:"p-3 bg-white border-t border-gray-100",children:[C.jsxs("div",{className:"relative flex items-center",children:[C.jsx("input",{type:"text",value:n,onChange:d=>i(d.target.value),onKeyDown:f,placeholder:"Ask about drivers, routes, or history...",className:"w-full pl-4 pr-12 py-3 bg-gray-100 border-transparent focus:bg-white focus:border-indigo-500 focus:ring-0 rounded-xl text-sm transition-all"}),C.jsx("button",{onClick:u,disabled:o||!n.trim(),className:"absolute right-2 p-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:hover:bg-indigo-600 transition-colors",children:C.jsx(oq,{className:"w-4 h-4"})})]}),C.jsxs("div",{className:"mt-2 text-[10px] text-center text-gray-400 flex items-center justify-center",children:[C.jsx(C8,{className:"w-3 h-3 mr-1"})," Powered by Gemini AI"]})]})]}),C.jsx("button",{onClick:()=>r(!e),className:`p-4 rounded-full shadow-xl transition-all duration-300 transform hover:scale-105 ${e?"bg-red-500 rotate-90":"bg-indigo-600 hover:bg-indigo-700"}`,children:e?C.jsx(So,{className:"w-6 h-6 text-white"}):C.jsx(yE,{className:"w-6 h-6 text-white"})})]})},h5e=({isOpen:t,onClose:e,script:r,loading:n,onGenerate:i})=>{const[a,s]=re.useState(!1);if(!t)return null;const o=()=>{r&&(navigator.clipboard.writeText(r),s(!0),setTimeout(()=>s(!1),2e3))};return C.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm p-4",children:C.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-fade-in flex flex-col max-h-[85vh]",children:[C.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-violet-600 px-6 py-4 flex justify-between items-center",children:[C.jsxs("div",{className:"text-white",children:[C.jsxs("h3",{className:"font-bold text-lg flex items-center",children:[C.jsx(E8,{className:"w-5 h-5 mr-2"})," Morning Standup"]}),C.jsx("p",{className:"text-indigo-100 text-xs opacity-80",children:"AI-generated daily briefing script"})]}),C.jsx("button",{onClick:e,className:"text-white/80 hover:text-white transition-colors",children:C.jsx(So,{className:"w-6 h-6"})})]}),C.jsx("div",{className:"p-6 flex-1 overflow-y-auto custom-scrollbar",children:!r&&!n?C.jsxs("div",{className:"text-center py-8 space-y-4",children:[C.jsx("div",{className:"bg-indigo-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto",children:C.jsx(NP,{className:"w-8 h-8 text-indigo-600"})}),C.jsx("p",{className:"text-gray-600 text-sm px-8",children:"Generate a script summarizing yesterday's wins, today's focus areas, and safety tips."}),C.jsx("button",{onClick:i,className:"px-6 py-2.5 bg-indigo-600 text-white font-medium rounded-xl shadow-lg hover:bg-indigo-700 transition-all transform hover:-translate-y-0.5",children:"Generate Script"})]}):n?C.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[C.jsx(Og,{className:"w-10 h-10 text-indigo-600 animate-spin"}),C.jsx("p",{className:"text-sm text-gray-500 font-medium animate-pulse",children:"Analyzing fleet data..."})]}):C.jsxs("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-200 relative group",children:[C.jsx("button",{onClick:o,className:"absolute top-3 right-3 p-2 bg-white border border-gray-200 rounded-lg text-gray-500 hover:text-indigo-600 hover:border-indigo-200 shadow-sm transition-all opacity-0 group-hover:opacity-100",title:"Copy to clipboard",children:a?C.jsx(UG,{className:"w-4 h-4 text-green-600"}):C.jsx(T8,{className:"w-4 h-4"})}),C.jsx("div",{className:"prose prose-sm text-gray-800 whitespace-pre-wrap leading-relaxed font-medium",children:r})]})}),r&&C.jsxs("div",{className:"p-4 border-t border-gray-100 bg-gray-50 flex justify-end",children:[C.jsx("button",{onClick:i,className:"text-xs font-medium text-indigo-600 hover:text-indigo-800 px-4 py-2",children:"Regenerate"}),C.jsx("button",{onClick:e,className:"ml-2 px-4 py-2 bg-white border border-gray-300 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-50 shadow-sm",children:"Close"})]})]})})},p5e=t=>{if(!t)return null;const e=t.trim(),r=e.match(/(\d{4})[-_.](\d{2})[-_.](\d{2})/);if(r){const[a,s,o,l]=r;return`${s}-${o}-${l}`}const n=e.match(/(\d{2})[-_.](\d{2})[-_.](\d{4})/);if(n){const[a,s,o,l]=n;return`${l}-${s}-${o}`}const i=e.match(/(202\d)(\d{2})(\d{2})/);if(i){const[a,s,o,l]=i;return`${s}-${o}-${l}`}return null},m5e=()=>{const e=[["Route code","Driver name","Transporter Id","DA activity","Progress Status","Projected Return to Station","projected overtime duration (minutes)","Delivery Service Type","cortex_vin_number","All stops","Stops complete","not started stops","total packages","cortex_avg_pace_stops_per_hour","cortex_remaining_state_of_charge","App sign in","cortex_last_stop_execution_time","cortex_total_break_time_used"]],r=new Date,n=new Date(r.getTime()-5*6e4).toLocaleTimeString(),i=new Date(r.getTime()-45*6e4).toLocaleTimeString();return[{name:"Alex Thompson",route:"RT-101",completed:45,remaining:80,pace:22,type:"Standard",packages:200,battery:"",lastScan:n,ot:0,rts:"19:30",status:"In Progress",breakUsed:15},{name:"Sarah Chen",route:"DSP-RESCUE-1",completed:10,remaining:0,pace:28,type:"DSP Initiated",packages:15,battery:"",lastScan:n,ot:0,rts:"16:00",status:"In Progress",breakUsed:30},{name:"Mike Rodriguez",route:"RT-103",completed:50,remaining:75,pace:21,type:"Standard",packages:180,battery:"15%",lastScan:n,ot:10,rts:"20:15",status:"In Progress",breakUsed:0},{name:"Emily Wu",route:"RT-104",completed:85,remaining:15,pace:25,type:"Standard",packages:120,battery:"88%",lastScan:n,ot:0,rts:"17:45",status:"In Progress",breakUsed:30},{name:"David Kim",route:"RT-105",completed:30,remaining:90,pace:18,type:"Standard",packages:250,battery:"",lastScan:i,ot:45,rts:"21:00",status:"In Progress",breakUsed:10},{name:"Lisa Patel",route:"RT-106",completed:60,remaining:50,pace:22,type:"Standard",packages:150,battery:"",lastScan:n,ot:0,rts:"19:45",status:"In Progress",breakUsed:30},{name:"Finished Guy",route:"RT-111",completed:150,remaining:1,pace:22,type:"Standard",packages:150,battery:"",lastScan:n,ot:0,rts:"16:45",status:"COMPLETE",breakUsed:30}].forEach(s=>{const o=new Array(18).fill("");o[0]=s.route,o[1]=s.name,o[4]=s.status,o[5]=s.rts,o[6]=s.ot,o[7]=s.type,o[10]=s.completed,o[11]=s.remaining,o[12]=s.packages,o[13]=s.pace,o[14]=s.battery,o[16]=s.lastScan,o[17]=s.breakUsed,e.push(o)}),e},g5e=t=>{if(t==null||t==="")return null;const e=new Date;if(typeof t=="number"){const r=Math.floor(t%1*86400),n=Math.floor(r/3600),i=Math.floor(r%3600/60),a=new Date(e);return a.setHours(n,i,0,0),a.getTime()}if(typeof t=="string"){const r=t.toLowerCase().trim();if(!r.match(/\d{1,2}:\d{2}/))return null;let[n,i]=r.split(/(?=[ap]m)/),[a,s]=n.split(":").map(Number);if(i!=null&&i.includes("pm")&&a<12&&(a+=12),i!=null&&i.includes("am")&&a===12&&(a=0),!isNaN(a)&&!isNaN(s)){const o=new Date(e);return o.setHours(a,s,0,0),o.getTime()}}return t instanceof Date?t.getTime():null},v5e=(t,e)=>{const{endTime:r,defaultPace:n,bufferMinutes:i,requiredBreakMinutes:a,useIndividualPace:s,smartAdjustment:o}=e,l=new Date,[c,u]=r.split(":").map(Number),f=new Date(l);f.setHours(c,u,0,0),f.getTime()<l.getTime()-12*60*60*1e3&&f.setDate(f.getDate()+1);const d=new Date(f.getTime()-i*60*1e3),h=d.getTime()-l.getTime();let m=Math.max(0,h/(1e3*60*60)),p=1;o&&(m<2.5?p=.85:m<4&&(p=.92));const y=[],w=t[0]?t[0].map(te=>String(te||"").toLowerCase().trim()):[],b=te=>w.findIndex(se=>te.some(D=>se.includes(D))),_=b(["route code","route id"]),A=b(["driver name"]),S=b(["delivery service type"]),T=b(["progress status","status"]),E=b(["stops complete"]),P=b(["not started stops","stops remaining"]),k=b(["all stops"]),N=b(["total packages"]),O=b(["cortex_avg_pace","pace"]),R=b(["cortex_remaining_state_of_charge","charge"]),W=b(["cortex_last_stop_execution_time","last stop"]),Q=b(["cortex_total_break_time_used","break time"]),j=b(["projected return to station"]),Y=b(["projected overtime"]);for(let te=1;te<t.length;te++){const se=t[te];if(!se||se.length===0)continue;let D=A!==-1?se[A]:se[1];if(!D)continue;D=String(D).replace(/"/g,"").trim();const q=_!==-1?String(se[_]||""):"",X=T!==-1?String(se[T]||"").toUpperCase():"";let ee=X.includes("COMPLETE")||X.includes("FINISHED");const ae=E!==-1?parseInt(se[E]||"0",10):0;let ue=P!==-1?parseInt(se[P],10):NaN;const ve=k!==-1?parseInt(se[k],10):ae+(isNaN(ue)?0:ue);isNaN(ue)&&(ue=ve-ae),ee&&(ue=0),ue<0&&(ue=0);let ie=0;if(Q!==-1&&se[Q]!==void 0){const Me=String(se[Q]),wt=parseInt(Me.replace(/[^0-9]/g,""),10);isNaN(wt)||(ie=wt)}const be=Math.max(0,(a||0)-ie),L=be/60,Ue=Math.max(0,m-L);let Ce=n,Ve="default";if(s&&O!==-1&&se[O]){const Me=parseFloat(se[O]);!isNaN(Me)&&Me>0&&Me<60&&(Ce=Me,Ve="file")}const Be=Ce*p,xe=Math.floor(Ue*Be),Tt=ue-xe;let He="Done";if(ue>0){const wt=ue/Be+L;He=new Date(l.getTime()+wt*60*60*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}const Nr=N!==-1?parseInt(se[N]||"0",10):0,mr=ue>0?Nr/ve:0,xr=R!==-1?String(se[R]||""):"";let Xr=!1,wr="Unknown";if(xr){wr="EV";let Me=parseFloat(xr.replace("%",""));Me<=1&&xr.includes(".")&&(Me*=100),!isNaN(Me)&&Me<25&&(Xr=!0)}const jr=W!==-1?se[W]:null;let he=!1,qe=null;jr&&ue>0&&(qe=g5e(jr),qe&&(l.getTime()-qe)/6e4>25&&(he=!0));let Xe=!1;const it=S!==-1?String(se[S]||""):"";(/dsp initiated|rescue/i.test(it)||/dsp|rescue/i.test(q)||/rescue/i.test(D))&&(Xe=!0),y.push({id:`row-${te}`,routeId:q||`RT-${100+te}`,name:D,remaining:ue,completed:ae,total:ve,packages:Nr,packagesPerStop:mr,progress:ve>0?Math.round(ae/ve*100):0,canComplete:xe,diff:Tt,pace:Ce,paceSource:Ve,eta:He,projectedRts:j!==-1?String(se[j]||""):null,projectedOvertime:Y!==-1?parseInt(se[Y]||"0",10):0,breakTimeUsed:ie,breakTimeRemaining:be,lastStopTimestamp:qe,lastStopString:jr?String(jr):"N/A",isDspInitiated:Xe,isStalled:he,isLowBattery:Xr,batteryLevel:xr,vehicleType:wr,status:X})}const J=y.filter(te=>te.diff>0),Z=y.filter(te=>te.diff<=0),V={totalDrivers:y.length,totalRescueNeeded:J.length,totalStopsToRescue:J.reduce((te,se)=>te+se.diff,0),totalStopsAvailable:Z.reduce((te,se)=>te+Math.abs(se.diff),0)};return{results:y,summary:V,meta:{hoursRemaining:m,deadline:d.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}}},lb="driver-rescue-db.json",y5e="Driver Rescue Dashboard Database",x5e=async(t,e)=>{try{const r=JSON.stringify(e,null,2),n=await qH(t);return n?(await fetch(`https://api.github.com/gists/${n}`,{method:"PATCH",headers:{Authorization:`token ${t}`,Accept:"application/vnd.github.v3+json"},body:JSON.stringify({files:{[lb]:{content:r}}})})).ok:(await fetch("https://api.github.com/gists",{method:"POST",headers:{Authorization:`token ${t}`,Accept:"application/vnd.github.v3+json"},body:JSON.stringify({description:y5e,public:!1,files:{[lb]:{content:r}}})})).ok}catch(r){return console.error("Sync Up Failed",r),!1}},w5e=async t=>{try{const e=await qH(t);if(!e)return null;const r=await fetch(`https://api.github.com/gists/${e}`,{headers:{Authorization:`token ${t}`,Accept:"application/vnd.github.v3+json"}});if(!r.ok)throw new Error("Failed to fetch gist metadata");const i=(await r.json()).files[lb];if(!i)return null;if(i.truncated||!i.content){const a=await fetch(i.raw_url,{headers:{Authorization:`token ${t}`}});return a.ok?await a.text():null}return i.content}catch(e){return console.error("Sync Down Failed",e),null}},qH=async t=>{try{const e=await fetch("https://api.github.com/gists",{headers:{Authorization:`token ${t}`,Accept:"application/vnd.github.v3+json"}});if(!e.ok)return null;const n=(await e.json()).find(i=>i.files[lb]!==void 0);return n?n.id:null}catch{return null}},AT="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",_5e=({message:t,type:e,onClose:r})=>(re.useEffect(()=>{const n=setTimeout(r,3e3);return()=>clearTimeout(n)},[r]),C.jsxs("div",{className:`fixed bottom-5 right-5 px-4 py-3 rounded-lg shadow-lg flex items-center space-x-2 animate-fade-in z-[60] ${e==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:[e==="success"?C.jsx(b8,{className:"w-4 h-4"}):C.jsx(MP,{className:"w-4 h-4"}),C.jsx("span",{className:"text-sm font-medium",children:t})]})),b5e=()=>{var yx,Vp;const[t,e]=re.useState("dashboard"),[r,n]=re.useState(null),i=(ze,gt)=>n({msg:ze,type:gt}),[a,s]=re.useState(null),[o,l]=re.useState(null),[c,u]=re.useState({}),[f,d]=re.useState(!1),[h,m]=re.useState(null),[p,y]=re.useState(null),[w,b]=re.useState(void 0),[_,A]=re.useState(void 0),[S,T]=re.useState([]),[E,P]=re.useState({}),[k,N]=re.useState(!1),[O,R]=re.useState(!1),[W,Q]=re.useState(null),[j,Y]=re.useState(""),[J,Z]=re.useState(!1),[V,te]=re.useState(null),[se,D]=re.useState(!1),[q,X]=re.useState(null),[ee,ae]=re.useState([]),[ue,ve]=re.useState(AT),[ie,ce]=re.useState(!1),[be,L]=re.useState(!1),[Ue,Ce]=re.useState({endTime:"20:05",defaultPace:20,bufferMinutes:30,requiredBreakMinutes:0,useIndividualPace:!1,smartAdjustment:!0,targetDate:new Date().toISOString().split("T")[0]});re.useEffect(()=>{const ze=localStorage.getItem("gemini_api_key"),gt=localStorage.getItem("github_api_token");ze&&Y(ze),ve(gt||AT),Ve(),ae(nC());const jt=oIe();jt&&(u(jt),N(!0))},[]);const Ve=()=>{const ze=Mo();T(ze),P(hIe(ze))},Be=(ze,gt)=>{localStorage.setItem("gemini_api_key",ze),localStorage.setItem("github_api_token",gt),Y(ze),ve(gt),i("Settings saved.","success")},xe=re.useCallback((ze,gt)=>{s(ze),l(gt),Q(null);const jt=p5e(gt);jt&&(Ce(gi=>({...gi,targetDate:jt})),i(`Date detected from file: ${jt}`,"success"))},[]),Tt=re.useCallback(()=>{const ze=m5e();xe(ze,"Demo_Itinerary.xlsx"),i("Demo data loaded.","success")},[xe]),He=re.useMemo(()=>a?v5e(a,Ue):null,[a,Ue]),Nr=(ze,gt)=>{Ce(jt=>({...jt,[ze]:gt}))},mr=(ze,gt)=>{const jt=gt.currentTarget.getBoundingClientRect();A({top:jt.top+window.scrollY,left:jt.left+window.scrollX-330}),m(ze),y(null),b(void 0),d(!0)},xr=(ze,gt,jt,gi)=>{const Kr=gi.currentTarget.getBoundingClientRect();A({top:Kr.top+window.scrollY,left:Kr.left+window.scrollX-330}),m(ze),y(jt),b({rescuer:gt.rescuerName,stops:gt.stopsRemoved}),d(!0)},Xr=(ze,gt)=>{confirm("Remove this rescue log?")&&u(jt=>{const Kr=[...jt[ze]||[]];return Kr.splice(gt,1),{...jt,[ze]:Kr}})},wr=(ze,gt)=>{h&&u(jt=>{const Kr=[...jt[h.name]||[]],Yl={targetDriverName:h.name,rescuerName:ze,stopsRemoved:gt,timestamp:Date.now()};return p!==null?Kr[p]=Yl:Kr.push(Yl),{...jt,[h.name]:Kr}})},jr=async()=>{if(!He)return;R(!0);const{results:ze,summary:gt,meta:jt}=He,gi=ze.filter(Jl=>Jl.diff>0),Kr=ze.filter(Jl=>Jl.diff<=0).sort((Jl,xx)=>Jl.diff-xx.diff),Yl=await o5e(j,gi,Kr,gt,jt.hoursRemaining);Q(Yl),R(!1)},he=async()=>{if(!j){i("AI Key needed in settings.","error");return}D(!0);const ze=new Date;ze.setDate(ze.getDate()-1);const gt=ze.toLocaleDateString(),jt=S.find(Kr=>new Date(Kr.date).toLocaleDateString()===gt),gi=await c5e(j,(He==null?void 0:He.summary)||null,jt,q);te(gi),D(!1)},qe=()=>{if(!He||!He.summary)return;const ze=Ue.targetDate,gt=new Date,jt=gt.getFullYear(),gi=String(gt.getMonth()+1).padStart(2,"0"),Kr=String(gt.getDate()).padStart(2,"0"),Yl=`${jt}-${gi}-${Kr}`;if(ze!==Yl&&!window.confirm(` SAFETY WARNING 

You are about to save the CURRENT dashboard data to ${ze}.

This will OVERWRITE the history for ${ze} with the drivers currently on your screen.

If you meant to add a missing rescue to a past date, please use the "Log Past Rescue" button in the History tab instead.

Are you sure you want to overwrite ${ze}?`))return;sIe(He.results,He.summary,c,Ue.targetDate)?(i("Day updated in history!","success"),N(!0),Ve()):i("Failed to save day.","error")},Xe=ze=>{gIe(ze)?(i("Scorecard saved for AI memory.","success"),ae(nC())):i("Failed to save scorecard.","error")},it=async()=>{if(!ue){ce(!0),i("Please set GitHub Token first.","error");return}L(!0);const ze=await x5e(ue,S);L(!1),ze?i("Database uploaded to Cloud.","success"):i("Upload failed. Check Token.","error")},Me=async()=>{if(!ue){ce(!0),i("Please set GitHub Token first.","error");return}L(!0);const ze=await w5e(ue);ze?m7(ze)?(Ve(),i("Database downloaded & merged.","success")):i("Merge failed.","error"):i("Download failed. Check Token.","error"),L(!1)},wt=()=>{pIe(),T([]),P({}),N(!1),u({}),i("Database cleared.","success")},Kt=(ze,gt,jt,gi)=>{cIe(ze,gt,jt,gi),Ve()},ar=ze=>{lIe(ze),Ve(),i("Day deleted.","success")},Ta=re.useMemo(()=>(He==null?void 0:He.results.filter(ze=>ze.diff>0).sort((ze,gt)=>gt.diff-ze.diff))||[],[He]),Bd=re.useMemo(()=>(He==null?void 0:He.results.filter(ze=>ze.diff<=0).sort((ze,gt)=>ze.diff-gt.diff))||[],[He]),ZS=re.useMemo(()=>({currentDrivers:He==null?void 0:He.results,summary:He==null?void 0:He.summary,history:S,scorecard:q,scorecardHistory:ee}),[He,S,q,ee]);return C.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-gray-900",children:[r&&C.jsx(_5e,{message:r.msg,type:r.type,onClose:()=>n(null)}),C.jsx(aIe,{isOpen:ie,onClose:()=>ce(!1),onSave:Be,initialGithubKey:AT}),C.jsx(yIe,{isOpen:f,onClose:()=>d(!1),targetDriver:h,potentialRescuers:(He==null?void 0:He.results)||[],onConfirm:wr,initialRescuer:w==null?void 0:w.rescuer,initialStops:w==null?void 0:w.stops,isEditMode:p!==null,position:_}),C.jsx(h5e,{isOpen:J,onClose:()=>Z(!1),script:V,loading:se,onGenerate:he}),C.jsx(d5e,{contextData:ZS}),C.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[C.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsx("div",{className:"bg-indigo-600 p-2.5 rounded-lg shadow-lg",children:C.jsx(Mg,{className:"h-8 w-8 text-white"})}),C.jsxs("div",{children:[C.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Driver Rescue Dashboard"}),C.jsx("p",{className:"text-sm text-gray-500",children:"Intelligent Fleet Analysis & Dispatch"})]})]}),C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsxs("div",{className:"flex bg-white rounded-lg border border-gray-200 p-1 shadow-sm",children:[C.jsxs("button",{onClick:()=>e("dashboard"),className:`px-3 py-1.5 text-sm font-medium rounded-md flex items-center transition-all ${t==="dashboard"?"bg-indigo-50 text-indigo-700":"text-gray-500 hover:text-gray-700"}`,children:[C.jsx(ZG,{className:"w-4 h-4 mr-2"})," Dashboard"]}),C.jsxs("button",{onClick:()=>e("history"),className:`px-3 py-1.5 text-sm font-medium rounded-md flex items-center transition-all ${t==="history"?"bg-indigo-50 text-indigo-700":"text-gray-500 hover:text-gray-700"}`,children:[C.jsx(YG,{className:"w-4 h-4 mr-2"})," History"]}),C.jsxs("button",{onClick:()=>e("scorecard"),className:`px-3 py-1.5 text-sm font-medium rounded-md flex items-center transition-all ${t==="scorecard"?"bg-indigo-50 text-indigo-700":"text-gray-500 hover:text-gray-700"}`,children:[C.jsx(NP,{className:"w-4 h-4 mr-2"})," Scorecard"]})]}),C.jsx("div",{className:"h-8 w-px bg-gray-300 mx-2"}),t==="dashboard"&&C.jsxs("div",{className:"flex space-x-2",children:[C.jsxs("button",{onClick:()=>Z(!0),className:"flex items-center px-3 py-2 text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 transition-colors",children:[C.jsx(E8,{className:"w-4 h-4 mr-2"})," Briefing"]}),C.jsxs("button",{onClick:qe,disabled:!He,className:`flex items-center px-3 py-2 text-sm font-medium rounded-md shadow-sm text-white transition-colors ${He?"bg-green-600 hover:bg-green-700":"bg-gray-300 cursor-not-allowed"}`,children:[C.jsx(Vb,{className:"w-4 h-4 mr-2"}),k?"Update":"Save"]})]}),C.jsxs("div",{className:"flex items-center space-x-1 ml-1",children:[C.jsx("button",{onClick:it,disabled:be,className:"p-2 text-gray-500 hover:text-indigo-600 bg-white hover:bg-indigo-50 border border-gray-200 rounded-md transition-colors",children:C.jsx(RP,{className:"w-5 h-5"})}),C.jsx("button",{onClick:Me,disabled:be,className:"p-2 text-gray-500 hover:text-indigo-600 bg-white hover:bg-indigo-50 border border-gray-200 rounded-md transition-colors",children:C.jsx(WG,{className:"w-5 h-5"})})]}),C.jsx("button",{onClick:()=>ce(!0),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:C.jsx(xE,{className:"w-6 h-6"})})]})]}),t==="dashboard"?C.jsxs("div",{className:"space-y-6 animate-fade-in",children:[C.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[C.jsx("div",{className:"lg:col-span-4 xl:col-span-3",children:C.jsx(gae,{onDataLoaded:xe,currentFileName:o,onLoadDemo:Tt})}),C.jsx("div",{className:"lg:col-span-8 xl:col-span-9",children:C.jsx(pq,{params:Ue,onChange:Nr})})]})}),He&&He.summary&&C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"bg-indigo-50 border border-indigo-100 rounded-lg p-4 flex items-start",children:[C.jsx(_8,{className:"w-5 h-5 text-indigo-600 mt-0.5 mr-3 flex-shrink-0"}),C.jsx("div",{children:C.jsxs("p",{className:"text-sm text-indigo-900",children:["Analysis complete. Drivers have ",C.jsxs("strong",{children:[(yx=He.meta)==null?void 0:yx.hoursRemaining.toFixed(2)," hours"]})," remaining. Deadline is ",C.jsx("strong",{children:(Vp=He.meta)==null?void 0:Vp.deadline}),"."]})})]}),C.jsx(vae,{summary:He.summary}),C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[C.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100 p-5 h-[400px]",children:[C.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Fleet Progress"}),C.jsx(iIe,{data:He.results})]}),C.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-violet-700 rounded-xl shadow-lg text-white p-6 flex flex-col",children:[C.jsx("div",{className:"flex items-center justify-between mb-4",children:C.jsxs("h3",{className:"text-lg font-bold flex items-center",children:[C.jsx(C8,{className:"w-5 h-5 mr-2 text-yellow-300"}),"AI Rescue Plan"]})}),C.jsx("div",{className:"flex-1 bg-white/10 rounded-lg p-4 text-sm leading-relaxed overflow-y-auto custom-scrollbar backdrop-blur-sm border border-white/10",children:O?C.jsx("div",{className:"flex items-center justify-center h-full",children:C.jsx(Og,{className:"w-8 h-8 animate-spin text-indigo-200"})}):W?C.jsx("div",{className:"whitespace-pre-line",children:W}):C.jsx("p",{className:"text-indigo-200 text-center mt-10",children:"Click below to generate rescue strategy."})}),C.jsx("button",{onClick:jr,disabled:O,className:"mt-4 w-full py-3 bg-white text-indigo-700 font-bold rounded-lg shadow-md hover:bg-indigo-50 transition-all flex justify-center items-center",children:O?"Analyzing...":"Generate Strategy"})]})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 h-[800px]",children:[C.jsx(vR,{title:"Drivers Needing Rescue",drivers:Ta,type:"danger",historicalStats:E,onLogRescue:mr,rescueLogs:c,onEditRescueLog:xr,onDeleteRescueLog:Xr}),C.jsx(vR,{title:"On Pace / Ahead",drivers:Bd,type:"success",historicalStats:E,onLogRescue:mr,rescueLogs:c,onEditRescueLog:xr,onDeleteRescueLog:Xr})]})]})]}):t==="history"?C.jsx(vIe,{history:S,driverStats:E,onClearHistory:wt,onUpdateEntry:Kt,onDeleteDay:ar}):C.jsx(f5e,{onAnalysisLoaded:X,onSave:Xe})]})]})},XH=document.getElementById("root");if(!XH)throw new Error("Could not find root element to mount to");const S5e=TT.createRoot(XH);S5e.render(C.jsx(ne.StrictMode,{children:C.jsx(b5e,{})}));
